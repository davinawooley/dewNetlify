{"version":3,"sources":["../node_modules/three/build/three.js","../node_modules/three/examples/jsm/controls/OrbitControls.js","../node_modules/three-gltf-loader/index.js","threejsscript.js","../../../.config/yarn/global/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["global","factory","exports","module","define","amd","globalThis","self","THREE","REVISION","MOUSE","LEFT","MIDDLE","RIGHT","ROTATE","DOLLY","PAN","TOUCH","DOLLY_PAN","DOLLY_ROTATE","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","VSMShadowMap","FrontSide","BackSide","DoubleSide","FlatShading","SmoothShading","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","CineonToneMapping","ACESFilmicToneMapping","CustomToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","CubeUVReflectionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipmapNearestFilter","NearestMipMapNearestFilter","NearestMipmapLinearFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipmapNearestFilter","LinearMipMapNearestFilter","LinearMipmapLinearFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","DepthFormat","DepthStencilFormat","RedFormat","RedIntegerFormat","RGFormat","RGIntegerFormat","RGBAIntegerFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGB_ETC2_Format","RGBA_ETC2_EAC_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","RGBA_BPTC_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","NormalAnimationBlendMode","AdditiveAnimationBlendMode","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","BasicDepthPacking","RGBADepthPacking","TangentSpaceNormalMap","ObjectSpaceNormalMap","NoColorSpace","SRGBColorSpace","LinearSRGBColorSpace","ZeroStencilOp","KeepStencilOp","ReplaceStencilOp","IncrementStencilOp","DecrementStencilOp","IncrementWrapStencilOp","DecrementWrapStencilOp","InvertStencilOp","NeverStencilFunc","LessStencilFunc","EqualStencilFunc","LessEqualStencilFunc","GreaterStencilFunc","NotEqualStencilFunc","GreaterEqualStencilFunc","AlwaysStencilFunc","StaticDrawUsage","DynamicDrawUsage","StreamDrawUsage","StaticReadUsage","DynamicReadUsage","StreamReadUsage","StaticCopyUsage","DynamicCopyUsage","StreamCopyUsage","GLSL1","GLSL3","_SRGBAFormat","EventDispatcher","type","listener","_listeners","undefined","listeners","indexOf","push","listenerArray","index","splice","event","target","array","slice","i","l","length","call","_lut","toString","_seed","DEG2RAD","Math","PI","RAD2DEG","generateUUID","d0","random","d1","d2","d3","uuid","toLowerCase","clamp","value","min","max","euclideanModulo","n","m","mapLinear","x","a1","a2","b1","b2","inverseLerp","y","lerp","t","damp","lambda","dt","exp","pingpong","abs","smoothstep","smootherstep","randInt","low","high","floor","randFloat","randFloatSpread","range","seededRandom","s","imul","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","pow","ceil","log","LN2","floorPowerOfTwo","setQuaternionFromProperEuler","q","a","b","c","order","cos","sin","c2","s2","c13","s13","c1_3","s1_3","c3_1","s3_1","set","console","warn","denormalize$1","constructor","Float32Array","Uint16Array","Uint8Array","Int16Array","Int8Array","Error","normalize","round","MathUtils","Object","freeze","__proto__","denormalize","Vector2","isVector2","scalar","v","w","addVectors","subVectors","multiplyScalar","e","elements","minVal","maxVal","divideScalar","sqrt","angle","atan2","distanceToSquared","dx","dy","alpha","v1","v2","offset","attribute","getX","getY","center","Symbol","iterator","Matrix3","isMatrix3","arguments","error","n11","n12","n13","n21","n22","n23","n31","n32","n33","te","me","xAxis","yAxis","zAxis","setFromMatrix3Column","multiplyMatrices","ae","be","a11","a12","a13","a21","a22","a23","a31","a32","a33","b11","b12","b13","b21","b22","b23","b31","b32","b33","d","f","g","h","t11","t12","t13","det","detInv","tmp","matrix4","setFromMatrix4","invert","transpose","r","tx","ty","sx","sy","rotation","cx","cy","theta","matrix","fromArray","arrayNeedsUint32","TYPED_ARRAYS","Uint8ClampedArray","Int32Array","Uint32Array","Float64Array","getTypedArray","buffer","createElementNS","name","document","SRGBToLinear","LinearToSRGB","FN","ColorManagement","legacyMode","workingColorSpace","colorSpace","convert","color","sourceColorSpace","targetColorSpace","fn","fromWorkingColorSpace","toWorkingColorSpace","_colorKeywords","_rgb","_hslA","_hslB","hue2rgb","p","toComponents","source","Color","isColor","setRGB","copy","setHex","setStyle","hex","style","handleAlpha","string","parseFloat","exec","components","parseInt","setHSL","size","charAt","setColorName","copySRGBToLinear","copyLinearToSRGB","getHex","hue","saturation","lightness","delta","getHSL","color1","color2","getZ","normalized","NAMES","_canvas","ImageUtils","image","test","src","HTMLCanvasElement","canvas","width","height","context","getContext","ImageData","putImageData","drawImage","toDataURL","HTMLImageElement","ImageBitmap","imageData","getImageData","data","Source","isSource","version","meta","isRootObject","images","output","url","Array","isArray","isDataTexture","serializeImage","getDataURL","prototype","textureId","Texture","DEFAULT_IMAGE","mapping","DEFAULT_MAPPING","wrapS","wrapT","magFilter","minFilter","format","anisotropy","encoding","isTexture","defineProperty","mipmaps","internalFormat","repeat","matrixAutoUpdate","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","userData","onUpdate","isRenderTargetTexture","needsPMREMUpdate","setUvTransform","JSON","parse","stringify","needsUpdate","textures","metadata","generator","toJSON","wrap","dispatchEvent","uv","applyMatrix3","Vector4","z","isVector4","acos","epsilon","epsilon2","m11","m12","m13","m21","m22","m23","m31","m32","m33","xx","yy","zz","xy","xz","yz","getW","WebGLRenderTarget","options","isWebGLRenderTarget","depth","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","samples","dispose","clone","assign","DataArrayTexture","isDataArrayTexture","wrapR","WebGLArrayRenderTarget","isWebGLArrayRenderTarget","Data3DTexture","isData3DTexture","WebGL3DRenderTarget","isWebGL3DRenderTarget","WebGLMultipleRenderTargets","count","isWebGLMultipleRenderTargets","il","Quaternion","isQuaternion","_x","_y","_z","_w","_onChangeCallback","quaternion","euler","update","isEuler","_order","c1","c3","s1","s3","axis","halfAngle","trace","vFrom","vTo","dot","Number","EPSILON","step","angleTo","slerp","conjugate","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","qb","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","qa","u1","sqrt1u1","sqrtu1","u2","u3","callback","qm","slerpQuaternions","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","dir","sqrSin","len","tDir","Vector3","isVector3","multiplyVectors","applyQuaternion","_quaternion$4","setFromEuler","setFromAxisAngle","qx","qy","qz","qw","ix","iy","iz","iw","camera","applyMatrix4","matrixWorldInverse","projectionMatrix","projectionMatrixInverse","matrixWorld","crossVectors","ax","ay","az","bx","by","bz","denominator","lengthSq","planeNormal","_vector$c","projectOnVector","sub","normal","dz","setFromSphericalCoords","radius","phi","sinPhiRadius","setFromCylindricalCoords","setFromMatrixColumn","sz","u","Box3","Infinity","isBox3","minX","minY","minZ","maxX","maxY","maxZ","points","makeEmpty","expandByPoint","halfSize","_vector$b","add","object","precise","expandByObject","box","isEmpty","point","vector","addScalar","updateWorldMatrix","geometry","attributes","position","fromBufferAttribute","boundingBox","computeBoundingBox","_box$3","union","children","sphere","clampPoint","plane","constant","triangle","getCenter","_center","_extents","_v0$2","_v1$7","_v2$3","_f0","_f1","_f2","axes","satForAxes","_triangleNormal","clampedPoint","getSize","_points","setFromPoints","equals","_testAxis","v0","extents","j","p0","p1","p2","_box$2","_v1$6","_toFarthestPoint","_toPoint","Sphere","optionalCenter","maxRadiusSq","distanceTo","radiusSum","intersectsSphere","distanceToPoint","deltaLengthSq","expandByScalar","getMaxScaleOnAxis","missingRadiusHalf","_vector$a","_segCenter","_segDir","_diff","_edge1","_edge2","_normal$1","Ray","origin","direction","ray","at","directionDistance","distanceSqToPoint","optionalPointOnRay","optionalPointOnSegment","segExtent","a01","b0","s0","sqrDist","extDet","invDet","tca","radius2","thc","t0","t1","distanceToPlane","distToPoint","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectBox","backfaceCulling","DdN","sign","DdQxE2","DdE1xQ","cross","QdN","transformDirection","Matrix4","isMatrix4","n14","n24","n34","n41","n42","n43","n44","scaleX","_v1$5","scaleY","scaleZ","af","bf","ce","cf","de","df","ac","ad","bc","bd","compose","_zero","_one","eye","up","a14","a24","a34","a41","a42","a43","a44","b14","b24","b34","b41","b42","b43","b44","t14","scaleXSq","scaleYSq","scaleZSq","yx","zx","zy","scale","x2","y2","z2","wx","wy","wz","determinant","_m1$2","invSX","invSY","invSZ","setFromRotationMatrix","left","right","top","bottom","near","far","_matrix$1","_quaternion$3","Euler","DefaultOrder","asin","makeRotationFromQuaternion","newOrder","setFromQuaternion","RotationOrders","Layers","mask","channel","layers","_object3DId","_v1$4","_q1","_m1$1","_target","_position$3","_scale$2","_quaternion$2","_xAxis","_yAxis","_zAxis","_addedEvent","_removedEvent","Object3D","isObject3D","parent","DefaultUp","onRotationChange","onQuaternionChange","_onChange","defineProperties","configurable","enumerable","modelViewMatrix","normalMatrix","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","visible","castShadow","receiveShadow","frustumCulled","renderOrder","animations","updateMatrix","premultiply","decompose","multiply","rotateOnAxis","distance","translateOnAxis","setFromMatrixPosition","isCamera","isLight","lookAt","extractRotation","remove","id","getObjectByProperty","child","traverse","traverseVisible","traverseAncestors","force","updateMatrixWorld","updateParents","updateChildren","geometries","materials","shapes","skeletons","nodes","toArray","isInstancedMesh","instanceMatrix","instanceColor","serialize","library","element","isScene","background","environment","isMesh","isLine","isPoints","parameters","shape","isSkinnedMesh","bindMode","bindMatrix","skeleton","material","uuids","animation","extractFromCache","cache","values","key","recursive","_v0$1","_v1$3","_v2$2","_v3$1","_vab","_vac","_vbc","_vap","_vbp","_vcp","Triangle","i0","i1","i2","getNormal","setFromCoplanarPoints","getBarycoord","uv1","uv2","uv3","getUV","containsPoint","isFrontFacing","intersectsTriangle","d4","vc","addScaledVector","d5","d6","vb","va","denom","targetLengthSq","dot00","dot01","dot02","dot11","dot12","invDenom","p3","materialId","Material","isMaterial","blending","side","vertexColors","opacity","transparent","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","stencilWriteMask","stencilFunc","stencilRef","stencilFuncMask","stencilFail","stencilZFail","stencilZPass","stencilWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","precision","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaToCoverage","premultipliedAlpha","toneMapped","_alphaTest","onBeforeCompile","newValue","flatShading","currentValue","roughness","metalness","sheen","sheenColor","sheenRoughness","emissive","emissiveIntensity","specular","specularIntensity","specularColor","shininess","clearcoat","clearcoatRoughness","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","clearcoatNormalScale","iridescence","iridescenceIOR","iridescenceThicknessRange","iridescenceMap","iridescenceThicknessMap","map","matcap","alphaMap","lightMap","lightMapIntensity","aoMap","aoMapIntensity","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","emissiveMap","specularMap","specularIntensityMap","specularColorMap","envMap","combine","envMapIntensity","reflectivity","refractionRatio","gradientMap","transmission","transmissionMap","thickness","thicknessMap","attenuationDistance","attenuationColor","sizeAttenuation","linewidth","dashSize","gapSize","alphaTest","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","fog","srcPlanes","dstPlanes","fromType","MeshBasicMaterial","isMeshBasicMaterial","setValues","_vector$9","_vector2$1","BufferAttribute","itemSize","TypeError","isBufferAttribute","usage","updateRange","index1","index2","colors","vectors","setXY","setXYZ","applyNormalMatrix","onUploadCallback","Int8BufferAttribute","Uint8BufferAttribute","Uint8ClampedBufferAttribute","Int16BufferAttribute","Uint16BufferAttribute","Int32BufferAttribute","Uint32BufferAttribute","Float16BufferAttribute","isFloat16BufferAttribute","Float32BufferAttribute","Float64BufferAttribute","_id$1","_m1","_obj","_offset","_box$1","_boxMorphTargets","_vector$8","BufferGeometry","isBufferGeometry","morphAttributes","morphTargetsRelative","groups","boundingSphere","drawRange","start","materialIndex","getNormalMatrix","tangent","computeBoundingSphere","makeRotationX","makeRotationY","makeRotationZ","makeTranslation","makeScale","negate","translate","setAttribute","morphAttributesPosition","isGLBufferAttribute","setFromBufferAttribute","morphAttribute","isNaN","jl","indices","positions","normals","uvs","nVertices","hasAttribute","tangents","getAttribute","tan1","tan2","vA","vB","vC","uvA","uvB","uvC","sdir","tdir","handleTriangle","isFinite","group","tmp2","n2","handleVertex","positionAttribute","normalAttribute","pA","pB","pC","nA","nB","nC","cb","ab","normalizeNormals","attribute1","attributeArray1","attribute2","attributeArray2","attributeOffset","convertBufferAttribute","array2","isInterleavedBufferAttribute","stride","geometry2","newAttribute","morphArray","addGroup","keys","hasMorphAttributes","attributeArray","setIndex","_inverseMatrix$2","_ray$2","_sphere$3","_vA$1","_vB$1","_vC$1","_tempA","_tempB","_tempC","_morphA","_morphB","_morphC","_uvA$1","_uvB$1","_uvC$1","_intersectionPoint","_intersectionPointWorld","Mesh","updateMorphTargets","morphTargetInfluences","morphTargetDictionary","ml","String","raycaster","intersects","intersectsBox","intersection","morphPosition","groupMaterial","end","checkBufferGeometryIntersection","faceIndex","face","checkIntersection","intersect","intersectTriangle","morphInfluences","influence","boneTransform","BoxGeometry","widthSegments","heightSegments","depthSegments","scope","vertices","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","cloneUniforms","property","mergeUniforms","uniforms","merged","UniformsUtils","merge","default_vertex","default_fragment","ShaderMaterial","isShaderMaterial","defines","vertexShader","fragmentShader","lights","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","uniformsNeedUpdate","glslVersion","uniform","Camera","PerspectiveCamera","fov","aspect","isPerspectiveCamera","zoom","focus","view","filmGauge","filmOffset","updateProjectionMatrix","focalLength","vExtentSlope","getFilmHeight","atan","tan","fullWidth","fullHeight","enabled","offsetX","offsetY","skew","getFilmWidth","makePerspective","CubeCamera","renderTarget","isWebGLCubeRenderTarget","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","renderer","scene","currentRenderTarget","getRenderTarget","currentToneMapping","toneMapping","currentXrEnabled","xr","setRenderTarget","render","CubeTexture","isCubeTexture","WebGLCubeRenderTarget","shader","tEquirect","mesh","currentMinFilter","stencil","clear","_vector1","_vector2","_normalMatrix","Plane","isPlane","setFromNormalAndCoplanarPoint","inverseNormalLength","line","startSign","endSign","intersectsPlane","optionalNormalMatrix","referencePoint","coplanarPoint","_sphere$2","_vector$7","Frustum","p4","p5","planes","frustum","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","setComponents","sprite","negRadius","WebGLAnimation","isAnimating","animationLoop","requestId","onAnimationFrame","time","frame","requestAnimationFrame","stop","cancelAnimationFrame","setAnimationLoop","setContext","WebGLAttributes","gl","capabilities","isWebGL2","buffers","WeakMap","createBuffer","bufferType","bindBuffer","bufferData","FLOAT","HALF_FLOAT","UNSIGNED_SHORT","SHORT","UNSIGNED_INT","INT","BYTE","UNSIGNED_BYTE","bytesPerElement","BYTES_PER_ELEMENT","updateBuffer","bufferSubData","subarray","get","deleteBuffer","delete","cached","elementSize","PlaneGeometry","width_half","height_half","segment_width","segment_height","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","alphatest_pars_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","iridescence_fragment","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","common","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_common_pars_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars_begin","envmap_physical_pars_fragment","lights_toon_fragment","lights_toon_pars_fragment","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphcolor_vertex","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment_begin","normal_fragment_maps","normal_pars_fragment","normal_pars_vertex","normal_vertex","normalmap_pars_fragment","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","clearcoat_pars_fragment","iridescence_pars_fragment","output_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","transmission_fragment","transmission_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","vertex$g","fragment$g","vertex$f","fragment$f","vertex$e","fragment$e","vertex$d","fragment$d","vertex$c","fragment$c","vertex$b","fragment$b","vertex$a","fragment$a","vertex$9","fragment$9","vertex$8","fragment$8","vertex$7","fragment$7","vertex$6","fragment$6","vertex$5","fragment$5","vertex$4","fragment$4","vertex$3","fragment$3","vertex$2","fragment$2","vertex$1","fragment$1","ShaderChunk","background_vert","background_frag","cube_vert","cube_frag","depth_vert","depth_frag","distanceRGBA_vert","distanceRGBA_frag","equirect_vert","equirect_frag","linedashed_vert","linedashed_frag","meshbasic_vert","meshbasic_frag","meshlambert_vert","meshlambert_frag","meshmatcap_vert","meshmatcap_frag","meshnormal_vert","meshnormal_frag","meshphong_vert","meshphong_frag","meshphysical_vert","meshphysical_frag","meshtoon_vert","meshtoon_frag","points_vert","points_frag","shadow_vert","shadow_frag","sprite_vert","sprite_frag","UniformsLib","diffuse","uvTransform","uv2Transform","specularmap","envmap","flipEnvMap","ior","aomap","lightmap","emissivemap","bumpmap","normalmap","displacementmap","roughnessmap","metalnessmap","gradientmap","fogDensity","fogNear","fogFar","fogColor","ambientLightColor","lightProbe","directionalLights","properties","directionalLightShadows","shadowBias","shadowNormalBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","coneCos","penumbraCos","decay","spotLightShadows","spotShadowMap","spotShadowMatrix","pointLights","pointLightShadows","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","ltc_1","ltc_2","ShaderLib","basic","lambert","phong","standard","toon","dashed","totalSize","t2D","cube","equirect","distanceRGBA","referencePosition","nearDistance","farDistance","shadow","physical","iridescenceThicknessMinimum","iridescenceThicknessMaximum","sheenColorMap","sheenRoughnessMap","transmissionSamplerSize","transmissionSamplerMap","WebGLBackground","cubemaps","state","objects","clearColor","clearAlpha","planeMesh","boxMesh","currentBackground","currentBackgroundVersion","currentTonemapping","renderList","forceClear","session","getSession","environmentBlendMode","setClear","autoClear","autoClearColor","autoClearDepth","autoClearStencil","deleteAttribute","onBeforeRender","copyPosition","enableAll","unshift","getClearColor","setClearColor","getClearAlpha","setClearAlpha","WebGLBindingStates","maxVertexAttributes","getParameter","MAX_VERTEX_ATTRIBS","extension","vaoAvailable","bindingStates","defaultState","createBindingState","currentState","forceUpdate","setup","program","updateBuffers","getBindingState","bindVertexArrayObject","saveCache","ELEMENT_ARRAY_BUFFER","setupVertexAttributes","createVertexArrayObject","createVertexArray","createVertexArrayOES","vao","bindVertexArray","bindVertexArrayOES","deleteVertexArrayObject","deleteVertexArray","deleteVertexArrayOES","programMap","stateMap","newAttributes","enabledAttributes","attributeDivisors","cachedAttributes","geometryAttributes","attributesNum","programAttributes","getAttributes","programAttribute","location","cachedAttribute","geometryAttribute","initAttributes","enableAttribute","enableAttributeAndDivisor","meshPerAttribute","enableVertexAttribArray","disableUnusedAttributes","disableVertexAttribArray","vertexAttribPointer","vertexAttribIPointer","isInstancedBufferGeometry","materialDefaultAttributeValues","isInstancedInterleavedBuffer","locationSize","_maxInstanceCount","ARRAY_BUFFER","isInstancedBufferAttribute","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","reset","geometryId","programId","releaseStatesOfGeometry","releaseStatesOfProgram","resetDefaultState","WebGLBufferRenderer","info","mode","setMode","drawArrays","renderInstances","primcount","methodName","WebGLCapabilities","maxAnisotropy","getMaxAnisotropy","has","MAX_TEXTURE_MAX_ANISOTROPY_EXT","getMaxPrecision","getShaderPrecisionFormat","VERTEX_SHADER","HIGH_FLOAT","FRAGMENT_SHADER","MEDIUM_FLOAT","WebGL2RenderingContext","WebGL2ComputeRenderingContext","maxPrecision","logarithmicDepthBuffer","maxTextures","MAX_TEXTURE_IMAGE_UNITS","maxVertexTextures","MAX_VERTEX_TEXTURE_IMAGE_UNITS","maxTextureSize","MAX_TEXTURE_SIZE","maxCubemapSize","MAX_CUBE_MAP_TEXTURE_SIZE","maxAttributes","maxVertexUniforms","MAX_VERTEX_UNIFORM_VECTORS","maxVaryings","MAX_VARYING_VECTORS","maxFragmentUniforms","MAX_FRAGMENT_UNIFORM_VECTORS","vertexTextures","floatFragmentTextures","floatVertexTextures","maxSamples","MAX_SAMPLES","WebGLClipping","globalState","numGlobalPlanes","localClippingEnabled","renderingShadows","viewNormalMatrix","numPlanes","numIntersection","init","enableLocalClipping","projectPlanes","beginShadows","endShadows","resetGlobalState","setState","useCache","materialProperties","nGlobal","lGlobal","dstArray","clippingState","skipTransform","nPlanes","flatSize","viewMatrix","i4","WebGLCubeMaps","mapTextureMapping","cubemap","fromEquirectangularTexture","addEventListener","onTextureDispose","removeEventListener","OrthographicCamera","isOrthographicCamera","scaleW","scaleH","makeOrthographic","LOD_MIN","EXTRA_LOD_SIGMA","_flatCamera","_clearColor","_oldTarget","PHI","INV_PHI","_axisDirections","PMREMGenerator","_renderer","_pingPongRenderTarget","_lodMax","_cubeSize","_lodPlanes","_sizeLods","_sigmas","_blurMaterial","_cubemapMaterial","_equirectMaterial","_compileMaterial","sigma","_setSize","cubeUVRenderTarget","_allocateTargets","_sceneToCubeUV","_blur","_applyPMREM","_cleanup","equirectangular","_fromTexture","_getCubemapMaterial","_getEquirectMaterial","_dispose","cubeSize","log2","outputTarget","_setViewport","_textureToCubeUV","params","_createRenderTarget","_createPlanes","sizeLods","lodPlanes","sigmas","_getBlurShader","tmpMesh","compile","cubeCamera","upSign","forwardSign","originalAutoClear","backgroundMaterial","backgroundBox","useSolidColor","col","poleAxis","lodIn","lodOut","pingPongRenderTarget","_halfBlur","targetIn","targetOut","sigmaRadians","blurMaterial","STANDARD_DEVIATIONS","blurMesh","blurUniforms","pixels","radiansPerPixel","sigmaPixels","weights","sum","weight","outputSize","lodMax","lod","totalLods","sizeLod","texelSize","cubeFaces","positionSize","uvSize","faceIndexSize","coordinates","fill","shaderMaterial","_getCommonVertexShader","WebGLCubeUVMaps","cubeUVmaps","pmremGenerator","isEquirectMap","isCubeMap","fromEquirectangular","fromCubemap","isCubeTextureComplete","cubemapUV","WebGLExtensions","getExtension","WebGLGeometries","wireframeAttributes","onGeometryDispose","memory","updateWireframeAttribute","geometryIndex","geometryPosition","previousAttribute","getWireframeAttribute","currentAttribute","WebGLIndexedBufferRenderer","drawElements","WebGLInfo","calls","triangles","lines","instanceCount","TRIANGLES","LINES","LINE_STRIP","LINE_LOOP","POINTS","programs","autoReset","numericalSort","absNumericalSort","morph","WebGLMorphtargets","influencesList","morphTextures","workInfluences","objectInfluences","morphTargetsCount","entry","disposeTexture","hasMorphPosition","hasMorphNormals","hasMorphColors","morphTargets","morphNormals","morphColors","vertexDataCount","vertexDataStride","morphTarget","morphNormal","morphColor","morphInfluencesSum","morphBaseInfluence","getUniforms","setValue","influences","sort","MAX_SAFE_INTEGER","WebGLObjects","updateMap","buffergeometry","hasEventListener","onInstancedMeshDispose","instancedMesh","emptyTexture","emptyArrayTexture","empty3dTexture","emptyCubeTexture","arrayCacheF32","arrayCacheI32","mat4array","mat3array","mat2array","flatten","nBlocks","blockSize","firstElem","arraysEqual","copyArray","allocTexUnits","allocateTextureUnit","setValueV1f","uniform1f","addr","setValueV2f","uniform2f","uniform2fv","setValueV3f","uniform3f","uniform3fv","setValueV4f","uniform4f","uniform4fv","setValueM2","uniformMatrix2fv","setValueM3","uniformMatrix3fv","setValueM4","uniformMatrix4fv","setValueV1i","uniform1i","setValueV2i","uniform2iv","setValueV3i","uniform3iv","setValueV4i","uniform4iv","setValueV1ui","uniform1ui","setValueV2ui","uniform2uiv","setValueV3ui","uniform3uiv","setValueV4ui","uniform4uiv","setValueT1","unit","setTexture2D","setValueT3D1","setTexture3D","setValueT6","setTextureCube","setValueT2DArray1","setTexture2DArray","getSingularSetter","setValueV1fArray","uniform1fv","setValueV2fArray","setValueV3fArray","setValueV4fArray","setValueM2Array","setValueM3Array","setValueM4Array","setValueV1iArray","uniform1iv","setValueV2iArray","setValueV3iArray","setValueV4iArray","setValueV1uiArray","uniform1uiv","setValueV2uiArray","setValueV3uiArray","setValueV4uiArray","setValueT1Array","units","setValueT3DArray","setValueT6Array","setValueT2DArrayArray","getPureArraySetter","SingleUniform","activeInfo","PureArrayUniform","StructuredUniform","seq","RePathPart","addUniform","container","uniformObject","parseUniform","path","pathLength","lastIndex","match","matchEnd","idIsIndex","subscript","next","WebGLUniforms","getProgramParameter","ACTIVE_UNIFORMS","getActiveUniform","getUniformLocation","WebGLShader","createShader","shaderSource","compileShader","programIdCount","handleSource","errorLine","split","lines2","from","to","join","getEncodingComponents","getShaderErrors","status","getShaderParameter","COMPILE_STATUS","errors","getShaderInfoLog","trim","errorMatches","toUpperCase","getShaderSource","getTexelEncodingFunction","functionName","getToneMappingFunction","toneMappingName","generateExtensions","chunks","extensionDerivatives","envMapCubeUVHeight","tangentSpaceNormalMap","shaderID","extensionFragDepth","rendererExtensionFragDepth","extensionDrawBuffers","rendererExtensionDrawBuffers","extensionShaderTextureLOD","rendererExtensionShaderTextureLod","filter","filterEmptyLine","generateDefines","fetchAttributeLocations","ACTIVE_ATTRIBUTES","getActiveAttrib","FLOAT_MAT2","FLOAT_MAT3","FLOAT_MAT4","getAttribLocation","replaceLightNums","replace","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","numDirLightShadows","numSpotLightShadows","numPointLightShadows","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","includePattern","resolveIncludes","includeReplacer","include","deprecatedUnrollLoopPattern","unrollLoopPattern","unrollLoops","loopReplacer","deprecatedLoopReplacer","snippet","generatePrecision","precisionstring","generateShadowMapTypeDefine","shadowMapTypeDefine","shadowMapType","generateEnvMapTypeDefine","envMapTypeDefine","envMapMode","generateEnvMapModeDefine","envMapModeDefine","generateEnvMapBlendingDefine","envMapBlendingDefine","generateCubeUVSize","imageHeight","maxMip","texelHeight","texelWidth","WebGLProgram","cacheKey","envMapCubeUVSize","customExtensions","customDefines","createProgram","prefixVertex","prefixFragment","versionString","isRawShaderMaterial","shaderName","instancing","instancingColor","supportsVertexTextures","useFog","fogExp2","objectSpaceNormalMap","vertexTangents","vertexAlphas","vertexUvs","uvsVertexOnly","skinning","morphTextureStride","doubleSided","flipSided","shadowMapEnabled","decodeVideoTexture","physicallyCorrectLights","opaque","outputEncoding","useDepthPacking","depthPacking","vertexGlsl","fragmentGlsl","glVertexShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","debug","checkShaderErrors","programLog","getProgramInfoLog","vertexLog","fragmentLog","runnable","haveDiagnostics","LINK_STATUS","vertexErrors","fragmentErrors","getError","VALIDATE_STATUS","diagnostics","prefix","deleteShader","cachedUniforms","destroy","deleteProgram","usedTimes","_id","WebGLShaderCache","shaderCache","Map","materialCache","vertexShaderStage","_getShaderStage","fragmentShaderStage","materialShaders","_getShaderCacheForMaterial","shaderStage","code","Set","stage","WebGLShaderStage","WebGLPrograms","cubeuvmaps","_programLayers","_customShaders","shaderIDs","MeshDepthMaterial","MeshDistanceMaterial","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","SpriteMaterial","getParameters","shadows","isMeshStandardMaterial","customVertexShaderID","customFragmentShaderID","getVertexShaderID","getFragmentShaderID","useAlphaTest","useClearcoat","useIridescence","isXRRenderTarget","isVideoTexture","isFogExp2","directional","spot","rectArea","hemi","shadowMap","customProgramCacheKey","getProgramCacheKey","getProgramCacheKeyParameters","getProgramCacheKeyBooleans","morphAttributeCount","disableAll","enable","acquireProgram","pl","preexistingProgram","releaseProgram","pop","releaseShaderCache","WebGLProperties","painterSortStable","groupOrder","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","transmissive","getNextRenderItem","renderItem","customOpaqueSort","customTransparentSort","finish","WebGLRenderLists","lists","renderCallDepth","list","UniformsCache","light","halfWidth","halfHeight","ShadowUniformsCache","nextVersion","shadowCastingLightsFirst","lightA","lightB","WebGLLights","shadowCache","hash","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","numDirectionalShadows","numPointShadows","numSpotShadows","ambient","probe","directionalShadow","spotShadow","rectAreaLTC1","rectAreaLTC2","pointShadow","vector3","matrix42","scaleFactor","intensity","isAmbientLight","isLightProbe","sh","coefficients","isDirectionalLight","shadowUniforms","bias","normalBias","mapSize","isSpotLight","penumbra","isRectAreaLight","isPointLight","isHemisphereLight","LTC_FLOAT_1","LTC_FLOAT_2","LTC_HALF_1","LTC_HALF_2","setupView","identity","WebGLRenderState","lightsArray","shadowsArray","pushLight","pushShadow","shadowLight","setupLights","setupLightsView","WebGLRenderStates","renderStates","renderState","isMeshDepthMaterial","isMeshDistanceMaterial","vertex","fragment","WebGLShadowMap","_objects","_capabilities","_frustum","_shadowMapSize","_viewportSize","_viewport","_depthMaterial","_distanceMaterial","_materialCache","_maxTextureSize","shadowMaterialVertical","VSM_SAMPLES","shadow_pass","resolution","shadowMaterialHorizontal","HORIZONTAL_PASS","fullScreenTri","fullScreenMesh","autoUpdate","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","_state","setBlending","setTest","setScissorTest","shadowFrameExtents","getFrameExtents","isPointLightShadow","mapPass","pars","viewportCount","getViewportCount","vp","getViewport","updateMatrices","getFrustum","renderObject","VSMPass","blurSamples","renderBufferDirect","getDepthMaterial","result","customMaterial","customDistanceMaterial","customDepthMaterial","keyA","keyB","materialsForVariant","cachedMaterial","shadowCamera","intersectsObject","k","kl","depthMaterial","WebGLState","ColorBuffer","locked","currentColorMask","currentColorClear","setMask","colorMask","setLocked","lock","DepthBuffer","currentDepthMask","currentDepthFunc","currentDepthClear","DEPTH_TEST","disable","depthMask","setFunc","NEVER","ALWAYS","LESS","LEQUAL","EQUAL","GEQUAL","GREATER","NOTEQUAL","clearDepth","StencilBuffer","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","STENCIL_TEST","stencilMask","setOp","stencilOp","clearStencil","colorBuffer","enabledCapabilities","currentBoundFramebuffers","currentDrawbuffers","defaultDrawbuffers","currentProgram","currentBlendingEnabled","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","MAX_COMBINED_TEXTURE_IMAGE_UNITS","lineWidthAvailable","glVersion","VERSION","currentTextureSlot","currentBoundTextures","scissorParam","SCISSOR_BOX","viewportParam","VIEWPORT","currentScissor","currentViewport","createTexture","bindTexture","texParameteri","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","texImage2D","RGBA","emptyTextures","TEXTURE_2D","TEXTURE_CUBE_MAP","TEXTURE_CUBE_MAP_POSITIVE_X","setFlipSided","setCullFace","CULL_FACE","bindFramebuffer","framebuffer","DRAW_FRAMEBUFFER","FRAMEBUFFER","COLOR_ATTACHMENT0","BACK","drawBuffersWEBGL","useProgram","equationToGL","FUNC_ADD","FUNC_SUBTRACT","FUNC_REVERSE_SUBTRACT","MIN","MAX","MIN_EXT","MAX_EXT","factorToGL","ZERO","ONE","SRC_COLOR","SRC_ALPHA","SRC_ALPHA_SATURATE","DST_COLOR","DST_ALPHA","ONE_MINUS_SRC_COLOR","ONE_MINUS_SRC_ALPHA","ONE_MINUS_DST_COLOR","ONE_MINUS_DST_ALPHA","BLEND","blendFuncSeparate","blendFunc","blendEquationSeparate","setMaterial","frontFaceCW","setPolygonOffset","SAMPLE_ALPHA_TO_COVERAGE","frontFace","CW","CCW","cullFace","FRONT","FRONT_AND_BACK","setLineWidth","lineWidth","factor","POLYGON_OFFSET_FILL","SCISSOR_TEST","activeTexture","webglSlot","TEXTURE0","webglType","webglTexture","boundTexture","unbindTexture","compressedTexImage2D","apply","texSubImage2D","texSubImage3D","compressedTexSubImage2D","texStorage2D","texStorage3D","texImage3D","KEEP","READ_FRAMEBUFFER","WebGLTextures","_gl","utils","multisampledRTTExt","supportsInvalidateFramebuffer","navigator","userAgent","_videoTextures","_sources","useOffscreenCanvas","OffscreenCanvas","err","createCanvas","resizeImage","needsPowerOfTwo","needsNewCanvas","maxSize","isPowerOfTwo$1","textureNeedsPowerOfTwo","textureNeedsGenerateMipmaps","supportsMips","generateMipmap","getInternalFormat","internalFormatName","glFormat","glType","RED","R32F","R16F","R8","RG","RG32F","RG16F","RG8","RGBA32F","RGBA16F","SRGB8_ALPHA8","RGBA8","UNSIGNED_SHORT_4_4_4_4","RGBA4","UNSIGNED_SHORT_5_5_5_1","RGB5_A1","getMipLevels","isFramebufferTexture","isCompressedTexture","filterFallback","LINEAR","deallocateTexture","onRenderTargetDispose","deallocateRenderTarget","textureProperties","__webglInit","webglTextures","__cacheKey","deleteTexture","__webglTexture","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","__webglMultisampledFramebuffer","__webglColorRenderbuffer","__webglDepthRenderbuffer","attachmentProperties","textureUnits","resetTextureUnits","textureUnit","getTextureCacheKey","slot","updateVideoTexture","__version","complete","uploadTexture","TEXTURE_2D_ARRAY","TEXTURE_3D","uploadCubeTexture","wrappingToGL","REPEAT","CLAMP_TO_EDGE","MIRRORED_REPEAT","filterToGL","NEAREST_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_NEAREST","LINEAR_MIPMAP_LINEAR","setTextureParameters","textureType","TEXTURE_WRAP_S","TEXTURE_WRAP_T","TEXTURE_WRAP_R","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","initTexture","forceUpload","textureCacheKey","__currentVersion","pixelStorei","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_ALIGNMENT","UNPACK_COLORSPACE_CONVERSION_WEBGL","NONE","verifyColorSpace","glInternalFormat","mipmap","useTexStorage","allocateMemory","levels","isDepthTexture","DEPTH_COMPONENT","DEPTH_COMPONENT32F","DEPTH_COMPONENT24","DEPTH24_STENCIL8","DEPTH_COMPONENT16","DEPTH_STENCIL","isCompressed","cubeImage","mipmapImage","setupFrameBufferTexture","attachment","textureTarget","__hasExternalTextures","useMultisampledRTT","framebufferTexture2DMultisampleEXT","getRenderTargetSamples","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","isMultisample","bindRenderbuffer","RENDERBUFFER","renderbufferStorageMultisampleEXT","renderbufferStorageMultisample","renderbufferStorage","framebufferRenderbuffer","DEPTH_ATTACHMENT","DEPTH_STENCIL_ATTACHMENT","setupDepthTexture","isCube","webglDepthTexture","setupDepthRenderbuffer","__autoAllocateDepthBuffer","createRenderbuffer","rebindTextures","colorTexture","setupRenderTarget","isMultipleRenderTargets","createFramebuffer","glTextureType","updateRenderTargetMipmap","updateMultisampleRenderTarget","COLOR_BUFFER_BIT","invalidationArray","depthStyle","ignoreDepthValues","__ignoreDepthValues","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT","invalidateFramebuffer","blitFramebuffer","__useRenderToTexture","sRGBToLinear","WebGLUtils","HALF_FLOAT_OES","ALPHA","LUMINANCE","LUMINANCE_ALPHA","SRGB_ALPHA_EXT","RED_INTEGER","RG_INTEGER","RGBA_INTEGER","COMPRESSED_SRGB_S3TC_DXT1_EXT","COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT","COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT","COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","COMPRESSED_SRGB8_ETC2","COMPRESSED_RGB8_ETC2","COMPRESSED_SRGB8_ALPHA8_ETC2_EAC","COMPRESSED_RGBA8_ETC2_EAC","COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR","COMPRESSED_RGBA_ASTC_4x4_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR","COMPRESSED_RGBA_ASTC_5x4_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR","COMPRESSED_RGBA_ASTC_5x5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR","COMPRESSED_RGBA_ASTC_6x5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR","COMPRESSED_RGBA_ASTC_6x6_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR","COMPRESSED_RGBA_ASTC_8x5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR","COMPRESSED_RGBA_ASTC_8x6_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR","COMPRESSED_RGBA_ASTC_8x8_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR","COMPRESSED_RGBA_ASTC_10x5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR","COMPRESSED_RGBA_ASTC_10x6_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR","COMPRESSED_RGBA_ASTC_10x8_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR","COMPRESSED_RGBA_ASTC_10x10_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR","COMPRESSED_RGBA_ASTC_12x10_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR","COMPRESSED_RGBA_ASTC_12x12_KHR","COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT","COMPRESSED_RGBA_BPTC_UNORM_EXT","UNSIGNED_INT_24_8","UNSIGNED_INT_24_8_WEBGL","ArrayCamera","isArrayCamera","cameras","Group","isGroup","_moveEvent","WebXRController","_targetRay","_grip","_hand","joints","inputState","pinching","hasLinearVelocity","linearVelocity","hasAngularVelocity","angularVelocity","inputSource","referenceSpace","inputPose","gripPose","handPose","targetRay","grip","hand","visibilityState","getPose","targetRaySpace","transform","inputjoint","jointPose","getJointPose","jointName","joint","jointRadius","indexTip","thumbTip","distanceToPinch","threshold","handedness","gripSpace","DepthTexture","WebXRManager","framebufferScaleFactor","referenceSpaceType","customReferenceSpace","pose","glBinding","glProjLayer","glBaseLayer","xrFrame","getContextAttributes","initialRenderTarget","newRenderTarget","controllers","inputSourcesMap","cameraL","cameraR","cameraVR","_currentDepthNear","_currentDepthFar","cameraAutoUpdate","isPresenting","getController","controller","getTargetRaySpace","getControllerGrip","getGripSpace","getHand","getHandSpace","onSessionEvent","onSessionEnd","onInputSourcesChange","forEach","disconnect","setFramebufferScaleFactor","setReferenceSpaceType","getReferenceSpace","setReferenceSpace","space","getBaseLayer","getBinding","getFrame","setSession","xrCompatible","makeXRCompatible","layerInit","antialias","XRWebGLLayer","updateRenderState","baseLayer","framebufferWidth","framebufferHeight","depthFormat","depthType","glDepthFormat","projectionlayerInit","colorFormat","XRWebGLBinding","createProjectionLayer","textureWidth","textureHeight","setFoveation","requestReferenceSpace","inputSources","removed","added","cameraLPos","cameraRPos","setProjectionFromUnion","ipd","projL","projR","topFov","bottomFov","leftFov","rightFov","zOffset","xOffset","translateX","translateZ","near2","far2","left2","right2","top2","bottom2","updateCamera","depthNear","depthFar","getCamera","getFoveation","fixedFoveation","foveation","onAnimationFrameCallback","getViewerPose","views","setRenderTargetFramebuffer","cameraVRNeedsUpdate","glSubImage","getViewSubImage","setRenderTargetTextures","depthStencilTexture","WebGLMaterials","refreshFogUniforms","isFog","density","refreshMaterialUniforms","pixelRatio","transmissionRenderTarget","refreshUniformsCommon","isMeshLambertMaterial","isMeshToonMaterial","refreshUniformsToon","isMeshPhongMaterial","refreshUniformsPhong","refreshUniformsStandard","isMeshPhysicalMaterial","refreshUniformsPhysical","isMeshMatcapMaterial","refreshUniformsMatcap","refreshUniformsDistance","isMeshNormalMaterial","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isSpriteMaterial","refreshUniformsSprites","isShadowMaterial","uvScaleMap","uv2ScaleMap","createCanvasElement","display","WebGLRenderer","isWebGLRenderer","_context","_depth","_stencil","_antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","_powerPreference","powerPreference","_failIfMajorPerformanceCaveat","failIfMajorPerformanceCaveat","_alpha","currentRenderList","currentRenderState","renderListStack","renderStateStack","domElement","sortObjects","toneMappingExposure","gammaFactor","_this","_isContextLost","_currentActiveCubeFace","_currentActiveMipmapLevel","_currentRenderTarget","_currentMaterialId","_currentCamera","_currentViewport","_currentScissor","_currentScissorTest","_width","_height","_pixelRatio","_opaqueSort","_transparentSort","_scissor","_scissorTest","_clippingEnabled","_localClippingEnabled","_transmissionRenderTarget","_projScreenMatrix","_vector3","_emptyScene","overrideMaterial","getTargetPixelRatio","contextNames","contextAttributes","contextName","onContextLost","onContextRestore","onContextCreationError","isWebGL1Renderer","shift","message","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","initGLContext","forceContextLoss","loseContext","forceContextRestore","restoreContext","getPixelRatio","setPixelRatio","setSize","updateStyle","setViewport","getDrawingBufferSize","setDrawingBufferSize","getCurrentViewport","getScissor","setScissor","getScissorTest","boolean","setOpaqueSort","method","setTransparentSort","bits","onXRSessionStart","onXRSessionEnd","preventDefault","infoAutoReset","shadowMapAutoUpdate","shadowMapNeedsUpdate","statusMessage","onMaterialDispose","deallocateMaterial","releaseMaterialProgramReferences","setProgram","rangeFactor","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","isLineSegments","isLineLoop","isSprite","material2","getProgram","setFromProjectionMatrix","projectObject","camera2","renderScene","onAfterRender","isLOD","intersectsSprite","opaqueObjects","transmissiveObjects","transparentObjects","renderTransmissionPass","renderObjects","lightsStateVersion","programCacheKey","updateCommonMaterialProperties","onBuild","needsLights","materialNeedsLights","progUniforms","uniformsList","seqWithValue","needsProgramChange","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","uCamPos","cameraPosition","setOptional","boneTexture","computeBoneTexture","boneTextureSize","markUniformsLightsNeedsUpdate","upload","defaultFramebuffer","__useDefaultFramebuffer","useDefaultFramebuffer","isRenderTarget3D","framebufferBound","layer","framebufferTextureLayer","readRenderTargetPixels","activeCubeFaceIndex","textureFormat","IMPLEMENTATION_COLOR_READ_FORMAT","halfFloatSupportedByExt","IMPLEMENTATION_COLOR_READ_TYPE","readPixels","copyFramebufferToTexture","level","levelScale","copyTexSubImage2D","copyTextureToTexture","srcTexture","dstTexture","copyTextureToTexture3D","sourceBox","glTarget","unpackRowLen","UNPACK_ROW_LENGTH","unpackImageHeight","UNPACK_IMAGE_HEIGHT","unpackSkipPixels","UNPACK_SKIP_PIXELS","unpackSkipRows","UNPACK_SKIP_ROWS","unpackSkipImages","UNPACK_SKIP_IMAGES","compressedTexSubImage3D","resetState","__THREE_DEVTOOLS__","CustomEvent","detail","WebGL1Renderer","FogExp2","Fog","Scene","InterleavedBuffer","isInterleavedBuffer","arrayBuffers","_uuid","ib","setUsage","_vector$6","InterleavedBufferAttribute","interleavedBuffer","interleavedBuffers","_geometry","_intersectPoint","_worldScale","_mvPosition","_alignedPosition","_rotatedPosition","_viewWorldMatrix","_vA","_vB","_vC","_uvA","_uvB","_uvC","Sprite","float32Array","setFromMatrixScale","transformVertex","vertexPosition","mvPosition","_v1$2","_v2$1","LOD","_currentLevel","addLevel","getObjectForDistance","raycast","_basePosition","_skinIndex","_skinWeight","_vector$5","_matrix","SkinnedMesh","bindMatrixInverse","calculateInverses","skinWeight","manhattanLength","setXYZW","skinIndex","getComponent","boneIndex","bones","boneInverses","Bone","isBone","DataTexture","_offsetMatrix","_identityMatrix","Skeleton","boneMatrices","inverse","bone","json","boneInverse","InstancedBufferAttribute","_instanceLocalMatrix","_instanceWorldMatrix","_instanceIntersects","_mesh","InstancedMesh","raycastTimes","instanceId","getMatrixAt","linecap","linejoin","_start$1","_end$1","_inverseMatrix$1","_ray$1","_sphere$1","Line","lineDistances","localThreshold","localThresholdSq","vStart","vEnd","interSegment","interRay","distSq","distanceSqToSegment","_start","_end","LineSegments","LineLoop","_inverseMatrix","_ray","_sphere","_position$2","Points","testPoint","rayPointDistanceSq","intersectPoint","closestPointToPoint","distanceToRay","VideoTexture","video","updateVideo","requestVideoFrameCallback","hasVideoFrameCallback","readyState","HAVE_CURRENT_DATA","FramebufferTexture","CompressedTexture","CanvasTexture","isCanvasTexture","Curve","arcLengthDivisions","optionalTarget","getUtoTmapping","getPoint","divisions","getPointAt","lengths","getLengths","cacheArcLengths","current","last","arcLengths","targetArcLength","comparison","lengthBefore","lengthAfter","segmentLength","segmentFraction","t2","pt1","pt2","getTangent","segments","closed","binormals","vec","mat","getTangentAt","MAX_VALUE","tz","makeRotationAxis","EllipseCurve","aX","aY","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","isEllipseCurve","twoPi","deltaAngle","samePoints","ArcCurve","aRadius","isArcCurve","CubicPoly","c0","initCatmullRom","x3","tension","initNonuniformCatmullRom","dt0","dt1","dt2","calc","t3","px","py","pz","CatmullRomCurve3","curveType","isCatmullRomCurve3","intPoint","CatmullRom","QuadraticBezierP0","QuadraticBezierP1","QuadraticBezierP2","QuadraticBezier","CubicBezierP0","CubicBezierP1","CubicBezierP2","CubicBezierP3","CubicBezier","CubicBezierCurve","v3","isCubicBezierCurve","CubicBezierCurve3","isCubicBezierCurve3","LineCurve","isLineCurve","LineCurve3","isLineCurve3","QuadraticBezierCurve","isQuadraticBezierCurve","QuadraticBezierCurve3","isQuadraticBezierCurve3","SplineCurve","isSplineCurve","Curves","CurvePath","curves","autoClose","curve","startPoint","endPoint","getLength","curveLengths","getCurveLengths","diff","lens","cacheLengths","sums","pts","getPoints","fromJSON","Path","currentPoint","moveTo","lineTo","aCPx","aCPy","aCP1x","aCP1y","aCP2x","aCP2y","npts","concat","absarc","absellipse","firstPoint","lastPoint","LatheGeometry","phiStart","phiLength","initNormals","inverseSegments","curNormal","prevNormal","base","CapsuleGeometry","capSegments","radialSegments","CircleGeometry","thetaStart","thetaLength","segment","CylinderGeometry","radiusTop","radiusBottom","openEnded","indexArray","generateTorso","generateCap","slope","indexRow","sinTheta","cosTheta","centerIndexStart","centerIndexEnd","ConeGeometry","PolyhedronGeometry","vertexBuffer","uvBuffer","subdivide","applyRadius","generateUVs","computeVertexNormals","getVertexByIndex","subdivideFace","cols","aj","bj","rows","pushVertex","azimuth","inclination","correctUVs","correctSeam","centroid","azi","correctUV","details","DodecahedronGeometry","_v0","_v1$1","_normal","_triangle","EdgesGeometry","thresholdAngle","precisionPoints","thresholdDot","indexAttr","getIndex","positionAttr","indexCount","indexArr","vertKeys","hashes","edgeData","jNext","vecHash0","vecHash1","reverseHash","index0","Shape","holes","holesPts","getPointsHoles","hole","Earcut","triangulate","holeIndices","dim","hasHoles","outerLen","outerNode","linkedList","prev","invSize","eliminateHoles","earcutLinked","clockwise","signedArea","insertNode","removeNode","filterPoints","again","steiner","area","ear","pass","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","zOrder","prevZ","nextZ","locallyInside","isValidDiagonal","splitPolygon","queue","getLeftmost","compareX","eliminateHole","findHoleBridge","hx","hy","mx","my","tanMin","sectorContainsSector","sortLinked","tail","numMerges","pSize","qSize","inSize","leftmost","intersectsPolygon","middleInside","q1","q2","o1","o2","o3","o4","onSegment","num","inside","Node","an","bp","ShapeUtils","contour","faces","removeDupEndPts","addContour","holeIndex","ExtrudeGeometry","verticesArray","uvArray","addShape","placeholder","curveSegments","steps","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","extrudePath","uvgen","UVGenerator","WorldUVGenerator","amount","extrudePts","extrudeByPath","splineTube","binormal","position2","getSpacedPoints","computeFrenetFrames","shapePoints","extractPoints","reverse","isClockWise","hl","ahole","triangulateShape","scalePt2","pt","vlen","flen","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","ptNextShift_x","ptNextShift_y","sf","v_trans_lensq","direction_eq","contourMovements","holesMovements","oneHoleMovements","verticesMovements","bs","vert","buildLidFaces","buildSideFaces","f3","layeroffset","sidewalls","sl","slen1","slen2","f4","addVertex","nextIndex","generateTopUV","addUV","generateSideWallUV","vector2","toJSON$1","geometryShapes","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","IcosahedronGeometry","OctahedronGeometry","RingGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","radiusStep","thetaSegmentLevel","ShapeGeometry","indexOffset","shapeVertices","shapeHoles","shapeHole","SphereGeometry","thetaEnd","grid","verticesRow","uOffset","TetrahedronGeometry","TorusGeometry","tube","tubularSegments","arc","TorusKnotGeometry","P1","P2","B","T","N","calculatePositionOnCurve","cu","su","quOverP","cs","TubeGeometry","frames","P","generateBufferData","generateSegment","generateIndices","WireframeGeometry","edges","o","ol","isUniqueEdge","hash1","hash2","Geometries","BoxBufferGeometry","CapsuleBufferGeometry","CircleBufferGeometry","ConeBufferGeometry","CylinderBufferGeometry","DodecahedronBufferGeometry","ExtrudeBufferGeometry","IcosahedronBufferGeometry","LatheBufferGeometry","OctahedronBufferGeometry","PlaneBufferGeometry","PolyhedronBufferGeometry","RingBufferGeometry","ShapeBufferGeometry","SphereBufferGeometry","TetrahedronBufferGeometry","TorusBufferGeometry","TorusKnotBufferGeometry","TubeBufferGeometry","RawShaderMaterial","_sheen","_clearcoat","_iridescence","_transmission","materialLib","AnimationUtils","arraySlice","isTypedArray","convertArray","forceClone","ArrayBuffer","isView","DataView","getKeyframeOrder","times","compareTime","sortedArray","nValues","srcOffset","flattenJSON","jsonKeys","valuePropertyName","subclip","sourceClip","startFrame","endFrame","fps","clip","tracks","track","valueSize","getValueSize","minStartTime","resetDuration","makeClipAdditive","targetClip","referenceFrame","referenceClip","numTracks","referenceTime","referenceTrack","referenceTrackType","ValueTypeName","targetTrack","find","referenceOffset","referenceValueSize","createInterpolant","isInterpolantFactoryMethodGLTFCubicSpline","targetOffset","targetValueSize","referenceValue","startIndex","endIndex","interpolant","evaluate","resultBuffer","referenceQuat","numTimes","valueStart","multiplyQuaternionsFlat","valueEnd","blendMode","Interpolant","parameterPositions","sampleValues","sampleSize","_cachedIndex","settings","DefaultSettings_","pp","validate_interval","seek","linear_scan","forward_scan","giveUpAt","copySampleValue_","t1global","mid","intervalChanged_","interpolate_","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","getSettings_","halfDt","o0","oP","oN","wP","wN","ppp","sP","sN","LinearInterpolant","offset1","offset0","weight1","weight0","DiscreteInterpolant","KeyframeTrack","interpolation","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","factoryMethod","InterpolantFactoryMethodDiscrete","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","timeOffset","timeScale","startTime","endTime","nKeys","valid","prevTime","currTime","smoothInterpolation","getInterpolation","writeIndex","keep","timeNext","offsetP","offsetN","readOffset","writeOffset","TypedKeyframeTrack","trackType","BooleanKeyframeTrack","ColorKeyframeTrack","NumberKeyframeTrack","QuaternionLinearInterpolant","slerpFlat","QuaternionKeyframeTrack","StringKeyframeTrack","VectorKeyframeTrack","AnimationClip","duration","validate","optimize","jsonTracks","frameTime","parseKeyframeTrack","clipTracks","morphTargetSequence","noLoop","numMorphTargets","objectOrClipArray","clipArray","animationToMorphTargets","pattern","parts","animationMorphTargets","clips","CreateFromMorphTargetSequence","addNonemptyTrack","trackName","animationKeys","propertyName","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","animationKey","boneName","getTrackTypeForValueTypeName","typeName","Cache","files","file","LoadingManager","onLoad","onProgress","onError","isLoading","itemsLoaded","itemsTotal","urlModifier","handlers","onStart","itemStart","itemEnd","itemError","resolveURL","setURLModifier","addHandler","regex","loader","removeHandler","getHandler","DefaultLoadingManager","Loader","manager","crossOrigin","withCredentials","resourcePath","requestHeader","Promise","resolve","reject","load","loading","FileLoader","setTimeout","req","Request","headers","Headers","credentials","mimeType","responseType","fetch","then","response","ReadableStream","body","getReader","callbacks","reader","contentLength","total","lengthComputable","loaded","stream","readData","read","done","close","byteLength","ProgressEvent","enqueue","Response","statusText","arrayBuffer","blob","text","parser","DOMParser","parseFromString","re","label","decoder","TextDecoder","decode","catch","finally","AnimationLoader","setPath","setRequestHeader","setWithCredentials","CompressedTextureLoader","setResponseType","loadTexture","texDatas","mipmapCount","isCubemap","ImageLoader","onImageLoad","removeEventListeners","onImageError","CubeTextureLoader","urls","setCrossOrigin","DataTextureLoader","texData","TextureLoader","Light","HemisphereLight","_projScreenMatrix$1","_lightPositionWorld$1","_lookTarget$1","LightShadow","_frameExtents","_viewportCount","_viewports","shadowMatrix","viewportIndex","SpotLightShadow","isSpotLightShadow","SpotLight","power","_lightPositionWorld","_lookTarget","PointLightShadow","_cubeDirections","_cubeUps","PointLight","DirectionalLightShadow","isDirectionalLightShadow","DirectionalLight","AmbientLight","RectAreaLight","SphericalHarmonics3","isSphericalHarmonics3","coeff","shBasis","LightProbe","MaterialLoader","getTexture","shading","LoaderUtils","fromCharCode","decodeURIComponent","escape","lastIndexOf","InstancedBufferGeometry","BufferGeometryLoader","interleavedBufferMap","arrayBufferMap","getInterleavedBuffer","getArrayBuffer","typedArray","bufferAttribute","bufferAttributeConstr","drawcalls","offsets","ObjectLoader","extractUrlBase","loadAsync","parseAsync","parseAnimations","parseShapes","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","parseSkeletons","bindSkeletons","hasImages","parseImagesAsync","bufferGeometryLoader","setTextures","loadImage","deserializeImage","imageArray","currentUrl","deserializedImage","parseConstant","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","isInteger","objectAnimations","bind","setResourcePath","ImageBitmapLoader","isImageBitmapLoader","createImageBitmap","fetchOptions","res","colorSpaceConversion","imageBitmap","AudioContext","window","webkitAudioContext","AudioLoader","bufferCopy","decodeAudioData","audioBuffer","HemisphereLightProbe","isHemisphereLightProbe","sky","ground","AmbientLightProbe","isAmbientLightProbe","_eyeRight","_eyeLeft","_projectionMatrix","StereoCamera","eyeSep","_cache","eyeSepHalf","eyeSepOnProjection","ymax","xmin","xmax","Clock","autoStart","oldTime","elapsedTime","running","now","getElapsedTime","getDelta","newTime","performance","Date","_position$1","_quaternion$1","_scale$1","_orientation$1","AudioListener","gain","createGain","connect","destination","timeDelta","_clock","setTargetAtTime","currentTime","positionX","linearRampToValueAtTime","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setPosition","setOrientation","Audio","getInput","autoplay","detune","loop","loopStart","loopEnd","playbackRate","isPlaying","hasPlaybackControl","sourceType","_startedAt","_progress","_connected","filters","audioNode","mediaElement","createMediaElementSource","mediaStream","createMediaStreamSource","play","delay","createBufferSource","onended","onEnded","setDetune","setPlaybackRate","getOutput","getFilters","setFilters","_position","_quaternion","_scale","_orientation","PositionalAudio","panner","createPanner","panningModel","refDistance","rolloffFactor","distanceModel","maxDistance","coneInnerAngle","coneOuterAngle","coneOuterGain","orientationX","orientationY","orientationZ","AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","getByteFrequencyData","getFrequencyData","PropertyMixer","binding","mixFunction","mixFunctionAdditive","setIdentity","_slerp","_slerpAdditive","_setAdditiveIdentityQuaternion","_workIndex","_select","_setAdditiveIdentityOther","_lerp","_lerpAdditive","_setAdditiveIdentityNumeric","_mixBufferRegion","_mixBufferRegionAdditive","_setIdentity","_origIndex","_addIndex","cumulativeWeight","cumulativeWeightAdditive","useCount","referenceCount","accuIndex","currentWeight","mix","weightAdditive","originalValueOffset","getValue","targetIndex","workOffset","_RESERVED_CHARS_RE","_reservedRe","RegExp","_wordChar","_wordCharOrDot","_directoryRe","_nodeRe","_objectRe","_propertyRe","_trackRe","_supportedObjectNames","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","firstValidIndex","nCachedObjects_","bindings","unbind","rootNode","node","findNode","nodeName","_getValue_unbound","_setValue_unbound","targetObject","resolvedProperty","propertyIndex","dest","targetArray","sourceArray","objectName","_getValue_unavailable","_setValue_unavailable","objectIndex","nodeProperty","versioning","Versioning","None","NeedsUpdate","MatrixWorldNeedsUpdate","bindingType","BindingType","Direct","ArrayElement","HasFromToArray","EntireArray","GetterByBindingType","SetterByBindingTypeAndVersioning","root","isAnimationObjectGroup","matches","results","lastDot","substring","getBoneByName","searchNodeSubtree","childNode","subTreeNode","_getValue_direct","_getValue_array","_getValue_arrayElement","_getValue_toArray","_setValue_direct","_setValue_direct_setNeedsUpdate","_setValue_direct_setMatrixWorldNeedsUpdate","_setValue_array","_setValue_array_setNeedsUpdate","_setValue_array_setMatrixWorldNeedsUpdate","_setValue_arrayElement","_setValue_arrayElement_setNeedsUpdate","_setValue_arrayElement_setMatrixWorldNeedsUpdate","_setValue_fromArray","_setValue_fromArray_setNeedsUpdate","_setValue_fromArray_setMatrixWorldNeedsUpdate","AnimationObjectGroup","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","stats","inUse","bindingsPerObject","indicesByUUID","paths","parsedPaths","nBindings","knownObject","nObjects","nCachedObjects","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","lastObject","indicesByPath","lastBindingsIndex","lastBindings","lastBindingsPath","AnimationAction","mixer","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","_loopCount","_startTime","_effectiveTimeScale","_effectiveWeight","repetitions","paused","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","_activateAction","_deactivateAction","stopFading","stopWarping","_isActiveAction","_scheduleFading","fadeOutAction","warp","fadeOut","fadeIn","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","fadeInAction","crossFadeFrom","weightInterpolant","_takeBackControlInterpolant","action","startTimeScale","endTimeScale","_lendControlInterpolant","timeScaleInterpolant","_root","deltaTime","timeDirection","_updateWeight","timeRunning","_updateTimeScale","clipTime","_updateTime","propertyMixers","accumulateAdditive","accumulate","interpolantValue","loopCount","pingPong","_setEndings","handle_stop","loopDelta","pending","atStart","atEnd","weightNow","weightThen","_controlInterpolantsResultBuffer","AnimationMixer","_initMemoryManager","_accuIndex","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_addInactiveBinding","create","clipUuid","actionsForClip","_actionsByClip","_bindAction","knownActions","_addInactiveAction","_lendBinding","saveOriginalState","_lendAction","restoreOriginalState","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","firstInactiveBinding","lastActiveBinding","__cacheIndex","lastActiveInterpolant","optionalRoot","clipObject","findByName","existingAction","newAction","nActions","_update","timeInSeconds","actionsToRemove","_removeInactiveAction","Uniform","InstancedInterleavedBuffer","GLBufferAttribute","Raycaster","coords","unproject","intersectObject","ascSort","Spherical","other","EPS","setFromCartesianCoords","Cylindrical","_vector$4","Box2","isBox2","_startP","_startEnd","Line3","clampToLine","startEnd2","startEnd_startP","closestPointToPointParameter","_vector$3","SpotLightHelper","cone","coneLength","coneWidth","_vector$2","_boneMatrix","_matrixWorldInv","SkeletonHelper","getBoneList","isSkeletonHelper","boneList","PointLightHelper","sphereSize","_vector$1","_color1","_color2","HemisphereLightHelper","rotateY","GridHelper","PolarGridHelper","radials","circles","_v1","_v2","_v3","DirectionalLightHelper","lightPlane","targetLine","_vector","_camera","CameraHelper","pointMap","colorFrustum","colorCone","colorUp","colorTarget","colorCross","addLine","addPoint","setPoint","_box","BoxHelper","setFromObject","Box3Helper","PlaneHelper","positions2","_axis","_lineGeometry","_coneGeometry","ArrowHelper","headLength","headWidth","setDirection","setLength","AxesHelper","xAxisColor","yAxisColor","zAxisColor","ShapePath","subPaths","currentPath","quadraticCurveTo","bezierCurveTo","splineThru","isCCW","noHoles","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","isPointInsidePolygon","inPolygon","polyLen","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","holesFirst","betterShapeHoles","newShapes","newShapeHoles","mainIdx","tmpPoints","ambiguous","toChange","sIdx","sLen","sho","hIdx","ho","hole_unassigned","s2Idx","tmpHoles","DataUtils","val","_floatView","_uint32View","_baseTable","_shiftTable","_mantissaTable","_offsetTable","_exponentTable","_buffer","ParametricGeometry","TextGeometry","FontLoader","Font","ImmediateRenderObject","WebGLMultisampleRenderTarget","DataTexture2DArray","DataTexture3D","revision","__THREE__","_changeEvent","_startEvent","_endEvent","OrbitControls","touchAction","minDistance","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","UP","BOTTOM","mouseButtons","touches","TWO","target0","position0","zoom0","_domElementKeyEvents","getPolarAngle","spherical","getAzimuthalAngle","getDistance","listenToKeyEvents","onKeyDown","saveState","STATE","quat","setFromUnitVectors","quatInverse","lastPosition","lastQuaternion","twoPI","setFromVector3","rotateLeft","getAutoRotationAngle","sphericalDelta","makeSafe","panOffset","setFromSpherical","zoomChanged","onContextMenu","onPointerDown","onPointerCancel","onMouseWheel","onPointerMove","onPointerUp","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","pointers","pointerPositions","getZoomScale","rotateUp","panLeft","objectMatrix","panUp","pan","deltaX","deltaY","targetDistance","clientHeight","clientWidth","dollyOut","dollyScale","dollyIn","handleMouseDownRotate","clientX","clientY","handleMouseDownDolly","handleMouseDownPan","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","handleMouseWheel","handleKeyDown","handleTouchStartRotate","pageX","pageY","handleTouchStartPan","handleTouchStartDolly","handleTouchStartDollyPan","handleTouchStartDollyRotate","handleTouchMoveRotate","getSecondPointerPosition","handleTouchMovePan","handleTouchMoveDolly","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","setPointerCapture","pointerId","addPointer","pointerType","onTouchStart","onMouseDown","onTouchMove","onMouseMove","removePointer","releasePointerCapture","mouseAction","button","ctrlKey","metaKey","shiftKey","trackPointer","pointer","passive","MapControls","controls","animate","devicePixelRatio","innerWidth","innerHeight","appendChild","dirLight1","dirLight2","dirLight3","ambientLight","onWindowResize","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","parcelRequire","every","generated","js","hmrApply","hmrAcceptRun","reload","onclose","removeErrorOverlay","stack","overlay","createErrorOverlay","getElementById","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","dep","Function","deps","some"],"mappings":"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D,UAAN,CAAiB1qC,gBAAjB,CAAmC,eAAnC,EAAoD+yF,eAApD;IACAn4G,KAAK,CAAC8vD,UAAN,CAAiB1qC,gBAAjB,CAAmC,OAAnC,EAA4CgzF,YAA5C,EAA0D;MAAEwE,OAAO,EAAE;IAAX,CAA1D,EAvqCiC,CAyqCjC;;IAEA,KAAKjpI,MAAL;EAEA;;AA/qC0C,EAorC5C;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAEA,MAAMkpI,WAAN,SAA0BhI,aAA1B,CAAwC;EAEvCl0I,WAAW,CAAEya,MAAF,EAAU00E,UAAV,EAAuB;IAEjC,MAAO10E,MAAP,EAAe00E,UAAf;IAEA,KAAKgmD,kBAAL,GAA0B,KAA1B,CAJiC,CAIA;;IAEjC,KAAKM,YAAL,CAAkBjnJ,IAAlB,GAAyBD,YAAA,CAAMM,GAA/B;IACA,KAAK4mJ,YAAL,CAAkB/mJ,KAAlB,GAA0BH,YAAA,CAAMI,MAAhC;IAEA,KAAK+mJ,OAAL,CAAarjE,GAAb,GAAmBvjF,YAAA,CAAMD,GAAzB;IACA,KAAK6mJ,OAAL,CAAaC,GAAb,GAAmB7mJ,YAAA,CAAME,YAAzB;EAEA;;AAdsC;;;;ACjtCxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChmGA;;AACA;;AACA;;;;;;;;AAGC,IAAI6oB,MAAJ,EAAYskI,QAAZ,EAAsBh4G,KAAtB,EAA6BD,QAA7B;AAEAif,IAAI;AACJi5F,OAAO;;AAEP,SAASj5F,IAAT,GAAgB;EAEfhf,KAAK,GAAG,IAAI91C,KAAK,CAACkrG,KAAV,EAAR;EACAp1D,KAAK,CAACtZ,UAAN,GAAmB,IAAIx8B,KAAK,CAACwa,KAAV,CAAiB,SAAjB,CAAnB;EACAs7B,KAAK,CAAChP,GAAN,GAAY,IAAI9mC,KAAK,CAACgrG,OAAV,CAAmB,SAAnB,EAA8B,KAA9B,CAAZ;EAEAn1D,QAAQ,GAAG,IAAI71C,KAAK,CAAC4/F,aAAV,CAAyB;IAAEzF,SAAS,EAAE;EAAb,CAAzB,CAAX;EACAtkD,QAAQ,CAACkuD,aAAT,CAAwBghC,MAAM,CAACipB,gBAA/B;EACAn4G,QAAQ,CAACmuD,OAAT,CAAkB+gC,MAAM,CAACkpB,UAAzB,EAAqClpB,MAAM,CAACmpB,WAA5C;EACAj1I,QAAQ,CAACijH,IAAT,CAAciyB,WAAd,CAA2Bt4G,QAAQ,CAACirD,UAApC;EAEAt3E,MAAM,GAAG,IAAIxpB,KAAK,CAAC6zC,iBAAV,CAA6B,EAA7B,EAAiCkxF,MAAM,CAACkpB,UAAP,GAAoBlpB,MAAM,CAACmpB,WAA5D,EAAyE,CAAzE,EAA4E,IAA5E,CAAT;EACA1kI,MAAM,CAACuD,QAAP,CAAgBxb,GAAhB,CAAqB,GAArB,EAA0B,GAA1B,EAA+B,CAA/B;EACAu8I,QAAQ,GAAG,IAAIjI,4BAAJ,CAAmBr8H,MAAnB,EAA2BqsB,QAAQ,CAACirD,UAApC,CAAX;EACAgtD,QAAQ,CAAC/F,iBAAT,CAA4BhjB,MAA5B;EACA+oB,QAAQ,CAACxH,aAAT,GAAyB,IAAzB;EACAwH,QAAQ,CAACvH,aAAT,GAAyB,IAAzB;EACAuH,QAAQ,CAAChH,kBAAT,GAA8B,KAA9B;EACAgH,QAAQ,CAAC/H,WAAT,GAAuB,GAAvB;EACA+H,QAAQ,CAAC3iB,WAAT,GAAuB,GAAvB;EACA2iB,QAAQ,CAAC3H,aAAT,GAAyBr5I,IAAI,CAACC,EAAL,GAAU,CAAnC;EACA,IAAM8f,QAAQ,GAAG,IAAI7sB,KAAK,CAACyqH,cAAV,CAA0B,CAA1B,EAA6B,EAA7B,EAAiC,CAAjC,CAAjB;EACA,IAAMttF,QAAQ,GAAG,IAAIn9B,KAAK,CAACiyE,iBAAV,CAA6B;IAAEv4D,KAAK,EAAE,SAAT;IAAoBkpB,WAAW,EAAE;EAAjC,CAA7B,CAAjB;;EAIA,KAAM,IAAIt2B,CAAC,GAAG,CAAd,EAAiBA,CAAC,GAAG,GAArB,EAA0BA,CAAC,EAA3B,EAAiC;IAChC,IAAMsqC,IAAI,GAAG,IAAI52C,KAAK,CAACsvC,IAAV,CAAgBziB,QAAhB,EAA0BsQ,QAA1B,CAAb;IACAyZ,IAAI,CAAC7pB,QAAL,CAAc9e,CAAd,GAAkBnB,IAAI,CAACK,MAAL,KAAgB,IAAhB,GAAuB,GAAzC;IACAypC,IAAI,CAAC7pB,QAAL,CAAcxe,CAAd,GAAkBzB,IAAI,CAACK,MAAL,KAAgB,GAAhB,GAAsB,GAAxC;IACAypC,IAAI,CAAC7pB,QAAL,CAAc9L,CAAd,GAAkBnU,IAAI,CAACK,MAAL,KAAgB,IAAhB,GAAuB,GAAzC;IAEAypC,IAAI,CAACxc,YAAL;IACAwc,IAAI,CAACl3B,gBAAL,GAAwB,KAAxB;IACAo2B,KAAK,CAAC3pB,GAAN,CAAWyqB,IAAX;EACA;;EAED,IAAMw3G,SAAS,GAAG,IAAIpuJ,KAAK,CAAC4gI,gBAAV,CAA4B,QAA5B,CAAlB;EACAwtB,SAAS,CAACrhI,QAAV,CAAmBxb,GAAnB,CAAwB,CAAxB,EAA2B,CAA3B,EAA8B,CAA9B;EACAukC,KAAK,CAAC3pB,GAAN,CAAWiiI,SAAX;EAEA,IAAMC,SAAS,GAAG,IAAIruJ,KAAK,CAAC4gI,gBAAV,CAA4B,QAA5B,CAAlB;EACAytB,SAAS,CAACthI,QAAV,CAAmBxb,GAAnB,CAAwB,CAAE,CAA1B,EAA6B,CAAE,CAA/B,EAAkC,CAAE,CAApC;EACAukC,KAAK,CAAC3pB,GAAN,CAAWkiI,SAAX;EAEA,IAAMC,SAAS,GAAG,IAAItuJ,KAAK,CAAC4gI,gBAAV,CAA4B,QAA5B,CAAlB;EACA0tB,SAAS,CAACvhI,QAAV,CAAmBxb,GAAnB,CAAwB,CAAE,CAA1B,EAA6B,CAA7B,EAAgC,CAAE,CAAlC;EACAukC,KAAK,CAAC3pB,GAAN,CAAWmiI,SAAX;EACA,IAAMC,YAAY,GAAG,IAAIvuJ,KAAK,CAAC6gI,YAAV,CAAwB,QAAxB,CAArB;EACA/qF,KAAK,CAAC3pB,GAAN,CAAWoiI,YAAX;EACAxpB,MAAM,CAAC3uE,gBAAP,CAAyB,QAAzB,EAAmCo4F,cAAnC;AACA;;AAED,SAASA,cAAT,GAA0B;EACzBhlI,MAAM,CAACuqB,MAAP,GAAgBgxF,MAAM,CAACkpB,UAAP,GAAoBlpB,MAAM,CAACmpB,WAA3C;EACA1kI,MAAM,CAAC8qB,sBAAP;EACAuB,QAAQ,CAACmuD,OAAT,CAAkB+gC,MAAM,CAACkpB,UAAzB,EAAqClpB,MAAM,CAACmpB,WAA5C;AACA;;AAED,SAASH,OAAT,GAAmB;EAClBh0G,qBAAqB,CAAEg0G,OAAF,CAArB;EACAD,QAAQ,CAACnpI,MAAT;EACA2xB,MAAM;AACN;;AAED,SAASA,MAAT,GAAkB;EACjBT,QAAQ,CAACS,MAAT,CAAiBR,KAAjB,EAAwBtsB,MAAxB;AACA,EAOF;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;;;ACxKA,IAAIilI,UAAU,GAAG,4BAAjB;AAEA,IAAIC,SAAS,GAAG/uJ,MAAM,CAACgvJ,MAAP,CAAcC,MAA9B;;AAEA,SAASA,MAAT,CAAgBC,UAAhB,EAA4B;EAC1BH,SAAS,CAACjiJ,IAAV,CAAe,IAAf,EAAqBoiJ,UAArB;EACA,KAAKC,GAAL,GAAW;IACTpxI,IAAI,EAAE/d,MAAM,CAACgvJ,MAAP,CAAcI,OADX;IAETC,gBAAgB,EAAE,EAFT;IAGTC,iBAAiB,EAAE,EAHV;IAITC,MAAM,EAAE,UAAUr1I,EAAV,EAAc;MACpB,KAAKm1I,gBAAL,CAAsBljJ,IAAtB,CAA2B+N,EAAE,IAAI,YAAY,CAAE,CAA/C;IACD,CANQ;IAOTqJ,OAAO,EAAE,UAAUrJ,EAAV,EAAc;MACrB,KAAKo1I,iBAAL,CAAuBnjJ,IAAvB,CAA4B+N,EAA5B;IACD;EATQ,CAAX;EAYAla,MAAM,CAACgvJ,MAAP,CAAcI,OAAd,GAAwB,IAAxB;AACD;;AAEDpvJ,MAAM,CAACgvJ,MAAP,CAAcC,MAAd,GAAuBA,MAAvB;AACA,IAAIO,aAAJ,EAAmBC,cAAnB;AAEA,IAAIl2H,MAAM,GAAGv5B,MAAM,CAACgvJ,MAAP,CAAcz1H,MAA3B;;AACA,IAAI,CAAC,CAACA,MAAD,IAAW,CAACA,MAAM,CAACm2H,eAApB,KAAwC,OAAOC,SAAP,KAAqB,WAAjE,EAA8E;EAC5E,IAAIC,QAAQ,GAAG,MAA4Bz/F,QAAQ,CAACy/F,QAApD;EACA,IAAIC,QAAQ,GAAG1/F,QAAQ,CAAC0/F,QAAT,KAAsB,QAAtB,GAAiC,KAAjC,GAAyC,IAAxD;EACA,IAAIC,EAAE,GAAG,IAAIH,SAAJ,CAAcE,QAAQ,GAAG,KAAX,GAAmBD,QAAnB,GAA8B,GAA9B,aAA2D,GAAzE,CAAT;;EACAE,EAAE,CAACC,SAAH,GAAe,UAASxjJ,KAAT,EAAgB;IAC7BijJ,aAAa,GAAG,EAAhB;IACAC,cAAc,GAAG,EAAjB;IAEA,IAAI1xI,IAAI,GAAG0C,IAAI,CAACC,KAAL,CAAWnU,KAAK,CAACwR,IAAjB,CAAX;;IAEA,IAAIA,IAAI,CAAClS,IAAL,KAAc,QAAlB,EAA4B;MAC1B,IAAImkJ,OAAO,GAAG,KAAd;MACAjyI,IAAI,CAACkyI,MAAL,CAAYv2D,OAAZ,CAAoB,UAASw2D,KAAT,EAAgB;QAClC,IAAI,CAACA,KAAK,CAACC,KAAX,EAAkB;UAChB,IAAIC,SAAS,GAAGC,cAAc,CAACxwJ,MAAM,CAACywJ,aAAR,EAAuBJ,KAAK,CAAC50H,EAA7B,CAA9B;;UACA,IAAI80H,SAAJ,EAAe;YACbJ,OAAO,GAAG,IAAV;UACD;QACF;MACF,CAPD,EAF0B,CAW1B;;MACAA,OAAO,GAAGA,OAAO,IAAIjyI,IAAI,CAACkyI,MAAL,CAAYM,KAAZ,CAAkB,UAASL,KAAT,EAAgB;QACrD,OAAOA,KAAK,CAACrkJ,IAAN,KAAe,KAAf,IAAwBqkJ,KAAK,CAACM,SAAN,CAAgBC,EAA/C;MACD,CAFoB,CAArB;;MAIA,IAAIT,OAAJ,EAAa;QACXn+I,OAAO,CAACulC,KAAR;QAEAr5B,IAAI,CAACkyI,MAAL,CAAYv2D,OAAZ,CAAoB,UAAUw2D,KAAV,EAAiB;UACnCQ,QAAQ,CAAC7wJ,MAAM,CAACywJ,aAAR,EAAuBJ,KAAvB,CAAR;QACD,CAFD;QAIAT,cAAc,CAAC/1D,OAAf,CAAuB,UAAUzmF,CAAV,EAAa;UAClC09I,YAAY,CAAC19I,CAAC,CAAC,CAAD,CAAF,EAAOA,CAAC,CAAC,CAAD,CAAR,CAAZ;QACD,CAFD;MAGD,CAVD,MAUO,IAAIk9C,QAAQ,CAACygG,MAAb,EAAqB;QAAE;QAC5BzgG,QAAQ,CAACygG,MAAT;MACD;IACF;;IAED,IAAI7yI,IAAI,CAAClS,IAAL,KAAc,QAAlB,EAA4B;MAC1BikJ,EAAE,CAAC3yB,KAAH;;MACA2yB,EAAE,CAACe,OAAH,GAAa,YAAY;QACvB1gG,QAAQ,CAACygG,MAAT;MACD,CAFD;IAGD;;IAED,IAAI7yI,IAAI,CAAClS,IAAL,KAAc,gBAAlB,EAAoC;MAClCgG,OAAO,CAACpB,GAAR,CAAY,2BAAZ;MAEAqgJ,kBAAkB;IACnB;;IAED,IAAI/yI,IAAI,CAAClS,IAAL,KAAc,OAAlB,EAA2B;MACzBgG,OAAO,CAACiD,KAAR,CAAc,kBAAkBiJ,IAAI,CAACjJ,KAAL,CAAW0uF,OAA7B,GAAuC,IAAvC,GAA8CzlF,IAAI,CAACjJ,KAAL,CAAWi8I,KAAvE;MAEAD,kBAAkB;MAElB,IAAIE,OAAO,GAAGC,kBAAkB,CAAClzI,IAAD,CAAhC;MACAzE,QAAQ,CAACijH,IAAT,CAAciyB,WAAd,CAA0BwC,OAA1B;IACD;EACF,CA1DD;AA2DD;;AAED,SAASF,kBAAT,GAA8B;EAC5B,IAAIE,OAAO,GAAG13I,QAAQ,CAAC43I,cAAT,CAAwBpC,UAAxB,CAAd;;EACA,IAAIkC,OAAJ,EAAa;IACXA,OAAO,CAAC31H,MAAR;EACD;AACF;;AAED,SAAS41H,kBAAT,CAA4BlzI,IAA5B,EAAkC;EAChC,IAAIizI,OAAO,GAAG13I,QAAQ,CAAC63I,aAAT,CAAuB,KAAvB,CAAd;EACAH,OAAO,CAAC11H,EAAR,GAAawzH,UAAb,CAFgC,CAIhC;;EACA,IAAItrD,OAAO,GAAGlqF,QAAQ,CAAC63I,aAAT,CAAuB,KAAvB,CAAd;EACA,IAAIC,UAAU,GAAG93I,QAAQ,CAAC63I,aAAT,CAAuB,KAAvB,CAAjB;EACA3tD,OAAO,CAAC6tD,SAAR,GAAoBtzI,IAAI,CAACjJ,KAAL,CAAW0uF,OAA/B;EACA4tD,UAAU,CAACC,SAAX,GAAuBtzI,IAAI,CAACjJ,KAAL,CAAWi8I,KAAlC;EAEAC,OAAO,CAACM,SAAR,GACE,2NACE,mFADF,GAEE,yEAFF,GAGE,qEAHF,GAG0E9tD,OAAO,CAAC8tD,SAHlF,GAG8F,QAH9F,GAIE,OAJF,GAIYF,UAAU,CAACE,SAJvB,GAImC,QAJnC,GAKA,QANF;EASA,OAAON,OAAP;AAED;;AAED,SAASO,UAAT,CAAoBvC,MAApB,EAA4B1zH,EAA5B,EAAgC;EAC9B,IAAIk2H,OAAO,GAAGxC,MAAM,CAACwC,OAArB;;EACA,IAAI,CAACA,OAAL,EAAc;IACZ,OAAO,EAAP;EACD;;EAED,IAAIC,OAAO,GAAG,EAAd;EACA,IAAIj0E,CAAJ,EAAOrmE,CAAP,EAAUu6I,GAAV;;EAEA,KAAKl0E,CAAL,IAAUg0E,OAAV,EAAmB;IACjB,KAAKr6I,CAAL,IAAUq6I,OAAO,CAACh0E,CAAD,CAAP,CAAW,CAAX,CAAV,EAAyB;MACvBk0E,GAAG,GAAGF,OAAO,CAACh0E,CAAD,CAAP,CAAW,CAAX,EAAcrmE,CAAd,CAAN;;MACA,IAAIu6I,GAAG,KAAKp2H,EAAR,IAAe9c,KAAK,CAACC,OAAN,CAAcizI,GAAd,KAAsBA,GAAG,CAACA,GAAG,CAAC7kJ,MAAJ,GAAa,CAAd,CAAH,KAAwByuB,EAAjE,EAAsE;QACpEm2H,OAAO,CAACtlJ,IAAR,CAAaqxE,CAAb;MACD;IACF;EACF;;EAED,IAAIwxE,MAAM,CAACz1H,MAAX,EAAmB;IACjBk4H,OAAO,GAAGA,OAAO,CAACx3C,MAAR,CAAes3C,UAAU,CAACvC,MAAM,CAACz1H,MAAR,EAAgB+B,EAAhB,CAAzB,CAAV;EACD;;EAED,OAAOm2H,OAAP;AACD;;AAED,SAASf,QAAT,CAAkB1B,MAAlB,EAA0BkB,KAA1B,EAAiC;EAC/B,IAAIsB,OAAO,GAAGxC,MAAM,CAACwC,OAArB;;EACA,IAAI,CAACA,OAAL,EAAc;IACZ;EACD;;EAED,IAAIA,OAAO,CAACtB,KAAK,CAAC50H,EAAP,CAAP,IAAqB,CAAC0zH,MAAM,CAACz1H,MAAjC,EAAyC;IACvC,IAAIrf,EAAE,GAAG,IAAIy3I,QAAJ,CAAa,SAAb,EAAwB,QAAxB,EAAkC,SAAlC,EAA6CzB,KAAK,CAACM,SAAN,CAAgBC,EAA7D,CAAT;IACAP,KAAK,CAACC,KAAN,GAAc,CAACqB,OAAO,CAACtB,KAAK,CAAC50H,EAAP,CAAtB;IACAk2H,OAAO,CAACtB,KAAK,CAAC50H,EAAP,CAAP,GAAoB,CAACphB,EAAD,EAAKg2I,KAAK,CAAC0B,IAAX,CAApB;EACD,CAJD,MAIO,IAAI5C,MAAM,CAACz1H,MAAX,EAAmB;IACxBm3H,QAAQ,CAAC1B,MAAM,CAACz1H,MAAR,EAAgB22H,KAAhB,CAAR;EACD;AACF;;AAED,SAASG,cAAT,CAAwBrB,MAAxB,EAAgC1zH,EAAhC,EAAoC;EAClC,IAAIk2H,OAAO,GAAGxC,MAAM,CAACwC,OAArB;;EACA,IAAI,CAACA,OAAL,EAAc;IACZ;EACD;;EAED,IAAI,CAACA,OAAO,CAACl2H,EAAD,CAAR,IAAgB0zH,MAAM,CAACz1H,MAA3B,EAAmC;IACjC,OAAO82H,cAAc,CAACrB,MAAM,CAACz1H,MAAR,EAAgB+B,EAAhB,CAArB;EACD;;EAED,IAAIk0H,aAAa,CAACl0H,EAAD,CAAjB,EAAuB;IACrB;EACD;;EACDk0H,aAAa,CAACl0H,EAAD,CAAb,GAAoB,IAApB;EAEA,IAAI6gB,MAAM,GAAG6yG,MAAM,CAACpxH,KAAP,CAAatC,EAAb,CAAb;EAEAm0H,cAAc,CAACtjJ,IAAf,CAAoB,CAAC6iJ,MAAD,EAAS1zH,EAAT,CAApB;;EAEA,IAAI6gB,MAAM,IAAIA,MAAM,CAACgzG,GAAjB,IAAwBhzG,MAAM,CAACgzG,GAAP,CAAWE,gBAAX,CAA4BxiJ,MAAxD,EAAgE;IAC9D,OAAO,IAAP;EACD;;EAED,OAAO0kJ,UAAU,CAAC1xJ,MAAM,CAACywJ,aAAR,EAAuBh1H,EAAvB,CAAV,CAAqCu2H,IAArC,CAA0C,UAAUv2H,EAAV,EAAc;IAC7D,OAAO+0H,cAAc,CAACxwJ,MAAM,CAACywJ,aAAR,EAAuBh1H,EAAvB,CAArB;EACD,CAFM,CAAP;AAGD;;AAED,SAASq1H,YAAT,CAAsB3B,MAAtB,EAA8B1zH,EAA9B,EAAkC;EAChC,IAAI6gB,MAAM,GAAG6yG,MAAM,CAACpxH,KAAP,CAAatC,EAAb,CAAb;EACA0zH,MAAM,CAACI,OAAP,GAAiB,EAAjB;;EACA,IAAIjzG,MAAJ,EAAY;IACVA,MAAM,CAACgzG,GAAP,CAAWpxI,IAAX,GAAkBixI,MAAM,CAACI,OAAzB;EACD;;EAED,IAAIjzG,MAAM,IAAIA,MAAM,CAACgzG,GAAjB,IAAwBhzG,MAAM,CAACgzG,GAAP,CAAWG,iBAAX,CAA6BziJ,MAAzD,EAAiE;IAC/DsvC,MAAM,CAACgzG,GAAP,CAAWG,iBAAX,CAA6B51D,OAA7B,CAAqC,UAAUpsD,EAAV,EAAc;MACjDA,EAAE,CAAC0hH,MAAM,CAACI,OAAR,CAAF;IACD,CAFD;EAGD;;EAED,OAAOJ,MAAM,CAACpxH,KAAP,CAAatC,EAAb,CAAP;EACA0zH,MAAM,CAAC1zH,EAAD,CAAN;EAEA6gB,MAAM,GAAG6yG,MAAM,CAACpxH,KAAP,CAAatC,EAAb,CAAT;;EACA,IAAI6gB,MAAM,IAAIA,MAAM,CAACgzG,GAAjB,IAAwBhzG,MAAM,CAACgzG,GAAP,CAAWE,gBAAX,CAA4BxiJ,MAAxD,EAAgE;IAC9DsvC,MAAM,CAACgzG,GAAP,CAAWE,gBAAX,CAA4B31D,OAA5B,CAAoC,UAAUpsD,EAAV,EAAc;MAChDA,EAAE;IACH,CAFD;;IAGA,OAAO,IAAP;EACD;AACF","file":"threejsscript.2057ffae.js","sourceRoot":"../portfolio","sourcesContent":["/**\n * @license\n * Copyright 2010-2022 Three.js Authors\n * SPDX-License-Identifier: MIT\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.THREE = {}));\n})(this, (function (exports) { 'use strict';\n\n\tconst REVISION = '141';\n\tconst MOUSE = {\n\t\tLEFT: 0,\n\t\tMIDDLE: 1,\n\t\tRIGHT: 2,\n\t\tROTATE: 0,\n\t\tDOLLY: 1,\n\t\tPAN: 2\n\t};\n\tconst TOUCH = {\n\t\tROTATE: 0,\n\t\tPAN: 1,\n\t\tDOLLY_PAN: 2,\n\t\tDOLLY_ROTATE: 3\n\t};\n\tconst CullFaceNone = 0;\n\tconst CullFaceBack = 1;\n\tconst CullFaceFront = 2;\n\tconst CullFaceFrontBack = 3;\n\tconst BasicShadowMap = 0;\n\tconst PCFShadowMap = 1;\n\tconst PCFSoftShadowMap = 2;\n\tconst VSMShadowMap = 3;\n\tconst FrontSide = 0;\n\tconst BackSide = 1;\n\tconst DoubleSide = 2;\n\tconst FlatShading = 1;\n\tconst SmoothShading = 2;\n\tconst NoBlending = 0;\n\tconst NormalBlending = 1;\n\tconst AdditiveBlending = 2;\n\tconst SubtractiveBlending = 3;\n\tconst MultiplyBlending = 4;\n\tconst CustomBlending = 5;\n\tconst AddEquation = 100;\n\tconst SubtractEquation = 101;\n\tconst ReverseSubtractEquation = 102;\n\tconst MinEquation = 103;\n\tconst MaxEquation = 104;\n\tconst ZeroFactor = 200;\n\tconst OneFactor = 201;\n\tconst SrcColorFactor = 202;\n\tconst OneMinusSrcColorFactor = 203;\n\tconst SrcAlphaFactor = 204;\n\tconst OneMinusSrcAlphaFactor = 205;\n\tconst DstAlphaFactor = 206;\n\tconst OneMinusDstAlphaFactor = 207;\n\tconst DstColorFactor = 208;\n\tconst OneMinusDstColorFactor = 209;\n\tconst SrcAlphaSaturateFactor = 210;\n\tconst NeverDepth = 0;\n\tconst AlwaysDepth = 1;\n\tconst LessDepth = 2;\n\tconst LessEqualDepth = 3;\n\tconst EqualDepth = 4;\n\tconst GreaterEqualDepth = 5;\n\tconst GreaterDepth = 6;\n\tconst NotEqualDepth = 7;\n\tconst MultiplyOperation = 0;\n\tconst MixOperation = 1;\n\tconst AddOperation = 2;\n\tconst NoToneMapping = 0;\n\tconst LinearToneMapping = 1;\n\tconst ReinhardToneMapping = 2;\n\tconst CineonToneMapping = 3;\n\tconst ACESFilmicToneMapping = 4;\n\tconst CustomToneMapping = 5;\n\tconst UVMapping = 300;\n\tconst CubeReflectionMapping = 301;\n\tconst CubeRefractionMapping = 302;\n\tconst EquirectangularReflectionMapping = 303;\n\tconst EquirectangularRefractionMapping = 304;\n\tconst CubeUVReflectionMapping = 306;\n\tconst RepeatWrapping = 1000;\n\tconst ClampToEdgeWrapping = 1001;\n\tconst MirroredRepeatWrapping = 1002;\n\tconst NearestFilter = 1003;\n\tconst NearestMipmapNearestFilter = 1004;\n\tconst NearestMipMapNearestFilter = 1004;\n\tconst NearestMipmapLinearFilter = 1005;\n\tconst NearestMipMapLinearFilter = 1005;\n\tconst LinearFilter = 1006;\n\tconst LinearMipmapNearestFilter = 1007;\n\tconst LinearMipMapNearestFilter = 1007;\n\tconst LinearMipmapLinearFilter = 1008;\n\tconst LinearMipMapLinearFilter = 1008;\n\tconst UnsignedByteType = 1009;\n\tconst ByteType = 1010;\n\tconst ShortType = 1011;\n\tconst UnsignedShortType = 1012;\n\tconst IntType = 1013;\n\tconst UnsignedIntType = 1014;\n\tconst FloatType = 1015;\n\tconst HalfFloatType = 1016;\n\tconst UnsignedShort4444Type = 1017;\n\tconst UnsignedShort5551Type = 1018;\n\tconst UnsignedInt248Type = 1020;\n\tconst AlphaFormat = 1021;\n\tconst RGBFormat = 1022;\n\tconst RGBAFormat = 1023;\n\tconst LuminanceFormat = 1024;\n\tconst LuminanceAlphaFormat = 1025;\n\tconst DepthFormat = 1026;\n\tconst DepthStencilFormat = 1027;\n\tconst RedFormat = 1028;\n\tconst RedIntegerFormat = 1029;\n\tconst RGFormat = 1030;\n\tconst RGIntegerFormat = 1031;\n\tconst RGBAIntegerFormat = 1033;\n\tconst RGB_S3TC_DXT1_Format = 33776;\n\tconst RGBA_S3TC_DXT1_Format = 33777;\n\tconst RGBA_S3TC_DXT3_Format = 33778;\n\tconst RGBA_S3TC_DXT5_Format = 33779;\n\tconst RGB_PVRTC_4BPPV1_Format = 35840;\n\tconst RGB_PVRTC_2BPPV1_Format = 35841;\n\tconst RGBA_PVRTC_4BPPV1_Format = 35842;\n\tconst RGBA_PVRTC_2BPPV1_Format = 35843;\n\tconst RGB_ETC1_Format = 36196;\n\tconst RGB_ETC2_Format = 37492;\n\tconst RGBA_ETC2_EAC_Format = 37496;\n\tconst RGBA_ASTC_4x4_Format = 37808;\n\tconst RGBA_ASTC_5x4_Format = 37809;\n\tconst RGBA_ASTC_5x5_Format = 37810;\n\tconst RGBA_ASTC_6x5_Format = 37811;\n\tconst RGBA_ASTC_6x6_Format = 37812;\n\tconst RGBA_ASTC_8x5_Format = 37813;\n\tconst RGBA_ASTC_8x6_Format = 37814;\n\tconst RGBA_ASTC_8x8_Format = 37815;\n\tconst RGBA_ASTC_10x5_Format = 37816;\n\tconst RGBA_ASTC_10x6_Format = 37817;\n\tconst RGBA_ASTC_10x8_Format = 37818;\n\tconst RGBA_ASTC_10x10_Format = 37819;\n\tconst RGBA_ASTC_12x10_Format = 37820;\n\tconst RGBA_ASTC_12x12_Format = 37821;\n\tconst RGBA_BPTC_Format = 36492;\n\tconst LoopOnce = 2200;\n\tconst LoopRepeat = 2201;\n\tconst LoopPingPong = 2202;\n\tconst InterpolateDiscrete = 2300;\n\tconst InterpolateLinear = 2301;\n\tconst InterpolateSmooth = 2302;\n\tconst ZeroCurvatureEnding = 2400;\n\tconst ZeroSlopeEnding = 2401;\n\tconst WrapAroundEnding = 2402;\n\tconst NormalAnimationBlendMode = 2500;\n\tconst AdditiveAnimationBlendMode = 2501;\n\tconst TrianglesDrawMode = 0;\n\tconst TriangleStripDrawMode = 1;\n\tconst TriangleFanDrawMode = 2;\n\tconst LinearEncoding = 3000;\n\tconst sRGBEncoding = 3001;\n\tconst BasicDepthPacking = 3200;\n\tconst RGBADepthPacking = 3201;\n\tconst TangentSpaceNormalMap = 0;\n\tconst ObjectSpaceNormalMap = 1; // Color space string identifiers, matching CSS Color Module Level 4 and WebGPU names where available.\n\n\tconst NoColorSpace = '';\n\tconst SRGBColorSpace = 'srgb';\n\tconst LinearSRGBColorSpace = 'srgb-linear';\n\tconst ZeroStencilOp = 0;\n\tconst KeepStencilOp = 7680;\n\tconst ReplaceStencilOp = 7681;\n\tconst IncrementStencilOp = 7682;\n\tconst DecrementStencilOp = 7683;\n\tconst IncrementWrapStencilOp = 34055;\n\tconst DecrementWrapStencilOp = 34056;\n\tconst InvertStencilOp = 5386;\n\tconst NeverStencilFunc = 512;\n\tconst LessStencilFunc = 513;\n\tconst EqualStencilFunc = 514;\n\tconst LessEqualStencilFunc = 515;\n\tconst GreaterStencilFunc = 516;\n\tconst NotEqualStencilFunc = 517;\n\tconst GreaterEqualStencilFunc = 518;\n\tconst AlwaysStencilFunc = 519;\n\tconst StaticDrawUsage = 35044;\n\tconst DynamicDrawUsage = 35048;\n\tconst StreamDrawUsage = 35040;\n\tconst StaticReadUsage = 35045;\n\tconst DynamicReadUsage = 35049;\n\tconst StreamReadUsage = 35041;\n\tconst StaticCopyUsage = 35046;\n\tconst DynamicCopyUsage = 35050;\n\tconst StreamCopyUsage = 35042;\n\tconst GLSL1 = '100';\n\tconst GLSL3 = '300 es';\n\tconst _SRGBAFormat = 1035; // fallback for WebGL 1\n\n\t/**\n\t * https://github.com/mrdoob/eventdispatcher.js/\n\t */\n\tclass EventDispatcher {\n\t\taddEventListener(type, listener) {\n\t\t\tif (this._listeners === undefined) this._listeners = {};\n\t\t\tconst listeners = this._listeners;\n\n\t\t\tif (listeners[type] === undefined) {\n\t\t\t\tlisteners[type] = [];\n\t\t\t}\n\n\t\t\tif (listeners[type].indexOf(listener) === -1) {\n\t\t\t\tlisteners[type].push(listener);\n\t\t\t}\n\t\t}\n\n\t\thasEventListener(type, listener) {\n\t\t\tif (this._listeners === undefined) return false;\n\t\t\tconst listeners = this._listeners;\n\t\t\treturn listeners[type] !== undefined && listeners[type].indexOf(listener) !== -1;\n\t\t}\n\n\t\tremoveEventListener(type, listener) {\n\t\t\tif (this._listeners === undefined) return;\n\t\t\tconst listeners = this._listeners;\n\t\t\tconst listenerArray = listeners[type];\n\n\t\t\tif (listenerArray !== undefined) {\n\t\t\t\tconst index = listenerArray.indexOf(listener);\n\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\tlistenerArray.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdispatchEvent(event) {\n\t\t\tif (this._listeners === undefined) return;\n\t\t\tconst listeners = this._listeners;\n\t\t\tconst listenerArray = listeners[event.type];\n\n\t\t\tif (listenerArray !== undefined) {\n\t\t\t\tevent.target = this; // Make a copy, in case listeners are removed while iterating.\n\n\t\t\t\tconst array = listenerArray.slice(0);\n\n\t\t\t\tfor (let i = 0, l = array.length; i < l; i++) {\n\t\t\t\t\tarray[i].call(this, event);\n\t\t\t\t}\n\n\t\t\t\tevent.target = null;\n\t\t\t}\n\t\t}\n\n\t}\n\n\tconst _lut = [];\n\n\tfor (let i = 0; i < 256; i++) {\n\t\t_lut[i] = (i < 16 ? '0' : '') + i.toString(16);\n\t}\n\n\tlet _seed = 1234567;\n\tconst DEG2RAD = Math.PI / 180;\n\tconst RAD2DEG = 180 / Math.PI; // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n\n\tfunction generateUUID() {\n\t\tconst d0 = Math.random() * 0xffffffff | 0;\n\t\tconst d1 = Math.random() * 0xffffffff | 0;\n\t\tconst d2 = Math.random() * 0xffffffff | 0;\n\t\tconst d3 = Math.random() * 0xffffffff | 0;\n\t\tconst uuid = _lut[d0 & 0xff] + _lut[d0 >> 8 & 0xff] + _lut[d0 >> 16 & 0xff] + _lut[d0 >> 24 & 0xff] + '-' + _lut[d1 & 0xff] + _lut[d1 >> 8 & 0xff] + '-' + _lut[d1 >> 16 & 0x0f | 0x40] + _lut[d1 >> 24 & 0xff] + '-' + _lut[d2 & 0x3f | 0x80] + _lut[d2 >> 8 & 0xff] + '-' + _lut[d2 >> 16 & 0xff] + _lut[d2 >> 24 & 0xff] + _lut[d3 & 0xff] + _lut[d3 >> 8 & 0xff] + _lut[d3 >> 16 & 0xff] + _lut[d3 >> 24 & 0xff]; // .toLowerCase() here flattens concatenated strings to save heap memory space.\n\n\t\treturn uuid.toLowerCase();\n\t}\n\n\tfunction clamp(value, min, max) {\n\t\treturn Math.max(min, Math.min(max, value));\n\t} // compute euclidean modulo of m % n\n\t// https://en.wikipedia.org/wiki/Modulo_operation\n\n\n\tfunction euclideanModulo(n, m) {\n\t\treturn (n % m + m) % m;\n\t} // Linear mapping from range <a1, a2> to range <b1, b2>\n\n\n\tfunction mapLinear(x, a1, a2, b1, b2) {\n\t\treturn b1 + (x - a1) * (b2 - b1) / (a2 - a1);\n\t} // https://www.gamedev.net/tutorials/programming/general-and-gameplay-programming/inverse-lerp-a-super-useful-yet-often-overlooked-function-r5230/\n\n\n\tfunction inverseLerp(x, y, value) {\n\t\tif (x !== y) {\n\t\t\treturn (value - x) / (y - x);\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t} // https://en.wikipedia.org/wiki/Linear_interpolation\n\n\n\tfunction lerp(x, y, t) {\n\t\treturn (1 - t) * x + t * y;\n\t} // http://www.rorydriscoll.com/2016/03/07/frame-rate-independent-damping-using-lerp/\n\n\n\tfunction damp(x, y, lambda, dt) {\n\t\treturn lerp(x, y, 1 - Math.exp(-lambda * dt));\n\t} // https://www.desmos.com/calculator/vcsjnyz7x4\n\n\n\tfunction pingpong(x, length = 1) {\n\t\treturn length - Math.abs(euclideanModulo(x, length * 2) - length);\n\t} // http://en.wikipedia.org/wiki/Smoothstep\n\n\n\tfunction smoothstep(x, min, max) {\n\t\tif (x <= min) return 0;\n\t\tif (x >= max) return 1;\n\t\tx = (x - min) / (max - min);\n\t\treturn x * x * (3 - 2 * x);\n\t}\n\n\tfunction smootherstep(x, min, max) {\n\t\tif (x <= min) return 0;\n\t\tif (x >= max) return 1;\n\t\tx = (x - min) / (max - min);\n\t\treturn x * x * x * (x * (x * 6 - 15) + 10);\n\t} // Random integer from <low, high> interval\n\n\n\tfunction randInt(low, high) {\n\t\treturn low + Math.floor(Math.random() * (high - low + 1));\n\t} // Random float from <low, high> interval\n\n\n\tfunction randFloat(low, high) {\n\t\treturn low + Math.random() * (high - low);\n\t} // Random float from <-range/2, range/2> interval\n\n\n\tfunction randFloatSpread(range) {\n\t\treturn range * (0.5 - Math.random());\n\t} // Deterministic pseudo-random float in the interval [ 0, 1 ]\n\n\n\tfunction seededRandom(s) {\n\t\tif (s !== undefined) _seed = s; // Mulberry32 generator\n\n\t\tlet t = _seed += 0x6D2B79F5;\n\t\tt = Math.imul(t ^ t >>> 15, t | 1);\n\t\tt ^= t + Math.imul(t ^ t >>> 7, t | 61);\n\t\treturn ((t ^ t >>> 14) >>> 0) / 4294967296;\n\t}\n\n\tfunction degToRad(degrees) {\n\t\treturn degrees * DEG2RAD;\n\t}\n\n\tfunction radToDeg(radians) {\n\t\treturn radians * RAD2DEG;\n\t}\n\n\tfunction isPowerOfTwo(value) {\n\t\treturn (value & value - 1) === 0 && value !== 0;\n\t}\n\n\tfunction ceilPowerOfTwo(value) {\n\t\treturn Math.pow(2, Math.ceil(Math.log(value) / Math.LN2));\n\t}\n\n\tfunction floorPowerOfTwo(value) {\n\t\treturn Math.pow(2, Math.floor(Math.log(value) / Math.LN2));\n\t}\n\n\tfunction setQuaternionFromProperEuler(q, a, b, c, order) {\n\t\t// Intrinsic Proper Euler Angles - see https://en.wikipedia.org/wiki/Euler_angles\n\t\t// rotations are applied to the axes in the order specified by 'order'\n\t\t// rotation by angle 'a' is applied first, then by angle 'b', then by angle 'c'\n\t\t// angles are in radians\n\t\tconst cos = Math.cos;\n\t\tconst sin = Math.sin;\n\t\tconst c2 = cos(b / 2);\n\t\tconst s2 = sin(b / 2);\n\t\tconst c13 = cos((a + c) / 2);\n\t\tconst s13 = sin((a + c) / 2);\n\t\tconst c1_3 = cos((a - c) / 2);\n\t\tconst s1_3 = sin((a - c) / 2);\n\t\tconst c3_1 = cos((c - a) / 2);\n\t\tconst s3_1 = sin((c - a) / 2);\n\n\t\tswitch (order) {\n\t\t\tcase 'XYX':\n\t\t\t\tq.set(c2 * s13, s2 * c1_3, s2 * s1_3, c2 * c13);\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZY':\n\t\t\t\tq.set(s2 * s1_3, c2 * s13, s2 * c1_3, c2 * c13);\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXZ':\n\t\t\t\tq.set(s2 * c1_3, s2 * s1_3, c2 * s13, c2 * c13);\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZX':\n\t\t\t\tq.set(c2 * s13, s2 * s3_1, s2 * c3_1, c2 * c13);\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXY':\n\t\t\t\tq.set(s2 * c3_1, c2 * s13, s2 * s3_1, c2 * c13);\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYZ':\n\t\t\t\tq.set(s2 * s3_1, s2 * c3_1, c2 * s13, c2 * c13);\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.warn('THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: ' + order);\n\t\t}\n\t}\n\n\tfunction denormalize$1(value, array) {\n\t\tswitch (array.constructor) {\n\t\t\tcase Float32Array:\n\t\t\t\treturn value;\n\n\t\t\tcase Uint16Array:\n\t\t\t\treturn value / 65535.0;\n\n\t\t\tcase Uint8Array:\n\t\t\t\treturn value / 255.0;\n\n\t\t\tcase Int16Array:\n\t\t\t\treturn Math.max(value / 32767.0, -1.0);\n\n\t\t\tcase Int8Array:\n\t\t\t\treturn Math.max(value / 127.0, -1.0);\n\n\t\t\tdefault:\n\t\t\t\tthrow new Error('Invalid component type.');\n\t\t}\n\t}\n\n\tfunction normalize(value, array) {\n\t\tswitch (array.constructor) {\n\t\t\tcase Float32Array:\n\t\t\t\treturn value;\n\n\t\t\tcase Uint16Array:\n\t\t\t\treturn Math.round(value * 65535.0);\n\n\t\t\tcase Uint8Array:\n\t\t\t\treturn Math.round(value * 255.0);\n\n\t\t\tcase Int16Array:\n\t\t\t\treturn Math.round(value * 32767.0);\n\n\t\t\tcase Int8Array:\n\t\t\t\treturn Math.round(value * 127.0);\n\n\t\t\tdefault:\n\t\t\t\tthrow new Error('Invalid component type.');\n\t\t}\n\t}\n\n\tvar MathUtils = /*#__PURE__*/Object.freeze({\n\t\t__proto__: null,\n\t\tDEG2RAD: DEG2RAD,\n\t\tRAD2DEG: RAD2DEG,\n\t\tgenerateUUID: generateUUID,\n\t\tclamp: clamp,\n\t\teuclideanModulo: euclideanModulo,\n\t\tmapLinear: mapLinear,\n\t\tinverseLerp: inverseLerp,\n\t\tlerp: lerp,\n\t\tdamp: damp,\n\t\tpingpong: pingpong,\n\t\tsmoothstep: smoothstep,\n\t\tsmootherstep: smootherstep,\n\t\trandInt: randInt,\n\t\trandFloat: randFloat,\n\t\trandFloatSpread: randFloatSpread,\n\t\tseededRandom: seededRandom,\n\t\tdegToRad: degToRad,\n\t\tradToDeg: radToDeg,\n\t\tisPowerOfTwo: isPowerOfTwo,\n\t\tceilPowerOfTwo: ceilPowerOfTwo,\n\t\tfloorPowerOfTwo: floorPowerOfTwo,\n\t\tsetQuaternionFromProperEuler: setQuaternionFromProperEuler,\n\t\tnormalize: normalize,\n\t\tdenormalize: denormalize$1\n\t});\n\n\tclass Vector2 {\n\t\tconstructor(x = 0, y = 0) {\n\t\t\tthis.isVector2 = true;\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t}\n\n\t\tget width() {\n\t\t\treturn this.x;\n\t\t}\n\n\t\tset width(value) {\n\t\t\tthis.x = value;\n\t\t}\n\n\t\tget height() {\n\t\t\treturn this.y;\n\t\t}\n\n\t\tset height(value) {\n\t\t\tthis.y = value;\n\t\t}\n\n\t\tset(x, y) {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetScalar(scalar) {\n\t\t\tthis.x = scalar;\n\t\t\tthis.y = scalar;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetX(x) {\n\t\t\tthis.x = x;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetY(y) {\n\t\t\tthis.y = y;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetComponent(index, value) {\n\t\t\tswitch (index) {\n\t\t\t\tcase 0:\n\t\t\t\t\tthis.x = value;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\t\t\t\t\tthis.y = value;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error('index is out of range: ' + index);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tgetComponent(index) {\n\t\t\tswitch (index) {\n\t\t\t\tcase 0:\n\t\t\t\t\treturn this.x;\n\n\t\t\t\tcase 1:\n\t\t\t\t\treturn this.y;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error('index is out of range: ' + index);\n\t\t\t}\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor(this.x, this.y);\n\t\t}\n\n\t\tcopy(v) {\n\t\t\tthis.x = v.x;\n\t\t\tthis.y = v.y;\n\t\t\treturn this;\n\t\t}\n\n\t\tadd(v, w) {\n\t\t\tif (w !== undefined) {\n\t\t\t\tconsole.warn('THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');\n\t\t\t\treturn this.addVectors(v, w);\n\t\t\t}\n\n\t\t\tthis.x += v.x;\n\t\t\tthis.y += v.y;\n\t\t\treturn this;\n\t\t}\n\n\t\taddScalar(s) {\n\t\t\tthis.x += s;\n\t\t\tthis.y += s;\n\t\t\treturn this;\n\t\t}\n\n\t\taddVectors(a, b) {\n\t\t\tthis.x = a.x + b.x;\n\t\t\tthis.y = a.y + b.y;\n\t\t\treturn this;\n\t\t}\n\n\t\taddScaledVector(v, s) {\n\t\t\tthis.x += v.x * s;\n\t\t\tthis.y += v.y * s;\n\t\t\treturn this;\n\t\t}\n\n\t\tsub(v, w) {\n\t\t\tif (w !== undefined) {\n\t\t\t\tconsole.warn('THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');\n\t\t\t\treturn this.subVectors(v, w);\n\t\t\t}\n\n\t\t\tthis.x -= v.x;\n\t\t\tthis.y -= v.y;\n\t\t\treturn this;\n\t\t}\n\n\t\tsubScalar(s) {\n\t\t\tthis.x -= s;\n\t\t\tthis.y -= s;\n\t\t\treturn this;\n\t\t}\n\n\t\tsubVectors(a, b) {\n\t\t\tthis.x = a.x - b.x;\n\t\t\tthis.y = a.y - b.y;\n\t\t\treturn this;\n\t\t}\n\n\t\tmultiply(v) {\n\t\t\tthis.x *= v.x;\n\t\t\tthis.y *= v.y;\n\t\t\treturn this;\n\t\t}\n\n\t\tmultiplyScalar(scalar) {\n\t\t\tthis.x *= scalar;\n\t\t\tthis.y *= scalar;\n\t\t\treturn this;\n\t\t}\n\n\t\tdivide(v) {\n\t\t\tthis.x /= v.x;\n\t\t\tthis.y /= v.y;\n\t\t\treturn this;\n\t\t}\n\n\t\tdivideScalar(scalar) {\n\t\t\treturn this.multiplyScalar(1 / scalar);\n\t\t}\n\n\t\tapplyMatrix3(m) {\n\t\t\tconst x = this.x,\n\t\t\t\t\t\ty = this.y;\n\t\t\tconst e = m.elements;\n\t\t\tthis.x = e[0] * x + e[3] * y + e[6];\n\t\t\tthis.y = e[1] * x + e[4] * y + e[7];\n\t\t\treturn this;\n\t\t}\n\n\t\tmin(v) {\n\t\t\tthis.x = Math.min(this.x, v.x);\n\t\t\tthis.y = Math.min(this.y, v.y);\n\t\t\treturn this;\n\t\t}\n\n\t\tmax(v) {\n\t\t\tthis.x = Math.max(this.x, v.x);\n\t\t\tthis.y = Math.max(this.y, v.y);\n\t\t\treturn this;\n\t\t}\n\n\t\tclamp(min, max) {\n\t\t\t// assumes min < max, componentwise\n\t\t\tthis.x = Math.max(min.x, Math.min(max.x, this.x));\n\t\t\tthis.y = Math.max(min.y, Math.min(max.y, this.y));\n\t\t\treturn this;\n\t\t}\n\n\t\tclampScalar(minVal, maxVal) {\n\t\t\tthis.x = Math.max(minVal, Math.min(maxVal, this.x));\n\t\t\tthis.y = Math.max(minVal, Math.min(maxVal, this.y));\n\t\t\treturn this;\n\t\t}\n\n\t\tclampLength(min, max) {\n\t\t\tconst length = this.length();\n\t\t\treturn this.divideScalar(length || 1).multiplyScalar(Math.max(min, Math.min(max, length)));\n\t\t}\n\n\t\tfloor() {\n\t\t\tthis.x = Math.floor(this.x);\n\t\t\tthis.y = Math.floor(this.y);\n\t\t\treturn this;\n\t\t}\n\n\t\tceil() {\n\t\t\tthis.x = Math.ceil(this.x);\n\t\t\tthis.y = Math.ceil(this.y);\n\t\t\treturn this;\n\t\t}\n\n\t\tround() {\n\t\t\tthis.x = Math.round(this.x);\n\t\t\tthis.y = Math.round(this.y);\n\t\t\treturn this;\n\t\t}\n\n\t\troundToZero() {\n\t\t\tthis.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x);\n\t\t\tthis.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y);\n\t\t\treturn this;\n\t\t}\n\n\t\tnegate() {\n\t\t\tthis.x = -this.x;\n\t\t\tthis.y = -this.y;\n\t\t\treturn this;\n\t\t}\n\n\t\tdot(v) {\n\t\t\treturn this.x * v.x + this.y * v.y;\n\t\t}\n\n\t\tcross(v) {\n\t\t\treturn this.x * v.y - this.y * v.x;\n\t\t}\n\n\t\tlengthSq() {\n\t\t\treturn this.x * this.x + this.y * this.y;\n\t\t}\n\n\t\tlength() {\n\t\t\treturn Math.sqrt(this.x * this.x + this.y * this.y);\n\t\t}\n\n\t\tmanhattanLength() {\n\t\t\treturn Math.abs(this.x) + Math.abs(this.y);\n\t\t}\n\n\t\tnormalize() {\n\t\t\treturn this.divideScalar(this.length() || 1);\n\t\t}\n\n\t\tangle() {\n\t\t\t// computes the angle in radians with respect to the positive x-axis\n\t\t\tconst angle = Math.atan2(-this.y, -this.x) + Math.PI;\n\t\t\treturn angle;\n\t\t}\n\n\t\tdistanceTo(v) {\n\t\t\treturn Math.sqrt(this.distanceToSquared(v));\n\t\t}\n\n\t\tdistanceToSquared(v) {\n\t\t\tconst dx = this.x - v.x,\n\t\t\t\t\t\tdy = this.y - v.y;\n\t\t\treturn dx * dx + dy * dy;\n\t\t}\n\n\t\tmanhattanDistanceTo(v) {\n\t\t\treturn Math.abs(this.x - v.x) + Math.abs(this.y - v.y);\n\t\t}\n\n\t\tsetLength(length) {\n\t\t\treturn this.normalize().multiplyScalar(length);\n\t\t}\n\n\t\tlerp(v, alpha) {\n\t\t\tthis.x += (v.x - this.x) * alpha;\n\t\t\tthis.y += (v.y - this.y) * alpha;\n\t\t\treturn this;\n\t\t}\n\n\t\tlerpVectors(v1, v2, alpha) {\n\t\t\tthis.x = v1.x + (v2.x - v1.x) * alpha;\n\t\t\tthis.y = v1.y + (v2.y - v1.y) * alpha;\n\t\t\treturn this;\n\t\t}\n\n\t\tequals(v) {\n\t\t\treturn v.x === this.x && v.y === this.y;\n\t\t}\n\n\t\tfromArray(array, offset = 0) {\n\t\t\tthis.x = array[offset];\n\t\t\tthis.y = array[offset + 1];\n\t\t\treturn this;\n\t\t}\n\n\t\ttoArray(array = [], offset = 0) {\n\t\t\tarray[offset] = this.x;\n\t\t\tarray[offset + 1] = this.y;\n\t\t\treturn array;\n\t\t}\n\n\t\tfromBufferAttribute(attribute, index, offset) {\n\t\t\tif (offset !== undefined) {\n\t\t\t\tconsole.warn('THREE.Vector2: offset has been removed from .fromBufferAttribute().');\n\t\t\t}\n\n\t\t\tthis.x = attribute.getX(index);\n\t\t\tthis.y = attribute.getY(index);\n\t\t\treturn this;\n\t\t}\n\n\t\trotateAround(center, angle) {\n\t\t\tconst c = Math.cos(angle),\n\t\t\t\t\t\ts = Math.sin(angle);\n\t\t\tconst x = this.x - center.x;\n\t\t\tconst y = this.y - center.y;\n\t\t\tthis.x = x * c - y * s + center.x;\n\t\t\tthis.y = x * s + y * c + center.y;\n\t\t\treturn this;\n\t\t}\n\n\t\trandom() {\n\t\t\tthis.x = Math.random();\n\t\t\tthis.y = Math.random();\n\t\t\treturn this;\n\t\t}\n\n\t\t*[Symbol.iterator]() {\n\t\t\tyield this.x;\n\t\t\tyield this.y;\n\t\t}\n\n\t}\n\n\tclass Matrix3 {\n\t\tconstructor() {\n\t\t\tthis.isMatrix3 = true;\n\t\t\tthis.elements = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n\t\t\tif (arguments.length > 0) {\n\t\t\t\tconsole.error('THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.');\n\t\t\t}\n\t\t}\n\n\t\tset(n11, n12, n13, n21, n22, n23, n31, n32, n33) {\n\t\t\tconst te = this.elements;\n\t\t\tte[0] = n11;\n\t\t\tte[1] = n21;\n\t\t\tte[2] = n31;\n\t\t\tte[3] = n12;\n\t\t\tte[4] = n22;\n\t\t\tte[5] = n32;\n\t\t\tte[6] = n13;\n\t\t\tte[7] = n23;\n\t\t\tte[8] = n33;\n\t\t\treturn this;\n\t\t}\n\n\t\tidentity() {\n\t\t\tthis.set(1, 0, 0, 0, 1, 0, 0, 0, 1);\n\t\t\treturn this;\n\t\t}\n\n\t\tcopy(m) {\n\t\t\tconst te = this.elements;\n\t\t\tconst me = m.elements;\n\t\t\tte[0] = me[0];\n\t\t\tte[1] = me[1];\n\t\t\tte[2] = me[2];\n\t\t\tte[3] = me[3];\n\t\t\tte[4] = me[4];\n\t\t\tte[5] = me[5];\n\t\t\tte[6] = me[6];\n\t\t\tte[7] = me[7];\n\t\t\tte[8] = me[8];\n\t\t\treturn this;\n\t\t}\n\n\t\textractBasis(xAxis, yAxis, zAxis) {\n\t\t\txAxis.setFromMatrix3Column(this, 0);\n\t\t\tyAxis.setFromMatrix3Column(this, 1);\n\t\t\tzAxis.setFromMatrix3Column(this, 2);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromMatrix4(m) {\n\t\t\tconst me = m.elements;\n\t\t\tthis.set(me[0], me[4], me[8], me[1], me[5], me[9], me[2], me[6], me[10]);\n\t\t\treturn this;\n\t\t}\n\n\t\tmultiply(m) {\n\t\t\treturn this.multiplyMatrices(this, m);\n\t\t}\n\n\t\tpremultiply(m) {\n\t\t\treturn this.multiplyMatrices(m, this);\n\t\t}\n\n\t\tmultiplyMatrices(a, b) {\n\t\t\tconst ae = a.elements;\n\t\t\tconst be = b.elements;\n\t\t\tconst te = this.elements;\n\t\t\tconst a11 = ae[0],\n\t\t\t\t\t\ta12 = ae[3],\n\t\t\t\t\t\ta13 = ae[6];\n\t\t\tconst a21 = ae[1],\n\t\t\t\t\t\ta22 = ae[4],\n\t\t\t\t\t\ta23 = ae[7];\n\t\t\tconst a31 = ae[2],\n\t\t\t\t\t\ta32 = ae[5],\n\t\t\t\t\t\ta33 = ae[8];\n\t\t\tconst b11 = be[0],\n\t\t\t\t\t\tb12 = be[3],\n\t\t\t\t\t\tb13 = be[6];\n\t\t\tconst b21 = be[1],\n\t\t\t\t\t\tb22 = be[4],\n\t\t\t\t\t\tb23 = be[7];\n\t\t\tconst b31 = be[2],\n\t\t\t\t\t\tb32 = be[5],\n\t\t\t\t\t\tb33 = be[8];\n\t\t\tte[0] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\t\tte[3] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\t\tte[6] = a11 * b13 + a12 * b23 + a13 * b33;\n\t\t\tte[1] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\t\tte[4] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\t\tte[7] = a21 * b13 + a22 * b23 + a23 * b33;\n\t\t\tte[2] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\t\tte[5] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\t\tte[8] = a31 * b13 + a32 * b23 + a33 * b33;\n\t\t\treturn this;\n\t\t}\n\n\t\tmultiplyScalar(s) {\n\t\t\tconst te = this.elements;\n\t\t\tte[0] *= s;\n\t\t\tte[3] *= s;\n\t\t\tte[6] *= s;\n\t\t\tte[1] *= s;\n\t\t\tte[4] *= s;\n\t\t\tte[7] *= s;\n\t\t\tte[2] *= s;\n\t\t\tte[5] *= s;\n\t\t\tte[8] *= s;\n\t\t\treturn this;\n\t\t}\n\n\t\tdeterminant() {\n\t\t\tconst te = this.elements;\n\t\t\tconst a = te[0],\n\t\t\t\t\t\tb = te[1],\n\t\t\t\t\t\tc = te[2],\n\t\t\t\t\t\td = te[3],\n\t\t\t\t\t\te = te[4],\n\t\t\t\t\t\tf = te[5],\n\t\t\t\t\t\tg = te[6],\n\t\t\t\t\t\th = te[7],\n\t\t\t\t\t\ti = te[8];\n\t\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\t\t}\n\n\t\tinvert() {\n\t\t\tconst te = this.elements,\n\t\t\t\t\t\tn11 = te[0],\n\t\t\t\t\t\tn21 = te[1],\n\t\t\t\t\t\tn31 = te[2],\n\t\t\t\t\t\tn12 = te[3],\n\t\t\t\t\t\tn22 = te[4],\n\t\t\t\t\t\tn32 = te[5],\n\t\t\t\t\t\tn13 = te[6],\n\t\t\t\t\t\tn23 = te[7],\n\t\t\t\t\t\tn33 = te[8],\n\t\t\t\t\t\tt11 = n33 * n22 - n32 * n23,\n\t\t\t\t\t\tt12 = n32 * n13 - n33 * n12,\n\t\t\t\t\t\tt13 = n23 * n12 - n22 * n13,\n\t\t\t\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\n\t\t\tif (det === 0) return this.set(0, 0, 0, 0, 0, 0, 0, 0, 0);\n\t\t\tconst detInv = 1 / det;\n\t\t\tte[0] = t11 * detInv;\n\t\t\tte[1] = (n31 * n23 - n33 * n21) * detInv;\n\t\t\tte[2] = (n32 * n21 - n31 * n22) * detInv;\n\t\t\tte[3] = t12 * detInv;\n\t\t\tte[4] = (n33 * n11 - n31 * n13) * detInv;\n\t\t\tte[5] = (n31 * n12 - n32 * n11) * detInv;\n\t\t\tte[6] = t13 * detInv;\n\t\t\tte[7] = (n21 * n13 - n23 * n11) * detInv;\n\t\t\tte[8] = (n22 * n11 - n21 * n12) * detInv;\n\t\t\treturn this;\n\t\t}\n\n\t\ttranspose() {\n\t\t\tlet tmp;\n\t\t\tconst m = this.elements;\n\t\t\ttmp = m[1];\n\t\t\tm[1] = m[3];\n\t\t\tm[3] = tmp;\n\t\t\ttmp = m[2];\n\t\t\tm[2] = m[6];\n\t\t\tm[6] = tmp;\n\t\t\ttmp = m[5];\n\t\t\tm[5] = m[7];\n\t\t\tm[7] = tmp;\n\t\t\treturn this;\n\t\t}\n\n\t\tgetNormalMatrix(matrix4) {\n\t\t\treturn this.setFromMatrix4(matrix4).invert().transpose();\n\t\t}\n\n\t\ttransposeIntoArray(r) {\n\t\t\tconst m = this.elements;\n\t\t\tr[0] = m[0];\n\t\t\tr[1] = m[3];\n\t\t\tr[2] = m[6];\n\t\t\tr[3] = m[1];\n\t\t\tr[4] = m[4];\n\t\t\tr[5] = m[7];\n\t\t\tr[6] = m[2];\n\t\t\tr[7] = m[5];\n\t\t\tr[8] = m[8];\n\t\t\treturn this;\n\t\t}\n\n\t\tsetUvTransform(tx, ty, sx, sy, rotation, cx, cy) {\n\t\t\tconst c = Math.cos(rotation);\n\t\t\tconst s = Math.sin(rotation);\n\t\t\tthis.set(sx * c, sx * s, -sx * (c * cx + s * cy) + cx + tx, -sy * s, sy * c, -sy * (-s * cx + c * cy) + cy + ty, 0, 0, 1);\n\t\t\treturn this;\n\t\t}\n\n\t\tscale(sx, sy) {\n\t\t\tconst te = this.elements;\n\t\t\tte[0] *= sx;\n\t\t\tte[3] *= sx;\n\t\t\tte[6] *= sx;\n\t\t\tte[1] *= sy;\n\t\t\tte[4] *= sy;\n\t\t\tte[7] *= sy;\n\t\t\treturn this;\n\t\t}\n\n\t\trotate(theta) {\n\t\t\tconst c = Math.cos(theta);\n\t\t\tconst s = Math.sin(theta);\n\t\t\tconst te = this.elements;\n\t\t\tconst a11 = te[0],\n\t\t\t\t\t\ta12 = te[3],\n\t\t\t\t\t\ta13 = te[6];\n\t\t\tconst a21 = te[1],\n\t\t\t\t\t\ta22 = te[4],\n\t\t\t\t\t\ta23 = te[7];\n\t\t\tte[0] = c * a11 + s * a21;\n\t\t\tte[3] = c * a12 + s * a22;\n\t\t\tte[6] = c * a13 + s * a23;\n\t\t\tte[1] = -s * a11 + c * a21;\n\t\t\tte[4] = -s * a12 + c * a22;\n\t\t\tte[7] = -s * a13 + c * a23;\n\t\t\treturn this;\n\t\t}\n\n\t\ttranslate(tx, ty) {\n\t\t\tconst te = this.elements;\n\t\t\tte[0] += tx * te[2];\n\t\t\tte[3] += tx * te[5];\n\t\t\tte[6] += tx * te[8];\n\t\t\tte[1] += ty * te[2];\n\t\t\tte[4] += ty * te[5];\n\t\t\tte[7] += ty * te[8];\n\t\t\treturn this;\n\t\t}\n\n\t\tequals(matrix) {\n\t\t\tconst te = this.elements;\n\t\t\tconst me = matrix.elements;\n\n\t\t\tfor (let i = 0; i < 9; i++) {\n\t\t\t\tif (te[i] !== me[i]) return false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\tfromArray(array, offset = 0) {\n\t\t\tfor (let i = 0; i < 9; i++) {\n\t\t\t\tthis.elements[i] = array[i + offset];\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\ttoArray(array = [], offset = 0) {\n\t\t\tconst te = this.elements;\n\t\t\tarray[offset] = te[0];\n\t\t\tarray[offset + 1] = te[1];\n\t\t\tarray[offset + 2] = te[2];\n\t\t\tarray[offset + 3] = te[3];\n\t\t\tarray[offset + 4] = te[4];\n\t\t\tarray[offset + 5] = te[5];\n\t\t\tarray[offset + 6] = te[6];\n\t\t\tarray[offset + 7] = te[7];\n\t\t\tarray[offset + 8] = te[8];\n\t\t\treturn array;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().fromArray(this.elements);\n\t\t}\n\n\t}\n\n\tfunction arrayNeedsUint32(array) {\n\t\t// assumes larger values usually on last\n\t\tfor (let i = array.length - 1; i >= 0; --i) {\n\t\t\tif (array[i] > 65535) return true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tconst TYPED_ARRAYS = {\n\t\tInt8Array: Int8Array,\n\t\tUint8Array: Uint8Array,\n\t\tUint8ClampedArray: Uint8ClampedArray,\n\t\tInt16Array: Int16Array,\n\t\tUint16Array: Uint16Array,\n\t\tInt32Array: Int32Array,\n\t\tUint32Array: Uint32Array,\n\t\tFloat32Array: Float32Array,\n\t\tFloat64Array: Float64Array\n\t};\n\n\tfunction getTypedArray(type, buffer) {\n\t\treturn new TYPED_ARRAYS[type](buffer);\n\t}\n\n\tfunction createElementNS(name) {\n\t\treturn document.createElementNS('http://www.w3.org/1999/xhtml', name);\n\t}\n\n\tfunction SRGBToLinear(c) {\n\t\treturn c < 0.04045 ? c * 0.0773993808 : Math.pow(c * 0.9478672986 + 0.0521327014, 2.4);\n\t}\n\tfunction LinearToSRGB(c) {\n\t\treturn c < 0.0031308 ? c * 12.92 : 1.055 * Math.pow(c, 0.41666) - 0.055;\n\t} // JavaScript RGB-to-RGB transforms, defined as\n\t// FN[InputColorSpace][OutputColorSpace] callback functions.\n\n\tconst FN = {\n\t\t[SRGBColorSpace]: {\n\t\t\t[LinearSRGBColorSpace]: SRGBToLinear\n\t\t},\n\t\t[LinearSRGBColorSpace]: {\n\t\t\t[SRGBColorSpace]: LinearToSRGB\n\t\t}\n\t};\n\tconst ColorManagement = {\n\t\tlegacyMode: true,\n\n\t\tget workingColorSpace() {\n\t\t\treturn LinearSRGBColorSpace;\n\t\t},\n\n\t\tset workingColorSpace(colorSpace) {\n\t\t\tconsole.warn('THREE.ColorManagement: .workingColorSpace is readonly.');\n\t\t},\n\n\t\tconvert: function (color, sourceColorSpace, targetColorSpace) {\n\t\t\tif (this.legacyMode || sourceColorSpace === targetColorSpace || !sourceColorSpace || !targetColorSpace) {\n\t\t\t\treturn color;\n\t\t\t}\n\n\t\t\tif (FN[sourceColorSpace] && FN[sourceColorSpace][targetColorSpace] !== undefined) {\n\t\t\t\tconst fn = FN[sourceColorSpace][targetColorSpace];\n\t\t\t\tcolor.r = fn(color.r);\n\t\t\t\tcolor.g = fn(color.g);\n\t\t\t\tcolor.b = fn(color.b);\n\t\t\t\treturn color;\n\t\t\t}\n\n\t\t\tthrow new Error('Unsupported color space conversion.');\n\t\t},\n\t\tfromWorkingColorSpace: function (color, targetColorSpace) {\n\t\t\treturn this.convert(color, this.workingColorSpace, targetColorSpace);\n\t\t},\n\t\ttoWorkingColorSpace: function (color, sourceColorSpace) {\n\t\t\treturn this.convert(color, sourceColorSpace, this.workingColorSpace);\n\t\t}\n\t};\n\n\tconst _colorKeywords = {\n\t\t'aliceblue': 0xF0F8FF,\n\t\t'antiquewhite': 0xFAEBD7,\n\t\t'aqua': 0x00FFFF,\n\t\t'aquamarine': 0x7FFFD4,\n\t\t'azure': 0xF0FFFF,\n\t\t'beige': 0xF5F5DC,\n\t\t'bisque': 0xFFE4C4,\n\t\t'black': 0x000000,\n\t\t'blanchedalmond': 0xFFEBCD,\n\t\t'blue': 0x0000FF,\n\t\t'blueviolet': 0x8A2BE2,\n\t\t'brown': 0xA52A2A,\n\t\t'burlywood': 0xDEB887,\n\t\t'cadetblue': 0x5F9EA0,\n\t\t'chartreuse': 0x7FFF00,\n\t\t'chocolate': 0xD2691E,\n\t\t'coral': 0xFF7F50,\n\t\t'cornflowerblue': 0x6495ED,\n\t\t'cornsilk': 0xFFF8DC,\n\t\t'crimson': 0xDC143C,\n\t\t'cyan': 0x00FFFF,\n\t\t'darkblue': 0x00008B,\n\t\t'darkcyan': 0x008B8B,\n\t\t'darkgoldenrod': 0xB8860B,\n\t\t'darkgray': 0xA9A9A9,\n\t\t'darkgreen': 0x006400,\n\t\t'darkgrey': 0xA9A9A9,\n\t\t'darkkhaki': 0xBDB76B,\n\t\t'darkmagenta': 0x8B008B,\n\t\t'darkolivegreen': 0x556B2F,\n\t\t'darkorange': 0xFF8C00,\n\t\t'darkorchid': 0x9932CC,\n\t\t'darkred': 0x8B0000,\n\t\t'darksalmon': 0xE9967A,\n\t\t'darkseagreen': 0x8FBC8F,\n\t\t'darkslateblue': 0x483D8B,\n\t\t'darkslategray': 0x2F4F4F,\n\t\t'darkslategrey': 0x2F4F4F,\n\t\t'darkturquoise': 0x00CED1,\n\t\t'darkviolet': 0x9400D3,\n\t\t'deeppink': 0xFF1493,\n\t\t'deepskyblue': 0x00BFFF,\n\t\t'dimgray': 0x696969,\n\t\t'dimgrey': 0x696969,\n\t\t'dodgerblue': 0x1E90FF,\n\t\t'firebrick': 0xB22222,\n\t\t'floralwhite': 0xFFFAF0,\n\t\t'forestgreen': 0x228B22,\n\t\t'fuchsia': 0xFF00FF,\n\t\t'gainsboro': 0xDCDCDC,\n\t\t'ghostwhite': 0xF8F8FF,\n\t\t'gold': 0xFFD700,\n\t\t'goldenrod': 0xDAA520,\n\t\t'gray': 0x808080,\n\t\t'green': 0x008000,\n\t\t'greenyellow': 0xADFF2F,\n\t\t'grey': 0x808080,\n\t\t'honeydew': 0xF0FFF0,\n\t\t'hotpink': 0xFF69B4,\n\t\t'indianred': 0xCD5C5C,\n\t\t'indigo': 0x4B0082,\n\t\t'ivory': 0xFFFFF0,\n\t\t'khaki': 0xF0E68C,\n\t\t'lavender': 0xE6E6FA,\n\t\t'lavenderblush': 0xFFF0F5,\n\t\t'lawngreen': 0x7CFC00,\n\t\t'lemonchiffon': 0xFFFACD,\n\t\t'lightblue': 0xADD8E6,\n\t\t'lightcoral': 0xF08080,\n\t\t'lightcyan': 0xE0FFFF,\n\t\t'lightgoldenrodyellow': 0xFAFAD2,\n\t\t'lightgray': 0xD3D3D3,\n\t\t'lightgreen': 0x90EE90,\n\t\t'lightgrey': 0xD3D3D3,\n\t\t'lightpink': 0xFFB6C1,\n\t\t'lightsalmon': 0xFFA07A,\n\t\t'lightseagreen': 0x20B2AA,\n\t\t'lightskyblue': 0x87CEFA,\n\t\t'lightslategray': 0x778899,\n\t\t'lightslategrey': 0x778899,\n\t\t'lightsteelblue': 0xB0C4DE,\n\t\t'lightyellow': 0xFFFFE0,\n\t\t'lime': 0x00FF00,\n\t\t'limegreen': 0x32CD32,\n\t\t'linen': 0xFAF0E6,\n\t\t'magenta': 0xFF00FF,\n\t\t'maroon': 0x800000,\n\t\t'mediumaquamarine': 0x66CDAA,\n\t\t'mediumblue': 0x0000CD,\n\t\t'mediumorchid': 0xBA55D3,\n\t\t'mediumpurple': 0x9370DB,\n\t\t'mediumseagreen': 0x3CB371,\n\t\t'mediumslateblue': 0x7B68EE,\n\t\t'mediumspringgreen': 0x00FA9A,\n\t\t'mediumturquoise': 0x48D1CC,\n\t\t'mediumvioletred': 0xC71585,\n\t\t'midnightblue': 0x191970,\n\t\t'mintcream': 0xF5FFFA,\n\t\t'mistyrose': 0xFFE4E1,\n\t\t'moccasin': 0xFFE4B5,\n\t\t'navajowhite': 0xFFDEAD,\n\t\t'navy': 0x000080,\n\t\t'oldlace': 0xFDF5E6,\n\t\t'olive': 0x808000,\n\t\t'olivedrab': 0x6B8E23,\n\t\t'orange': 0xFFA500,\n\t\t'orangered': 0xFF4500,\n\t\t'orchid': 0xDA70D6,\n\t\t'palegoldenrod': 0xEEE8AA,\n\t\t'palegreen': 0x98FB98,\n\t\t'paleturquoise': 0xAFEEEE,\n\t\t'palevioletred': 0xDB7093,\n\t\t'papayawhip': 0xFFEFD5,\n\t\t'peachpuff': 0xFFDAB9,\n\t\t'peru': 0xCD853F,\n\t\t'pink': 0xFFC0CB,\n\t\t'plum': 0xDDA0DD,\n\t\t'powderblue': 0xB0E0E6,\n\t\t'purple': 0x800080,\n\t\t'rebeccapurple': 0x663399,\n\t\t'red': 0xFF0000,\n\t\t'rosybrown': 0xBC8F8F,\n\t\t'royalblue': 0x4169E1,\n\t\t'saddlebrown': 0x8B4513,\n\t\t'salmon': 0xFA8072,\n\t\t'sandybrown': 0xF4A460,\n\t\t'seagreen': 0x2E8B57,\n\t\t'seashell': 0xFFF5EE,\n\t\t'sienna': 0xA0522D,\n\t\t'silver': 0xC0C0C0,\n\t\t'skyblue': 0x87CEEB,\n\t\t'slateblue': 0x6A5ACD,\n\t\t'slategray': 0x708090,\n\t\t'slategrey': 0x708090,\n\t\t'snow': 0xFFFAFA,\n\t\t'springgreen': 0x00FF7F,\n\t\t'steelblue': 0x4682B4,\n\t\t'tan': 0xD2B48C,\n\t\t'teal': 0x008080,\n\t\t'thistle': 0xD8BFD8,\n\t\t'tomato': 0xFF6347,\n\t\t'turquoise': 0x40E0D0,\n\t\t'violet': 0xEE82EE,\n\t\t'wheat': 0xF5DEB3,\n\t\t'white': 0xFFFFFF,\n\t\t'whitesmoke': 0xF5F5F5,\n\t\t'yellow': 0xFFFF00,\n\t\t'yellowgreen': 0x9ACD32\n\t};\n\tconst _rgb = {\n\t\tr: 0,\n\t\tg: 0,\n\t\tb: 0\n\t};\n\tconst _hslA = {\n\t\th: 0,\n\t\ts: 0,\n\t\tl: 0\n\t};\n\tconst _hslB = {\n\t\th: 0,\n\t\ts: 0,\n\t\tl: 0\n\t};\n\n\tfunction hue2rgb(p, q, t) {\n\t\tif (t < 0) t += 1;\n\t\tif (t > 1) t -= 1;\n\t\tif (t < 1 / 6) return p + (q - p) * 6 * t;\n\t\tif (t < 1 / 2) return q;\n\t\tif (t < 2 / 3) return p + (q - p) * 6 * (2 / 3 - t);\n\t\treturn p;\n\t}\n\n\tfunction toComponents(source, target) {\n\t\ttarget.r = source.r;\n\t\ttarget.g = source.g;\n\t\ttarget.b = source.b;\n\t\treturn target;\n\t}\n\n\tclass Color {\n\t\tconstructor(r, g, b) {\n\t\t\tthis.isColor = true;\n\t\t\tthis.r = 1;\n\t\t\tthis.g = 1;\n\t\t\tthis.b = 1;\n\n\t\t\tif (g === undefined && b === undefined) {\n\t\t\t\t// r is THREE.Color, hex or string\n\t\t\t\treturn this.set(r);\n\t\t\t}\n\n\t\t\treturn this.setRGB(r, g, b);\n\t\t}\n\n\t\tset(value) {\n\t\t\tif (value && value.isColor) {\n\t\t\t\tthis.copy(value);\n\t\t\t} else if (typeof value === 'number') {\n\t\t\t\tthis.setHex(value);\n\t\t\t} else if (typeof value === 'string') {\n\t\t\t\tthis.setStyle(value);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsetScalar(scalar) {\n\t\t\tthis.r = scalar;\n\t\t\tthis.g = scalar;\n\t\t\tthis.b = scalar;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetHex(hex, colorSpace = SRGBColorSpace) {\n\t\t\thex = Math.floor(hex);\n\t\t\tthis.r = (hex >> 16 & 255) / 255;\n\t\t\tthis.g = (hex >> 8 & 255) / 255;\n\t\t\tthis.b = (hex & 255) / 255;\n\t\t\tColorManagement.toWorkingColorSpace(this, colorSpace);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetRGB(r, g, b, colorSpace = LinearSRGBColorSpace) {\n\t\t\tthis.r = r;\n\t\t\tthis.g = g;\n\t\t\tthis.b = b;\n\t\t\tColorManagement.toWorkingColorSpace(this, colorSpace);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetHSL(h, s, l, colorSpace = LinearSRGBColorSpace) {\n\t\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\t\th = euclideanModulo(h, 1);\n\t\t\ts = clamp(s, 0, 1);\n\t\t\tl = clamp(l, 0, 1);\n\n\t\t\tif (s === 0) {\n\t\t\t\tthis.r = this.g = this.b = l;\n\t\t\t} else {\n\t\t\t\tconst p = l <= 0.5 ? l * (1 + s) : l + s - l * s;\n\t\t\t\tconst q = 2 * l - p;\n\t\t\t\tthis.r = hue2rgb(q, p, h + 1 / 3);\n\t\t\t\tthis.g = hue2rgb(q, p, h);\n\t\t\t\tthis.b = hue2rgb(q, p, h - 1 / 3);\n\t\t\t}\n\n\t\t\tColorManagement.toWorkingColorSpace(this, colorSpace);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetStyle(style, colorSpace = SRGBColorSpace) {\n\t\t\tfunction handleAlpha(string) {\n\t\t\t\tif (string === undefined) return;\n\n\t\t\t\tif (parseFloat(string) < 1) {\n\t\t\t\t\tconsole.warn('THREE.Color: Alpha component of ' + style + ' will be ignored.');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet m;\n\n\t\t\tif (m = /^((?:rgb|hsl)a?)\\(([^\\)]*)\\)/.exec(style)) {\n\t\t\t\t// rgb / hsl\n\t\t\t\tlet color;\n\t\t\t\tconst name = m[1];\n\t\t\t\tconst components = m[2];\n\n\t\t\t\tswitch (name) {\n\t\t\t\t\tcase 'rgb':\n\t\t\t\t\tcase 'rgba':\n\t\t\t\t\t\tif (color = /^\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec(components)) {\n\t\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\t\t\t\t\t\t\tthis.r = Math.min(255, parseInt(color[1], 10)) / 255;\n\t\t\t\t\t\t\tthis.g = Math.min(255, parseInt(color[2], 10)) / 255;\n\t\t\t\t\t\t\tthis.b = Math.min(255, parseInt(color[3], 10)) / 255;\n\t\t\t\t\t\t\tColorManagement.toWorkingColorSpace(this, colorSpace);\n\t\t\t\t\t\t\thandleAlpha(color[4]);\n\t\t\t\t\t\t\treturn this;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (color = /^\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec(components)) {\n\t\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\t\t\t\t\t\t\tthis.r = Math.min(100, parseInt(color[1], 10)) / 100;\n\t\t\t\t\t\t\tthis.g = Math.min(100, parseInt(color[2], 10)) / 100;\n\t\t\t\t\t\t\tthis.b = Math.min(100, parseInt(color[3], 10)) / 100;\n\t\t\t\t\t\t\tColorManagement.toWorkingColorSpace(this, colorSpace);\n\t\t\t\t\t\t\thandleAlpha(color[4]);\n\t\t\t\t\t\t\treturn this;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'hsl':\n\t\t\t\t\tcase 'hsla':\n\t\t\t\t\t\tif (color = /^\\s*(\\d*\\.?\\d+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec(components)) {\n\t\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\t\t\t\t\t\t\tconst h = parseFloat(color[1]) / 360;\n\t\t\t\t\t\t\tconst s = parseInt(color[2], 10) / 100;\n\t\t\t\t\t\t\tconst l = parseInt(color[3], 10) / 100;\n\t\t\t\t\t\t\thandleAlpha(color[4]);\n\t\t\t\t\t\t\treturn this.setHSL(h, s, l, colorSpace);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else if (m = /^\\#([A-Fa-f\\d]+)$/.exec(style)) {\n\t\t\t\t// hex color\n\t\t\t\tconst hex = m[1];\n\t\t\t\tconst size = hex.length;\n\n\t\t\t\tif (size === 3) {\n\t\t\t\t\t// #ff0\n\t\t\t\t\tthis.r = parseInt(hex.charAt(0) + hex.charAt(0), 16) / 255;\n\t\t\t\t\tthis.g = parseInt(hex.charAt(1) + hex.charAt(1), 16) / 255;\n\t\t\t\t\tthis.b = parseInt(hex.charAt(2) + hex.charAt(2), 16) / 255;\n\t\t\t\t\tColorManagement.toWorkingColorSpace(this, colorSpace);\n\t\t\t\t\treturn this;\n\t\t\t\t} else if (size === 6) {\n\t\t\t\t\t// #ff0000\n\t\t\t\t\tthis.r = parseInt(hex.charAt(0) + hex.charAt(1), 16) / 255;\n\t\t\t\t\tthis.g = parseInt(hex.charAt(2) + hex.charAt(3), 16) / 255;\n\t\t\t\t\tthis.b = parseInt(hex.charAt(4) + hex.charAt(5), 16) / 255;\n\t\t\t\t\tColorManagement.toWorkingColorSpace(this, colorSpace);\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (style && style.length > 0) {\n\t\t\t\treturn this.setColorName(style, colorSpace);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsetColorName(style, colorSpace = SRGBColorSpace) {\n\t\t\t// color keywords\n\t\t\tconst hex = _colorKeywords[style.toLowerCase()];\n\n\t\t\tif (hex !== undefined) {\n\t\t\t\t// red\n\t\t\t\tthis.setHex(hex, colorSpace);\n\t\t\t} else {\n\t\t\t\t// unknown color\n\t\t\t\tconsole.warn('THREE.Color: Unknown color ' + style);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor(this.r, this.g, this.b);\n\t\t}\n\n\t\tcopy(color) {\n\t\t\tthis.r = color.r;\n\t\t\tthis.g = color.g;\n\t\t\tthis.b = color.b;\n\t\t\treturn this;\n\t\t}\n\n\t\tcopySRGBToLinear(color) {\n\t\t\tthis.r = SRGBToLinear(color.r);\n\t\t\tthis.g = SRGBToLinear(color.g);\n\t\t\tthis.b = SRGBToLinear(color.b);\n\t\t\treturn this;\n\t\t}\n\n\t\tcopyLinearToSRGB(color) {\n\t\t\tthis.r = LinearToSRGB(color.r);\n\t\t\tthis.g = LinearToSRGB(color.g);\n\t\t\tthis.b = LinearToSRGB(color.b);\n\t\t\treturn this;\n\t\t}\n\n\t\tconvertSRGBToLinear() {\n\t\t\tthis.copySRGBToLinear(this);\n\t\t\treturn this;\n\t\t}\n\n\t\tconvertLinearToSRGB() {\n\t\t\tthis.copyLinearToSRGB(this);\n\t\t\treturn this;\n\t\t}\n\n\t\tgetHex(colorSpace = SRGBColorSpace) {\n\t\t\tColorManagement.fromWorkingColorSpace(toComponents(this, _rgb), colorSpace);\n\t\t\treturn clamp(_rgb.r * 255, 0, 255) << 16 ^ clamp(_rgb.g * 255, 0, 255) << 8 ^ clamp(_rgb.b * 255, 0, 255) << 0;\n\t\t}\n\n\t\tgetHexString(colorSpace = SRGBColorSpace) {\n\t\t\treturn ('000000' + this.getHex(colorSpace).toString(16)).slice(-6);\n\t\t}\n\n\t\tgetHSL(target, colorSpace = LinearSRGBColorSpace) {\n\t\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\t\tColorManagement.fromWorkingColorSpace(toComponents(this, _rgb), colorSpace);\n\t\t\tconst r = _rgb.r,\n\t\t\t\t\t\tg = _rgb.g,\n\t\t\t\t\t\tb = _rgb.b;\n\t\t\tconst max = Math.max(r, g, b);\n\t\t\tconst min = Math.min(r, g, b);\n\t\t\tlet hue, saturation;\n\t\t\tconst lightness = (min + max) / 2.0;\n\n\t\t\tif (min === max) {\n\t\t\t\thue = 0;\n\t\t\t\tsaturation = 0;\n\t\t\t} else {\n\t\t\t\tconst delta = max - min;\n\t\t\t\tsaturation = lightness <= 0.5 ? delta / (max + min) : delta / (2 - max - min);\n\n\t\t\t\tswitch (max) {\n\t\t\t\t\tcase r:\n\t\t\t\t\t\thue = (g - b) / delta + (g < b ? 6 : 0);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase g:\n\t\t\t\t\t\thue = (b - r) / delta + 2;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase b:\n\t\t\t\t\t\thue = (r - g) / delta + 4;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\thue /= 6;\n\t\t\t}\n\n\t\t\ttarget.h = hue;\n\t\t\ttarget.s = saturation;\n\t\t\ttarget.l = lightness;\n\t\t\treturn target;\n\t\t}\n\n\t\tgetRGB(target, colorSpace = LinearSRGBColorSpace) {\n\t\t\tColorManagement.fromWorkingColorSpace(toComponents(this, _rgb), colorSpace);\n\t\t\ttarget.r = _rgb.r;\n\t\t\ttarget.g = _rgb.g;\n\t\t\ttarget.b = _rgb.b;\n\t\t\treturn target;\n\t\t}\n\n\t\tgetStyle(colorSpace = SRGBColorSpace) {\n\t\t\tColorManagement.fromWorkingColorSpace(toComponents(this, _rgb), colorSpace);\n\n\t\t\tif (colorSpace !== SRGBColorSpace) {\n\t\t\t\t// Requires CSS Color Module Level 4 (https://www.w3.org/TR/css-color-4/).\n\t\t\t\treturn `color(${colorSpace} ${_rgb.r} ${_rgb.g} ${_rgb.b})`;\n\t\t\t}\n\n\t\t\treturn `rgb(${_rgb.r * 255 | 0},${_rgb.g * 255 | 0},${_rgb.b * 255 | 0})`;\n\t\t}\n\n\t\toffsetHSL(h, s, l) {\n\t\t\tthis.getHSL(_hslA);\n\t\t\t_hslA.h += h;\n\t\t\t_hslA.s += s;\n\t\t\t_hslA.l += l;\n\t\t\tthis.setHSL(_hslA.h, _hslA.s, _hslA.l);\n\t\t\treturn this;\n\t\t}\n\n\t\tadd(color) {\n\t\t\tthis.r += color.r;\n\t\t\tthis.g += color.g;\n\t\t\tthis.b += color.b;\n\t\t\treturn this;\n\t\t}\n\n\t\taddColors(color1, color2) {\n\t\t\tthis.r = color1.r + color2.r;\n\t\t\tthis.g = color1.g + color2.g;\n\t\t\tthis.b = color1.b + color2.b;\n\t\t\treturn this;\n\t\t}\n\n\t\taddScalar(s) {\n\t\t\tthis.r += s;\n\t\t\tthis.g += s;\n\t\t\tthis.b += s;\n\t\t\treturn this;\n\t\t}\n\n\t\tsub(color) {\n\t\t\tthis.r = Math.max(0, this.r - color.r);\n\t\t\tthis.g = Math.max(0, this.g - color.g);\n\t\t\tthis.b = Math.max(0, this.b - color.b);\n\t\t\treturn this;\n\t\t}\n\n\t\tmultiply(color) {\n\t\t\tthis.r *= color.r;\n\t\t\tthis.g *= color.g;\n\t\t\tthis.b *= color.b;\n\t\t\treturn this;\n\t\t}\n\n\t\tmultiplyScalar(s) {\n\t\t\tthis.r *= s;\n\t\t\tthis.g *= s;\n\t\t\tthis.b *= s;\n\t\t\treturn this;\n\t\t}\n\n\t\tlerp(color, alpha) {\n\t\t\tthis.r += (color.r - this.r) * alpha;\n\t\t\tthis.g += (color.g - this.g) * alpha;\n\t\t\tthis.b += (color.b - this.b) * alpha;\n\t\t\treturn this;\n\t\t}\n\n\t\tlerpColors(color1, color2, alpha) {\n\t\t\tthis.r = color1.r + (color2.r - color1.r) * alpha;\n\t\t\tthis.g = color1.g + (color2.g - color1.g) * alpha;\n\t\t\tthis.b = color1.b + (color2.b - color1.b) * alpha;\n\t\t\treturn this;\n\t\t}\n\n\t\tlerpHSL(color, alpha) {\n\t\t\tthis.getHSL(_hslA);\n\t\t\tcolor.getHSL(_hslB);\n\t\t\tconst h = lerp(_hslA.h, _hslB.h, alpha);\n\t\t\tconst s = lerp(_hslA.s, _hslB.s, alpha);\n\t\t\tconst l = lerp(_hslA.l, _hslB.l, alpha);\n\t\t\tthis.setHSL(h, s, l);\n\t\t\treturn this;\n\t\t}\n\n\t\tequals(c) {\n\t\t\treturn c.r === this.r && c.g === this.g && c.b === this.b;\n\t\t}\n\n\t\tfromArray(array, offset = 0) {\n\t\t\tthis.r = array[offset];\n\t\t\tthis.g = array[offset + 1];\n\t\t\tthis.b = array[offset + 2];\n\t\t\treturn this;\n\t\t}\n\n\t\ttoArray(array = [], offset = 0) {\n\t\t\tarray[offset] = this.r;\n\t\t\tarray[offset + 1] = this.g;\n\t\t\tarray[offset + 2] = this.b;\n\t\t\treturn array;\n\t\t}\n\n\t\tfromBufferAttribute(attribute, index) {\n\t\t\tthis.r = attribute.getX(index);\n\t\t\tthis.g = attribute.getY(index);\n\t\t\tthis.b = attribute.getZ(index);\n\n\t\t\tif (attribute.normalized === true) {\n\t\t\t\t// assuming Uint8Array\n\t\t\t\tthis.r /= 255;\n\t\t\t\tthis.g /= 255;\n\t\t\t\tthis.b /= 255;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\treturn this.getHex();\n\t\t}\n\n\t\t*[Symbol.iterator]() {\n\t\t\tyield this.r;\n\t\t\tyield this.g;\n\t\t\tyield this.b;\n\t\t}\n\n\t}\n\n\tColor.NAMES = _colorKeywords;\n\n\tlet _canvas;\n\n\tclass ImageUtils {\n\t\tstatic getDataURL(image) {\n\t\t\tif (/^data:/i.test(image.src)) {\n\t\t\t\treturn image.src;\n\t\t\t}\n\n\t\t\tif (typeof HTMLCanvasElement == 'undefined') {\n\t\t\t\treturn image.src;\n\t\t\t}\n\n\t\t\tlet canvas;\n\n\t\t\tif (image instanceof HTMLCanvasElement) {\n\t\t\t\tcanvas = image;\n\t\t\t} else {\n\t\t\t\tif (_canvas === undefined) _canvas = createElementNS('canvas');\n\t\t\t\t_canvas.width = image.width;\n\t\t\t\t_canvas.height = image.height;\n\n\t\t\t\tconst context = _canvas.getContext('2d');\n\n\t\t\t\tif (image instanceof ImageData) {\n\t\t\t\t\tcontext.putImageData(image, 0, 0);\n\t\t\t\t} else {\n\t\t\t\t\tcontext.drawImage(image, 0, 0, image.width, image.height);\n\t\t\t\t}\n\n\t\t\t\tcanvas = _canvas;\n\t\t\t}\n\n\t\t\tif (canvas.width > 2048 || canvas.height > 2048) {\n\t\t\t\tconsole.warn('THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons', image);\n\t\t\t\treturn canvas.toDataURL('image/jpeg', 0.6);\n\t\t\t} else {\n\t\t\t\treturn canvas.toDataURL('image/png');\n\t\t\t}\n\t\t}\n\n\t\tstatic sRGBToLinear(image) {\n\t\t\tif (typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement || typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement || typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap) {\n\t\t\t\tconst canvas = createElementNS('canvas');\n\t\t\t\tcanvas.width = image.width;\n\t\t\t\tcanvas.height = image.height;\n\t\t\t\tconst context = canvas.getContext('2d');\n\t\t\t\tcontext.drawImage(image, 0, 0, image.width, image.height);\n\t\t\t\tconst imageData = context.getImageData(0, 0, image.width, image.height);\n\t\t\t\tconst data = imageData.data;\n\n\t\t\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\t\t\tdata[i] = SRGBToLinear(data[i] / 255) * 255;\n\t\t\t\t}\n\n\t\t\t\tcontext.putImageData(imageData, 0, 0);\n\t\t\t\treturn canvas;\n\t\t\t} else if (image.data) {\n\t\t\t\tconst data = image.data.slice(0);\n\n\t\t\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\t\t\tif (data instanceof Uint8Array || data instanceof Uint8ClampedArray) {\n\t\t\t\t\t\tdata[i] = Math.floor(SRGBToLinear(data[i] / 255) * 255);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// assuming float\n\t\t\t\t\t\tdata[i] = SRGBToLinear(data[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tdata: data,\n\t\t\t\t\twidth: image.width,\n\t\t\t\t\theight: image.height\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tconsole.warn('THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied.');\n\t\t\t\treturn image;\n\t\t\t}\n\t\t}\n\n\t}\n\n\tclass Source {\n\t\tconstructor(data = null) {\n\t\t\tthis.isSource = true;\n\t\t\tthis.uuid = generateUUID();\n\t\t\tthis.data = data;\n\t\t\tthis.version = 0;\n\t\t}\n\n\t\tset needsUpdate(value) {\n\t\t\tif (value === true) this.version++;\n\t\t}\n\n\t\ttoJSON(meta) {\n\t\t\tconst isRootObject = meta === undefined || typeof meta === 'string';\n\n\t\t\tif (!isRootObject && meta.images[this.uuid] !== undefined) {\n\t\t\t\treturn meta.images[this.uuid];\n\t\t\t}\n\n\t\t\tconst output = {\n\t\t\t\tuuid: this.uuid,\n\t\t\t\turl: ''\n\t\t\t};\n\t\t\tconst data = this.data;\n\n\t\t\tif (data !== null) {\n\t\t\t\tlet url;\n\n\t\t\t\tif (Array.isArray(data)) {\n\t\t\t\t\t// cube texture\n\t\t\t\t\turl = [];\n\n\t\t\t\t\tfor (let i = 0, l = data.length; i < l; i++) {\n\t\t\t\t\t\tif (data[i].isDataTexture) {\n\t\t\t\t\t\t\turl.push(serializeImage(data[i].image));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\turl.push(serializeImage(data[i]));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// texture\n\t\t\t\t\turl = serializeImage(data);\n\t\t\t\t}\n\n\t\t\t\toutput.url = url;\n\t\t\t}\n\n\t\t\tif (!isRootObject) {\n\t\t\t\tmeta.images[this.uuid] = output;\n\t\t\t}\n\n\t\t\treturn output;\n\t\t}\n\n\t}\n\n\tfunction serializeImage(image) {\n\t\tif (typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement || typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement || typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap) {\n\t\t\t// default images\n\t\t\treturn ImageUtils.getDataURL(image);\n\t\t} else {\n\t\t\tif (image.data) {\n\t\t\t\t// images of DataTexture\n\t\t\t\treturn {\n\t\t\t\t\tdata: Array.prototype.slice.call(image.data),\n\t\t\t\t\twidth: image.width,\n\t\t\t\t\theight: image.height,\n\t\t\t\t\ttype: image.data.constructor.name\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tconsole.warn('THREE.Texture: Unable to serialize Texture.');\n\t\t\t\treturn {};\n\t\t\t}\n\t\t}\n\t}\n\n\tlet textureId = 0;\n\n\tclass Texture extends EventDispatcher {\n\t\tconstructor(image = Texture.DEFAULT_IMAGE, mapping = Texture.DEFAULT_MAPPING, wrapS = ClampToEdgeWrapping, wrapT = ClampToEdgeWrapping, magFilter = LinearFilter, minFilter = LinearMipmapLinearFilter, format = RGBAFormat, type = UnsignedByteType, anisotropy = 1, encoding = LinearEncoding) {\n\t\t\tsuper();\n\t\t\tthis.isTexture = true;\n\t\t\tObject.defineProperty(this, 'id', {\n\t\t\t\tvalue: textureId++\n\t\t\t});\n\t\t\tthis.uuid = generateUUID();\n\t\t\tthis.name = '';\n\t\t\tthis.source = new Source(image);\n\t\t\tthis.mipmaps = [];\n\t\t\tthis.mapping = mapping;\n\t\t\tthis.wrapS = wrapS;\n\t\t\tthis.wrapT = wrapT;\n\t\t\tthis.magFilter = magFilter;\n\t\t\tthis.minFilter = minFilter;\n\t\t\tthis.anisotropy = anisotropy;\n\t\t\tthis.format = format;\n\t\t\tthis.internalFormat = null;\n\t\t\tthis.type = type;\n\t\t\tthis.offset = new Vector2(0, 0);\n\t\t\tthis.repeat = new Vector2(1, 1);\n\t\t\tthis.center = new Vector2(0, 0);\n\t\t\tthis.rotation = 0;\n\t\t\tthis.matrixAutoUpdate = true;\n\t\t\tthis.matrix = new Matrix3();\n\t\t\tthis.generateMipmaps = true;\n\t\t\tthis.premultiplyAlpha = false;\n\t\t\tthis.flipY = true;\n\t\t\tthis.unpackAlignment = 4; // valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\t\t\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n\t\t\t//\n\t\t\t// Also changing the encoding after already used by a Material will not automatically make the Material\n\t\t\t// update. You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\n\t\t\tthis.encoding = encoding;\n\t\t\tthis.userData = {};\n\t\t\tthis.version = 0;\n\t\t\tthis.onUpdate = null;\n\t\t\tthis.isRenderTargetTexture = false; // indicates whether a texture belongs to a render target or not\n\n\t\t\tthis.needsPMREMUpdate = false; // indicates whether this texture should be processed by PMREMGenerator or not (only relevant for render target textures)\n\t\t}\n\n\t\tget image() {\n\t\t\treturn this.source.data;\n\t\t}\n\n\t\tset image(value) {\n\t\t\tthis.source.data = value;\n\t\t}\n\n\t\tupdateMatrix() {\n\t\t\tthis.matrix.setUvTransform(this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y);\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tthis.name = source.name;\n\t\t\tthis.source = source.source;\n\t\t\tthis.mipmaps = source.mipmaps.slice(0);\n\t\t\tthis.mapping = source.mapping;\n\t\t\tthis.wrapS = source.wrapS;\n\t\t\tthis.wrapT = source.wrapT;\n\t\t\tthis.magFilter = source.magFilter;\n\t\t\tthis.minFilter = source.minFilter;\n\t\t\tthis.anisotropy = source.anisotropy;\n\t\t\tthis.format = source.format;\n\t\t\tthis.internalFormat = source.internalFormat;\n\t\t\tthis.type = source.type;\n\t\t\tthis.offset.copy(source.offset);\n\t\t\tthis.repeat.copy(source.repeat);\n\t\t\tthis.center.copy(source.center);\n\t\t\tthis.rotation = source.rotation;\n\t\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\t\tthis.matrix.copy(source.matrix);\n\t\t\tthis.generateMipmaps = source.generateMipmaps;\n\t\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\n\t\t\tthis.flipY = source.flipY;\n\t\t\tthis.unpackAlignment = source.unpackAlignment;\n\t\t\tthis.encoding = source.encoding;\n\t\t\tthis.userData = JSON.parse(JSON.stringify(source.userData));\n\t\t\tthis.needsUpdate = true;\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON(meta) {\n\t\t\tconst isRootObject = meta === undefined || typeof meta === 'string';\n\n\t\t\tif (!isRootObject && meta.textures[this.uuid] !== undefined) {\n\t\t\t\treturn meta.textures[this.uuid];\n\t\t\t}\n\n\t\t\tconst output = {\n\t\t\t\tmetadata: {\n\t\t\t\t\tversion: 4.5,\n\t\t\t\t\ttype: 'Texture',\n\t\t\t\t\tgenerator: 'Texture.toJSON'\n\t\t\t\t},\n\t\t\t\tuuid: this.uuid,\n\t\t\t\tname: this.name,\n\t\t\t\timage: this.source.toJSON(meta).uuid,\n\t\t\t\tmapping: this.mapping,\n\t\t\t\trepeat: [this.repeat.x, this.repeat.y],\n\t\t\t\toffset: [this.offset.x, this.offset.y],\n\t\t\t\tcenter: [this.center.x, this.center.y],\n\t\t\t\trotation: this.rotation,\n\t\t\t\twrap: [this.wrapS, this.wrapT],\n\t\t\t\tformat: this.format,\n\t\t\t\ttype: this.type,\n\t\t\t\tencoding: this.encoding,\n\t\t\t\tminFilter: this.minFilter,\n\t\t\t\tmagFilter: this.magFilter,\n\t\t\t\tanisotropy: this.anisotropy,\n\t\t\t\tflipY: this.flipY,\n\t\t\t\tpremultiplyAlpha: this.premultiplyAlpha,\n\t\t\t\tunpackAlignment: this.unpackAlignment\n\t\t\t};\n\t\t\tif (JSON.stringify(this.userData) !== '{}') output.userData = this.userData;\n\n\t\t\tif (!isRootObject) {\n\t\t\t\tmeta.textures[this.uuid] = output;\n\t\t\t}\n\n\t\t\treturn output;\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.dispatchEvent({\n\t\t\t\ttype: 'dispose'\n\t\t\t});\n\t\t}\n\n\t\ttransformUv(uv) {\n\t\t\tif (this.mapping !== UVMapping) return uv;\n\t\t\tuv.applyMatrix3(this.matrix);\n\n\t\t\tif (uv.x < 0 || uv.x > 1) {\n\t\t\t\tswitch (this.wrapS) {\n\t\t\t\t\tcase RepeatWrapping:\n\t\t\t\t\t\tuv.x = uv.x - Math.floor(uv.x);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase ClampToEdgeWrapping:\n\t\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase MirroredRepeatWrapping:\n\t\t\t\t\t\tif (Math.abs(Math.floor(uv.x) % 2) === 1) {\n\t\t\t\t\t\t\tuv.x = Math.ceil(uv.x) - uv.x;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuv.x = uv.x - Math.floor(uv.x);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (uv.y < 0 || uv.y > 1) {\n\t\t\t\tswitch (this.wrapT) {\n\t\t\t\t\tcase RepeatWrapping:\n\t\t\t\t\t\tuv.y = uv.y - Math.floor(uv.y);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase ClampToEdgeWrapping:\n\t\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase MirroredRepeatWrapping:\n\t\t\t\t\t\tif (Math.abs(Math.floor(uv.y) % 2) === 1) {\n\t\t\t\t\t\t\tuv.y = Math.ceil(uv.y) - uv.y;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuv.y = uv.y - Math.floor(uv.y);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.flipY) {\n\t\t\t\tuv.y = 1 - uv.y;\n\t\t\t}\n\n\t\t\treturn uv;\n\t\t}\n\n\t\tset needsUpdate(value) {\n\t\t\tif (value === true) {\n\t\t\t\tthis.version++;\n\t\t\t\tthis.source.needsUpdate = true;\n\t\t\t}\n\t\t}\n\n\t}\n\n\tTexture.DEFAULT_IMAGE = null;\n\tTexture.DEFAULT_MAPPING = UVMapping;\n\n\tclass Vector4 {\n\t\tconstructor(x = 0, y = 0, z = 0, w = 1) {\n\t\t\tthis.isVector4 = true;\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t\tthis.z = z;\n\t\t\tthis.w = w;\n\t\t}\n\n\t\tget width() {\n\t\t\treturn this.z;\n\t\t}\n\n\t\tset width(value) {\n\t\t\tthis.z = value;\n\t\t}\n\n\t\tget height() {\n\t\t\treturn this.w;\n\t\t}\n\n\t\tset height(value) {\n\t\t\tthis.w = value;\n\t\t}\n\n\t\tset(x, y, z, w) {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t\tthis.z = z;\n\t\t\tthis.w = w;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetScalar(scalar) {\n\t\t\tthis.x = scalar;\n\t\t\tthis.y = scalar;\n\t\t\tthis.z = scalar;\n\t\t\tthis.w = scalar;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetX(x) {\n\t\t\tthis.x = x;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetY(y) {\n\t\t\tthis.y = y;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetZ(z) {\n\t\t\tthis.z = z;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetW(w) {\n\t\t\tthis.w = w;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetComponent(index, value) {\n\t\t\tswitch (index) {\n\t\t\t\tcase 0:\n\t\t\t\t\tthis.x = value;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\t\t\t\t\tthis.y = value;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\t\t\t\t\tthis.z = value;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 3:\n\t\t\t\t\tthis.w = value;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error('index is out of range: ' + index);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tgetComponent(index) {\n\t\t\tswitch (index) {\n\t\t\t\tcase 0:\n\t\t\t\t\treturn this.x;\n\n\t\t\t\tcase 1:\n\t\t\t\t\treturn this.y;\n\n\t\t\t\tcase 2:\n\t\t\t\t\treturn this.z;\n\n\t\t\t\tcase 3:\n\t\t\t\t\treturn this.w;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error('index is out of range: ' + index);\n\t\t\t}\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor(this.x, this.y, this.z, this.w);\n\t\t}\n\n\t\tcopy(v) {\n\t\t\tthis.x = v.x;\n\t\t\tthis.y = v.y;\n\t\t\tthis.z = v.z;\n\t\t\tthis.w = v.w !== undefined ? v.w : 1;\n\t\t\treturn this;\n\t\t}\n\n\t\tadd(v, w) {\n\t\t\tif (w !== undefined) {\n\t\t\t\tconsole.warn('THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');\n\t\t\t\treturn this.addVectors(v, w);\n\t\t\t}\n\n\t\t\tthis.x += v.x;\n\t\t\tthis.y += v.y;\n\t\t\tthis.z += v.z;\n\t\t\tthis.w += v.w;\n\t\t\treturn this;\n\t\t}\n\n\t\taddScalar(s) {\n\t\t\tthis.x += s;\n\t\t\tthis.y += s;\n\t\t\tthis.z += s;\n\t\t\tthis.w += s;\n\t\t\treturn this;\n\t\t}\n\n\t\taddVectors(a, b) {\n\t\t\tthis.x = a.x + b.x;\n\t\t\tthis.y = a.y + b.y;\n\t\t\tthis.z = a.z + b.z;\n\t\t\tthis.w = a.w + b.w;\n\t\t\treturn this;\n\t\t}\n\n\t\taddScaledVector(v, s) {\n\t\t\tthis.x += v.x * s;\n\t\t\tthis.y += v.y * s;\n\t\t\tthis.z += v.z * s;\n\t\t\tthis.w += v.w * s;\n\t\t\treturn this;\n\t\t}\n\n\t\tsub(v, w) {\n\t\t\tif (w !== undefined) {\n\t\t\t\tconsole.warn('THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');\n\t\t\t\treturn this.subVectors(v, w);\n\t\t\t}\n\n\t\t\tthis.x -= v.x;\n\t\t\tthis.y -= v.y;\n\t\t\tthis.z -= v.z;\n\t\t\tthis.w -= v.w;\n\t\t\treturn this;\n\t\t}\n\n\t\tsubScalar(s) {\n\t\t\tthis.x -= s;\n\t\t\tthis.y -= s;\n\t\t\tthis.z -= s;\n\t\t\tthis.w -= s;\n\t\t\treturn this;\n\t\t}\n\n\t\tsubVectors(a, b) {\n\t\t\tthis.x = a.x - b.x;\n\t\t\tthis.y = a.y - b.y;\n\t\t\tthis.z = a.z - b.z;\n\t\t\tthis.w = a.w - b.w;\n\t\t\treturn this;\n\t\t}\n\n\t\tmultiply(v) {\n\t\t\tthis.x *= v.x;\n\t\t\tthis.y *= v.y;\n\t\t\tthis.z *= v.z;\n\t\t\tthis.w *= v.w;\n\t\t\treturn this;\n\t\t}\n\n\t\tmultiplyScalar(scalar) {\n\t\t\tthis.x *= scalar;\n\t\t\tthis.y *= scalar;\n\t\t\tthis.z *= scalar;\n\t\t\tthis.w *= scalar;\n\t\t\treturn this;\n\t\t}\n\n\t\tapplyMatrix4(m) {\n\t\t\tconst x = this.x,\n\t\t\t\t\t\ty = this.y,\n\t\t\t\t\t\tz = this.z,\n\t\t\t\t\t\tw = this.w;\n\t\t\tconst e = m.elements;\n\t\t\tthis.x = e[0] * x + e[4] * y + e[8] * z + e[12] * w;\n\t\t\tthis.y = e[1] * x + e[5] * y + e[9] * z + e[13] * w;\n\t\t\tthis.z = e[2] * x + e[6] * y + e[10] * z + e[14] * w;\n\t\t\tthis.w = e[3] * x + e[7] * y + e[11] * z + e[15] * w;\n\t\t\treturn this;\n\t\t}\n\n\t\tdivideScalar(scalar) {\n\t\t\treturn this.multiplyScalar(1 / scalar);\n\t\t}\n\n\t\tsetAxisAngleFromQuaternion(q) {\n\t\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\t\t\t// q is assumed to be normalized\n\t\t\tthis.w = 2 * Math.acos(q.w);\n\t\t\tconst s = Math.sqrt(1 - q.w * q.w);\n\n\t\t\tif (s < 0.0001) {\n\t\t\t\tthis.x = 1;\n\t\t\t\tthis.y = 0;\n\t\t\t\tthis.z = 0;\n\t\t\t} else {\n\t\t\t\tthis.x = q.x / s;\n\t\t\t\tthis.y = q.y / s;\n\t\t\t\tthis.z = q.z / s;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsetAxisAngleFromRotationMatrix(m) {\n\t\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\t\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\t\t\tlet angle, x, y, z; // variables for result\n\n\t\t\tconst epsilon = 0.01,\n\t\t\t\t\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\n\t\t\t\t\t\t// margin to distinguish between 0 and 180 degrees\n\t\t\tte = m.elements,\n\t\t\t\t\t\tm11 = te[0],\n\t\t\t\t\t\tm12 = te[4],\n\t\t\t\t\t\tm13 = te[8],\n\t\t\t\t\t\tm21 = te[1],\n\t\t\t\t\t\tm22 = te[5],\n\t\t\t\t\t\tm23 = te[9],\n\t\t\t\t\t\tm31 = te[2],\n\t\t\t\t\t\tm32 = te[6],\n\t\t\t\t\t\tm33 = te[10];\n\n\t\t\tif (Math.abs(m12 - m21) < epsilon && Math.abs(m13 - m31) < epsilon && Math.abs(m23 - m32) < epsilon) {\n\t\t\t\t// singularity found\n\t\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t\t// in leading diagonal and zero in other terms\n\t\t\t\tif (Math.abs(m12 + m21) < epsilon2 && Math.abs(m13 + m31) < epsilon2 && Math.abs(m23 + m32) < epsilon2 && Math.abs(m11 + m22 + m33 - 3) < epsilon2) {\n\t\t\t\t\t// this singularity is identity matrix so angle = 0\n\t\t\t\t\tthis.set(1, 0, 0, 0);\n\t\t\t\t\treturn this; // zero angle, arbitrary axis\n\t\t\t\t} // otherwise this singularity is angle = 180\n\n\n\t\t\t\tangle = Math.PI;\n\t\t\t\tconst xx = (m11 + 1) / 2;\n\t\t\t\tconst yy = (m22 + 1) / 2;\n\t\t\t\tconst zz = (m33 + 1) / 2;\n\t\t\t\tconst xy = (m12 + m21) / 4;\n\t\t\t\tconst xz = (m13 + m31) / 4;\n\t\t\t\tconst yz = (m23 + m32) / 4;\n\n\t\t\t\tif (xx > yy && xx > zz) {\n\t\t\t\t\t// m11 is the largest diagonal term\n\t\t\t\t\tif (xx < epsilon) {\n\t\t\t\t\t\tx = 0;\n\t\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\t\tz = 0.707106781;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tx = Math.sqrt(xx);\n\t\t\t\t\t\ty = xy / x;\n\t\t\t\t\t\tz = xz / x;\n\t\t\t\t\t}\n\t\t\t\t} else if (yy > zz) {\n\t\t\t\t\t// m22 is the largest diagonal term\n\t\t\t\t\tif (yy < epsilon) {\n\t\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\t\ty = 0;\n\t\t\t\t\t\tz = 0.707106781;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ty = Math.sqrt(yy);\n\t\t\t\t\t\tx = xy / y;\n\t\t\t\t\t\tz = yz / y;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// m33 is the largest diagonal term so base result on this\n\t\t\t\t\tif (zz < epsilon) {\n\t\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\t\tz = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tz = Math.sqrt(zz);\n\t\t\t\t\t\tx = xz / z;\n\t\t\t\t\t\ty = yz / z;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.set(x, y, z, angle);\n\t\t\t\treturn this; // return 180 deg rotation\n\t\t\t} // as we have reached here there are no singularities so we can handle normally\n\n\n\t\t\tlet s = Math.sqrt((m32 - m23) * (m32 - m23) + (m13 - m31) * (m13 - m31) + (m21 - m12) * (m21 - m12)); // used to normalize\n\n\t\t\tif (Math.abs(s) < 0.001) s = 1; // prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\t\tthis.x = (m32 - m23) / s;\n\t\t\tthis.y = (m13 - m31) / s;\n\t\t\tthis.z = (m21 - m12) / s;\n\t\t\tthis.w = Math.acos((m11 + m22 + m33 - 1) / 2);\n\t\t\treturn this;\n\t\t}\n\n\t\tmin(v) {\n\t\t\tthis.x = Math.min(this.x, v.x);\n\t\t\tthis.y = Math.min(this.y, v.y);\n\t\t\tthis.z = Math.min(this.z, v.z);\n\t\t\tthis.w = Math.min(this.w, v.w);\n\t\t\treturn this;\n\t\t}\n\n\t\tmax(v) {\n\t\t\tthis.x = Math.max(this.x, v.x);\n\t\t\tthis.y = Math.max(this.y, v.y);\n\t\t\tthis.z = Math.max(this.z, v.z);\n\t\t\tthis.w = Math.max(this.w, v.w);\n\t\t\treturn this;\n\t\t}\n\n\t\tclamp(min, max) {\n\t\t\t// assumes min < max, componentwise\n\t\t\tthis.x = Math.max(min.x, Math.min(max.x, this.x));\n\t\t\tthis.y = Math.max(min.y, Math.min(max.y, this.y));\n\t\t\tthis.z = Math.max(min.z, Math.min(max.z, this.z));\n\t\t\tthis.w = Math.max(min.w, Math.min(max.w, this.w));\n\t\t\treturn this;\n\t\t}\n\n\t\tclampScalar(minVal, maxVal) {\n\t\t\tthis.x = Math.max(minVal, Math.min(maxVal, this.x));\n\t\t\tthis.y = Math.max(minVal, Math.min(maxVal, this.y));\n\t\t\tthis.z = Math.max(minVal, Math.min(maxVal, this.z));\n\t\t\tthis.w = Math.max(minVal, Math.min(maxVal, this.w));\n\t\t\treturn this;\n\t\t}\n\n\t\tclampLength(min, max) {\n\t\t\tconst length = this.length();\n\t\t\treturn this.divideScalar(length || 1).multiplyScalar(Math.max(min, Math.min(max, length)));\n\t\t}\n\n\t\tfloor() {\n\t\t\tthis.x = Math.floor(this.x);\n\t\t\tthis.y = Math.floor(this.y);\n\t\t\tthis.z = Math.floor(this.z);\n\t\t\tthis.w = Math.floor(this.w);\n\t\t\treturn this;\n\t\t}\n\n\t\tceil() {\n\t\t\tthis.x = Math.ceil(this.x);\n\t\t\tthis.y = Math.ceil(this.y);\n\t\t\tthis.z = Math.ceil(this.z);\n\t\t\tthis.w = Math.ceil(this.w);\n\t\t\treturn this;\n\t\t}\n\n\t\tround() {\n\t\t\tthis.x = Math.round(this.x);\n\t\t\tthis.y = Math.round(this.y);\n\t\t\tthis.z = Math.round(this.z);\n\t\t\tthis.w = Math.round(this.w);\n\t\t\treturn this;\n\t\t}\n\n\t\troundToZero() {\n\t\t\tthis.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x);\n\t\t\tthis.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y);\n\t\t\tthis.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z);\n\t\t\tthis.w = this.w < 0 ? Math.ceil(this.w) : Math.floor(this.w);\n\t\t\treturn this;\n\t\t}\n\n\t\tnegate() {\n\t\t\tthis.x = -this.x;\n\t\t\tthis.y = -this.y;\n\t\t\tthis.z = -this.z;\n\t\t\tthis.w = -this.w;\n\t\t\treturn this;\n\t\t}\n\n\t\tdot(v) {\n\t\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\t\t}\n\n\t\tlengthSq() {\n\t\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\t\t}\n\n\t\tlength() {\n\t\t\treturn Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);\n\t\t}\n\n\t\tmanhattanLength() {\n\t\t\treturn Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w);\n\t\t}\n\n\t\tnormalize() {\n\t\t\treturn this.divideScalar(this.length() || 1);\n\t\t}\n\n\t\tsetLength(length) {\n\t\t\treturn this.normalize().multiplyScalar(length);\n\t\t}\n\n\t\tlerp(v, alpha) {\n\t\t\tthis.x += (v.x - this.x) * alpha;\n\t\t\tthis.y += (v.y - this.y) * alpha;\n\t\t\tthis.z += (v.z - this.z) * alpha;\n\t\t\tthis.w += (v.w - this.w) * alpha;\n\t\t\treturn this;\n\t\t}\n\n\t\tlerpVectors(v1, v2, alpha) {\n\t\t\tthis.x = v1.x + (v2.x - v1.x) * alpha;\n\t\t\tthis.y = v1.y + (v2.y - v1.y) * alpha;\n\t\t\tthis.z = v1.z + (v2.z - v1.z) * alpha;\n\t\t\tthis.w = v1.w + (v2.w - v1.w) * alpha;\n\t\t\treturn this;\n\t\t}\n\n\t\tequals(v) {\n\t\t\treturn v.x === this.x && v.y === this.y && v.z === this.z && v.w === this.w;\n\t\t}\n\n\t\tfromArray(array, offset = 0) {\n\t\t\tthis.x = array[offset];\n\t\t\tthis.y = array[offset + 1];\n\t\t\tthis.z = array[offset + 2];\n\t\t\tthis.w = array[offset + 3];\n\t\t\treturn this;\n\t\t}\n\n\t\ttoArray(array = [], offset = 0) {\n\t\t\tarray[offset] = this.x;\n\t\t\tarray[offset + 1] = this.y;\n\t\t\tarray[offset + 2] = this.z;\n\t\t\tarray[offset + 3] = this.w;\n\t\t\treturn array;\n\t\t}\n\n\t\tfromBufferAttribute(attribute, index, offset) {\n\t\t\tif (offset !== undefined) {\n\t\t\t\tconsole.warn('THREE.Vector4: offset has been removed from .fromBufferAttribute().');\n\t\t\t}\n\n\t\t\tthis.x = attribute.getX(index);\n\t\t\tthis.y = attribute.getY(index);\n\t\t\tthis.z = attribute.getZ(index);\n\t\t\tthis.w = attribute.getW(index);\n\t\t\treturn this;\n\t\t}\n\n\t\trandom() {\n\t\t\tthis.x = Math.random();\n\t\t\tthis.y = Math.random();\n\t\t\tthis.z = Math.random();\n\t\t\tthis.w = Math.random();\n\t\t\treturn this;\n\t\t}\n\n\t\t*[Symbol.iterator]() {\n\t\t\tyield this.x;\n\t\t\tyield this.y;\n\t\t\tyield this.z;\n\t\t\tyield this.w;\n\t\t}\n\n\t}\n\n\t/*\n\t In options, we can specify:\n\t * Texture parameters for an auto-generated target texture\n\t * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n\t*/\n\n\tclass WebGLRenderTarget extends EventDispatcher {\n\t\tconstructor(width, height, options = {}) {\n\t\t\tsuper();\n\t\t\tthis.isWebGLRenderTarget = true;\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\t\t\tthis.depth = 1;\n\t\t\tthis.scissor = new Vector4(0, 0, width, height);\n\t\t\tthis.scissorTest = false;\n\t\t\tthis.viewport = new Vector4(0, 0, width, height);\n\t\t\tconst image = {\n\t\t\t\twidth: width,\n\t\t\t\theight: height,\n\t\t\t\tdepth: 1\n\t\t\t};\n\t\t\tthis.texture = new Texture(image, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding);\n\t\t\tthis.texture.isRenderTargetTexture = true;\n\t\t\tthis.texture.flipY = false;\n\t\t\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\t\t\tthis.texture.internalFormat = options.internalFormat !== undefined ? options.internalFormat : null;\n\t\t\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\t\t\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n\t\t\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : false;\n\t\t\tthis.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\t\t\tthis.samples = options.samples !== undefined ? options.samples : 0;\n\t\t}\n\n\t\tsetSize(width, height, depth = 1) {\n\t\t\tif (this.width !== width || this.height !== height || this.depth !== depth) {\n\t\t\t\tthis.width = width;\n\t\t\t\tthis.height = height;\n\t\t\t\tthis.depth = depth;\n\t\t\t\tthis.texture.image.width = width;\n\t\t\t\tthis.texture.image.height = height;\n\t\t\t\tthis.texture.image.depth = depth;\n\t\t\t\tthis.dispose();\n\t\t\t}\n\n\t\t\tthis.viewport.set(0, 0, width, height);\n\t\t\tthis.scissor.set(0, 0, width, height);\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tthis.width = source.width;\n\t\t\tthis.height = source.height;\n\t\t\tthis.depth = source.depth;\n\t\t\tthis.viewport.copy(source.viewport);\n\t\t\tthis.texture = source.texture.clone();\n\t\t\tthis.texture.isRenderTargetTexture = true; // ensure image object is not shared, see #20328\n\n\t\t\tconst image = Object.assign({}, source.texture.image);\n\t\t\tthis.texture.source = new Source(image);\n\t\t\tthis.depthBuffer = source.depthBuffer;\n\t\t\tthis.stencilBuffer = source.stencilBuffer;\n\t\t\tif (source.depthTexture !== null) this.depthTexture = source.depthTexture.clone();\n\t\t\tthis.samples = source.samples;\n\t\t\treturn this;\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.dispatchEvent({\n\t\t\t\ttype: 'dispose'\n\t\t\t});\n\t\t}\n\n\t}\n\n\tclass DataArrayTexture extends Texture {\n\t\tconstructor(data = null, width = 1, height = 1, depth = 1) {\n\t\t\tsuper(null);\n\t\t\tthis.isDataArrayTexture = true;\n\t\t\tthis.image = {\n\t\t\t\tdata,\n\t\t\t\twidth,\n\t\t\t\theight,\n\t\t\t\tdepth\n\t\t\t};\n\t\t\tthis.magFilter = NearestFilter;\n\t\t\tthis.minFilter = NearestFilter;\n\t\t\tthis.wrapR = ClampToEdgeWrapping;\n\t\t\tthis.generateMipmaps = false;\n\t\t\tthis.flipY = false;\n\t\t\tthis.unpackAlignment = 1;\n\t\t}\n\n\t}\n\n\tclass WebGLArrayRenderTarget extends WebGLRenderTarget {\n\t\tconstructor(width, height, depth) {\n\t\t\tsuper(width, height);\n\t\t\tthis.isWebGLArrayRenderTarget = true;\n\t\t\tthis.depth = depth;\n\t\t\tthis.texture = new DataArrayTexture(null, width, height, depth);\n\t\t\tthis.texture.isRenderTargetTexture = true;\n\t\t}\n\n\t}\n\n\tclass Data3DTexture extends Texture {\n\t\tconstructor(data = null, width = 1, height = 1, depth = 1) {\n\t\t\t// We're going to add .setXXX() methods for setting properties later.\n\t\t\t// Users can still set in DataTexture3D directly.\n\t\t\t//\n\t\t\t//\tconst texture = new THREE.DataTexture3D( data, width, height, depth );\n\t\t\t// \ttexture.anisotropy = 16;\n\t\t\t//\n\t\t\t// See #14839\n\t\t\tsuper(null);\n\t\t\tthis.isData3DTexture = true;\n\t\t\tthis.image = {\n\t\t\t\tdata,\n\t\t\t\twidth,\n\t\t\t\theight,\n\t\t\t\tdepth\n\t\t\t};\n\t\t\tthis.magFilter = NearestFilter;\n\t\t\tthis.minFilter = NearestFilter;\n\t\t\tthis.wrapR = ClampToEdgeWrapping;\n\t\t\tthis.generateMipmaps = false;\n\t\t\tthis.flipY = false;\n\t\t\tthis.unpackAlignment = 1;\n\t\t}\n\n\t}\n\n\tclass WebGL3DRenderTarget extends WebGLRenderTarget {\n\t\tconstructor(width, height, depth) {\n\t\t\tsuper(width, height);\n\t\t\tthis.isWebGL3DRenderTarget = true;\n\t\t\tthis.depth = depth;\n\t\t\tthis.texture = new Data3DTexture(null, width, height, depth);\n\t\t\tthis.texture.isRenderTargetTexture = true;\n\t\t}\n\n\t}\n\n\tclass WebGLMultipleRenderTargets extends WebGLRenderTarget {\n\t\tconstructor(width, height, count, options = {}) {\n\t\t\tsuper(width, height, options);\n\t\t\tthis.isWebGLMultipleRenderTargets = true;\n\t\t\tconst texture = this.texture;\n\t\t\tthis.texture = [];\n\n\t\t\tfor (let i = 0; i < count; i++) {\n\t\t\t\tthis.texture[i] = texture.clone();\n\t\t\t\tthis.texture[i].isRenderTargetTexture = true;\n\t\t\t}\n\t\t}\n\n\t\tsetSize(width, height, depth = 1) {\n\t\t\tif (this.width !== width || this.height !== height || this.depth !== depth) {\n\t\t\t\tthis.width = width;\n\t\t\t\tthis.height = height;\n\t\t\t\tthis.depth = depth;\n\n\t\t\t\tfor (let i = 0, il = this.texture.length; i < il; i++) {\n\t\t\t\t\tthis.texture[i].image.width = width;\n\t\t\t\t\tthis.texture[i].image.height = height;\n\t\t\t\t\tthis.texture[i].image.depth = depth;\n\t\t\t\t}\n\n\t\t\t\tthis.dispose();\n\t\t\t}\n\n\t\t\tthis.viewport.set(0, 0, width, height);\n\t\t\tthis.scissor.set(0, 0, width, height);\n\t\t\treturn this;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tthis.dispose();\n\t\t\tthis.width = source.width;\n\t\t\tthis.height = source.height;\n\t\t\tthis.depth = source.depth;\n\t\t\tthis.viewport.set(0, 0, this.width, this.height);\n\t\t\tthis.scissor.set(0, 0, this.width, this.height);\n\t\t\tthis.depthBuffer = source.depthBuffer;\n\t\t\tthis.stencilBuffer = source.stencilBuffer;\n\t\t\tif (source.depthTexture !== null) this.depthTexture = source.depthTexture.clone();\n\t\t\tthis.texture.length = 0;\n\n\t\t\tfor (let i = 0, il = source.texture.length; i < il; i++) {\n\t\t\t\tthis.texture[i] = source.texture[i].clone();\n\t\t\t\tthis.texture[i].isRenderTargetTexture = true;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass Quaternion {\n\t\tconstructor(x = 0, y = 0, z = 0, w = 1) {\n\t\t\tthis.isQuaternion = true;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\t\t\tthis._w = w;\n\t\t}\n\n\t\tstatic slerp(qa, qb, qm, t) {\n\t\t\tconsole.warn('THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead.');\n\t\t\treturn qm.slerpQuaternions(qa, qb, t);\n\t\t}\n\n\t\tstatic slerpFlat(dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t) {\n\t\t\t// fuzz-free, array-based Quaternion SLERP operation\n\t\t\tlet x0 = src0[srcOffset0 + 0],\n\t\t\t\t\ty0 = src0[srcOffset0 + 1],\n\t\t\t\t\tz0 = src0[srcOffset0 + 2],\n\t\t\t\t\tw0 = src0[srcOffset0 + 3];\n\t\t\tconst x1 = src1[srcOffset1 + 0],\n\t\t\t\t\t\ty1 = src1[srcOffset1 + 1],\n\t\t\t\t\t\tz1 = src1[srcOffset1 + 2],\n\t\t\t\t\t\tw1 = src1[srcOffset1 + 3];\n\n\t\t\tif (t === 0) {\n\t\t\t\tdst[dstOffset + 0] = x0;\n\t\t\t\tdst[dstOffset + 1] = y0;\n\t\t\t\tdst[dstOffset + 2] = z0;\n\t\t\t\tdst[dstOffset + 3] = w0;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (t === 1) {\n\t\t\t\tdst[dstOffset + 0] = x1;\n\t\t\t\tdst[dstOffset + 1] = y1;\n\t\t\t\tdst[dstOffset + 2] = z1;\n\t\t\t\tdst[dstOffset + 3] = w1;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1) {\n\t\t\t\tlet s = 1 - t;\n\t\t\t\tconst cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\t\t\t\t\t\t\tdir = cos >= 0 ? 1 : -1,\n\t\t\t\t\t\t\tsqrSin = 1 - cos * cos; // Skip the Slerp for tiny steps to avoid numeric problems:\n\n\t\t\t\tif (sqrSin > Number.EPSILON) {\n\t\t\t\t\tconst sin = Math.sqrt(sqrSin),\n\t\t\t\t\t\t\t\tlen = Math.atan2(sin, cos * dir);\n\t\t\t\t\ts = Math.sin(s * len) / sin;\n\t\t\t\t\tt = Math.sin(t * len) / sin;\n\t\t\t\t}\n\n\t\t\t\tconst tDir = t * dir;\n\t\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\t\tw0 = w0 * s + w1 * tDir; // Normalize in case we just did a lerp:\n\n\t\t\t\tif (s === 1 - t) {\n\t\t\t\t\tconst f = 1 / Math.sqrt(x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0);\n\t\t\t\t\tx0 *= f;\n\t\t\t\t\ty0 *= f;\n\t\t\t\t\tz0 *= f;\n\t\t\t\t\tw0 *= f;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdst[dstOffset] = x0;\n\t\t\tdst[dstOffset + 1] = y0;\n\t\t\tdst[dstOffset + 2] = z0;\n\t\t\tdst[dstOffset + 3] = w0;\n\t\t}\n\n\t\tstatic multiplyQuaternionsFlat(dst, dstOffset, src0, srcOffset0, src1, srcOffset1) {\n\t\t\tconst x0 = src0[srcOffset0];\n\t\t\tconst y0 = src0[srcOffset0 + 1];\n\t\t\tconst z0 = src0[srcOffset0 + 2];\n\t\t\tconst w0 = src0[srcOffset0 + 3];\n\t\t\tconst x1 = src1[srcOffset1];\n\t\t\tconst y1 = src1[srcOffset1 + 1];\n\t\t\tconst z1 = src1[srcOffset1 + 2];\n\t\t\tconst w1 = src1[srcOffset1 + 3];\n\t\t\tdst[dstOffset] = x0 * w1 + w0 * x1 + y0 * z1 - z0 * y1;\n\t\t\tdst[dstOffset + 1] = y0 * w1 + w0 * y1 + z0 * x1 - x0 * z1;\n\t\t\tdst[dstOffset + 2] = z0 * w1 + w0 * z1 + x0 * y1 - y0 * x1;\n\t\t\tdst[dstOffset + 3] = w0 * w1 - x0 * x1 - y0 * y1 - z0 * z1;\n\t\t\treturn dst;\n\t\t}\n\n\t\tget x() {\n\t\t\treturn this._x;\n\t\t}\n\n\t\tset x(value) {\n\t\t\tthis._x = value;\n\n\t\t\tthis._onChangeCallback();\n\t\t}\n\n\t\tget y() {\n\t\t\treturn this._y;\n\t\t}\n\n\t\tset y(value) {\n\t\t\tthis._y = value;\n\n\t\t\tthis._onChangeCallback();\n\t\t}\n\n\t\tget z() {\n\t\t\treturn this._z;\n\t\t}\n\n\t\tset z(value) {\n\t\t\tthis._z = value;\n\n\t\t\tthis._onChangeCallback();\n\t\t}\n\n\t\tget w() {\n\t\t\treturn this._w;\n\t\t}\n\n\t\tset w(value) {\n\t\t\tthis._w = value;\n\n\t\t\tthis._onChangeCallback();\n\t\t}\n\n\t\tset(x, y, z, w) {\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\t\t\tthis._w = w;\n\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor(this._x, this._y, this._z, this._w);\n\t\t}\n\n\t\tcopy(quaternion) {\n\t\t\tthis._x = quaternion.x;\n\t\t\tthis._y = quaternion.y;\n\t\t\tthis._z = quaternion.z;\n\t\t\tthis._w = quaternion.w;\n\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromEuler(euler, update) {\n\t\t\tif (!(euler && euler.isEuler)) {\n\t\t\t\tthrow new Error('THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.');\n\t\t\t}\n\n\t\t\tconst x = euler._x,\n\t\t\t\t\t\ty = euler._y,\n\t\t\t\t\t\tz = euler._z,\n\t\t\t\t\t\torder = euler._order; // http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t\t//\tcontent/SpinCalc.m\n\n\t\t\tconst cos = Math.cos;\n\t\t\tconst sin = Math.sin;\n\t\t\tconst c1 = cos(x / 2);\n\t\t\tconst c2 = cos(y / 2);\n\t\t\tconst c3 = cos(z / 2);\n\t\t\tconst s1 = sin(x / 2);\n\t\t\tconst s2 = sin(y / 2);\n\t\t\tconst s3 = sin(z / 2);\n\n\t\t\tswitch (order) {\n\t\t\t\tcase 'XYZ':\n\t\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'YXZ':\n\t\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ZXY':\n\t\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ZYX':\n\t\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'YZX':\n\t\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'XZY':\n\t\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.warn('THREE.Quaternion: .setFromEuler() encountered an unknown order: ' + order);\n\t\t\t}\n\n\t\t\tif (update !== false) this._onChangeCallback();\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromAxisAngle(axis, angle) {\n\t\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\t\t\t// assumes axis is normalized\n\t\t\tconst halfAngle = angle / 2,\n\t\t\t\t\t\ts = Math.sin(halfAngle);\n\t\t\tthis._x = axis.x * s;\n\t\t\tthis._y = axis.y * s;\n\t\t\tthis._z = axis.z * s;\n\t\t\tthis._w = Math.cos(halfAngle);\n\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromRotationMatrix(m) {\n\t\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\t\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\t\t\tconst te = m.elements,\n\t\t\t\t\t\tm11 = te[0],\n\t\t\t\t\t\tm12 = te[4],\n\t\t\t\t\t\tm13 = te[8],\n\t\t\t\t\t\tm21 = te[1],\n\t\t\t\t\t\tm22 = te[5],\n\t\t\t\t\t\tm23 = te[9],\n\t\t\t\t\t\tm31 = te[2],\n\t\t\t\t\t\tm32 = te[6],\n\t\t\t\t\t\tm33 = te[10],\n\t\t\t\t\t\ttrace = m11 + m22 + m33;\n\n\t\t\tif (trace > 0) {\n\t\t\t\tconst s = 0.5 / Math.sqrt(trace + 1.0);\n\t\t\t\tthis._w = 0.25 / s;\n\t\t\t\tthis._x = (m32 - m23) * s;\n\t\t\t\tthis._y = (m13 - m31) * s;\n\t\t\t\tthis._z = (m21 - m12) * s;\n\t\t\t} else if (m11 > m22 && m11 > m33) {\n\t\t\t\tconst s = 2.0 * Math.sqrt(1.0 + m11 - m22 - m33);\n\t\t\t\tthis._w = (m32 - m23) / s;\n\t\t\t\tthis._x = 0.25 * s;\n\t\t\t\tthis._y = (m12 + m21) / s;\n\t\t\t\tthis._z = (m13 + m31) / s;\n\t\t\t} else if (m22 > m33) {\n\t\t\t\tconst s = 2.0 * Math.sqrt(1.0 + m22 - m11 - m33);\n\t\t\t\tthis._w = (m13 - m31) / s;\n\t\t\t\tthis._x = (m12 + m21) / s;\n\t\t\t\tthis._y = 0.25 * s;\n\t\t\t\tthis._z = (m23 + m32) / s;\n\t\t\t} else {\n\t\t\t\tconst s = 2.0 * Math.sqrt(1.0 + m33 - m11 - m22);\n\t\t\t\tthis._w = (m21 - m12) / s;\n\t\t\t\tthis._x = (m13 + m31) / s;\n\t\t\t\tthis._y = (m23 + m32) / s;\n\t\t\t\tthis._z = 0.25 * s;\n\t\t\t}\n\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromUnitVectors(vFrom, vTo) {\n\t\t\t// assumes direction vectors vFrom and vTo are normalized\n\t\t\tlet r = vFrom.dot(vTo) + 1;\n\n\t\t\tif (r < Number.EPSILON) {\n\t\t\t\t// vFrom and vTo point in opposite directions\n\t\t\t\tr = 0;\n\n\t\t\t\tif (Math.abs(vFrom.x) > Math.abs(vFrom.z)) {\n\t\t\t\t\tthis._x = -vFrom.y;\n\t\t\t\t\tthis._y = vFrom.x;\n\t\t\t\t\tthis._z = 0;\n\t\t\t\t\tthis._w = r;\n\t\t\t\t} else {\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._y = -vFrom.z;\n\t\t\t\t\tthis._z = vFrom.y;\n\t\t\t\t\tthis._w = r;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\t\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n\t\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n\t\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n\t\t\t\tthis._w = r;\n\t\t\t}\n\n\t\t\treturn this.normalize();\n\t\t}\n\n\t\tangleTo(q) {\n\t\t\treturn 2 * Math.acos(Math.abs(clamp(this.dot(q), -1, 1)));\n\t\t}\n\n\t\trotateTowards(q, step) {\n\t\t\tconst angle = this.angleTo(q);\n\t\t\tif (angle === 0) return this;\n\t\t\tconst t = Math.min(1, step / angle);\n\t\t\tthis.slerp(q, t);\n\t\t\treturn this;\n\t\t}\n\n\t\tidentity() {\n\t\t\treturn this.set(0, 0, 0, 1);\n\t\t}\n\n\t\tinvert() {\n\t\t\t// quaternion is assumed to have unit length\n\t\t\treturn this.conjugate();\n\t\t}\n\n\t\tconjugate() {\n\t\t\tthis._x *= -1;\n\t\t\tthis._y *= -1;\n\t\t\tthis._z *= -1;\n\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\t\t}\n\n\t\tdot(v) {\n\t\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\t\t}\n\n\t\tlengthSq() {\n\t\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\t\t}\n\n\t\tlength() {\n\t\t\treturn Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w);\n\t\t}\n\n\t\tnormalize() {\n\t\t\tlet l = this.length();\n\n\t\t\tif (l === 0) {\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = 0;\n\t\t\t\tthis._z = 0;\n\t\t\t\tthis._w = 1;\n\t\t\t} else {\n\t\t\t\tl = 1 / l;\n\t\t\t\tthis._x = this._x * l;\n\t\t\t\tthis._y = this._y * l;\n\t\t\t\tthis._z = this._z * l;\n\t\t\t\tthis._w = this._w * l;\n\t\t\t}\n\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\t\t}\n\n\t\tmultiply(q, p) {\n\t\t\tif (p !== undefined) {\n\t\t\t\tconsole.warn('THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.');\n\t\t\t\treturn this.multiplyQuaternions(q, p);\n\t\t\t}\n\n\t\t\treturn this.multiplyQuaternions(this, q);\n\t\t}\n\n\t\tpremultiply(q) {\n\t\t\treturn this.multiplyQuaternions(q, this);\n\t\t}\n\n\t\tmultiplyQuaternions(a, b) {\n\t\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\t\t\tconst qax = a._x,\n\t\t\t\t\t\tqay = a._y,\n\t\t\t\t\t\tqaz = a._z,\n\t\t\t\t\t\tqaw = a._w;\n\t\t\tconst qbx = b._x,\n\t\t\t\t\t\tqby = b._y,\n\t\t\t\t\t\tqbz = b._z,\n\t\t\t\t\t\tqbw = b._w;\n\t\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\t\t}\n\n\t\tslerp(qb, t) {\n\t\t\tif (t === 0) return this;\n\t\t\tif (t === 1) return this.copy(qb);\n\t\t\tconst x = this._x,\n\t\t\t\t\t\ty = this._y,\n\t\t\t\t\t\tz = this._z,\n\t\t\t\t\t\tw = this._w; // http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\t\tlet cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\t\tif (cosHalfTheta < 0) {\n\t\t\t\tthis._w = -qb._w;\n\t\t\t\tthis._x = -qb._x;\n\t\t\t\tthis._y = -qb._y;\n\t\t\t\tthis._z = -qb._z;\n\t\t\t\tcosHalfTheta = -cosHalfTheta;\n\t\t\t} else {\n\t\t\t\tthis.copy(qb);\n\t\t\t}\n\n\t\t\tif (cosHalfTheta >= 1.0) {\n\t\t\t\tthis._w = w;\n\t\t\t\tthis._x = x;\n\t\t\t\tthis._y = y;\n\t\t\t\tthis._z = z;\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tconst sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\t\tif (sqrSinHalfTheta <= Number.EPSILON) {\n\t\t\t\tconst s = 1 - t;\n\t\t\t\tthis._w = s * w + t * this._w;\n\t\t\t\tthis._x = s * x + t * this._x;\n\t\t\t\tthis._y = s * y + t * this._y;\n\t\t\t\tthis._z = s * z + t * this._z;\n\t\t\t\tthis.normalize();\n\n\t\t\t\tthis._onChangeCallback();\n\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tconst sinHalfTheta = Math.sqrt(sqrSinHalfTheta);\n\t\t\tconst halfTheta = Math.atan2(sinHalfTheta, cosHalfTheta);\n\t\t\tconst ratioA = Math.sin((1 - t) * halfTheta) / sinHalfTheta,\n\t\t\t\t\t\tratioB = Math.sin(t * halfTheta) / sinHalfTheta;\n\t\t\tthis._w = w * ratioA + this._w * ratioB;\n\t\t\tthis._x = x * ratioA + this._x * ratioB;\n\t\t\tthis._y = y * ratioA + this._y * ratioB;\n\t\t\tthis._z = z * ratioA + this._z * ratioB;\n\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\t\t}\n\n\t\tslerpQuaternions(qa, qb, t) {\n\t\t\treturn this.copy(qa).slerp(qb, t);\n\t\t}\n\n\t\trandom() {\n\t\t\t// Derived from http://planning.cs.uiuc.edu/node198.html\n\t\t\t// Note, this source uses w, x, y, z ordering,\n\t\t\t// so we swap the order below.\n\t\t\tconst u1 = Math.random();\n\t\t\tconst sqrt1u1 = Math.sqrt(1 - u1);\n\t\t\tconst sqrtu1 = Math.sqrt(u1);\n\t\t\tconst u2 = 2 * Math.PI * Math.random();\n\t\t\tconst u3 = 2 * Math.PI * Math.random();\n\t\t\treturn this.set(sqrt1u1 * Math.cos(u2), sqrtu1 * Math.sin(u3), sqrtu1 * Math.cos(u3), sqrt1u1 * Math.sin(u2));\n\t\t}\n\n\t\tequals(quaternion) {\n\t\t\treturn quaternion._x === this._x && quaternion._y === this._y && quaternion._z === this._z && quaternion._w === this._w;\n\t\t}\n\n\t\tfromArray(array, offset = 0) {\n\t\t\tthis._x = array[offset];\n\t\t\tthis._y = array[offset + 1];\n\t\t\tthis._z = array[offset + 2];\n\t\t\tthis._w = array[offset + 3];\n\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\t\t}\n\n\t\ttoArray(array = [], offset = 0) {\n\t\t\tarray[offset] = this._x;\n\t\t\tarray[offset + 1] = this._y;\n\t\t\tarray[offset + 2] = this._z;\n\t\t\tarray[offset + 3] = this._w;\n\t\t\treturn array;\n\t\t}\n\n\t\tfromBufferAttribute(attribute, index) {\n\t\t\tthis._x = attribute.getX(index);\n\t\t\tthis._y = attribute.getY(index);\n\t\t\tthis._z = attribute.getZ(index);\n\t\t\tthis._w = attribute.getW(index);\n\t\t\treturn this;\n\t\t}\n\n\t\t_onChange(callback) {\n\t\t\tthis._onChangeCallback = callback;\n\t\t\treturn this;\n\t\t}\n\n\t\t_onChangeCallback() {}\n\n\t\t*[Symbol.iterator]() {\n\t\t\tyield this._x;\n\t\t\tyield this._y;\n\t\t\tyield this._z;\n\t\t\tyield this._w;\n\t\t}\n\n\t}\n\n\tclass Vector3 {\n\t\tconstructor(x = 0, y = 0, z = 0) {\n\t\t\tthis.isVector3 = true;\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t\tthis.z = z;\n\t\t}\n\n\t\tset(x, y, z) {\n\t\t\tif (z === undefined) z = this.z; // sprite.scale.set(x,y)\n\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t\tthis.z = z;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetScalar(scalar) {\n\t\t\tthis.x = scalar;\n\t\t\tthis.y = scalar;\n\t\t\tthis.z = scalar;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetX(x) {\n\t\t\tthis.x = x;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetY(y) {\n\t\t\tthis.y = y;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetZ(z) {\n\t\t\tthis.z = z;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetComponent(index, value) {\n\t\t\tswitch (index) {\n\t\t\t\tcase 0:\n\t\t\t\t\tthis.x = value;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\t\t\t\t\tthis.y = value;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\t\t\t\t\tthis.z = value;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error('index is out of range: ' + index);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tgetComponent(index) {\n\t\t\tswitch (index) {\n\t\t\t\tcase 0:\n\t\t\t\t\treturn this.x;\n\n\t\t\t\tcase 1:\n\t\t\t\t\treturn this.y;\n\n\t\t\t\tcase 2:\n\t\t\t\t\treturn this.z;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error('index is out of range: ' + index);\n\t\t\t}\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor(this.x, this.y, this.z);\n\t\t}\n\n\t\tcopy(v) {\n\t\t\tthis.x = v.x;\n\t\t\tthis.y = v.y;\n\t\t\tthis.z = v.z;\n\t\t\treturn this;\n\t\t}\n\n\t\tadd(v, w) {\n\t\t\tif (w !== undefined) {\n\t\t\t\tconsole.warn('THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');\n\t\t\t\treturn this.addVectors(v, w);\n\t\t\t}\n\n\t\t\tthis.x += v.x;\n\t\t\tthis.y += v.y;\n\t\t\tthis.z += v.z;\n\t\t\treturn this;\n\t\t}\n\n\t\taddScalar(s) {\n\t\t\tthis.x += s;\n\t\t\tthis.y += s;\n\t\t\tthis.z += s;\n\t\t\treturn this;\n\t\t}\n\n\t\taddVectors(a, b) {\n\t\t\tthis.x = a.x + b.x;\n\t\t\tthis.y = a.y + b.y;\n\t\t\tthis.z = a.z + b.z;\n\t\t\treturn this;\n\t\t}\n\n\t\taddScaledVector(v, s) {\n\t\t\tthis.x += v.x * s;\n\t\t\tthis.y += v.y * s;\n\t\t\tthis.z += v.z * s;\n\t\t\treturn this;\n\t\t}\n\n\t\tsub(v, w) {\n\t\t\tif (w !== undefined) {\n\t\t\t\tconsole.warn('THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');\n\t\t\t\treturn this.subVectors(v, w);\n\t\t\t}\n\n\t\t\tthis.x -= v.x;\n\t\t\tthis.y -= v.y;\n\t\t\tthis.z -= v.z;\n\t\t\treturn this;\n\t\t}\n\n\t\tsubScalar(s) {\n\t\t\tthis.x -= s;\n\t\t\tthis.y -= s;\n\t\t\tthis.z -= s;\n\t\t\treturn this;\n\t\t}\n\n\t\tsubVectors(a, b) {\n\t\t\tthis.x = a.x - b.x;\n\t\t\tthis.y = a.y - b.y;\n\t\t\tthis.z = a.z - b.z;\n\t\t\treturn this;\n\t\t}\n\n\t\tmultiply(v, w) {\n\t\t\tif (w !== undefined) {\n\t\t\t\tconsole.warn('THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.');\n\t\t\t\treturn this.multiplyVectors(v, w);\n\t\t\t}\n\n\t\t\tthis.x *= v.x;\n\t\t\tthis.y *= v.y;\n\t\t\tthis.z *= v.z;\n\t\t\treturn this;\n\t\t}\n\n\t\tmultiplyScalar(scalar) {\n\t\t\tthis.x *= scalar;\n\t\t\tthis.y *= scalar;\n\t\t\tthis.z *= scalar;\n\t\t\treturn this;\n\t\t}\n\n\t\tmultiplyVectors(a, b) {\n\t\t\tthis.x = a.x * b.x;\n\t\t\tthis.y = a.y * b.y;\n\t\t\tthis.z = a.z * b.z;\n\t\t\treturn this;\n\t\t}\n\n\t\tapplyEuler(euler) {\n\t\t\tif (!(euler && euler.isEuler)) {\n\t\t\t\tconsole.error('THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.');\n\t\t\t}\n\n\t\t\treturn this.applyQuaternion(_quaternion$4.setFromEuler(euler));\n\t\t}\n\n\t\tapplyAxisAngle(axis, angle) {\n\t\t\treturn this.applyQuaternion(_quaternion$4.setFromAxisAngle(axis, angle));\n\t\t}\n\n\t\tapplyMatrix3(m) {\n\t\t\tconst x = this.x,\n\t\t\t\t\t\ty = this.y,\n\t\t\t\t\t\tz = this.z;\n\t\t\tconst e = m.elements;\n\t\t\tthis.x = e[0] * x + e[3] * y + e[6] * z;\n\t\t\tthis.y = e[1] * x + e[4] * y + e[7] * z;\n\t\t\tthis.z = e[2] * x + e[5] * y + e[8] * z;\n\t\t\treturn this;\n\t\t}\n\n\t\tapplyNormalMatrix(m) {\n\t\t\treturn this.applyMatrix3(m).normalize();\n\t\t}\n\n\t\tapplyMatrix4(m) {\n\t\t\tconst x = this.x,\n\t\t\t\t\t\ty = this.y,\n\t\t\t\t\t\tz = this.z;\n\t\t\tconst e = m.elements;\n\t\t\tconst w = 1 / (e[3] * x + e[7] * y + e[11] * z + e[15]);\n\t\t\tthis.x = (e[0] * x + e[4] * y + e[8] * z + e[12]) * w;\n\t\t\tthis.y = (e[1] * x + e[5] * y + e[9] * z + e[13]) * w;\n\t\t\tthis.z = (e[2] * x + e[6] * y + e[10] * z + e[14]) * w;\n\t\t\treturn this;\n\t\t}\n\n\t\tapplyQuaternion(q) {\n\t\t\tconst x = this.x,\n\t\t\t\t\t\ty = this.y,\n\t\t\t\t\t\tz = this.z;\n\t\t\tconst qx = q.x,\n\t\t\t\t\t\tqy = q.y,\n\t\t\t\t\t\tqz = q.z,\n\t\t\t\t\t\tqw = q.w; // calculate quat * vector\n\n\t\t\tconst ix = qw * x + qy * z - qz * y;\n\t\t\tconst iy = qw * y + qz * x - qx * z;\n\t\t\tconst iz = qw * z + qx * y - qy * x;\n\t\t\tconst iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n\t\t\tthis.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n\t\t\tthis.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n\t\t\tthis.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n\t\t\treturn this;\n\t\t}\n\n\t\tproject(camera) {\n\t\t\treturn this.applyMatrix4(camera.matrixWorldInverse).applyMatrix4(camera.projectionMatrix);\n\t\t}\n\n\t\tunproject(camera) {\n\t\t\treturn this.applyMatrix4(camera.projectionMatrixInverse).applyMatrix4(camera.matrixWorld);\n\t\t}\n\n\t\ttransformDirection(m) {\n\t\t\t// input: THREE.Matrix4 affine matrix\n\t\t\t// vector interpreted as a direction\n\t\t\tconst x = this.x,\n\t\t\t\t\t\ty = this.y,\n\t\t\t\t\t\tz = this.z;\n\t\t\tconst e = m.elements;\n\t\t\tthis.x = e[0] * x + e[4] * y + e[8] * z;\n\t\t\tthis.y = e[1] * x + e[5] * y + e[9] * z;\n\t\t\tthis.z = e[2] * x + e[6] * y + e[10] * z;\n\t\t\treturn this.normalize();\n\t\t}\n\n\t\tdivide(v) {\n\t\t\tthis.x /= v.x;\n\t\t\tthis.y /= v.y;\n\t\t\tthis.z /= v.z;\n\t\t\treturn this;\n\t\t}\n\n\t\tdivideScalar(scalar) {\n\t\t\treturn this.multiplyScalar(1 / scalar);\n\t\t}\n\n\t\tmin(v) {\n\t\t\tthis.x = Math.min(this.x, v.x);\n\t\t\tthis.y = Math.min(this.y, v.y);\n\t\t\tthis.z = Math.min(this.z, v.z);\n\t\t\treturn this;\n\t\t}\n\n\t\tmax(v) {\n\t\t\tthis.x = Math.max(this.x, v.x);\n\t\t\tthis.y = Math.max(this.y, v.y);\n\t\t\tthis.z = Math.max(this.z, v.z);\n\t\t\treturn this;\n\t\t}\n\n\t\tclamp(min, max) {\n\t\t\t// assumes min < max, componentwise\n\t\t\tthis.x = Math.max(min.x, Math.min(max.x, this.x));\n\t\t\tthis.y = Math.max(min.y, Math.min(max.y, this.y));\n\t\t\tthis.z = Math.max(min.z, Math.min(max.z, this.z));\n\t\t\treturn this;\n\t\t}\n\n\t\tclampScalar(minVal, maxVal) {\n\t\t\tthis.x = Math.max(minVal, Math.min(maxVal, this.x));\n\t\t\tthis.y = Math.max(minVal, Math.min(maxVal, this.y));\n\t\t\tthis.z = Math.max(minVal, Math.min(maxVal, this.z));\n\t\t\treturn this;\n\t\t}\n\n\t\tclampLength(min, max) {\n\t\t\tconst length = this.length();\n\t\t\treturn this.divideScalar(length || 1).multiplyScalar(Math.max(min, Math.min(max, length)));\n\t\t}\n\n\t\tfloor() {\n\t\t\tthis.x = Math.floor(this.x);\n\t\t\tthis.y = Math.floor(this.y);\n\t\t\tthis.z = Math.floor(this.z);\n\t\t\treturn this;\n\t\t}\n\n\t\tceil() {\n\t\t\tthis.x = Math.ceil(this.x);\n\t\t\tthis.y = Math.ceil(this.y);\n\t\t\tthis.z = Math.ceil(this.z);\n\t\t\treturn this;\n\t\t}\n\n\t\tround() {\n\t\t\tthis.x = Math.round(this.x);\n\t\t\tthis.y = Math.round(this.y);\n\t\t\tthis.z = Math.round(this.z);\n\t\t\treturn this;\n\t\t}\n\n\t\troundToZero() {\n\t\t\tthis.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x);\n\t\t\tthis.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y);\n\t\t\tthis.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z);\n\t\t\treturn this;\n\t\t}\n\n\t\tnegate() {\n\t\t\tthis.x = -this.x;\n\t\t\tthis.y = -this.y;\n\t\t\tthis.z = -this.z;\n\t\t\treturn this;\n\t\t}\n\n\t\tdot(v) {\n\t\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\t\t} // TODO lengthSquared?\n\n\n\t\tlengthSq() {\n\t\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\t\t}\n\n\t\tlength() {\n\t\t\treturn Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n\t\t}\n\n\t\tmanhattanLength() {\n\t\t\treturn Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z);\n\t\t}\n\n\t\tnormalize() {\n\t\t\treturn this.divideScalar(this.length() || 1);\n\t\t}\n\n\t\tsetLength(length) {\n\t\t\treturn this.normalize().multiplyScalar(length);\n\t\t}\n\n\t\tlerp(v, alpha) {\n\t\t\tthis.x += (v.x - this.x) * alpha;\n\t\t\tthis.y += (v.y - this.y) * alpha;\n\t\t\tthis.z += (v.z - this.z) * alpha;\n\t\t\treturn this;\n\t\t}\n\n\t\tlerpVectors(v1, v2, alpha) {\n\t\t\tthis.x = v1.x + (v2.x - v1.x) * alpha;\n\t\t\tthis.y = v1.y + (v2.y - v1.y) * alpha;\n\t\t\tthis.z = v1.z + (v2.z - v1.z) * alpha;\n\t\t\treturn this;\n\t\t}\n\n\t\tcross(v, w) {\n\t\t\tif (w !== undefined) {\n\t\t\t\tconsole.warn('THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.');\n\t\t\t\treturn this.crossVectors(v, w);\n\t\t\t}\n\n\t\t\treturn this.crossVectors(this, v);\n\t\t}\n\n\t\tcrossVectors(a, b) {\n\t\t\tconst ax = a.x,\n\t\t\t\t\t\tay = a.y,\n\t\t\t\t\t\taz = a.z;\n\t\t\tconst bx = b.x,\n\t\t\t\t\t\tby = b.y,\n\t\t\t\t\t\tbz = b.z;\n\t\t\tthis.x = ay * bz - az * by;\n\t\t\tthis.y = az * bx - ax * bz;\n\t\t\tthis.z = ax * by - ay * bx;\n\t\t\treturn this;\n\t\t}\n\n\t\tprojectOnVector(v) {\n\t\t\tconst denominator = v.lengthSq();\n\t\t\tif (denominator === 0) return this.set(0, 0, 0);\n\t\t\tconst scalar = v.dot(this) / denominator;\n\t\t\treturn this.copy(v).multiplyScalar(scalar);\n\t\t}\n\n\t\tprojectOnPlane(planeNormal) {\n\t\t\t_vector$c.copy(this).projectOnVector(planeNormal);\n\n\t\t\treturn this.sub(_vector$c);\n\t\t}\n\n\t\treflect(normal) {\n\t\t\t// reflect incident vector off plane orthogonal to normal\n\t\t\t// normal is assumed to have unit length\n\t\t\treturn this.sub(_vector$c.copy(normal).multiplyScalar(2 * this.dot(normal)));\n\t\t}\n\n\t\tangleTo(v) {\n\t\t\tconst denominator = Math.sqrt(this.lengthSq() * v.lengthSq());\n\t\t\tif (denominator === 0) return Math.PI / 2;\n\t\t\tconst theta = this.dot(v) / denominator; // clamp, to handle numerical problems\n\n\t\t\treturn Math.acos(clamp(theta, -1, 1));\n\t\t}\n\n\t\tdistanceTo(v) {\n\t\t\treturn Math.sqrt(this.distanceToSquared(v));\n\t\t}\n\n\t\tdistanceToSquared(v) {\n\t\t\tconst dx = this.x - v.x,\n\t\t\t\t\t\tdy = this.y - v.y,\n\t\t\t\t\t\tdz = this.z - v.z;\n\t\t\treturn dx * dx + dy * dy + dz * dz;\n\t\t}\n\n\t\tmanhattanDistanceTo(v) {\n\t\t\treturn Math.abs(this.x - v.x) + Math.abs(this.y - v.y) + Math.abs(this.z - v.z);\n\t\t}\n\n\t\tsetFromSpherical(s) {\n\t\t\treturn this.setFromSphericalCoords(s.radius, s.phi, s.theta);\n\t\t}\n\n\t\tsetFromSphericalCoords(radius, phi, theta) {\n\t\t\tconst sinPhiRadius = Math.sin(phi) * radius;\n\t\t\tthis.x = sinPhiRadius * Math.sin(theta);\n\t\t\tthis.y = Math.cos(phi) * radius;\n\t\t\tthis.z = sinPhiRadius * Math.cos(theta);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromCylindrical(c) {\n\t\t\treturn this.setFromCylindricalCoords(c.radius, c.theta, c.y);\n\t\t}\n\n\t\tsetFromCylindricalCoords(radius, theta, y) {\n\t\t\tthis.x = radius * Math.sin(theta);\n\t\t\tthis.y = y;\n\t\t\tthis.z = radius * Math.cos(theta);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromMatrixPosition(m) {\n\t\t\tconst e = m.elements;\n\t\t\tthis.x = e[12];\n\t\t\tthis.y = e[13];\n\t\t\tthis.z = e[14];\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromMatrixScale(m) {\n\t\t\tconst sx = this.setFromMatrixColumn(m, 0).length();\n\t\t\tconst sy = this.setFromMatrixColumn(m, 1).length();\n\t\t\tconst sz = this.setFromMatrixColumn(m, 2).length();\n\t\t\tthis.x = sx;\n\t\t\tthis.y = sy;\n\t\t\tthis.z = sz;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromMatrixColumn(m, index) {\n\t\t\treturn this.fromArray(m.elements, index * 4);\n\t\t}\n\n\t\tsetFromMatrix3Column(m, index) {\n\t\t\treturn this.fromArray(m.elements, index * 3);\n\t\t}\n\n\t\tsetFromEuler(e) {\n\t\t\tthis.x = e._x;\n\t\t\tthis.y = e._y;\n\t\t\tthis.z = e._z;\n\t\t\treturn this;\n\t\t}\n\n\t\tequals(v) {\n\t\t\treturn v.x === this.x && v.y === this.y && v.z === this.z;\n\t\t}\n\n\t\tfromArray(array, offset = 0) {\n\t\t\tthis.x = array[offset];\n\t\t\tthis.y = array[offset + 1];\n\t\t\tthis.z = array[offset + 2];\n\t\t\treturn this;\n\t\t}\n\n\t\ttoArray(array = [], offset = 0) {\n\t\t\tarray[offset] = this.x;\n\t\t\tarray[offset + 1] = this.y;\n\t\t\tarray[offset + 2] = this.z;\n\t\t\treturn array;\n\t\t}\n\n\t\tfromBufferAttribute(attribute, index, offset) {\n\t\t\tif (offset !== undefined) {\n\t\t\t\tconsole.warn('THREE.Vector3: offset has been removed from .fromBufferAttribute().');\n\t\t\t}\n\n\t\t\tthis.x = attribute.getX(index);\n\t\t\tthis.y = attribute.getY(index);\n\t\t\tthis.z = attribute.getZ(index);\n\t\t\treturn this;\n\t\t}\n\n\t\trandom() {\n\t\t\tthis.x = Math.random();\n\t\t\tthis.y = Math.random();\n\t\t\tthis.z = Math.random();\n\t\t\treturn this;\n\t\t}\n\n\t\trandomDirection() {\n\t\t\t// Derived from https://mathworld.wolfram.com/SpherePointPicking.html\n\t\t\tconst u = (Math.random() - 0.5) * 2;\n\t\t\tconst t = Math.random() * Math.PI * 2;\n\t\t\tconst f = Math.sqrt(1 - u ** 2);\n\t\t\tthis.x = f * Math.cos(t);\n\t\t\tthis.y = f * Math.sin(t);\n\t\t\tthis.z = u;\n\t\t\treturn this;\n\t\t}\n\n\t\t*[Symbol.iterator]() {\n\t\t\tyield this.x;\n\t\t\tyield this.y;\n\t\t\tyield this.z;\n\t\t}\n\n\t}\n\n\tconst _vector$c = /*@__PURE__*/new Vector3();\n\n\tconst _quaternion$4 = /*@__PURE__*/new Quaternion();\n\n\tclass Box3 {\n\t\tconstructor(min = new Vector3(+Infinity, +Infinity, +Infinity), max = new Vector3(-Infinity, -Infinity, -Infinity)) {\n\t\t\tthis.isBox3 = true;\n\t\t\tthis.min = min;\n\t\t\tthis.max = max;\n\t\t}\n\n\t\tset(min, max) {\n\t\t\tthis.min.copy(min);\n\t\t\tthis.max.copy(max);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromArray(array) {\n\t\t\tlet minX = +Infinity;\n\t\t\tlet minY = +Infinity;\n\t\t\tlet minZ = +Infinity;\n\t\t\tlet maxX = -Infinity;\n\t\t\tlet maxY = -Infinity;\n\t\t\tlet maxZ = -Infinity;\n\n\t\t\tfor (let i = 0, l = array.length; i < l; i += 3) {\n\t\t\t\tconst x = array[i];\n\t\t\t\tconst y = array[i + 1];\n\t\t\t\tconst z = array[i + 2];\n\t\t\t\tif (x < minX) minX = x;\n\t\t\t\tif (y < minY) minY = y;\n\t\t\t\tif (z < minZ) minZ = z;\n\t\t\t\tif (x > maxX) maxX = x;\n\t\t\t\tif (y > maxY) maxY = y;\n\t\t\t\tif (z > maxZ) maxZ = z;\n\t\t\t}\n\n\t\t\tthis.min.set(minX, minY, minZ);\n\t\t\tthis.max.set(maxX, maxY, maxZ);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromBufferAttribute(attribute) {\n\t\t\tlet minX = +Infinity;\n\t\t\tlet minY = +Infinity;\n\t\t\tlet minZ = +Infinity;\n\t\t\tlet maxX = -Infinity;\n\t\t\tlet maxY = -Infinity;\n\t\t\tlet maxZ = -Infinity;\n\n\t\t\tfor (let i = 0, l = attribute.count; i < l; i++) {\n\t\t\t\tconst x = attribute.getX(i);\n\t\t\t\tconst y = attribute.getY(i);\n\t\t\t\tconst z = attribute.getZ(i);\n\t\t\t\tif (x < minX) minX = x;\n\t\t\t\tif (y < minY) minY = y;\n\t\t\t\tif (z < minZ) minZ = z;\n\t\t\t\tif (x > maxX) maxX = x;\n\t\t\t\tif (y > maxY) maxY = y;\n\t\t\t\tif (z > maxZ) maxZ = z;\n\t\t\t}\n\n\t\t\tthis.min.set(minX, minY, minZ);\n\t\t\tthis.max.set(maxX, maxY, maxZ);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromPoints(points) {\n\t\t\tthis.makeEmpty();\n\n\t\t\tfor (let i = 0, il = points.length; i < il; i++) {\n\t\t\t\tthis.expandByPoint(points[i]);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromCenterAndSize(center, size) {\n\t\t\tconst halfSize = _vector$b.copy(size).multiplyScalar(0.5);\n\n\t\t\tthis.min.copy(center).sub(halfSize);\n\t\t\tthis.max.copy(center).add(halfSize);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromObject(object, precise = false) {\n\t\t\tthis.makeEmpty();\n\t\t\treturn this.expandByObject(object, precise);\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t\tcopy(box) {\n\t\t\tthis.min.copy(box.min);\n\t\t\tthis.max.copy(box.max);\n\t\t\treturn this;\n\t\t}\n\n\t\tmakeEmpty() {\n\t\t\tthis.min.x = this.min.y = this.min.z = +Infinity;\n\t\t\tthis.max.x = this.max.y = this.max.z = -Infinity;\n\t\t\treturn this;\n\t\t}\n\n\t\tisEmpty() {\n\t\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\t\t\treturn this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z;\n\t\t}\n\n\t\tgetCenter(target) {\n\t\t\treturn this.isEmpty() ? target.set(0, 0, 0) : target.addVectors(this.min, this.max).multiplyScalar(0.5);\n\t\t}\n\n\t\tgetSize(target) {\n\t\t\treturn this.isEmpty() ? target.set(0, 0, 0) : target.subVectors(this.max, this.min);\n\t\t}\n\n\t\texpandByPoint(point) {\n\t\t\tthis.min.min(point);\n\t\t\tthis.max.max(point);\n\t\t\treturn this;\n\t\t}\n\n\t\texpandByVector(vector) {\n\t\t\tthis.min.sub(vector);\n\t\t\tthis.max.add(vector);\n\t\t\treturn this;\n\t\t}\n\n\t\texpandByScalar(scalar) {\n\t\t\tthis.min.addScalar(-scalar);\n\t\t\tthis.max.addScalar(scalar);\n\t\t\treturn this;\n\t\t}\n\n\t\texpandByObject(object, precise = false) {\n\t\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t\t// accounting for both the object's, and children's, world transforms\n\t\t\tobject.updateWorldMatrix(false, false);\n\t\t\tconst geometry = object.geometry;\n\n\t\t\tif (geometry !== undefined) {\n\t\t\t\tif (precise && geometry.attributes != undefined && geometry.attributes.position !== undefined) {\n\t\t\t\t\tconst position = geometry.attributes.position;\n\n\t\t\t\t\tfor (let i = 0, l = position.count; i < l; i++) {\n\t\t\t\t\t\t_vector$b.fromBufferAttribute(position, i).applyMatrix4(object.matrixWorld);\n\n\t\t\t\t\t\tthis.expandByPoint(_vector$b);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (geometry.boundingBox === null) {\n\t\t\t\t\t\tgeometry.computeBoundingBox();\n\t\t\t\t\t}\n\n\t\t\t\t\t_box$3.copy(geometry.boundingBox);\n\n\t\t\t\t\t_box$3.applyMatrix4(object.matrixWorld);\n\n\t\t\t\t\tthis.union(_box$3);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst children = object.children;\n\n\t\t\tfor (let i = 0, l = children.length; i < l; i++) {\n\t\t\t\tthis.expandByObject(children[i], precise);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tcontainsPoint(point) {\n\t\t\treturn point.x < this.min.x || point.x > this.max.x || point.y < this.min.y || point.y > this.max.y || point.z < this.min.z || point.z > this.max.z ? false : true;\n\t\t}\n\n\t\tcontainsBox(box) {\n\t\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x && this.min.y <= box.min.y && box.max.y <= this.max.y && this.min.z <= box.min.z && box.max.z <= this.max.z;\n\t\t}\n\n\t\tgetParameter(point, target) {\n\t\t\t// This can potentially have a divide by zero if the box\n\t\t\t// has a size dimension of 0.\n\t\t\treturn target.set((point.x - this.min.x) / (this.max.x - this.min.x), (point.y - this.min.y) / (this.max.y - this.min.y), (point.z - this.min.z) / (this.max.z - this.min.z));\n\t\t}\n\n\t\tintersectsBox(box) {\n\t\t\t// using 6 splitting planes to rule out intersections.\n\t\t\treturn box.max.x < this.min.x || box.min.x > this.max.x || box.max.y < this.min.y || box.min.y > this.max.y || box.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\t\t}\n\n\t\tintersectsSphere(sphere) {\n\t\t\t// Find the point on the AABB closest to the sphere center.\n\t\t\tthis.clampPoint(sphere.center, _vector$b); // If that point is inside the sphere, the AABB and sphere intersect.\n\n\t\t\treturn _vector$b.distanceToSquared(sphere.center) <= sphere.radius * sphere.radius;\n\t\t}\n\n\t\tintersectsPlane(plane) {\n\t\t\t// We compute the minimum and maximum dot product values. If those values\n\t\t\t// are on the same side (back or front) of the plane, then there is no intersection.\n\t\t\tlet min, max;\n\n\t\t\tif (plane.normal.x > 0) {\n\t\t\t\tmin = plane.normal.x * this.min.x;\n\t\t\t\tmax = plane.normal.x * this.max.x;\n\t\t\t} else {\n\t\t\t\tmin = plane.normal.x * this.max.x;\n\t\t\t\tmax = plane.normal.x * this.min.x;\n\t\t\t}\n\n\t\t\tif (plane.normal.y > 0) {\n\t\t\t\tmin += plane.normal.y * this.min.y;\n\t\t\t\tmax += plane.normal.y * this.max.y;\n\t\t\t} else {\n\t\t\t\tmin += plane.normal.y * this.max.y;\n\t\t\t\tmax += plane.normal.y * this.min.y;\n\t\t\t}\n\n\t\t\tif (plane.normal.z > 0) {\n\t\t\t\tmin += plane.normal.z * this.min.z;\n\t\t\t\tmax += plane.normal.z * this.max.z;\n\t\t\t} else {\n\t\t\t\tmin += plane.normal.z * this.max.z;\n\t\t\t\tmax += plane.normal.z * this.min.z;\n\t\t\t}\n\n\t\t\treturn min <= -plane.constant && max >= -plane.constant;\n\t\t}\n\n\t\tintersectsTriangle(triangle) {\n\t\t\tif (this.isEmpty()) {\n\t\t\t\treturn false;\n\t\t\t} // compute box center and extents\n\n\n\t\t\tthis.getCenter(_center);\n\n\t\t\t_extents.subVectors(this.max, _center); // translate triangle to aabb origin\n\n\n\t\t\t_v0$2.subVectors(triangle.a, _center);\n\n\t\t\t_v1$7.subVectors(triangle.b, _center);\n\n\t\t\t_v2$3.subVectors(triangle.c, _center); // compute edge vectors for triangle\n\n\n\t\t\t_f0.subVectors(_v1$7, _v0$2);\n\n\t\t\t_f1.subVectors(_v2$3, _v1$7);\n\n\t\t\t_f2.subVectors(_v0$2, _v2$3); // test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n\t\t\t// make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n\t\t\t// axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n\n\n\t\t\tlet axes = [0, -_f0.z, _f0.y, 0, -_f1.z, _f1.y, 0, -_f2.z, _f2.y, _f0.z, 0, -_f0.x, _f1.z, 0, -_f1.x, _f2.z, 0, -_f2.x, -_f0.y, _f0.x, 0, -_f1.y, _f1.x, 0, -_f2.y, _f2.x, 0];\n\n\t\t\tif (!satForAxes(axes, _v0$2, _v1$7, _v2$3, _extents)) {\n\t\t\t\treturn false;\n\t\t\t} // test 3 face normals from the aabb\n\n\n\t\t\taxes = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n\t\t\tif (!satForAxes(axes, _v0$2, _v1$7, _v2$3, _extents)) {\n\t\t\t\treturn false;\n\t\t\t} // finally testing the face normal of the triangle\n\t\t\t// use already existing triangle edge vectors here\n\n\n\t\t\t_triangleNormal.crossVectors(_f0, _f1);\n\n\t\t\taxes = [_triangleNormal.x, _triangleNormal.y, _triangleNormal.z];\n\t\t\treturn satForAxes(axes, _v0$2, _v1$7, _v2$3, _extents);\n\t\t}\n\n\t\tclampPoint(point, target) {\n\t\t\treturn target.copy(point).clamp(this.min, this.max);\n\t\t}\n\n\t\tdistanceToPoint(point) {\n\t\t\tconst clampedPoint = _vector$b.copy(point).clamp(this.min, this.max);\n\n\t\t\treturn clampedPoint.sub(point).length();\n\t\t}\n\n\t\tgetBoundingSphere(target) {\n\t\t\tthis.getCenter(target.center);\n\t\t\ttarget.radius = this.getSize(_vector$b).length() * 0.5;\n\t\t\treturn target;\n\t\t}\n\n\t\tintersect(box) {\n\t\t\tthis.min.max(box.min);\n\t\t\tthis.max.min(box.max); // ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\n\t\t\tif (this.isEmpty()) this.makeEmpty();\n\t\t\treturn this;\n\t\t}\n\n\t\tunion(box) {\n\t\t\tthis.min.min(box.min);\n\t\t\tthis.max.max(box.max);\n\t\t\treturn this;\n\t\t}\n\n\t\tapplyMatrix4(matrix) {\n\t\t\t// transform of empty box is an empty box.\n\t\t\tif (this.isEmpty()) return this; // NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\n\t\t\t_points[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(matrix); // 000\n\n\n\t\t\t_points[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(matrix); // 001\n\n\n\t\t\t_points[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(matrix); // 010\n\n\n\t\t\t_points[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(matrix); // 011\n\n\n\t\t\t_points[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(matrix); // 100\n\n\n\t\t\t_points[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(matrix); // 101\n\n\n\t\t\t_points[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(matrix); // 110\n\n\n\t\t\t_points[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(matrix); // 111\n\n\n\t\t\tthis.setFromPoints(_points);\n\t\t\treturn this;\n\t\t}\n\n\t\ttranslate(offset) {\n\t\t\tthis.min.add(offset);\n\t\t\tthis.max.add(offset);\n\t\t\treturn this;\n\t\t}\n\n\t\tequals(box) {\n\t\t\treturn box.min.equals(this.min) && box.max.equals(this.max);\n\t\t}\n\n\t}\n\n\tconst _points = [/*@__PURE__*/new Vector3(), /*@__PURE__*/new Vector3(), /*@__PURE__*/new Vector3(), /*@__PURE__*/new Vector3(), /*@__PURE__*/new Vector3(), /*@__PURE__*/new Vector3(), /*@__PURE__*/new Vector3(), /*@__PURE__*/new Vector3()];\n\n\tconst _vector$b = /*@__PURE__*/new Vector3();\n\n\tconst _box$3 = /*@__PURE__*/new Box3(); // triangle centered vertices\n\n\n\tconst _v0$2 = /*@__PURE__*/new Vector3();\n\n\tconst _v1$7 = /*@__PURE__*/new Vector3();\n\n\tconst _v2$3 = /*@__PURE__*/new Vector3(); // triangle edge vectors\n\n\n\tconst _f0 = /*@__PURE__*/new Vector3();\n\n\tconst _f1 = /*@__PURE__*/new Vector3();\n\n\tconst _f2 = /*@__PURE__*/new Vector3();\n\n\tconst _center = /*@__PURE__*/new Vector3();\n\n\tconst _extents = /*@__PURE__*/new Vector3();\n\n\tconst _triangleNormal = /*@__PURE__*/new Vector3();\n\n\tconst _testAxis = /*@__PURE__*/new Vector3();\n\n\tfunction satForAxes(axes, v0, v1, v2, extents) {\n\t\tfor (let i = 0, j = axes.length - 3; i <= j; i += 3) {\n\t\t\t_testAxis.fromArray(axes, i); // project the aabb onto the separating axis\n\n\n\t\t\tconst r = extents.x * Math.abs(_testAxis.x) + extents.y * Math.abs(_testAxis.y) + extents.z * Math.abs(_testAxis.z); // project all 3 vertices of the triangle onto the separating axis\n\n\t\t\tconst p0 = v0.dot(_testAxis);\n\t\t\tconst p1 = v1.dot(_testAxis);\n\t\t\tconst p2 = v2.dot(_testAxis); // actual test, basically see if either of the most extreme of the triangle points intersects r\n\n\t\t\tif (Math.max(-Math.max(p0, p1, p2), Math.min(p0, p1, p2)) > r) {\n\t\t\t\t// points of the projected triangle are outside the projected half-length of the aabb\n\t\t\t\t// the axis is separating and we can exit\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tconst _box$2 = /*@__PURE__*/new Box3();\n\n\tconst _v1$6 = /*@__PURE__*/new Vector3();\n\n\tconst _toFarthestPoint = /*@__PURE__*/new Vector3();\n\n\tconst _toPoint = /*@__PURE__*/new Vector3();\n\n\tclass Sphere {\n\t\tconstructor(center = new Vector3(), radius = -1) {\n\t\t\tthis.center = center;\n\t\t\tthis.radius = radius;\n\t\t}\n\n\t\tset(center, radius) {\n\t\t\tthis.center.copy(center);\n\t\t\tthis.radius = radius;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromPoints(points, optionalCenter) {\n\t\t\tconst center = this.center;\n\n\t\t\tif (optionalCenter !== undefined) {\n\t\t\t\tcenter.copy(optionalCenter);\n\t\t\t} else {\n\t\t\t\t_box$2.setFromPoints(points).getCenter(center);\n\t\t\t}\n\n\t\t\tlet maxRadiusSq = 0;\n\n\t\t\tfor (let i = 0, il = points.length; i < il; i++) {\n\t\t\t\tmaxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(points[i]));\n\t\t\t}\n\n\t\t\tthis.radius = Math.sqrt(maxRadiusSq);\n\t\t\treturn this;\n\t\t}\n\n\t\tcopy(sphere) {\n\t\t\tthis.center.copy(sphere.center);\n\t\t\tthis.radius = sphere.radius;\n\t\t\treturn this;\n\t\t}\n\n\t\tisEmpty() {\n\t\t\treturn this.radius < 0;\n\t\t}\n\n\t\tmakeEmpty() {\n\t\t\tthis.center.set(0, 0, 0);\n\t\t\tthis.radius = -1;\n\t\t\treturn this;\n\t\t}\n\n\t\tcontainsPoint(point) {\n\t\t\treturn point.distanceToSquared(this.center) <= this.radius * this.radius;\n\t\t}\n\n\t\tdistanceToPoint(point) {\n\t\t\treturn point.distanceTo(this.center) - this.radius;\n\t\t}\n\n\t\tintersectsSphere(sphere) {\n\t\t\tconst radiusSum = this.radius + sphere.radius;\n\t\t\treturn sphere.center.distanceToSquared(this.center) <= radiusSum * radiusSum;\n\t\t}\n\n\t\tintersectsBox(box) {\n\t\t\treturn box.intersectsSphere(this);\n\t\t}\n\n\t\tintersectsPlane(plane) {\n\t\t\treturn Math.abs(plane.distanceToPoint(this.center)) <= this.radius;\n\t\t}\n\n\t\tclampPoint(point, target) {\n\t\t\tconst deltaLengthSq = this.center.distanceToSquared(point);\n\t\t\ttarget.copy(point);\n\n\t\t\tif (deltaLengthSq > this.radius * this.radius) {\n\t\t\t\ttarget.sub(this.center).normalize();\n\t\t\t\ttarget.multiplyScalar(this.radius).add(this.center);\n\t\t\t}\n\n\t\t\treturn target;\n\t\t}\n\n\t\tgetBoundingBox(target) {\n\t\t\tif (this.isEmpty()) {\n\t\t\t\t// Empty sphere produces empty bounding box\n\t\t\t\ttarget.makeEmpty();\n\t\t\t\treturn target;\n\t\t\t}\n\n\t\t\ttarget.set(this.center, this.center);\n\t\t\ttarget.expandByScalar(this.radius);\n\t\t\treturn target;\n\t\t}\n\n\t\tapplyMatrix4(matrix) {\n\t\t\tthis.center.applyMatrix4(matrix);\n\t\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\t\t\treturn this;\n\t\t}\n\n\t\ttranslate(offset) {\n\t\t\tthis.center.add(offset);\n\t\t\treturn this;\n\t\t}\n\n\t\texpandByPoint(point) {\n\t\t\t// from https://github.com/juj/MathGeoLib/blob/2940b99b99cfe575dd45103ef20f4019dee15b54/src/Geometry/Sphere.cpp#L649-L671\n\t\t\t_toPoint.subVectors(point, this.center);\n\n\t\t\tconst lengthSq = _toPoint.lengthSq();\n\n\t\t\tif (lengthSq > this.radius * this.radius) {\n\t\t\t\tconst length = Math.sqrt(lengthSq);\n\t\t\t\tconst missingRadiusHalf = (length - this.radius) * 0.5; // Nudge this sphere towards the target point. Add half the missing distance to radius,\n\t\t\t\t// and the other half to position. This gives a tighter enclosure, instead of if\n\t\t\t\t// the whole missing distance were just added to radius.\n\n\t\t\t\tthis.center.add(_toPoint.multiplyScalar(missingRadiusHalf / length));\n\t\t\t\tthis.radius += missingRadiusHalf;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tunion(sphere) {\n\t\t\t// from https://github.com/juj/MathGeoLib/blob/2940b99b99cfe575dd45103ef20f4019dee15b54/src/Geometry/Sphere.cpp#L759-L769\n\t\t\t// To enclose another sphere into this sphere, we only need to enclose two points:\n\t\t\t// 1) Enclose the farthest point on the other sphere into this sphere.\n\t\t\t// 2) Enclose the opposite point of the farthest point into this sphere.\n\t\t\tif (this.center.equals(sphere.center) === true) {\n\t\t\t\t_toFarthestPoint.set(0, 0, 1).multiplyScalar(sphere.radius);\n\t\t\t} else {\n\t\t\t\t_toFarthestPoint.subVectors(sphere.center, this.center).normalize().multiplyScalar(sphere.radius);\n\t\t\t}\n\n\t\t\tthis.expandByPoint(_v1$6.copy(sphere.center).add(_toFarthestPoint));\n\t\t\tthis.expandByPoint(_v1$6.copy(sphere.center).sub(_toFarthestPoint));\n\t\t\treturn this;\n\t\t}\n\n\t\tequals(sphere) {\n\t\t\treturn sphere.center.equals(this.center) && sphere.radius === this.radius;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t}\n\n\tconst _vector$a = /*@__PURE__*/new Vector3();\n\n\tconst _segCenter = /*@__PURE__*/new Vector3();\n\n\tconst _segDir = /*@__PURE__*/new Vector3();\n\n\tconst _diff = /*@__PURE__*/new Vector3();\n\n\tconst _edge1 = /*@__PURE__*/new Vector3();\n\n\tconst _edge2 = /*@__PURE__*/new Vector3();\n\n\tconst _normal$1 = /*@__PURE__*/new Vector3();\n\n\tclass Ray {\n\t\tconstructor(origin = new Vector3(), direction = new Vector3(0, 0, -1)) {\n\t\t\tthis.origin = origin;\n\t\t\tthis.direction = direction;\n\t\t}\n\n\t\tset(origin, direction) {\n\t\t\tthis.origin.copy(origin);\n\t\t\tthis.direction.copy(direction);\n\t\t\treturn this;\n\t\t}\n\n\t\tcopy(ray) {\n\t\t\tthis.origin.copy(ray.origin);\n\t\t\tthis.direction.copy(ray.direction);\n\t\t\treturn this;\n\t\t}\n\n\t\tat(t, target) {\n\t\t\treturn target.copy(this.direction).multiplyScalar(t).add(this.origin);\n\t\t}\n\n\t\tlookAt(v) {\n\t\t\tthis.direction.copy(v).sub(this.origin).normalize();\n\t\t\treturn this;\n\t\t}\n\n\t\trecast(t) {\n\t\t\tthis.origin.copy(this.at(t, _vector$a));\n\t\t\treturn this;\n\t\t}\n\n\t\tclosestPointToPoint(point, target) {\n\t\t\ttarget.subVectors(point, this.origin);\n\t\t\tconst directionDistance = target.dot(this.direction);\n\n\t\t\tif (directionDistance < 0) {\n\t\t\t\treturn target.copy(this.origin);\n\t\t\t}\n\n\t\t\treturn target.copy(this.direction).multiplyScalar(directionDistance).add(this.origin);\n\t\t}\n\n\t\tdistanceToPoint(point) {\n\t\t\treturn Math.sqrt(this.distanceSqToPoint(point));\n\t\t}\n\n\t\tdistanceSqToPoint(point) {\n\t\t\tconst directionDistance = _vector$a.subVectors(point, this.origin).dot(this.direction); // point behind the ray\n\n\n\t\t\tif (directionDistance < 0) {\n\t\t\t\treturn this.origin.distanceToSquared(point);\n\t\t\t}\n\n\t\t\t_vector$a.copy(this.direction).multiplyScalar(directionDistance).add(this.origin);\n\n\t\t\treturn _vector$a.distanceToSquared(point);\n\t\t}\n\n\t\tdistanceSqToSegment(v0, v1, optionalPointOnRay, optionalPointOnSegment) {\n\t\t\t// from https://github.com/pmjoniak/GeometricTools/blob/master/GTEngine/Include/Mathematics/GteDistRaySegment.h\n\t\t\t// It returns the min distance between the ray and the segment\n\t\t\t// defined by v0 and v1\n\t\t\t// It can also set two optional targets :\n\t\t\t// - The closest point on the ray\n\t\t\t// - The closest point on the segment\n\t\t\t_segCenter.copy(v0).add(v1).multiplyScalar(0.5);\n\n\t\t\t_segDir.copy(v1).sub(v0).normalize();\n\n\t\t\t_diff.copy(this.origin).sub(_segCenter);\n\n\t\t\tconst segExtent = v0.distanceTo(v1) * 0.5;\n\t\t\tconst a01 = -this.direction.dot(_segDir);\n\n\t\t\tconst b0 = _diff.dot(this.direction);\n\n\t\t\tconst b1 = -_diff.dot(_segDir);\n\n\t\t\tconst c = _diff.lengthSq();\n\n\t\t\tconst det = Math.abs(1 - a01 * a01);\n\t\t\tlet s0, s1, sqrDist, extDet;\n\n\t\t\tif (det > 0) {\n\t\t\t\t// The ray and segment are not parallel.\n\t\t\t\ts0 = a01 * b1 - b0;\n\t\t\t\ts1 = a01 * b0 - b1;\n\t\t\t\textDet = segExtent * det;\n\n\t\t\t\tif (s0 >= 0) {\n\t\t\t\t\tif (s1 >= -extDet) {\n\t\t\t\t\t\tif (s1 <= extDet) {\n\t\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\t\t\t\t\t\t\tconst invDet = 1 / det;\n\t\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\t\tsqrDist = s0 * (s0 + a01 * s1 + 2 * b0) + s1 * (a01 * s0 + s1 + 2 * b1) + c;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// region 1\n\t\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\t\ts0 = Math.max(0, -(a01 * s1 + b0));\n\t\t\t\t\t\t\tsqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// region 5\n\t\t\t\t\t\ts1 = -segExtent;\n\t\t\t\t\t\ts0 = Math.max(0, -(a01 * s1 + b0));\n\t\t\t\t\t\tsqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (s1 <= -extDet) {\n\t\t\t\t\t\t// region 4\n\t\t\t\t\t\ts0 = Math.max(0, -(-a01 * segExtent + b0));\n\t\t\t\t\t\ts1 = s0 > 0 ? -segExtent : Math.min(Math.max(-segExtent, -b1), segExtent);\n\t\t\t\t\t\tsqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n\t\t\t\t\t} else if (s1 <= extDet) {\n\t\t\t\t\t\t// region 3\n\t\t\t\t\t\ts0 = 0;\n\t\t\t\t\t\ts1 = Math.min(Math.max(-segExtent, -b1), segExtent);\n\t\t\t\t\t\tsqrDist = s1 * (s1 + 2 * b1) + c;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// region 2\n\t\t\t\t\t\ts0 = Math.max(0, -(a01 * segExtent + b0));\n\t\t\t\t\t\ts1 = s0 > 0 ? segExtent : Math.min(Math.max(-segExtent, -b1), segExtent);\n\t\t\t\t\t\tsqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Ray and segment are parallel.\n\t\t\t\ts1 = a01 > 0 ? -segExtent : segExtent;\n\t\t\t\ts0 = Math.max(0, -(a01 * s1 + b0));\n\t\t\t\tsqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n\t\t\t}\n\n\t\t\tif (optionalPointOnRay) {\n\t\t\t\toptionalPointOnRay.copy(this.direction).multiplyScalar(s0).add(this.origin);\n\t\t\t}\n\n\t\t\tif (optionalPointOnSegment) {\n\t\t\t\toptionalPointOnSegment.copy(_segDir).multiplyScalar(s1).add(_segCenter);\n\t\t\t}\n\n\t\t\treturn sqrDist;\n\t\t}\n\n\t\tintersectSphere(sphere, target) {\n\t\t\t_vector$a.subVectors(sphere.center, this.origin);\n\n\t\t\tconst tca = _vector$a.dot(this.direction);\n\n\t\t\tconst d2 = _vector$a.dot(_vector$a) - tca * tca;\n\t\t\tconst radius2 = sphere.radius * sphere.radius;\n\t\t\tif (d2 > radius2) return null;\n\t\t\tconst thc = Math.sqrt(radius2 - d2); // t0 = first intersect point - entrance on front of sphere\n\n\t\t\tconst t0 = tca - thc; // t1 = second intersect point - exit point on back of sphere\n\n\t\t\tconst t1 = tca + thc; // test to see if both t0 and t1 are behind the ray - if so, return null\n\n\t\t\tif (t0 < 0 && t1 < 0) return null; // test to see if t0 is behind the ray:\n\t\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t\t// in order to always return an intersect point that is in front of the ray.\n\n\t\t\tif (t0 < 0) return this.at(t1, target); // else t0 is in front of the ray, so return the first collision point scaled by t0\n\n\t\t\treturn this.at(t0, target);\n\t\t}\n\n\t\tintersectsSphere(sphere) {\n\t\t\treturn this.distanceSqToPoint(sphere.center) <= sphere.radius * sphere.radius;\n\t\t}\n\n\t\tdistanceToPlane(plane) {\n\t\t\tconst denominator = plane.normal.dot(this.direction);\n\n\t\t\tif (denominator === 0) {\n\t\t\t\t// line is coplanar, return origin\n\t\t\t\tif (plane.distanceToPoint(this.origin) === 0) {\n\t\t\t\t\treturn 0;\n\t\t\t\t} // Null is preferable to undefined since undefined means.... it is undefined\n\n\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst t = -(this.origin.dot(plane.normal) + plane.constant) / denominator; // Return if the ray never intersects the plane\n\n\t\t\treturn t >= 0 ? t : null;\n\t\t}\n\n\t\tintersectPlane(plane, target) {\n\t\t\tconst t = this.distanceToPlane(plane);\n\n\t\t\tif (t === null) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn this.at(t, target);\n\t\t}\n\n\t\tintersectsPlane(plane) {\n\t\t\t// check if the ray lies on the plane first\n\t\t\tconst distToPoint = plane.distanceToPoint(this.origin);\n\n\t\t\tif (distToPoint === 0) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst denominator = plane.normal.dot(this.direction);\n\n\t\t\tif (denominator * distToPoint < 0) {\n\t\t\t\treturn true;\n\t\t\t} // ray origin is behind the plane (and is pointing behind it)\n\n\n\t\t\treturn false;\n\t\t}\n\n\t\tintersectBox(box, target) {\n\t\t\tlet tmin, tmax, tymin, tymax, tzmin, tzmax;\n\t\t\tconst invdirx = 1 / this.direction.x,\n\t\t\t\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\t\t\t\tinvdirz = 1 / this.direction.z;\n\t\t\tconst origin = this.origin;\n\n\t\t\tif (invdirx >= 0) {\n\t\t\t\ttmin = (box.min.x - origin.x) * invdirx;\n\t\t\t\ttmax = (box.max.x - origin.x) * invdirx;\n\t\t\t} else {\n\t\t\t\ttmin = (box.max.x - origin.x) * invdirx;\n\t\t\t\ttmax = (box.min.x - origin.x) * invdirx;\n\t\t\t}\n\n\t\t\tif (invdiry >= 0) {\n\t\t\t\ttymin = (box.min.y - origin.y) * invdiry;\n\t\t\t\ttymax = (box.max.y - origin.y) * invdiry;\n\t\t\t} else {\n\t\t\t\ttymin = (box.max.y - origin.y) * invdiry;\n\t\t\t\ttymax = (box.min.y - origin.y) * invdiry;\n\t\t\t}\n\n\t\t\tif (tmin > tymax || tymin > tmax) return null; // These lines also handle the case where tmin or tmax is NaN\n\t\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\n\t\t\tif (tymin > tmin || tmin !== tmin) tmin = tymin;\n\t\t\tif (tymax < tmax || tmax !== tmax) tmax = tymax;\n\n\t\t\tif (invdirz >= 0) {\n\t\t\t\ttzmin = (box.min.z - origin.z) * invdirz;\n\t\t\t\ttzmax = (box.max.z - origin.z) * invdirz;\n\t\t\t} else {\n\t\t\t\ttzmin = (box.max.z - origin.z) * invdirz;\n\t\t\t\ttzmax = (box.min.z - origin.z) * invdirz;\n\t\t\t}\n\n\t\t\tif (tmin > tzmax || tzmin > tmax) return null;\n\t\t\tif (tzmin > tmin || tmin !== tmin) tmin = tzmin;\n\t\t\tif (tzmax < tmax || tmax !== tmax) tmax = tzmax; //return point closest to the ray (positive side)\n\n\t\t\tif (tmax < 0) return null;\n\t\t\treturn this.at(tmin >= 0 ? tmin : tmax, target);\n\t\t}\n\n\t\tintersectsBox(box) {\n\t\t\treturn this.intersectBox(box, _vector$a) !== null;\n\t\t}\n\n\t\tintersectTriangle(a, b, c, backfaceCulling, target) {\n\t\t\t// Compute the offset origin, edges, and normal.\n\t\t\t// from https://github.com/pmjoniak/GeometricTools/blob/master/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\t\t\t_edge1.subVectors(b, a);\n\n\t\t\t_edge2.subVectors(c, a);\n\n\t\t\t_normal$1.crossVectors(_edge1, _edge2); // Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t\t//\t |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t\t//\t |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t\t//\t |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\n\n\t\t\tlet DdN = this.direction.dot(_normal$1);\n\t\t\tlet sign;\n\n\t\t\tif (DdN > 0) {\n\t\t\t\tif (backfaceCulling) return null;\n\t\t\t\tsign = 1;\n\t\t\t} else if (DdN < 0) {\n\t\t\t\tsign = -1;\n\t\t\t\tDdN = -DdN;\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t_diff.subVectors(this.origin, a);\n\n\t\t\tconst DdQxE2 = sign * this.direction.dot(_edge2.crossVectors(_diff, _edge2)); // b1 < 0, no intersection\n\n\t\t\tif (DdQxE2 < 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst DdE1xQ = sign * this.direction.dot(_edge1.cross(_diff)); // b2 < 0, no intersection\n\n\t\t\tif (DdE1xQ < 0) {\n\t\t\t\treturn null;\n\t\t\t} // b1+b2 > 1, no intersection\n\n\n\t\t\tif (DdQxE2 + DdE1xQ > DdN) {\n\t\t\t\treturn null;\n\t\t\t} // Line intersects triangle, check if ray does.\n\n\n\t\t\tconst QdN = -sign * _diff.dot(_normal$1); // t < 0, no intersection\n\n\n\t\t\tif (QdN < 0) {\n\t\t\t\treturn null;\n\t\t\t} // Ray intersects triangle.\n\n\n\t\t\treturn this.at(QdN / DdN, target);\n\t\t}\n\n\t\tapplyMatrix4(matrix4) {\n\t\t\tthis.origin.applyMatrix4(matrix4);\n\t\t\tthis.direction.transformDirection(matrix4);\n\t\t\treturn this;\n\t\t}\n\n\t\tequals(ray) {\n\t\t\treturn ray.origin.equals(this.origin) && ray.direction.equals(this.direction);\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t}\n\n\tclass Matrix4 {\n\t\tconstructor() {\n\t\t\tthis.isMatrix4 = true;\n\t\t\tthis.elements = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n\n\t\t\tif (arguments.length > 0) {\n\t\t\t\tconsole.error('THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.');\n\t\t\t}\n\t\t}\n\n\t\tset(n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44) {\n\t\t\tconst te = this.elements;\n\t\t\tte[0] = n11;\n\t\t\tte[4] = n12;\n\t\t\tte[8] = n13;\n\t\t\tte[12] = n14;\n\t\t\tte[1] = n21;\n\t\t\tte[5] = n22;\n\t\t\tte[9] = n23;\n\t\t\tte[13] = n24;\n\t\t\tte[2] = n31;\n\t\t\tte[6] = n32;\n\t\t\tte[10] = n33;\n\t\t\tte[14] = n34;\n\t\t\tte[3] = n41;\n\t\t\tte[7] = n42;\n\t\t\tte[11] = n43;\n\t\t\tte[15] = n44;\n\t\t\treturn this;\n\t\t}\n\n\t\tidentity() {\n\t\t\tthis.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n\t\t\treturn this;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new Matrix4().fromArray(this.elements);\n\t\t}\n\n\t\tcopy(m) {\n\t\t\tconst te = this.elements;\n\t\t\tconst me = m.elements;\n\t\t\tte[0] = me[0];\n\t\t\tte[1] = me[1];\n\t\t\tte[2] = me[2];\n\t\t\tte[3] = me[3];\n\t\t\tte[4] = me[4];\n\t\t\tte[5] = me[5];\n\t\t\tte[6] = me[6];\n\t\t\tte[7] = me[7];\n\t\t\tte[8] = me[8];\n\t\t\tte[9] = me[9];\n\t\t\tte[10] = me[10];\n\t\t\tte[11] = me[11];\n\t\t\tte[12] = me[12];\n\t\t\tte[13] = me[13];\n\t\t\tte[14] = me[14];\n\t\t\tte[15] = me[15];\n\t\t\treturn this;\n\t\t}\n\n\t\tcopyPosition(m) {\n\t\t\tconst te = this.elements,\n\t\t\t\t\t\tme = m.elements;\n\t\t\tte[12] = me[12];\n\t\t\tte[13] = me[13];\n\t\t\tte[14] = me[14];\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromMatrix3(m) {\n\t\t\tconst me = m.elements;\n\t\t\tthis.set(me[0], me[3], me[6], 0, me[1], me[4], me[7], 0, me[2], me[5], me[8], 0, 0, 0, 0, 1);\n\t\t\treturn this;\n\t\t}\n\n\t\textractBasis(xAxis, yAxis, zAxis) {\n\t\t\txAxis.setFromMatrixColumn(this, 0);\n\t\t\tyAxis.setFromMatrixColumn(this, 1);\n\t\t\tzAxis.setFromMatrixColumn(this, 2);\n\t\t\treturn this;\n\t\t}\n\n\t\tmakeBasis(xAxis, yAxis, zAxis) {\n\t\t\tthis.set(xAxis.x, yAxis.x, zAxis.x, 0, xAxis.y, yAxis.y, zAxis.y, 0, xAxis.z, yAxis.z, zAxis.z, 0, 0, 0, 0, 1);\n\t\t\treturn this;\n\t\t}\n\n\t\textractRotation(m) {\n\t\t\t// this method does not support reflection matrices\n\t\t\tconst te = this.elements;\n\t\t\tconst me = m.elements;\n\n\t\t\tconst scaleX = 1 / _v1$5.setFromMatrixColumn(m, 0).length();\n\n\t\t\tconst scaleY = 1 / _v1$5.setFromMatrixColumn(m, 1).length();\n\n\t\t\tconst scaleZ = 1 / _v1$5.setFromMatrixColumn(m, 2).length();\n\n\t\t\tte[0] = me[0] * scaleX;\n\t\t\tte[1] = me[1] * scaleX;\n\t\t\tte[2] = me[2] * scaleX;\n\t\t\tte[3] = 0;\n\t\t\tte[4] = me[4] * scaleY;\n\t\t\tte[5] = me[5] * scaleY;\n\t\t\tte[6] = me[6] * scaleY;\n\t\t\tte[7] = 0;\n\t\t\tte[8] = me[8] * scaleZ;\n\t\t\tte[9] = me[9] * scaleZ;\n\t\t\tte[10] = me[10] * scaleZ;\n\t\t\tte[11] = 0;\n\t\t\tte[12] = 0;\n\t\t\tte[13] = 0;\n\t\t\tte[14] = 0;\n\t\t\tte[15] = 1;\n\t\t\treturn this;\n\t\t}\n\n\t\tmakeRotationFromEuler(euler) {\n\t\t\tif (!(euler && euler.isEuler)) {\n\t\t\t\tconsole.error('THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.');\n\t\t\t}\n\n\t\t\tconst te = this.elements;\n\t\t\tconst x = euler.x,\n\t\t\t\t\t\ty = euler.y,\n\t\t\t\t\t\tz = euler.z;\n\t\t\tconst a = Math.cos(x),\n\t\t\t\t\t\tb = Math.sin(x);\n\t\t\tconst c = Math.cos(y),\n\t\t\t\t\t\td = Math.sin(y);\n\t\t\tconst e = Math.cos(z),\n\t\t\t\t\t\tf = Math.sin(z);\n\n\t\t\tif (euler.order === 'XYZ') {\n\t\t\t\tconst ae = a * e,\n\t\t\t\t\t\t\taf = a * f,\n\t\t\t\t\t\t\tbe = b * e,\n\t\t\t\t\t\t\tbf = b * f;\n\t\t\t\tte[0] = c * e;\n\t\t\t\tte[4] = -c * f;\n\t\t\t\tte[8] = d;\n\t\t\t\tte[1] = af + be * d;\n\t\t\t\tte[5] = ae - bf * d;\n\t\t\t\tte[9] = -b * c;\n\t\t\t\tte[2] = bf - ae * d;\n\t\t\t\tte[6] = be + af * d;\n\t\t\t\tte[10] = a * c;\n\t\t\t} else if (euler.order === 'YXZ') {\n\t\t\t\tconst ce = c * e,\n\t\t\t\t\t\t\tcf = c * f,\n\t\t\t\t\t\t\tde = d * e,\n\t\t\t\t\t\t\tdf = d * f;\n\t\t\t\tte[0] = ce + df * b;\n\t\t\t\tte[4] = de * b - cf;\n\t\t\t\tte[8] = a * d;\n\t\t\t\tte[1] = a * f;\n\t\t\t\tte[5] = a * e;\n\t\t\t\tte[9] = -b;\n\t\t\t\tte[2] = cf * b - de;\n\t\t\t\tte[6] = df + ce * b;\n\t\t\t\tte[10] = a * c;\n\t\t\t} else if (euler.order === 'ZXY') {\n\t\t\t\tconst ce = c * e,\n\t\t\t\t\t\t\tcf = c * f,\n\t\t\t\t\t\t\tde = d * e,\n\t\t\t\t\t\t\tdf = d * f;\n\t\t\t\tte[0] = ce - df * b;\n\t\t\t\tte[4] = -a * f;\n\t\t\t\tte[8] = de + cf * b;\n\t\t\t\tte[1] = cf + de * b;\n\t\t\t\tte[5] = a * e;\n\t\t\t\tte[9] = df - ce * b;\n\t\t\t\tte[2] = -a * d;\n\t\t\t\tte[6] = b;\n\t\t\t\tte[10] = a * c;\n\t\t\t} else if (euler.order === 'ZYX') {\n\t\t\t\tconst ae = a * e,\n\t\t\t\t\t\t\taf = a * f,\n\t\t\t\t\t\t\tbe = b * e,\n\t\t\t\t\t\t\tbf = b * f;\n\t\t\t\tte[0] = c * e;\n\t\t\t\tte[4] = be * d - af;\n\t\t\t\tte[8] = ae * d + bf;\n\t\t\t\tte[1] = c * f;\n\t\t\t\tte[5] = bf * d + ae;\n\t\t\t\tte[9] = af * d - be;\n\t\t\t\tte[2] = -d;\n\t\t\t\tte[6] = b * c;\n\t\t\t\tte[10] = a * c;\n\t\t\t} else if (euler.order === 'YZX') {\n\t\t\t\tconst ac = a * c,\n\t\t\t\t\t\t\tad = a * d,\n\t\t\t\t\t\t\tbc = b * c,\n\t\t\t\t\t\t\tbd = b * d;\n\t\t\t\tte[0] = c * e;\n\t\t\t\tte[4] = bd - ac * f;\n\t\t\t\tte[8] = bc * f + ad;\n\t\t\t\tte[1] = f;\n\t\t\t\tte[5] = a * e;\n\t\t\t\tte[9] = -b * e;\n\t\t\t\tte[2] = -d * e;\n\t\t\t\tte[6] = ad * f + bc;\n\t\t\t\tte[10] = ac - bd * f;\n\t\t\t} else if (euler.order === 'XZY') {\n\t\t\t\tconst ac = a * c,\n\t\t\t\t\t\t\tad = a * d,\n\t\t\t\t\t\t\tbc = b * c,\n\t\t\t\t\t\t\tbd = b * d;\n\t\t\t\tte[0] = c * e;\n\t\t\t\tte[4] = -f;\n\t\t\t\tte[8] = d * e;\n\t\t\t\tte[1] = ac * f + bd;\n\t\t\t\tte[5] = a * e;\n\t\t\t\tte[9] = ad * f - bc;\n\t\t\t\tte[2] = bc * f - ad;\n\t\t\t\tte[6] = b * e;\n\t\t\t\tte[10] = bd * f + ac;\n\t\t\t} // bottom row\n\n\n\t\t\tte[3] = 0;\n\t\t\tte[7] = 0;\n\t\t\tte[11] = 0; // last column\n\n\t\t\tte[12] = 0;\n\t\t\tte[13] = 0;\n\t\t\tte[14] = 0;\n\t\t\tte[15] = 1;\n\t\t\treturn this;\n\t\t}\n\n\t\tmakeRotationFromQuaternion(q) {\n\t\t\treturn this.compose(_zero, q, _one);\n\t\t}\n\n\t\tlookAt(eye, target, up) {\n\t\t\tconst te = this.elements;\n\n\t\t\t_z.subVectors(eye, target);\n\n\t\t\tif (_z.lengthSq() === 0) {\n\t\t\t\t// eye and target are in the same position\n\t\t\t\t_z.z = 1;\n\t\t\t}\n\n\t\t\t_z.normalize();\n\n\t\t\t_x.crossVectors(up, _z);\n\n\t\t\tif (_x.lengthSq() === 0) {\n\t\t\t\t// up and z are parallel\n\t\t\t\tif (Math.abs(up.z) === 1) {\n\t\t\t\t\t_z.x += 0.0001;\n\t\t\t\t} else {\n\t\t\t\t\t_z.z += 0.0001;\n\t\t\t\t}\n\n\t\t\t\t_z.normalize();\n\n\t\t\t\t_x.crossVectors(up, _z);\n\t\t\t}\n\n\t\t\t_x.normalize();\n\n\t\t\t_y.crossVectors(_z, _x);\n\n\t\t\tte[0] = _x.x;\n\t\t\tte[4] = _y.x;\n\t\t\tte[8] = _z.x;\n\t\t\tte[1] = _x.y;\n\t\t\tte[5] = _y.y;\n\t\t\tte[9] = _z.y;\n\t\t\tte[2] = _x.z;\n\t\t\tte[6] = _y.z;\n\t\t\tte[10] = _z.z;\n\t\t\treturn this;\n\t\t}\n\n\t\tmultiply(m, n) {\n\t\t\tif (n !== undefined) {\n\t\t\t\tconsole.warn('THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.');\n\t\t\t\treturn this.multiplyMatrices(m, n);\n\t\t\t}\n\n\t\t\treturn this.multiplyMatrices(this, m);\n\t\t}\n\n\t\tpremultiply(m) {\n\t\t\treturn this.multiplyMatrices(m, this);\n\t\t}\n\n\t\tmultiplyMatrices(a, b) {\n\t\t\tconst ae = a.elements;\n\t\t\tconst be = b.elements;\n\t\t\tconst te = this.elements;\n\t\t\tconst a11 = ae[0],\n\t\t\t\t\t\ta12 = ae[4],\n\t\t\t\t\t\ta13 = ae[8],\n\t\t\t\t\t\ta14 = ae[12];\n\t\t\tconst a21 = ae[1],\n\t\t\t\t\t\ta22 = ae[5],\n\t\t\t\t\t\ta23 = ae[9],\n\t\t\t\t\t\ta24 = ae[13];\n\t\t\tconst a31 = ae[2],\n\t\t\t\t\t\ta32 = ae[6],\n\t\t\t\t\t\ta33 = ae[10],\n\t\t\t\t\t\ta34 = ae[14];\n\t\t\tconst a41 = ae[3],\n\t\t\t\t\t\ta42 = ae[7],\n\t\t\t\t\t\ta43 = ae[11],\n\t\t\t\t\t\ta44 = ae[15];\n\t\t\tconst b11 = be[0],\n\t\t\t\t\t\tb12 = be[4],\n\t\t\t\t\t\tb13 = be[8],\n\t\t\t\t\t\tb14 = be[12];\n\t\t\tconst b21 = be[1],\n\t\t\t\t\t\tb22 = be[5],\n\t\t\t\t\t\tb23 = be[9],\n\t\t\t\t\t\tb24 = be[13];\n\t\t\tconst b31 = be[2],\n\t\t\t\t\t\tb32 = be[6],\n\t\t\t\t\t\tb33 = be[10],\n\t\t\t\t\t\tb34 = be[14];\n\t\t\tconst b41 = be[3],\n\t\t\t\t\t\tb42 = be[7],\n\t\t\t\t\t\tb43 = be[11],\n\t\t\t\t\t\tb44 = be[15];\n\t\t\tte[0] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\t\tte[4] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\t\tte[8] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\t\tte[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\t\t\tte[1] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\t\tte[5] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\t\tte[9] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\t\tte[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\t\t\tte[2] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\t\tte[6] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\t\tte[10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\t\tte[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\t\t\tte[3] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\t\tte[7] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\t\tte[11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\t\tte[15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\t\t\treturn this;\n\t\t}\n\n\t\tmultiplyScalar(s) {\n\t\t\tconst te = this.elements;\n\t\t\tte[0] *= s;\n\t\t\tte[4] *= s;\n\t\t\tte[8] *= s;\n\t\t\tte[12] *= s;\n\t\t\tte[1] *= s;\n\t\t\tte[5] *= s;\n\t\t\tte[9] *= s;\n\t\t\tte[13] *= s;\n\t\t\tte[2] *= s;\n\t\t\tte[6] *= s;\n\t\t\tte[10] *= s;\n\t\t\tte[14] *= s;\n\t\t\tte[3] *= s;\n\t\t\tte[7] *= s;\n\t\t\tte[11] *= s;\n\t\t\tte[15] *= s;\n\t\t\treturn this;\n\t\t}\n\n\t\tdeterminant() {\n\t\t\tconst te = this.elements;\n\t\t\tconst n11 = te[0],\n\t\t\t\t\t\tn12 = te[4],\n\t\t\t\t\t\tn13 = te[8],\n\t\t\t\t\t\tn14 = te[12];\n\t\t\tconst n21 = te[1],\n\t\t\t\t\t\tn22 = te[5],\n\t\t\t\t\t\tn23 = te[9],\n\t\t\t\t\t\tn24 = te[13];\n\t\t\tconst n31 = te[2],\n\t\t\t\t\t\tn32 = te[6],\n\t\t\t\t\t\tn33 = te[10],\n\t\t\t\t\t\tn34 = te[14];\n\t\t\tconst n41 = te[3],\n\t\t\t\t\t\tn42 = te[7],\n\t\t\t\t\t\tn43 = te[11],\n\t\t\t\t\t\tn44 = te[15]; //TODO: make this more efficient\n\t\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\t\treturn n41 * (+n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34) + n42 * (+n11 * n23 * n34 - n11 * n24 * n33 + n14 * n21 * n33 - n13 * n21 * n34 + n13 * n24 * n31 - n14 * n23 * n31) + n43 * (+n11 * n24 * n32 - n11 * n22 * n34 - n14 * n21 * n32 + n12 * n21 * n34 + n14 * n22 * n31 - n12 * n24 * n31) + n44 * (-n13 * n22 * n31 - n11 * n23 * n32 + n11 * n22 * n33 + n13 * n21 * n32 - n12 * n21 * n33 + n12 * n23 * n31);\n\t\t}\n\n\t\ttranspose() {\n\t\t\tconst te = this.elements;\n\t\t\tlet tmp;\n\t\t\ttmp = te[1];\n\t\t\tte[1] = te[4];\n\t\t\tte[4] = tmp;\n\t\t\ttmp = te[2];\n\t\t\tte[2] = te[8];\n\t\t\tte[8] = tmp;\n\t\t\ttmp = te[6];\n\t\t\tte[6] = te[9];\n\t\t\tte[9] = tmp;\n\t\t\ttmp = te[3];\n\t\t\tte[3] = te[12];\n\t\t\tte[12] = tmp;\n\t\t\ttmp = te[7];\n\t\t\tte[7] = te[13];\n\t\t\tte[13] = tmp;\n\t\t\ttmp = te[11];\n\t\t\tte[11] = te[14];\n\t\t\tte[14] = tmp;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetPosition(x, y, z) {\n\t\t\tconst te = this.elements;\n\n\t\t\tif (x.isVector3) {\n\t\t\t\tte[12] = x.x;\n\t\t\t\tte[13] = x.y;\n\t\t\t\tte[14] = x.z;\n\t\t\t} else {\n\t\t\t\tte[12] = x;\n\t\t\t\tte[13] = y;\n\t\t\t\tte[14] = z;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tinvert() {\n\t\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\t\tconst te = this.elements,\n\t\t\t\t\t\tn11 = te[0],\n\t\t\t\t\t\tn21 = te[1],\n\t\t\t\t\t\tn31 = te[2],\n\t\t\t\t\t\tn41 = te[3],\n\t\t\t\t\t\tn12 = te[4],\n\t\t\t\t\t\tn22 = te[5],\n\t\t\t\t\t\tn32 = te[6],\n\t\t\t\t\t\tn42 = te[7],\n\t\t\t\t\t\tn13 = te[8],\n\t\t\t\t\t\tn23 = te[9],\n\t\t\t\t\t\tn33 = te[10],\n\t\t\t\t\t\tn43 = te[11],\n\t\t\t\t\t\tn14 = te[12],\n\t\t\t\t\t\tn24 = te[13],\n\t\t\t\t\t\tn34 = te[14],\n\t\t\t\t\t\tn44 = te[15],\n\t\t\t\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\t\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\t\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\t\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\t\t\tconst det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\t\t\tif (det === 0) return this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n\t\t\tconst detInv = 1 / det;\n\t\t\tte[0] = t11 * detInv;\n\t\t\tte[1] = (n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44) * detInv;\n\t\t\tte[2] = (n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44) * detInv;\n\t\t\tte[3] = (n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43) * detInv;\n\t\t\tte[4] = t12 * detInv;\n\t\t\tte[5] = (n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44) * detInv;\n\t\t\tte[6] = (n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44) * detInv;\n\t\t\tte[7] = (n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43) * detInv;\n\t\t\tte[8] = t13 * detInv;\n\t\t\tte[9] = (n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44) * detInv;\n\t\t\tte[10] = (n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44) * detInv;\n\t\t\tte[11] = (n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43) * detInv;\n\t\t\tte[12] = t14 * detInv;\n\t\t\tte[13] = (n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34) * detInv;\n\t\t\tte[14] = (n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34) * detInv;\n\t\t\tte[15] = (n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33) * detInv;\n\t\t\treturn this;\n\t\t}\n\n\t\tscale(v) {\n\t\t\tconst te = this.elements;\n\t\t\tconst x = v.x,\n\t\t\t\t\t\ty = v.y,\n\t\t\t\t\t\tz = v.z;\n\t\t\tte[0] *= x;\n\t\t\tte[4] *= y;\n\t\t\tte[8] *= z;\n\t\t\tte[1] *= x;\n\t\t\tte[5] *= y;\n\t\t\tte[9] *= z;\n\t\t\tte[2] *= x;\n\t\t\tte[6] *= y;\n\t\t\tte[10] *= z;\n\t\t\tte[3] *= x;\n\t\t\tte[7] *= y;\n\t\t\tte[11] *= z;\n\t\t\treturn this;\n\t\t}\n\n\t\tgetMaxScaleOnAxis() {\n\t\t\tconst te = this.elements;\n\t\t\tconst scaleXSq = te[0] * te[0] + te[1] * te[1] + te[2] * te[2];\n\t\t\tconst scaleYSq = te[4] * te[4] + te[5] * te[5] + te[6] * te[6];\n\t\t\tconst scaleZSq = te[8] * te[8] + te[9] * te[9] + te[10] * te[10];\n\t\t\treturn Math.sqrt(Math.max(scaleXSq, scaleYSq, scaleZSq));\n\t\t}\n\n\t\tmakeTranslation(x, y, z) {\n\t\t\tthis.set(1, 0, 0, x, 0, 1, 0, y, 0, 0, 1, z, 0, 0, 0, 1);\n\t\t\treturn this;\n\t\t}\n\n\t\tmakeRotationX(theta) {\n\t\t\tconst c = Math.cos(theta),\n\t\t\t\t\t\ts = Math.sin(theta);\n\t\t\tthis.set(1, 0, 0, 0, 0, c, -s, 0, 0, s, c, 0, 0, 0, 0, 1);\n\t\t\treturn this;\n\t\t}\n\n\t\tmakeRotationY(theta) {\n\t\t\tconst c = Math.cos(theta),\n\t\t\t\t\t\ts = Math.sin(theta);\n\t\t\tthis.set(c, 0, s, 0, 0, 1, 0, 0, -s, 0, c, 0, 0, 0, 0, 1);\n\t\t\treturn this;\n\t\t}\n\n\t\tmakeRotationZ(theta) {\n\t\t\tconst c = Math.cos(theta),\n\t\t\t\t\t\ts = Math.sin(theta);\n\t\t\tthis.set(c, -s, 0, 0, s, c, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n\t\t\treturn this;\n\t\t}\n\n\t\tmakeRotationAxis(axis, angle) {\n\t\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\t\t\tconst c = Math.cos(angle);\n\t\t\tconst s = Math.sin(angle);\n\t\t\tconst t = 1 - c;\n\t\t\tconst x = axis.x,\n\t\t\t\t\t\ty = axis.y,\n\t\t\t\t\t\tz = axis.z;\n\t\t\tconst tx = t * x,\n\t\t\t\t\t\tty = t * y;\n\t\t\tthis.set(tx * x + c, tx * y - s * z, tx * z + s * y, 0, tx * y + s * z, ty * y + c, ty * z - s * x, 0, tx * z - s * y, ty * z + s * x, t * z * z + c, 0, 0, 0, 0, 1);\n\t\t\treturn this;\n\t\t}\n\n\t\tmakeScale(x, y, z) {\n\t\t\tthis.set(x, 0, 0, 0, 0, y, 0, 0, 0, 0, z, 0, 0, 0, 0, 1);\n\t\t\treturn this;\n\t\t}\n\n\t\tmakeShear(xy, xz, yx, yz, zx, zy) {\n\t\t\tthis.set(1, yx, zx, 0, xy, 1, zy, 0, xz, yz, 1, 0, 0, 0, 0, 1);\n\t\t\treturn this;\n\t\t}\n\n\t\tcompose(position, quaternion, scale) {\n\t\t\tconst te = this.elements;\n\t\t\tconst x = quaternion._x,\n\t\t\t\t\t\ty = quaternion._y,\n\t\t\t\t\t\tz = quaternion._z,\n\t\t\t\t\t\tw = quaternion._w;\n\t\t\tconst x2 = x + x,\n\t\t\t\t\t\ty2 = y + y,\n\t\t\t\t\t\tz2 = z + z;\n\t\t\tconst xx = x * x2,\n\t\t\t\t\t\txy = x * y2,\n\t\t\t\t\t\txz = x * z2;\n\t\t\tconst yy = y * y2,\n\t\t\t\t\t\tyz = y * z2,\n\t\t\t\t\t\tzz = z * z2;\n\t\t\tconst wx = w * x2,\n\t\t\t\t\t\twy = w * y2,\n\t\t\t\t\t\twz = w * z2;\n\t\t\tconst sx = scale.x,\n\t\t\t\t\t\tsy = scale.y,\n\t\t\t\t\t\tsz = scale.z;\n\t\t\tte[0] = (1 - (yy + zz)) * sx;\n\t\t\tte[1] = (xy + wz) * sx;\n\t\t\tte[2] = (xz - wy) * sx;\n\t\t\tte[3] = 0;\n\t\t\tte[4] = (xy - wz) * sy;\n\t\t\tte[5] = (1 - (xx + zz)) * sy;\n\t\t\tte[6] = (yz + wx) * sy;\n\t\t\tte[7] = 0;\n\t\t\tte[8] = (xz + wy) * sz;\n\t\t\tte[9] = (yz - wx) * sz;\n\t\t\tte[10] = (1 - (xx + yy)) * sz;\n\t\t\tte[11] = 0;\n\t\t\tte[12] = position.x;\n\t\t\tte[13] = position.y;\n\t\t\tte[14] = position.z;\n\t\t\tte[15] = 1;\n\t\t\treturn this;\n\t\t}\n\n\t\tdecompose(position, quaternion, scale) {\n\t\t\tconst te = this.elements;\n\n\t\t\tlet sx = _v1$5.set(te[0], te[1], te[2]).length();\n\n\t\t\tconst sy = _v1$5.set(te[4], te[5], te[6]).length();\n\n\t\t\tconst sz = _v1$5.set(te[8], te[9], te[10]).length(); // if determine is negative, we need to invert one scale\n\n\n\t\t\tconst det = this.determinant();\n\t\t\tif (det < 0) sx = -sx;\n\t\t\tposition.x = te[12];\n\t\t\tposition.y = te[13];\n\t\t\tposition.z = te[14]; // scale the rotation part\n\n\t\t\t_m1$2.copy(this);\n\n\t\t\tconst invSX = 1 / sx;\n\t\t\tconst invSY = 1 / sy;\n\t\t\tconst invSZ = 1 / sz;\n\t\t\t_m1$2.elements[0] *= invSX;\n\t\t\t_m1$2.elements[1] *= invSX;\n\t\t\t_m1$2.elements[2] *= invSX;\n\t\t\t_m1$2.elements[4] *= invSY;\n\t\t\t_m1$2.elements[5] *= invSY;\n\t\t\t_m1$2.elements[6] *= invSY;\n\t\t\t_m1$2.elements[8] *= invSZ;\n\t\t\t_m1$2.elements[9] *= invSZ;\n\t\t\t_m1$2.elements[10] *= invSZ;\n\t\t\tquaternion.setFromRotationMatrix(_m1$2);\n\t\t\tscale.x = sx;\n\t\t\tscale.y = sy;\n\t\t\tscale.z = sz;\n\t\t\treturn this;\n\t\t}\n\n\t\tmakePerspective(left, right, top, bottom, near, far) {\n\t\t\tif (far === undefined) {\n\t\t\t\tconsole.warn('THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.');\n\t\t\t}\n\n\t\t\tconst te = this.elements;\n\t\t\tconst x = 2 * near / (right - left);\n\t\t\tconst y = 2 * near / (top - bottom);\n\t\t\tconst a = (right + left) / (right - left);\n\t\t\tconst b = (top + bottom) / (top - bottom);\n\t\t\tconst c = -(far + near) / (far - near);\n\t\t\tconst d = -2 * far * near / (far - near);\n\t\t\tte[0] = x;\n\t\t\tte[4] = 0;\n\t\t\tte[8] = a;\n\t\t\tte[12] = 0;\n\t\t\tte[1] = 0;\n\t\t\tte[5] = y;\n\t\t\tte[9] = b;\n\t\t\tte[13] = 0;\n\t\t\tte[2] = 0;\n\t\t\tte[6] = 0;\n\t\t\tte[10] = c;\n\t\t\tte[14] = d;\n\t\t\tte[3] = 0;\n\t\t\tte[7] = 0;\n\t\t\tte[11] = -1;\n\t\t\tte[15] = 0;\n\t\t\treturn this;\n\t\t}\n\n\t\tmakeOrthographic(left, right, top, bottom, near, far) {\n\t\t\tconst te = this.elements;\n\t\t\tconst w = 1.0 / (right - left);\n\t\t\tconst h = 1.0 / (top - bottom);\n\t\t\tconst p = 1.0 / (far - near);\n\t\t\tconst x = (right + left) * w;\n\t\t\tconst y = (top + bottom) * h;\n\t\t\tconst z = (far + near) * p;\n\t\t\tte[0] = 2 * w;\n\t\t\tte[4] = 0;\n\t\t\tte[8] = 0;\n\t\t\tte[12] = -x;\n\t\t\tte[1] = 0;\n\t\t\tte[5] = 2 * h;\n\t\t\tte[9] = 0;\n\t\t\tte[13] = -y;\n\t\t\tte[2] = 0;\n\t\t\tte[6] = 0;\n\t\t\tte[10] = -2 * p;\n\t\t\tte[14] = -z;\n\t\t\tte[3] = 0;\n\t\t\tte[7] = 0;\n\t\t\tte[11] = 0;\n\t\t\tte[15] = 1;\n\t\t\treturn this;\n\t\t}\n\n\t\tequals(matrix) {\n\t\t\tconst te = this.elements;\n\t\t\tconst me = matrix.elements;\n\n\t\t\tfor (let i = 0; i < 16; i++) {\n\t\t\t\tif (te[i] !== me[i]) return false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\tfromArray(array, offset = 0) {\n\t\t\tfor (let i = 0; i < 16; i++) {\n\t\t\t\tthis.elements[i] = array[i + offset];\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\ttoArray(array = [], offset = 0) {\n\t\t\tconst te = this.elements;\n\t\t\tarray[offset] = te[0];\n\t\t\tarray[offset + 1] = te[1];\n\t\t\tarray[offset + 2] = te[2];\n\t\t\tarray[offset + 3] = te[3];\n\t\t\tarray[offset + 4] = te[4];\n\t\t\tarray[offset + 5] = te[5];\n\t\t\tarray[offset + 6] = te[6];\n\t\t\tarray[offset + 7] = te[7];\n\t\t\tarray[offset + 8] = te[8];\n\t\t\tarray[offset + 9] = te[9];\n\t\t\tarray[offset + 10] = te[10];\n\t\t\tarray[offset + 11] = te[11];\n\t\t\tarray[offset + 12] = te[12];\n\t\t\tarray[offset + 13] = te[13];\n\t\t\tarray[offset + 14] = te[14];\n\t\t\tarray[offset + 15] = te[15];\n\t\t\treturn array;\n\t\t}\n\n\t}\n\n\tconst _v1$5 = /*@__PURE__*/new Vector3();\n\n\tconst _m1$2 = /*@__PURE__*/new Matrix4();\n\n\tconst _zero = /*@__PURE__*/new Vector3(0, 0, 0);\n\n\tconst _one = /*@__PURE__*/new Vector3(1, 1, 1);\n\n\tconst _x = /*@__PURE__*/new Vector3();\n\n\tconst _y = /*@__PURE__*/new Vector3();\n\n\tconst _z = /*@__PURE__*/new Vector3();\n\n\tconst _matrix$1 = /*@__PURE__*/new Matrix4();\n\n\tconst _quaternion$3 = /*@__PURE__*/new Quaternion();\n\n\tclass Euler {\n\t\tconstructor(x = 0, y = 0, z = 0, order = Euler.DefaultOrder) {\n\t\t\tthis.isEuler = true;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\t\t\tthis._order = order;\n\t\t}\n\n\t\tget x() {\n\t\t\treturn this._x;\n\t\t}\n\n\t\tset x(value) {\n\t\t\tthis._x = value;\n\n\t\t\tthis._onChangeCallback();\n\t\t}\n\n\t\tget y() {\n\t\t\treturn this._y;\n\t\t}\n\n\t\tset y(value) {\n\t\t\tthis._y = value;\n\n\t\t\tthis._onChangeCallback();\n\t\t}\n\n\t\tget z() {\n\t\t\treturn this._z;\n\t\t}\n\n\t\tset z(value) {\n\t\t\tthis._z = value;\n\n\t\t\tthis._onChangeCallback();\n\t\t}\n\n\t\tget order() {\n\t\t\treturn this._order;\n\t\t}\n\n\t\tset order(value) {\n\t\t\tthis._order = value;\n\n\t\t\tthis._onChangeCallback();\n\t\t}\n\n\t\tset(x, y, z, order = this._order) {\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\t\t\tthis._order = order;\n\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor(this._x, this._y, this._z, this._order);\n\t\t}\n\n\t\tcopy(euler) {\n\t\t\tthis._x = euler._x;\n\t\t\tthis._y = euler._y;\n\t\t\tthis._z = euler._z;\n\t\t\tthis._order = euler._order;\n\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromRotationMatrix(m, order = this._order, update = true) {\n\t\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\t\t\tconst te = m.elements;\n\t\t\tconst m11 = te[0],\n\t\t\t\t\t\tm12 = te[4],\n\t\t\t\t\t\tm13 = te[8];\n\t\t\tconst m21 = te[1],\n\t\t\t\t\t\tm22 = te[5],\n\t\t\t\t\t\tm23 = te[9];\n\t\t\tconst m31 = te[2],\n\t\t\t\t\t\tm32 = te[6],\n\t\t\t\t\t\tm33 = te[10];\n\n\t\t\tswitch (order) {\n\t\t\t\tcase 'XYZ':\n\t\t\t\t\tthis._y = Math.asin(clamp(m13, -1, 1));\n\n\t\t\t\t\tif (Math.abs(m13) < 0.9999999) {\n\t\t\t\t\t\tthis._x = Math.atan2(-m23, m33);\n\t\t\t\t\t\tthis._z = Math.atan2(-m12, m11);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._x = Math.atan2(m32, m22);\n\t\t\t\t\t\tthis._z = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'YXZ':\n\t\t\t\t\tthis._x = Math.asin(-clamp(m23, -1, 1));\n\n\t\t\t\t\tif (Math.abs(m23) < 0.9999999) {\n\t\t\t\t\t\tthis._y = Math.atan2(m13, m33);\n\t\t\t\t\t\tthis._z = Math.atan2(m21, m22);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._y = Math.atan2(-m31, m11);\n\t\t\t\t\t\tthis._z = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ZXY':\n\t\t\t\t\tthis._x = Math.asin(clamp(m32, -1, 1));\n\n\t\t\t\t\tif (Math.abs(m32) < 0.9999999) {\n\t\t\t\t\t\tthis._y = Math.atan2(-m31, m33);\n\t\t\t\t\t\tthis._z = Math.atan2(-m12, m22);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._y = 0;\n\t\t\t\t\t\tthis._z = Math.atan2(m21, m11);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ZYX':\n\t\t\t\t\tthis._y = Math.asin(-clamp(m31, -1, 1));\n\n\t\t\t\t\tif (Math.abs(m31) < 0.9999999) {\n\t\t\t\t\t\tthis._x = Math.atan2(m32, m33);\n\t\t\t\t\t\tthis._z = Math.atan2(m21, m11);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._x = 0;\n\t\t\t\t\t\tthis._z = Math.atan2(-m12, m22);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'YZX':\n\t\t\t\t\tthis._z = Math.asin(clamp(m21, -1, 1));\n\n\t\t\t\t\tif (Math.abs(m21) < 0.9999999) {\n\t\t\t\t\t\tthis._x = Math.atan2(-m23, m22);\n\t\t\t\t\t\tthis._y = Math.atan2(-m31, m11);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._x = 0;\n\t\t\t\t\t\tthis._y = Math.atan2(m13, m33);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'XZY':\n\t\t\t\t\tthis._z = Math.asin(-clamp(m12, -1, 1));\n\n\t\t\t\t\tif (Math.abs(m12) < 0.9999999) {\n\t\t\t\t\t\tthis._x = Math.atan2(m32, m22);\n\t\t\t\t\t\tthis._y = Math.atan2(m13, m11);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._x = Math.atan2(-m23, m33);\n\t\t\t\t\t\tthis._y = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.warn('THREE.Euler: .setFromRotationMatrix() encountered an unknown order: ' + order);\n\t\t\t}\n\n\t\t\tthis._order = order;\n\t\t\tif (update === true) this._onChangeCallback();\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromQuaternion(q, order, update) {\n\t\t\t_matrix$1.makeRotationFromQuaternion(q);\n\n\t\t\treturn this.setFromRotationMatrix(_matrix$1, order, update);\n\t\t}\n\n\t\tsetFromVector3(v, order = this._order) {\n\t\t\treturn this.set(v.x, v.y, v.z, order);\n\t\t}\n\n\t\treorder(newOrder) {\n\t\t\t// WARNING: this discards revolution information -bhouston\n\t\t\t_quaternion$3.setFromEuler(this);\n\n\t\t\treturn this.setFromQuaternion(_quaternion$3, newOrder);\n\t\t}\n\n\t\tequals(euler) {\n\t\t\treturn euler._x === this._x && euler._y === this._y && euler._z === this._z && euler._order === this._order;\n\t\t}\n\n\t\tfromArray(array) {\n\t\t\tthis._x = array[0];\n\t\t\tthis._y = array[1];\n\t\t\tthis._z = array[2];\n\t\t\tif (array[3] !== undefined) this._order = array[3];\n\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\t\t}\n\n\t\ttoArray(array = [], offset = 0) {\n\t\t\tarray[offset] = this._x;\n\t\t\tarray[offset + 1] = this._y;\n\t\t\tarray[offset + 2] = this._z;\n\t\t\tarray[offset + 3] = this._order;\n\t\t\treturn array;\n\t\t}\n\n\t\t_onChange(callback) {\n\t\t\tthis._onChangeCallback = callback;\n\t\t\treturn this;\n\t\t}\n\n\t\t_onChangeCallback() {}\n\n\t\t*[Symbol.iterator]() {\n\t\t\tyield this._x;\n\t\t\tyield this._y;\n\t\t\tyield this._z;\n\t\t\tyield this._order;\n\t\t} // @deprecated since r138, 02cf0df1cb4575d5842fef9c85bb5a89fe020d53\n\n\n\t\ttoVector3() {\n\t\t\tconsole.error('THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead');\n\t\t}\n\n\t}\n\n\tEuler.DefaultOrder = 'XYZ';\n\tEuler.RotationOrders = ['XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX'];\n\n\tclass Layers {\n\t\tconstructor() {\n\t\t\tthis.mask = 1 | 0;\n\t\t}\n\n\t\tset(channel) {\n\t\t\tthis.mask = (1 << channel | 0) >>> 0;\n\t\t}\n\n\t\tenable(channel) {\n\t\t\tthis.mask |= 1 << channel | 0;\n\t\t}\n\n\t\tenableAll() {\n\t\t\tthis.mask = 0xffffffff | 0;\n\t\t}\n\n\t\ttoggle(channel) {\n\t\t\tthis.mask ^= 1 << channel | 0;\n\t\t}\n\n\t\tdisable(channel) {\n\t\t\tthis.mask &= ~(1 << channel | 0);\n\t\t}\n\n\t\tdisableAll() {\n\t\t\tthis.mask = 0;\n\t\t}\n\n\t\ttest(layers) {\n\t\t\treturn (this.mask & layers.mask) !== 0;\n\t\t}\n\n\t\tisEnabled(channel) {\n\t\t\treturn (this.mask & (1 << channel | 0)) !== 0;\n\t\t}\n\n\t}\n\n\tlet _object3DId = 0;\n\n\tconst _v1$4 = /*@__PURE__*/new Vector3();\n\n\tconst _q1 = /*@__PURE__*/new Quaternion();\n\n\tconst _m1$1 = /*@__PURE__*/new Matrix4();\n\n\tconst _target = /*@__PURE__*/new Vector3();\n\n\tconst _position$3 = /*@__PURE__*/new Vector3();\n\n\tconst _scale$2 = /*@__PURE__*/new Vector3();\n\n\tconst _quaternion$2 = /*@__PURE__*/new Quaternion();\n\n\tconst _xAxis = /*@__PURE__*/new Vector3(1, 0, 0);\n\n\tconst _yAxis = /*@__PURE__*/new Vector3(0, 1, 0);\n\n\tconst _zAxis = /*@__PURE__*/new Vector3(0, 0, 1);\n\n\tconst _addedEvent = {\n\t\ttype: 'added'\n\t};\n\tconst _removedEvent = {\n\t\ttype: 'removed'\n\t};\n\n\tclass Object3D extends EventDispatcher {\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tthis.isObject3D = true;\n\t\t\tObject.defineProperty(this, 'id', {\n\t\t\t\tvalue: _object3DId++\n\t\t\t});\n\t\t\tthis.uuid = generateUUID();\n\t\t\tthis.name = '';\n\t\t\tthis.type = 'Object3D';\n\t\t\tthis.parent = null;\n\t\t\tthis.children = [];\n\t\t\tthis.up = Object3D.DefaultUp.clone();\n\t\t\tconst position = new Vector3();\n\t\t\tconst rotation = new Euler();\n\t\t\tconst quaternion = new Quaternion();\n\t\t\tconst scale = new Vector3(1, 1, 1);\n\n\t\t\tfunction onRotationChange() {\n\t\t\t\tquaternion.setFromEuler(rotation, false);\n\t\t\t}\n\n\t\t\tfunction onQuaternionChange() {\n\t\t\t\trotation.setFromQuaternion(quaternion, undefined, false);\n\t\t\t}\n\n\t\t\trotation._onChange(onRotationChange);\n\n\t\t\tquaternion._onChange(onQuaternionChange);\n\n\t\t\tObject.defineProperties(this, {\n\t\t\t\tposition: {\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tvalue: position\n\t\t\t\t},\n\t\t\t\trotation: {\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tvalue: rotation\n\t\t\t\t},\n\t\t\t\tquaternion: {\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tvalue: quaternion\n\t\t\t\t},\n\t\t\t\tscale: {\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tvalue: scale\n\t\t\t\t},\n\t\t\t\tmodelViewMatrix: {\n\t\t\t\t\tvalue: new Matrix4()\n\t\t\t\t},\n\t\t\t\tnormalMatrix: {\n\t\t\t\t\tvalue: new Matrix3()\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.matrix = new Matrix4();\n\t\t\tthis.matrixWorld = new Matrix4();\n\t\t\tthis.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\t\t\tthis.layers = new Layers();\n\t\t\tthis.visible = true;\n\t\t\tthis.castShadow = false;\n\t\t\tthis.receiveShadow = false;\n\t\t\tthis.frustumCulled = true;\n\t\t\tthis.renderOrder = 0;\n\t\t\tthis.animations = [];\n\t\t\tthis.userData = {};\n\t\t}\n\n\t\tonBeforeRender() {}\n\n\t\tonAfterRender() {}\n\n\t\tapplyMatrix4(matrix) {\n\t\t\tif (this.matrixAutoUpdate) this.updateMatrix();\n\t\t\tthis.matrix.premultiply(matrix);\n\t\t\tthis.matrix.decompose(this.position, this.quaternion, this.scale);\n\t\t}\n\n\t\tapplyQuaternion(q) {\n\t\t\tthis.quaternion.premultiply(q);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetRotationFromAxisAngle(axis, angle) {\n\t\t\t// assumes axis is normalized\n\t\t\tthis.quaternion.setFromAxisAngle(axis, angle);\n\t\t}\n\n\t\tsetRotationFromEuler(euler) {\n\t\t\tthis.quaternion.setFromEuler(euler, true);\n\t\t}\n\n\t\tsetRotationFromMatrix(m) {\n\t\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\t\t\tthis.quaternion.setFromRotationMatrix(m);\n\t\t}\n\n\t\tsetRotationFromQuaternion(q) {\n\t\t\t// assumes q is normalized\n\t\t\tthis.quaternion.copy(q);\n\t\t}\n\n\t\trotateOnAxis(axis, angle) {\n\t\t\t// rotate object on axis in object space\n\t\t\t// axis is assumed to be normalized\n\t\t\t_q1.setFromAxisAngle(axis, angle);\n\n\t\t\tthis.quaternion.multiply(_q1);\n\t\t\treturn this;\n\t\t}\n\n\t\trotateOnWorldAxis(axis, angle) {\n\t\t\t// rotate object on axis in world space\n\t\t\t// axis is assumed to be normalized\n\t\t\t// method assumes no rotated parent\n\t\t\t_q1.setFromAxisAngle(axis, angle);\n\n\t\t\tthis.quaternion.premultiply(_q1);\n\t\t\treturn this;\n\t\t}\n\n\t\trotateX(angle) {\n\t\t\treturn this.rotateOnAxis(_xAxis, angle);\n\t\t}\n\n\t\trotateY(angle) {\n\t\t\treturn this.rotateOnAxis(_yAxis, angle);\n\t\t}\n\n\t\trotateZ(angle) {\n\t\t\treturn this.rotateOnAxis(_zAxis, angle);\n\t\t}\n\n\t\ttranslateOnAxis(axis, distance) {\n\t\t\t// translate object by distance along axis in object space\n\t\t\t// axis is assumed to be normalized\n\t\t\t_v1$4.copy(axis).applyQuaternion(this.quaternion);\n\n\t\t\tthis.position.add(_v1$4.multiplyScalar(distance));\n\t\t\treturn this;\n\t\t}\n\n\t\ttranslateX(distance) {\n\t\t\treturn this.translateOnAxis(_xAxis, distance);\n\t\t}\n\n\t\ttranslateY(distance) {\n\t\t\treturn this.translateOnAxis(_yAxis, distance);\n\t\t}\n\n\t\ttranslateZ(distance) {\n\t\t\treturn this.translateOnAxis(_zAxis, distance);\n\t\t}\n\n\t\tlocalToWorld(vector) {\n\t\t\treturn vector.applyMatrix4(this.matrixWorld);\n\t\t}\n\n\t\tworldToLocal(vector) {\n\t\t\treturn vector.applyMatrix4(_m1$1.copy(this.matrixWorld).invert());\n\t\t}\n\n\t\tlookAt(x, y, z) {\n\t\t\t// This method does not support objects having non-uniformly-scaled parent(s)\n\t\t\tif (x.isVector3) {\n\t\t\t\t_target.copy(x);\n\t\t\t} else {\n\t\t\t\t_target.set(x, y, z);\n\t\t\t}\n\n\t\t\tconst parent = this.parent;\n\t\t\tthis.updateWorldMatrix(true, false);\n\n\t\t\t_position$3.setFromMatrixPosition(this.matrixWorld);\n\n\t\t\tif (this.isCamera || this.isLight) {\n\t\t\t\t_m1$1.lookAt(_position$3, _target, this.up);\n\t\t\t} else {\n\t\t\t\t_m1$1.lookAt(_target, _position$3, this.up);\n\t\t\t}\n\n\t\t\tthis.quaternion.setFromRotationMatrix(_m1$1);\n\n\t\t\tif (parent) {\n\t\t\t\t_m1$1.extractRotation(parent.matrixWorld);\n\n\t\t\t\t_q1.setFromRotationMatrix(_m1$1);\n\n\t\t\t\tthis.quaternion.premultiply(_q1.invert());\n\t\t\t}\n\t\t}\n\n\t\tadd(object) {\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tfor (let i = 0; i < arguments.length; i++) {\n\t\t\t\t\tthis.add(arguments[i]);\n\t\t\t\t}\n\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif (object === this) {\n\t\t\t\tconsole.error('THREE.Object3D.add: object can\\'t be added as a child of itself.', object);\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif (object && object.isObject3D) {\n\t\t\t\tif (object.parent !== null) {\n\t\t\t\t\tobject.parent.remove(object);\n\t\t\t\t}\n\n\t\t\t\tobject.parent = this;\n\t\t\t\tthis.children.push(object);\n\t\t\t\tobject.dispatchEvent(_addedEvent);\n\t\t\t} else {\n\t\t\t\tconsole.error('THREE.Object3D.add: object not an instance of THREE.Object3D.', object);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tremove(object) {\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tfor (let i = 0; i < arguments.length; i++) {\n\t\t\t\t\tthis.remove(arguments[i]);\n\t\t\t\t}\n\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tconst index = this.children.indexOf(object);\n\n\t\t\tif (index !== -1) {\n\t\t\t\tobject.parent = null;\n\t\t\t\tthis.children.splice(index, 1);\n\t\t\t\tobject.dispatchEvent(_removedEvent);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tremoveFromParent() {\n\t\t\tconst parent = this.parent;\n\n\t\t\tif (parent !== null) {\n\t\t\t\tparent.remove(this);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tclear() {\n\t\t\tfor (let i = 0; i < this.children.length; i++) {\n\t\t\t\tconst object = this.children[i];\n\t\t\t\tobject.parent = null;\n\t\t\t\tobject.dispatchEvent(_removedEvent);\n\t\t\t}\n\n\t\t\tthis.children.length = 0;\n\t\t\treturn this;\n\t\t}\n\n\t\tattach(object) {\n\t\t\t// adds object as a child of this, while maintaining the object's world transform\n\t\t\t// Note: This method does not support scene graphs having non-uniformly-scaled nodes(s)\n\t\t\tthis.updateWorldMatrix(true, false);\n\n\t\t\t_m1$1.copy(this.matrixWorld).invert();\n\n\t\t\tif (object.parent !== null) {\n\t\t\t\tobject.parent.updateWorldMatrix(true, false);\n\n\t\t\t\t_m1$1.multiply(object.parent.matrixWorld);\n\t\t\t}\n\n\t\t\tobject.applyMatrix4(_m1$1);\n\t\t\tthis.add(object);\n\t\t\tobject.updateWorldMatrix(false, true);\n\t\t\treturn this;\n\t\t}\n\n\t\tgetObjectById(id) {\n\t\t\treturn this.getObjectByProperty('id', id);\n\t\t}\n\n\t\tgetObjectByName(name) {\n\t\t\treturn this.getObjectByProperty('name', name);\n\t\t}\n\n\t\tgetObjectByProperty(name, value) {\n\t\t\tif (this[name] === value) return this;\n\n\t\t\tfor (let i = 0, l = this.children.length; i < l; i++) {\n\t\t\t\tconst child = this.children[i];\n\t\t\t\tconst object = child.getObjectByProperty(name, value);\n\n\t\t\t\tif (object !== undefined) {\n\t\t\t\t\treturn object;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn undefined;\n\t\t}\n\n\t\tgetWorldPosition(target) {\n\t\t\tthis.updateWorldMatrix(true, false);\n\t\t\treturn target.setFromMatrixPosition(this.matrixWorld);\n\t\t}\n\n\t\tgetWorldQuaternion(target) {\n\t\t\tthis.updateWorldMatrix(true, false);\n\t\t\tthis.matrixWorld.decompose(_position$3, target, _scale$2);\n\t\t\treturn target;\n\t\t}\n\n\t\tgetWorldScale(target) {\n\t\t\tthis.updateWorldMatrix(true, false);\n\t\t\tthis.matrixWorld.decompose(_position$3, _quaternion$2, target);\n\t\t\treturn target;\n\t\t}\n\n\t\tgetWorldDirection(target) {\n\t\t\tthis.updateWorldMatrix(true, false);\n\t\t\tconst e = this.matrixWorld.elements;\n\t\t\treturn target.set(e[8], e[9], e[10]).normalize();\n\t\t}\n\n\t\traycast() {}\n\n\t\ttraverse(callback) {\n\t\t\tcallback(this);\n\t\t\tconst children = this.children;\n\n\t\t\tfor (let i = 0, l = children.length; i < l; i++) {\n\t\t\t\tchildren[i].traverse(callback);\n\t\t\t}\n\t\t}\n\n\t\ttraverseVisible(callback) {\n\t\t\tif (this.visible === false) return;\n\t\t\tcallback(this);\n\t\t\tconst children = this.children;\n\n\t\t\tfor (let i = 0, l = children.length; i < l; i++) {\n\t\t\t\tchildren[i].traverseVisible(callback);\n\t\t\t}\n\t\t}\n\n\t\ttraverseAncestors(callback) {\n\t\t\tconst parent = this.parent;\n\n\t\t\tif (parent !== null) {\n\t\t\t\tcallback(parent);\n\t\t\t\tparent.traverseAncestors(callback);\n\t\t\t}\n\t\t}\n\n\t\tupdateMatrix() {\n\t\t\tthis.matrix.compose(this.position, this.quaternion, this.scale);\n\t\t\tthis.matrixWorldNeedsUpdate = true;\n\t\t}\n\n\t\tupdateMatrixWorld(force) {\n\t\t\tif (this.matrixAutoUpdate) this.updateMatrix();\n\n\t\t\tif (this.matrixWorldNeedsUpdate || force) {\n\t\t\t\tif (this.parent === null) {\n\t\t\t\t\tthis.matrixWorld.copy(this.matrix);\n\t\t\t\t} else {\n\t\t\t\t\tthis.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix);\n\t\t\t\t}\n\n\t\t\t\tthis.matrixWorldNeedsUpdate = false;\n\t\t\t\tforce = true;\n\t\t\t} // update children\n\n\n\t\t\tconst children = this.children;\n\n\t\t\tfor (let i = 0, l = children.length; i < l; i++) {\n\t\t\t\tchildren[i].updateMatrixWorld(force);\n\t\t\t}\n\t\t}\n\n\t\tupdateWorldMatrix(updateParents, updateChildren) {\n\t\t\tconst parent = this.parent;\n\n\t\t\tif (updateParents === true && parent !== null) {\n\t\t\t\tparent.updateWorldMatrix(true, false);\n\t\t\t}\n\n\t\t\tif (this.matrixAutoUpdate) this.updateMatrix();\n\n\t\t\tif (this.parent === null) {\n\t\t\t\tthis.matrixWorld.copy(this.matrix);\n\t\t\t} else {\n\t\t\t\tthis.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix);\n\t\t\t} // update children\n\n\n\t\t\tif (updateChildren === true) {\n\t\t\t\tconst children = this.children;\n\n\t\t\t\tfor (let i = 0, l = children.length; i < l; i++) {\n\t\t\t\t\tchildren[i].updateWorldMatrix(false, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\ttoJSON(meta) {\n\t\t\t// meta is a string when called from JSON.stringify\n\t\t\tconst isRootObject = meta === undefined || typeof meta === 'string';\n\t\t\tconst output = {}; // meta is a hash used to collect geometries, materials.\n\t\t\t// not providing it implies that this is the root object\n\t\t\t// being serialized.\n\n\t\t\tif (isRootObject) {\n\t\t\t\t// initialize meta obj\n\t\t\t\tmeta = {\n\t\t\t\t\tgeometries: {},\n\t\t\t\t\tmaterials: {},\n\t\t\t\t\ttextures: {},\n\t\t\t\t\timages: {},\n\t\t\t\t\tshapes: {},\n\t\t\t\t\tskeletons: {},\n\t\t\t\t\tanimations: {},\n\t\t\t\t\tnodes: {}\n\t\t\t\t};\n\t\t\t\toutput.metadata = {\n\t\t\t\t\tversion: 4.5,\n\t\t\t\t\ttype: 'Object',\n\t\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t\t};\n\t\t\t} // standard Object3D serialization\n\n\n\t\t\tconst object = {};\n\t\t\tobject.uuid = this.uuid;\n\t\t\tobject.type = this.type;\n\t\t\tif (this.name !== '') object.name = this.name;\n\t\t\tif (this.castShadow === true) object.castShadow = true;\n\t\t\tif (this.receiveShadow === true) object.receiveShadow = true;\n\t\t\tif (this.visible === false) object.visible = false;\n\t\t\tif (this.frustumCulled === false) object.frustumCulled = false;\n\t\t\tif (this.renderOrder !== 0) object.renderOrder = this.renderOrder;\n\t\t\tif (JSON.stringify(this.userData) !== '{}') object.userData = this.userData;\n\t\t\tobject.layers = this.layers.mask;\n\t\t\tobject.matrix = this.matrix.toArray();\n\t\t\tif (this.matrixAutoUpdate === false) object.matrixAutoUpdate = false; // object specific properties\n\n\t\t\tif (this.isInstancedMesh) {\n\t\t\t\tobject.type = 'InstancedMesh';\n\t\t\t\tobject.count = this.count;\n\t\t\t\tobject.instanceMatrix = this.instanceMatrix.toJSON();\n\t\t\t\tif (this.instanceColor !== null) object.instanceColor = this.instanceColor.toJSON();\n\t\t\t} //\n\n\n\t\t\tfunction serialize(library, element) {\n\t\t\t\tif (library[element.uuid] === undefined) {\n\t\t\t\t\tlibrary[element.uuid] = element.toJSON(meta);\n\t\t\t\t}\n\n\t\t\t\treturn element.uuid;\n\t\t\t}\n\n\t\t\tif (this.isScene) {\n\t\t\t\tif (this.background) {\n\t\t\t\t\tif (this.background.isColor) {\n\t\t\t\t\t\tobject.background = this.background.toJSON();\n\t\t\t\t\t} else if (this.background.isTexture) {\n\t\t\t\t\t\tobject.background = this.background.toJSON(meta).uuid;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this.environment && this.environment.isTexture) {\n\t\t\t\t\tobject.environment = this.environment.toJSON(meta).uuid;\n\t\t\t\t}\n\t\t\t} else if (this.isMesh || this.isLine || this.isPoints) {\n\t\t\t\tobject.geometry = serialize(meta.geometries, this.geometry);\n\t\t\t\tconst parameters = this.geometry.parameters;\n\n\t\t\t\tif (parameters !== undefined && parameters.shapes !== undefined) {\n\t\t\t\t\tconst shapes = parameters.shapes;\n\n\t\t\t\t\tif (Array.isArray(shapes)) {\n\t\t\t\t\t\tfor (let i = 0, l = shapes.length; i < l; i++) {\n\t\t\t\t\t\t\tconst shape = shapes[i];\n\t\t\t\t\t\t\tserialize(meta.shapes, shape);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tserialize(meta.shapes, shapes);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.isSkinnedMesh) {\n\t\t\t\tobject.bindMode = this.bindMode;\n\t\t\t\tobject.bindMatrix = this.bindMatrix.toArray();\n\n\t\t\t\tif (this.skeleton !== undefined) {\n\t\t\t\t\tserialize(meta.skeletons, this.skeleton);\n\t\t\t\t\tobject.skeleton = this.skeleton.uuid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.material !== undefined) {\n\t\t\t\tif (Array.isArray(this.material)) {\n\t\t\t\t\tconst uuids = [];\n\n\t\t\t\t\tfor (let i = 0, l = this.material.length; i < l; i++) {\n\t\t\t\t\t\tuuids.push(serialize(meta.materials, this.material[i]));\n\t\t\t\t\t}\n\n\t\t\t\t\tobject.material = uuids;\n\t\t\t\t} else {\n\t\t\t\t\tobject.material = serialize(meta.materials, this.material);\n\t\t\t\t}\n\t\t\t} //\n\n\n\t\t\tif (this.children.length > 0) {\n\t\t\t\tobject.children = [];\n\n\t\t\t\tfor (let i = 0; i < this.children.length; i++) {\n\t\t\t\t\tobject.children.push(this.children[i].toJSON(meta).object);\n\t\t\t\t}\n\t\t\t} //\n\n\n\t\t\tif (this.animations.length > 0) {\n\t\t\t\tobject.animations = [];\n\n\t\t\t\tfor (let i = 0; i < this.animations.length; i++) {\n\t\t\t\t\tconst animation = this.animations[i];\n\t\t\t\t\tobject.animations.push(serialize(meta.animations, animation));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (isRootObject) {\n\t\t\t\tconst geometries = extractFromCache(meta.geometries);\n\t\t\t\tconst materials = extractFromCache(meta.materials);\n\t\t\t\tconst textures = extractFromCache(meta.textures);\n\t\t\t\tconst images = extractFromCache(meta.images);\n\t\t\t\tconst shapes = extractFromCache(meta.shapes);\n\t\t\t\tconst skeletons = extractFromCache(meta.skeletons);\n\t\t\t\tconst animations = extractFromCache(meta.animations);\n\t\t\t\tconst nodes = extractFromCache(meta.nodes);\n\t\t\t\tif (geometries.length > 0) output.geometries = geometries;\n\t\t\t\tif (materials.length > 0) output.materials = materials;\n\t\t\t\tif (textures.length > 0) output.textures = textures;\n\t\t\t\tif (images.length > 0) output.images = images;\n\t\t\t\tif (shapes.length > 0) output.shapes = shapes;\n\t\t\t\tif (skeletons.length > 0) output.skeletons = skeletons;\n\t\t\t\tif (animations.length > 0) output.animations = animations;\n\t\t\t\tif (nodes.length > 0) output.nodes = nodes;\n\t\t\t}\n\n\t\t\toutput.object = object;\n\t\t\treturn output; // extract data from the cache hash\n\t\t\t// remove metadata on each item\n\t\t\t// and return as array\n\n\t\t\tfunction extractFromCache(cache) {\n\t\t\t\tconst values = [];\n\n\t\t\t\tfor (const key in cache) {\n\t\t\t\t\tconst data = cache[key];\n\t\t\t\t\tdelete data.metadata;\n\t\t\t\t\tvalues.push(data);\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\n\t\tclone(recursive) {\n\t\t\treturn new this.constructor().copy(this, recursive);\n\t\t}\n\n\t\tcopy(source, recursive = true) {\n\t\t\tthis.name = source.name;\n\t\t\tthis.up.copy(source.up);\n\t\t\tthis.position.copy(source.position);\n\t\t\tthis.rotation.order = source.rotation.order;\n\t\t\tthis.quaternion.copy(source.quaternion);\n\t\t\tthis.scale.copy(source.scale);\n\t\t\tthis.matrix.copy(source.matrix);\n\t\t\tthis.matrixWorld.copy(source.matrixWorld);\n\t\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\t\t\tthis.layers.mask = source.layers.mask;\n\t\t\tthis.visible = source.visible;\n\t\t\tthis.castShadow = source.castShadow;\n\t\t\tthis.receiveShadow = source.receiveShadow;\n\t\t\tthis.frustumCulled = source.frustumCulled;\n\t\t\tthis.renderOrder = source.renderOrder;\n\t\t\tthis.userData = JSON.parse(JSON.stringify(source.userData));\n\n\t\t\tif (recursive === true) {\n\t\t\t\tfor (let i = 0; i < source.children.length; i++) {\n\t\t\t\t\tconst child = source.children[i];\n\t\t\t\t\tthis.add(child.clone());\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tObject3D.DefaultUp = new Vector3(0, 1, 0);\n\tObject3D.DefaultMatrixAutoUpdate = true;\n\n\tconst _v0$1 = /*@__PURE__*/new Vector3();\n\n\tconst _v1$3 = /*@__PURE__*/new Vector3();\n\n\tconst _v2$2 = /*@__PURE__*/new Vector3();\n\n\tconst _v3$1 = /*@__PURE__*/new Vector3();\n\n\tconst _vab = /*@__PURE__*/new Vector3();\n\n\tconst _vac = /*@__PURE__*/new Vector3();\n\n\tconst _vbc = /*@__PURE__*/new Vector3();\n\n\tconst _vap = /*@__PURE__*/new Vector3();\n\n\tconst _vbp = /*@__PURE__*/new Vector3();\n\n\tconst _vcp = /*@__PURE__*/new Vector3();\n\n\tclass Triangle {\n\t\tconstructor(a = new Vector3(), b = new Vector3(), c = new Vector3()) {\n\t\t\tthis.a = a;\n\t\t\tthis.b = b;\n\t\t\tthis.c = c;\n\t\t}\n\n\t\tstatic getNormal(a, b, c, target) {\n\t\t\ttarget.subVectors(c, b);\n\n\t\t\t_v0$1.subVectors(a, b);\n\n\t\t\ttarget.cross(_v0$1);\n\t\t\tconst targetLengthSq = target.lengthSq();\n\n\t\t\tif (targetLengthSq > 0) {\n\t\t\t\treturn target.multiplyScalar(1 / Math.sqrt(targetLengthSq));\n\t\t\t}\n\n\t\t\treturn target.set(0, 0, 0);\n\t\t} // static/instance method to calculate barycentric coordinates\n\t\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n\n\n\t\tstatic getBarycoord(point, a, b, c, target) {\n\t\t\t_v0$1.subVectors(c, a);\n\n\t\t\t_v1$3.subVectors(b, a);\n\n\t\t\t_v2$2.subVectors(point, a);\n\n\t\t\tconst dot00 = _v0$1.dot(_v0$1);\n\n\t\t\tconst dot01 = _v0$1.dot(_v1$3);\n\n\t\t\tconst dot02 = _v0$1.dot(_v2$2);\n\n\t\t\tconst dot11 = _v1$3.dot(_v1$3);\n\n\t\t\tconst dot12 = _v1$3.dot(_v2$2);\n\n\t\t\tconst denom = dot00 * dot11 - dot01 * dot01; // collinear or singular triangle\n\n\t\t\tif (denom === 0) {\n\t\t\t\t// arbitrary location outside of triangle?\n\t\t\t\t// not sure if this is the best idea, maybe should be returning undefined\n\t\t\t\treturn target.set(-2, -1, -1);\n\t\t\t}\n\n\t\t\tconst invDenom = 1 / denom;\n\t\t\tconst u = (dot11 * dot02 - dot01 * dot12) * invDenom;\n\t\t\tconst v = (dot00 * dot12 - dot01 * dot02) * invDenom; // barycentric coordinates must always sum to 1\n\n\t\t\treturn target.set(1 - u - v, v, u);\n\t\t}\n\n\t\tstatic containsPoint(point, a, b, c) {\n\t\t\tthis.getBarycoord(point, a, b, c, _v3$1);\n\t\t\treturn _v3$1.x >= 0 && _v3$1.y >= 0 && _v3$1.x + _v3$1.y <= 1;\n\t\t}\n\n\t\tstatic getUV(point, p1, p2, p3, uv1, uv2, uv3, target) {\n\t\t\tthis.getBarycoord(point, p1, p2, p3, _v3$1);\n\t\t\ttarget.set(0, 0);\n\t\t\ttarget.addScaledVector(uv1, _v3$1.x);\n\t\t\ttarget.addScaledVector(uv2, _v3$1.y);\n\t\t\ttarget.addScaledVector(uv3, _v3$1.z);\n\t\t\treturn target;\n\t\t}\n\n\t\tstatic isFrontFacing(a, b, c, direction) {\n\t\t\t_v0$1.subVectors(c, b);\n\n\t\t\t_v1$3.subVectors(a, b); // strictly front facing\n\n\n\t\t\treturn _v0$1.cross(_v1$3).dot(direction) < 0 ? true : false;\n\t\t}\n\n\t\tset(a, b, c) {\n\t\t\tthis.a.copy(a);\n\t\t\tthis.b.copy(b);\n\t\t\tthis.c.copy(c);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromPointsAndIndices(points, i0, i1, i2) {\n\t\t\tthis.a.copy(points[i0]);\n\t\t\tthis.b.copy(points[i1]);\n\t\t\tthis.c.copy(points[i2]);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromAttributeAndIndices(attribute, i0, i1, i2) {\n\t\t\tthis.a.fromBufferAttribute(attribute, i0);\n\t\t\tthis.b.fromBufferAttribute(attribute, i1);\n\t\t\tthis.c.fromBufferAttribute(attribute, i2);\n\t\t\treturn this;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t\tcopy(triangle) {\n\t\t\tthis.a.copy(triangle.a);\n\t\t\tthis.b.copy(triangle.b);\n\t\t\tthis.c.copy(triangle.c);\n\t\t\treturn this;\n\t\t}\n\n\t\tgetArea() {\n\t\t\t_v0$1.subVectors(this.c, this.b);\n\n\t\t\t_v1$3.subVectors(this.a, this.b);\n\n\t\t\treturn _v0$1.cross(_v1$3).length() * 0.5;\n\t\t}\n\n\t\tgetMidpoint(target) {\n\t\t\treturn target.addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3);\n\t\t}\n\n\t\tgetNormal(target) {\n\t\t\treturn Triangle.getNormal(this.a, this.b, this.c, target);\n\t\t}\n\n\t\tgetPlane(target) {\n\t\t\treturn target.setFromCoplanarPoints(this.a, this.b, this.c);\n\t\t}\n\n\t\tgetBarycoord(point, target) {\n\t\t\treturn Triangle.getBarycoord(point, this.a, this.b, this.c, target);\n\t\t}\n\n\t\tgetUV(point, uv1, uv2, uv3, target) {\n\t\t\treturn Triangle.getUV(point, this.a, this.b, this.c, uv1, uv2, uv3, target);\n\t\t}\n\n\t\tcontainsPoint(point) {\n\t\t\treturn Triangle.containsPoint(point, this.a, this.b, this.c);\n\t\t}\n\n\t\tisFrontFacing(direction) {\n\t\t\treturn Triangle.isFrontFacing(this.a, this.b, this.c, direction);\n\t\t}\n\n\t\tintersectsBox(box) {\n\t\t\treturn box.intersectsTriangle(this);\n\t\t}\n\n\t\tclosestPointToPoint(p, target) {\n\t\t\tconst a = this.a,\n\t\t\t\t\t\tb = this.b,\n\t\t\t\t\t\tc = this.c;\n\t\t\tlet v, w; // algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n\t\t\t// published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n\t\t\t// under the accompanying license; see chapter 5.1.5 for detailed explanation.\n\t\t\t// basically, we're distinguishing which of the voronoi regions of the triangle\n\t\t\t// the point lies in with the minimum amount of redundant computation.\n\n\t\t\t_vab.subVectors(b, a);\n\n\t\t\t_vac.subVectors(c, a);\n\n\t\t\t_vap.subVectors(p, a);\n\n\t\t\tconst d1 = _vab.dot(_vap);\n\n\t\t\tconst d2 = _vac.dot(_vap);\n\n\t\t\tif (d1 <= 0 && d2 <= 0) {\n\t\t\t\t// vertex region of A; barycentric coords (1, 0, 0)\n\t\t\t\treturn target.copy(a);\n\t\t\t}\n\n\t\t\t_vbp.subVectors(p, b);\n\n\t\t\tconst d3 = _vab.dot(_vbp);\n\n\t\t\tconst d4 = _vac.dot(_vbp);\n\n\t\t\tif (d3 >= 0 && d4 <= d3) {\n\t\t\t\t// vertex region of B; barycentric coords (0, 1, 0)\n\t\t\t\treturn target.copy(b);\n\t\t\t}\n\n\t\t\tconst vc = d1 * d4 - d3 * d2;\n\n\t\t\tif (vc <= 0 && d1 >= 0 && d3 <= 0) {\n\t\t\t\tv = d1 / (d1 - d3); // edge region of AB; barycentric coords (1-v, v, 0)\n\n\t\t\t\treturn target.copy(a).addScaledVector(_vab, v);\n\t\t\t}\n\n\t\t\t_vcp.subVectors(p, c);\n\n\t\t\tconst d5 = _vab.dot(_vcp);\n\n\t\t\tconst d6 = _vac.dot(_vcp);\n\n\t\t\tif (d6 >= 0 && d5 <= d6) {\n\t\t\t\t// vertex region of C; barycentric coords (0, 0, 1)\n\t\t\t\treturn target.copy(c);\n\t\t\t}\n\n\t\t\tconst vb = d5 * d2 - d1 * d6;\n\n\t\t\tif (vb <= 0 && d2 >= 0 && d6 <= 0) {\n\t\t\t\tw = d2 / (d2 - d6); // edge region of AC; barycentric coords (1-w, 0, w)\n\n\t\t\t\treturn target.copy(a).addScaledVector(_vac, w);\n\t\t\t}\n\n\t\t\tconst va = d3 * d6 - d5 * d4;\n\n\t\t\tif (va <= 0 && d4 - d3 >= 0 && d5 - d6 >= 0) {\n\t\t\t\t_vbc.subVectors(c, b);\n\n\t\t\t\tw = (d4 - d3) / (d4 - d3 + (d5 - d6)); // edge region of BC; barycentric coords (0, 1-w, w)\n\n\t\t\t\treturn target.copy(b).addScaledVector(_vbc, w); // edge region of BC\n\t\t\t} // face region\n\n\n\t\t\tconst denom = 1 / (va + vb + vc); // u = va * denom\n\n\t\t\tv = vb * denom;\n\t\t\tw = vc * denom;\n\t\t\treturn target.copy(a).addScaledVector(_vab, v).addScaledVector(_vac, w);\n\t\t}\n\n\t\tequals(triangle) {\n\t\t\treturn triangle.a.equals(this.a) && triangle.b.equals(this.b) && triangle.c.equals(this.c);\n\t\t}\n\n\t}\n\n\tlet materialId = 0;\n\n\tclass Material extends EventDispatcher {\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tthis.isMaterial = true;\n\t\t\tObject.defineProperty(this, 'id', {\n\t\t\t\tvalue: materialId++\n\t\t\t});\n\t\t\tthis.uuid = generateUUID();\n\t\t\tthis.name = '';\n\t\t\tthis.type = 'Material';\n\t\t\tthis.blending = NormalBlending;\n\t\t\tthis.side = FrontSide;\n\t\t\tthis.vertexColors = false;\n\t\t\tthis.opacity = 1;\n\t\t\tthis.transparent = false;\n\t\t\tthis.blendSrc = SrcAlphaFactor;\n\t\t\tthis.blendDst = OneMinusSrcAlphaFactor;\n\t\t\tthis.blendEquation = AddEquation;\n\t\t\tthis.blendSrcAlpha = null;\n\t\t\tthis.blendDstAlpha = null;\n\t\t\tthis.blendEquationAlpha = null;\n\t\t\tthis.depthFunc = LessEqualDepth;\n\t\t\tthis.depthTest = true;\n\t\t\tthis.depthWrite = true;\n\t\t\tthis.stencilWriteMask = 0xff;\n\t\t\tthis.stencilFunc = AlwaysStencilFunc;\n\t\t\tthis.stencilRef = 0;\n\t\t\tthis.stencilFuncMask = 0xff;\n\t\t\tthis.stencilFail = KeepStencilOp;\n\t\t\tthis.stencilZFail = KeepStencilOp;\n\t\t\tthis.stencilZPass = KeepStencilOp;\n\t\t\tthis.stencilWrite = false;\n\t\t\tthis.clippingPlanes = null;\n\t\t\tthis.clipIntersection = false;\n\t\t\tthis.clipShadows = false;\n\t\t\tthis.shadowSide = null;\n\t\t\tthis.colorWrite = true;\n\t\t\tthis.precision = null; // override the renderer's default precision for this material\n\n\t\t\tthis.polygonOffset = false;\n\t\t\tthis.polygonOffsetFactor = 0;\n\t\t\tthis.polygonOffsetUnits = 0;\n\t\t\tthis.dithering = false;\n\t\t\tthis.alphaToCoverage = false;\n\t\t\tthis.premultipliedAlpha = false;\n\t\t\tthis.visible = true;\n\t\t\tthis.toneMapped = true;\n\t\t\tthis.userData = {};\n\t\t\tthis.version = 0;\n\t\t\tthis._alphaTest = 0;\n\t\t}\n\n\t\tget alphaTest() {\n\t\t\treturn this._alphaTest;\n\t\t}\n\n\t\tset alphaTest(value) {\n\t\t\tif (this._alphaTest > 0 !== value > 0) {\n\t\t\t\tthis.version++;\n\t\t\t}\n\n\t\t\tthis._alphaTest = value;\n\t\t}\n\n\t\tonBuild() {}\n\n\t\tonBeforeRender() {}\n\n\t\tonBeforeCompile() {}\n\n\t\tcustomProgramCacheKey() {\n\t\t\treturn this.onBeforeCompile.toString();\n\t\t}\n\n\t\tsetValues(values) {\n\t\t\tif (values === undefined) return;\n\n\t\t\tfor (const key in values) {\n\t\t\t\tconst newValue = values[key];\n\n\t\t\t\tif (newValue === undefined) {\n\t\t\t\t\tconsole.warn('THREE.Material: \\'' + key + '\\' parameter is undefined.');\n\t\t\t\t\tcontinue;\n\t\t\t\t} // for backward compatibility if shading is set in the constructor\n\n\n\t\t\t\tif (key === 'shading') {\n\t\t\t\t\tconsole.warn('THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.');\n\t\t\t\t\tthis.flatShading = newValue === FlatShading ? true : false;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tconst currentValue = this[key];\n\n\t\t\t\tif (currentValue === undefined) {\n\t\t\t\t\tconsole.warn('THREE.' + this.type + ': \\'' + key + '\\' is not a property of this material.');\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (currentValue && currentValue.isColor) {\n\t\t\t\t\tcurrentValue.set(newValue);\n\t\t\t\t} else if (currentValue && currentValue.isVector3 && newValue && newValue.isVector3) {\n\t\t\t\t\tcurrentValue.copy(newValue);\n\t\t\t\t} else {\n\t\t\t\t\tthis[key] = newValue;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\ttoJSON(meta) {\n\t\t\tconst isRootObject = meta === undefined || typeof meta === 'string';\n\n\t\t\tif (isRootObject) {\n\t\t\t\tmeta = {\n\t\t\t\t\ttextures: {},\n\t\t\t\t\timages: {}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst data = {\n\t\t\t\tmetadata: {\n\t\t\t\t\tversion: 4.5,\n\t\t\t\t\ttype: 'Material',\n\t\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t\t}\n\t\t\t}; // standard Material serialization\n\n\t\t\tdata.uuid = this.uuid;\n\t\t\tdata.type = this.type;\n\t\t\tif (this.name !== '') data.name = this.name;\n\t\t\tif (this.color && this.color.isColor) data.color = this.color.getHex();\n\t\t\tif (this.roughness !== undefined) data.roughness = this.roughness;\n\t\t\tif (this.metalness !== undefined) data.metalness = this.metalness;\n\t\t\tif (this.sheen !== undefined) data.sheen = this.sheen;\n\t\t\tif (this.sheenColor && this.sheenColor.isColor) data.sheenColor = this.sheenColor.getHex();\n\t\t\tif (this.sheenRoughness !== undefined) data.sheenRoughness = this.sheenRoughness;\n\t\t\tif (this.emissive && this.emissive.isColor) data.emissive = this.emissive.getHex();\n\t\t\tif (this.emissiveIntensity && this.emissiveIntensity !== 1) data.emissiveIntensity = this.emissiveIntensity;\n\t\t\tif (this.specular && this.specular.isColor) data.specular = this.specular.getHex();\n\t\t\tif (this.specularIntensity !== undefined) data.specularIntensity = this.specularIntensity;\n\t\t\tif (this.specularColor && this.specularColor.isColor) data.specularColor = this.specularColor.getHex();\n\t\t\tif (this.shininess !== undefined) data.shininess = this.shininess;\n\t\t\tif (this.clearcoat !== undefined) data.clearcoat = this.clearcoat;\n\t\t\tif (this.clearcoatRoughness !== undefined) data.clearcoatRoughness = this.clearcoatRoughness;\n\n\t\t\tif (this.clearcoatMap && this.clearcoatMap.isTexture) {\n\t\t\t\tdata.clearcoatMap = this.clearcoatMap.toJSON(meta).uuid;\n\t\t\t}\n\n\t\t\tif (this.clearcoatRoughnessMap && this.clearcoatRoughnessMap.isTexture) {\n\t\t\t\tdata.clearcoatRoughnessMap = this.clearcoatRoughnessMap.toJSON(meta).uuid;\n\t\t\t}\n\n\t\t\tif (this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture) {\n\t\t\t\tdata.clearcoatNormalMap = this.clearcoatNormalMap.toJSON(meta).uuid;\n\t\t\t\tdata.clearcoatNormalScale = this.clearcoatNormalScale.toArray();\n\t\t\t}\n\n\t\t\tif (this.iridescence !== undefined) data.iridescence = this.iridescence;\n\t\t\tif (this.iridescenceIOR !== undefined) data.iridescenceIOR = this.iridescenceIOR;\n\t\t\tif (this.iridescenceThicknessRange !== undefined) data.iridescenceThicknessRange = this.iridescenceThicknessRange;\n\n\t\t\tif (this.iridescenceMap && this.iridescenceMap.isTexture) {\n\t\t\t\tdata.iridescenceMap = this.iridescenceMap.toJSON(meta).uuid;\n\t\t\t}\n\n\t\t\tif (this.iridescenceThicknessMap && this.iridescenceThicknessMap.isTexture) {\n\t\t\t\tdata.iridescenceThicknessMap = this.iridescenceThicknessMap.toJSON(meta).uuid;\n\t\t\t}\n\n\t\t\tif (this.map && this.map.isTexture) data.map = this.map.toJSON(meta).uuid;\n\t\t\tif (this.matcap && this.matcap.isTexture) data.matcap = this.matcap.toJSON(meta).uuid;\n\t\t\tif (this.alphaMap && this.alphaMap.isTexture) data.alphaMap = this.alphaMap.toJSON(meta).uuid;\n\n\t\t\tif (this.lightMap && this.lightMap.isTexture) {\n\t\t\t\tdata.lightMap = this.lightMap.toJSON(meta).uuid;\n\t\t\t\tdata.lightMapIntensity = this.lightMapIntensity;\n\t\t\t}\n\n\t\t\tif (this.aoMap && this.aoMap.isTexture) {\n\t\t\t\tdata.aoMap = this.aoMap.toJSON(meta).uuid;\n\t\t\t\tdata.aoMapIntensity = this.aoMapIntensity;\n\t\t\t}\n\n\t\t\tif (this.bumpMap && this.bumpMap.isTexture) {\n\t\t\t\tdata.bumpMap = this.bumpMap.toJSON(meta).uuid;\n\t\t\t\tdata.bumpScale = this.bumpScale;\n\t\t\t}\n\n\t\t\tif (this.normalMap && this.normalMap.isTexture) {\n\t\t\t\tdata.normalMap = this.normalMap.toJSON(meta).uuid;\n\t\t\t\tdata.normalMapType = this.normalMapType;\n\t\t\t\tdata.normalScale = this.normalScale.toArray();\n\t\t\t}\n\n\t\t\tif (this.displacementMap && this.displacementMap.isTexture) {\n\t\t\t\tdata.displacementMap = this.displacementMap.toJSON(meta).uuid;\n\t\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\t\tdata.displacementBias = this.displacementBias;\n\t\t\t}\n\n\t\t\tif (this.roughnessMap && this.roughnessMap.isTexture) data.roughnessMap = this.roughnessMap.toJSON(meta).uuid;\n\t\t\tif (this.metalnessMap && this.metalnessMap.isTexture) data.metalnessMap = this.metalnessMap.toJSON(meta).uuid;\n\t\t\tif (this.emissiveMap && this.emissiveMap.isTexture) data.emissiveMap = this.emissiveMap.toJSON(meta).uuid;\n\t\t\tif (this.specularMap && this.specularMap.isTexture) data.specularMap = this.specularMap.toJSON(meta).uuid;\n\t\t\tif (this.specularIntensityMap && this.specularIntensityMap.isTexture) data.specularIntensityMap = this.specularIntensityMap.toJSON(meta).uuid;\n\t\t\tif (this.specularColorMap && this.specularColorMap.isTexture) data.specularColorMap = this.specularColorMap.toJSON(meta).uuid;\n\n\t\t\tif (this.envMap && this.envMap.isTexture) {\n\t\t\t\tdata.envMap = this.envMap.toJSON(meta).uuid;\n\t\t\t\tif (this.combine !== undefined) data.combine = this.combine;\n\t\t\t}\n\n\t\t\tif (this.envMapIntensity !== undefined) data.envMapIntensity = this.envMapIntensity;\n\t\t\tif (this.reflectivity !== undefined) data.reflectivity = this.reflectivity;\n\t\t\tif (this.refractionRatio !== undefined) data.refractionRatio = this.refractionRatio;\n\n\t\t\tif (this.gradientMap && this.gradientMap.isTexture) {\n\t\t\t\tdata.gradientMap = this.gradientMap.toJSON(meta).uuid;\n\t\t\t}\n\n\t\t\tif (this.transmission !== undefined) data.transmission = this.transmission;\n\t\t\tif (this.transmissionMap && this.transmissionMap.isTexture) data.transmissionMap = this.transmissionMap.toJSON(meta).uuid;\n\t\t\tif (this.thickness !== undefined) data.thickness = this.thickness;\n\t\t\tif (this.thicknessMap && this.thicknessMap.isTexture) data.thicknessMap = this.thicknessMap.toJSON(meta).uuid;\n\t\t\tif (this.attenuationDistance !== undefined) data.attenuationDistance = this.attenuationDistance;\n\t\t\tif (this.attenuationColor !== undefined) data.attenuationColor = this.attenuationColor.getHex();\n\t\t\tif (this.size !== undefined) data.size = this.size;\n\t\t\tif (this.shadowSide !== null) data.shadowSide = this.shadowSide;\n\t\t\tif (this.sizeAttenuation !== undefined) data.sizeAttenuation = this.sizeAttenuation;\n\t\t\tif (this.blending !== NormalBlending) data.blending = this.blending;\n\t\t\tif (this.side !== FrontSide) data.side = this.side;\n\t\t\tif (this.vertexColors) data.vertexColors = true;\n\t\t\tif (this.opacity < 1) data.opacity = this.opacity;\n\t\t\tif (this.transparent === true) data.transparent = this.transparent;\n\t\t\tdata.depthFunc = this.depthFunc;\n\t\t\tdata.depthTest = this.depthTest;\n\t\t\tdata.depthWrite = this.depthWrite;\n\t\t\tdata.colorWrite = this.colorWrite;\n\t\t\tdata.stencilWrite = this.stencilWrite;\n\t\t\tdata.stencilWriteMask = this.stencilWriteMask;\n\t\t\tdata.stencilFunc = this.stencilFunc;\n\t\t\tdata.stencilRef = this.stencilRef;\n\t\t\tdata.stencilFuncMask = this.stencilFuncMask;\n\t\t\tdata.stencilFail = this.stencilFail;\n\t\t\tdata.stencilZFail = this.stencilZFail;\n\t\t\tdata.stencilZPass = this.stencilZPass; // rotation (SpriteMaterial)\n\n\t\t\tif (this.rotation !== undefined && this.rotation !== 0) data.rotation = this.rotation;\n\t\t\tif (this.polygonOffset === true) data.polygonOffset = true;\n\t\t\tif (this.polygonOffsetFactor !== 0) data.polygonOffsetFactor = this.polygonOffsetFactor;\n\t\t\tif (this.polygonOffsetUnits !== 0) data.polygonOffsetUnits = this.polygonOffsetUnits;\n\t\t\tif (this.linewidth !== undefined && this.linewidth !== 1) data.linewidth = this.linewidth;\n\t\t\tif (this.dashSize !== undefined) data.dashSize = this.dashSize;\n\t\t\tif (this.gapSize !== undefined) data.gapSize = this.gapSize;\n\t\t\tif (this.scale !== undefined) data.scale = this.scale;\n\t\t\tif (this.dithering === true) data.dithering = true;\n\t\t\tif (this.alphaTest > 0) data.alphaTest = this.alphaTest;\n\t\t\tif (this.alphaToCoverage === true) data.alphaToCoverage = this.alphaToCoverage;\n\t\t\tif (this.premultipliedAlpha === true) data.premultipliedAlpha = this.premultipliedAlpha;\n\t\t\tif (this.wireframe === true) data.wireframe = this.wireframe;\n\t\t\tif (this.wireframeLinewidth > 1) data.wireframeLinewidth = this.wireframeLinewidth;\n\t\t\tif (this.wireframeLinecap !== 'round') data.wireframeLinecap = this.wireframeLinecap;\n\t\t\tif (this.wireframeLinejoin !== 'round') data.wireframeLinejoin = this.wireframeLinejoin;\n\t\t\tif (this.flatShading === true) data.flatShading = this.flatShading;\n\t\t\tif (this.visible === false) data.visible = false;\n\t\t\tif (this.toneMapped === false) data.toneMapped = false;\n\t\t\tif (this.fog === false) data.fog = false;\n\t\t\tif (JSON.stringify(this.userData) !== '{}') data.userData = this.userData; // TODO: Copied from Object3D.toJSON\n\n\t\t\tfunction extractFromCache(cache) {\n\t\t\t\tconst values = [];\n\n\t\t\t\tfor (const key in cache) {\n\t\t\t\t\tconst data = cache[key];\n\t\t\t\t\tdelete data.metadata;\n\t\t\t\t\tvalues.push(data);\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t}\n\n\t\t\tif (isRootObject) {\n\t\t\t\tconst textures = extractFromCache(meta.textures);\n\t\t\t\tconst images = extractFromCache(meta.images);\n\t\t\t\tif (textures.length > 0) data.textures = textures;\n\t\t\t\tif (images.length > 0) data.images = images;\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tthis.name = source.name;\n\t\t\tthis.blending = source.blending;\n\t\t\tthis.side = source.side;\n\t\t\tthis.vertexColors = source.vertexColors;\n\t\t\tthis.opacity = source.opacity;\n\t\t\tthis.transparent = source.transparent;\n\t\t\tthis.blendSrc = source.blendSrc;\n\t\t\tthis.blendDst = source.blendDst;\n\t\t\tthis.blendEquation = source.blendEquation;\n\t\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\t\t\tthis.depthFunc = source.depthFunc;\n\t\t\tthis.depthTest = source.depthTest;\n\t\t\tthis.depthWrite = source.depthWrite;\n\t\t\tthis.stencilWriteMask = source.stencilWriteMask;\n\t\t\tthis.stencilFunc = source.stencilFunc;\n\t\t\tthis.stencilRef = source.stencilRef;\n\t\t\tthis.stencilFuncMask = source.stencilFuncMask;\n\t\t\tthis.stencilFail = source.stencilFail;\n\t\t\tthis.stencilZFail = source.stencilZFail;\n\t\t\tthis.stencilZPass = source.stencilZPass;\n\t\t\tthis.stencilWrite = source.stencilWrite;\n\t\t\tconst srcPlanes = source.clippingPlanes;\n\t\t\tlet dstPlanes = null;\n\n\t\t\tif (srcPlanes !== null) {\n\t\t\t\tconst n = srcPlanes.length;\n\t\t\t\tdstPlanes = new Array(n);\n\n\t\t\t\tfor (let i = 0; i !== n; ++i) {\n\t\t\t\t\tdstPlanes[i] = srcPlanes[i].clone();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.clippingPlanes = dstPlanes;\n\t\t\tthis.clipIntersection = source.clipIntersection;\n\t\t\tthis.clipShadows = source.clipShadows;\n\t\t\tthis.shadowSide = source.shadowSide;\n\t\t\tthis.colorWrite = source.colorWrite;\n\t\t\tthis.precision = source.precision;\n\t\t\tthis.polygonOffset = source.polygonOffset;\n\t\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\t\t\tthis.dithering = source.dithering;\n\t\t\tthis.alphaTest = source.alphaTest;\n\t\t\tthis.alphaToCoverage = source.alphaToCoverage;\n\t\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\n\t\t\tthis.visible = source.visible;\n\t\t\tthis.toneMapped = source.toneMapped;\n\t\t\tthis.userData = JSON.parse(JSON.stringify(source.userData));\n\t\t\treturn this;\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.dispatchEvent({\n\t\t\t\ttype: 'dispose'\n\t\t\t});\n\t\t}\n\n\t\tset needsUpdate(value) {\n\t\t\tif (value === true) this.version++;\n\t\t} // @deprecated since r131, f5803c62cc4a29d90744e9dc7811d086e354c1d8\n\n\n\t\tget vertexTangents() {\n\t\t\tconsole.warn('THREE.' + this.type + ': .vertexTangents has been removed.');\n\t\t\treturn false;\n\t\t}\n\n\t\tset vertexTangents(value) {\n\t\t\tconsole.warn('THREE.' + this.type + ': .vertexTangents has been removed.');\n\t\t}\n\n\t}\n\n\tMaterial.fromType = function\n\t\t/*type*/\n\t() {\n\t\t// TODO: Behavior added in Materials.js\n\t\treturn null;\n\t};\n\n\tclass MeshBasicMaterial extends Material {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.isMeshBasicMaterial = true;\n\t\t\tthis.type = 'MeshBasicMaterial';\n\t\t\tthis.color = new Color(0xffffff); // emissive\n\n\t\t\tthis.map = null;\n\t\t\tthis.lightMap = null;\n\t\t\tthis.lightMapIntensity = 1.0;\n\t\t\tthis.aoMap = null;\n\t\t\tthis.aoMapIntensity = 1.0;\n\t\t\tthis.specularMap = null;\n\t\t\tthis.alphaMap = null;\n\t\t\tthis.envMap = null;\n\t\t\tthis.combine = MultiplyOperation;\n\t\t\tthis.reflectivity = 1;\n\t\t\tthis.refractionRatio = 0.98;\n\t\t\tthis.wireframe = false;\n\t\t\tthis.wireframeLinewidth = 1;\n\t\t\tthis.wireframeLinecap = 'round';\n\t\t\tthis.wireframeLinejoin = 'round';\n\t\t\tthis.fog = true;\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.color.copy(source.color);\n\t\t\tthis.map = source.map;\n\t\t\tthis.lightMap = source.lightMap;\n\t\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\t\t\tthis.aoMap = source.aoMap;\n\t\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\t\t\tthis.specularMap = source.specularMap;\n\t\t\tthis.alphaMap = source.alphaMap;\n\t\t\tthis.envMap = source.envMap;\n\t\t\tthis.combine = source.combine;\n\t\t\tthis.reflectivity = source.reflectivity;\n\t\t\tthis.refractionRatio = source.refractionRatio;\n\t\t\tthis.wireframe = source.wireframe;\n\t\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\t\t\tthis.fog = source.fog;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tconst _vector$9 = /*@__PURE__*/new Vector3();\n\n\tconst _vector2$1 = /*@__PURE__*/new Vector2();\n\n\tclass BufferAttribute {\n\t\tconstructor(array, itemSize, normalized) {\n\t\t\tif (Array.isArray(array)) {\n\t\t\t\tthrow new TypeError('THREE.BufferAttribute: array should be a Typed Array.');\n\t\t\t}\n\n\t\t\tthis.isBufferAttribute = true;\n\t\t\tthis.name = '';\n\t\t\tthis.array = array;\n\t\t\tthis.itemSize = itemSize;\n\t\t\tthis.count = array !== undefined ? array.length / itemSize : 0;\n\t\t\tthis.normalized = normalized === true;\n\t\t\tthis.usage = StaticDrawUsage;\n\t\t\tthis.updateRange = {\n\t\t\t\toffset: 0,\n\t\t\t\tcount: -1\n\t\t\t};\n\t\t\tthis.version = 0;\n\t\t}\n\n\t\tonUploadCallback() {}\n\n\t\tset needsUpdate(value) {\n\t\t\tif (value === true) this.version++;\n\t\t}\n\n\t\tsetUsage(value) {\n\t\t\tthis.usage = value;\n\t\t\treturn this;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tthis.name = source.name;\n\t\t\tthis.array = new source.array.constructor(source.array);\n\t\t\tthis.itemSize = source.itemSize;\n\t\t\tthis.count = source.count;\n\t\t\tthis.normalized = source.normalized;\n\t\t\tthis.usage = source.usage;\n\t\t\treturn this;\n\t\t}\n\n\t\tcopyAt(index1, attribute, index2) {\n\t\t\tindex1 *= this.itemSize;\n\t\t\tindex2 *= attribute.itemSize;\n\n\t\t\tfor (let i = 0, l = this.itemSize; i < l; i++) {\n\t\t\t\tthis.array[index1 + i] = attribute.array[index2 + i];\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tcopyArray(array) {\n\t\t\tthis.array.set(array);\n\t\t\treturn this;\n\t\t}\n\n\t\tcopyColorsArray(colors) {\n\t\t\tconst array = this.array;\n\t\t\tlet offset = 0;\n\n\t\t\tfor (let i = 0, l = colors.length; i < l; i++) {\n\t\t\t\tlet color = colors[i];\n\n\t\t\t\tif (color === undefined) {\n\t\t\t\t\tconsole.warn('THREE.BufferAttribute.copyColorsArray(): color is undefined', i);\n\t\t\t\t\tcolor = new Color();\n\t\t\t\t}\n\n\t\t\t\tarray[offset++] = color.r;\n\t\t\t\tarray[offset++] = color.g;\n\t\t\t\tarray[offset++] = color.b;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tcopyVector2sArray(vectors) {\n\t\t\tconst array = this.array;\n\t\t\tlet offset = 0;\n\n\t\t\tfor (let i = 0, l = vectors.length; i < l; i++) {\n\t\t\t\tlet vector = vectors[i];\n\n\t\t\t\tif (vector === undefined) {\n\t\t\t\t\tconsole.warn('THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i);\n\t\t\t\t\tvector = new Vector2();\n\t\t\t\t}\n\n\t\t\t\tarray[offset++] = vector.x;\n\t\t\t\tarray[offset++] = vector.y;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tcopyVector3sArray(vectors) {\n\t\t\tconst array = this.array;\n\t\t\tlet offset = 0;\n\n\t\t\tfor (let i = 0, l = vectors.length; i < l; i++) {\n\t\t\t\tlet vector = vectors[i];\n\n\t\t\t\tif (vector === undefined) {\n\t\t\t\t\tconsole.warn('THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i);\n\t\t\t\t\tvector = new Vector3();\n\t\t\t\t}\n\n\t\t\t\tarray[offset++] = vector.x;\n\t\t\t\tarray[offset++] = vector.y;\n\t\t\t\tarray[offset++] = vector.z;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tcopyVector4sArray(vectors) {\n\t\t\tconst array = this.array;\n\t\t\tlet offset = 0;\n\n\t\t\tfor (let i = 0, l = vectors.length; i < l; i++) {\n\t\t\t\tlet vector = vectors[i];\n\n\t\t\t\tif (vector === undefined) {\n\t\t\t\t\tconsole.warn('THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i);\n\t\t\t\t\tvector = new Vector4();\n\t\t\t\t}\n\n\t\t\t\tarray[offset++] = vector.x;\n\t\t\t\tarray[offset++] = vector.y;\n\t\t\t\tarray[offset++] = vector.z;\n\t\t\t\tarray[offset++] = vector.w;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tapplyMatrix3(m) {\n\t\t\tif (this.itemSize === 2) {\n\t\t\t\tfor (let i = 0, l = this.count; i < l; i++) {\n\t\t\t\t\t_vector2$1.fromBufferAttribute(this, i);\n\n\t\t\t\t\t_vector2$1.applyMatrix3(m);\n\n\t\t\t\t\tthis.setXY(i, _vector2$1.x, _vector2$1.y);\n\t\t\t\t}\n\t\t\t} else if (this.itemSize === 3) {\n\t\t\t\tfor (let i = 0, l = this.count; i < l; i++) {\n\t\t\t\t\t_vector$9.fromBufferAttribute(this, i);\n\n\t\t\t\t\t_vector$9.applyMatrix3(m);\n\n\t\t\t\t\tthis.setXYZ(i, _vector$9.x, _vector$9.y, _vector$9.z);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tapplyMatrix4(m) {\n\t\t\tfor (let i = 0, l = this.count; i < l; i++) {\n\t\t\t\t_vector$9.fromBufferAttribute(this, i);\n\n\t\t\t\t_vector$9.applyMatrix4(m);\n\n\t\t\t\tthis.setXYZ(i, _vector$9.x, _vector$9.y, _vector$9.z);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tapplyNormalMatrix(m) {\n\t\t\tfor (let i = 0, l = this.count; i < l; i++) {\n\t\t\t\t_vector$9.fromBufferAttribute(this, i);\n\n\t\t\t\t_vector$9.applyNormalMatrix(m);\n\n\t\t\t\tthis.setXYZ(i, _vector$9.x, _vector$9.y, _vector$9.z);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\ttransformDirection(m) {\n\t\t\tfor (let i = 0, l = this.count; i < l; i++) {\n\t\t\t\t_vector$9.fromBufferAttribute(this, i);\n\n\t\t\t\t_vector$9.transformDirection(m);\n\n\t\t\t\tthis.setXYZ(i, _vector$9.x, _vector$9.y, _vector$9.z);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tset(value, offset = 0) {\n\t\t\tthis.array.set(value, offset);\n\t\t\treturn this;\n\t\t}\n\n\t\tgetX(index) {\n\t\t\treturn this.array[index * this.itemSize];\n\t\t}\n\n\t\tsetX(index, x) {\n\t\t\tthis.array[index * this.itemSize] = x;\n\t\t\treturn this;\n\t\t}\n\n\t\tgetY(index) {\n\t\t\treturn this.array[index * this.itemSize + 1];\n\t\t}\n\n\t\tsetY(index, y) {\n\t\t\tthis.array[index * this.itemSize + 1] = y;\n\t\t\treturn this;\n\t\t}\n\n\t\tgetZ(index) {\n\t\t\treturn this.array[index * this.itemSize + 2];\n\t\t}\n\n\t\tsetZ(index, z) {\n\t\t\tthis.array[index * this.itemSize + 2] = z;\n\t\t\treturn this;\n\t\t}\n\n\t\tgetW(index) {\n\t\t\treturn this.array[index * this.itemSize + 3];\n\t\t}\n\n\t\tsetW(index, w) {\n\t\t\tthis.array[index * this.itemSize + 3] = w;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetXY(index, x, y) {\n\t\t\tindex *= this.itemSize;\n\t\t\tthis.array[index + 0] = x;\n\t\t\tthis.array[index + 1] = y;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetXYZ(index, x, y, z) {\n\t\t\tindex *= this.itemSize;\n\t\t\tthis.array[index + 0] = x;\n\t\t\tthis.array[index + 1] = y;\n\t\t\tthis.array[index + 2] = z;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetXYZW(index, x, y, z, w) {\n\t\t\tindex *= this.itemSize;\n\t\t\tthis.array[index + 0] = x;\n\t\t\tthis.array[index + 1] = y;\n\t\t\tthis.array[index + 2] = z;\n\t\t\tthis.array[index + 3] = w;\n\t\t\treturn this;\n\t\t}\n\n\t\tonUpload(callback) {\n\t\t\tthis.onUploadCallback = callback;\n\t\t\treturn this;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor(this.array, this.itemSize).copy(this);\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = {\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\ttype: this.array.constructor.name,\n\t\t\t\tarray: Array.prototype.slice.call(this.array),\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\t\t\tif (this.name !== '') data.name = this.name;\n\t\t\tif (this.usage !== StaticDrawUsage) data.usage = this.usage;\n\t\t\tif (this.updateRange.offset !== 0 || this.updateRange.count !== -1) data.updateRange = this.updateRange;\n\t\t\treturn data;\n\t\t}\n\n\t} //\n\n\n\tclass Int8BufferAttribute extends BufferAttribute {\n\t\tconstructor(array, itemSize, normalized) {\n\t\t\tsuper(new Int8Array(array), itemSize, normalized);\n\t\t}\n\n\t}\n\n\tclass Uint8BufferAttribute extends BufferAttribute {\n\t\tconstructor(array, itemSize, normalized) {\n\t\t\tsuper(new Uint8Array(array), itemSize, normalized);\n\t\t}\n\n\t}\n\n\tclass Uint8ClampedBufferAttribute extends BufferAttribute {\n\t\tconstructor(array, itemSize, normalized) {\n\t\t\tsuper(new Uint8ClampedArray(array), itemSize, normalized);\n\t\t}\n\n\t}\n\n\tclass Int16BufferAttribute extends BufferAttribute {\n\t\tconstructor(array, itemSize, normalized) {\n\t\t\tsuper(new Int16Array(array), itemSize, normalized);\n\t\t}\n\n\t}\n\n\tclass Uint16BufferAttribute extends BufferAttribute {\n\t\tconstructor(array, itemSize, normalized) {\n\t\t\tsuper(new Uint16Array(array), itemSize, normalized);\n\t\t}\n\n\t}\n\n\tclass Int32BufferAttribute extends BufferAttribute {\n\t\tconstructor(array, itemSize, normalized) {\n\t\t\tsuper(new Int32Array(array), itemSize, normalized);\n\t\t}\n\n\t}\n\n\tclass Uint32BufferAttribute extends BufferAttribute {\n\t\tconstructor(array, itemSize, normalized) {\n\t\t\tsuper(new Uint32Array(array), itemSize, normalized);\n\t\t}\n\n\t}\n\n\tclass Float16BufferAttribute extends BufferAttribute {\n\t\tconstructor(array, itemSize, normalized) {\n\t\t\tsuper(new Uint16Array(array), itemSize, normalized);\n\t\t\tthis.isFloat16BufferAttribute = true;\n\t\t}\n\n\t}\n\n\tclass Float32BufferAttribute extends BufferAttribute {\n\t\tconstructor(array, itemSize, normalized) {\n\t\t\tsuper(new Float32Array(array), itemSize, normalized);\n\t\t}\n\n\t}\n\n\tclass Float64BufferAttribute extends BufferAttribute {\n\t\tconstructor(array, itemSize, normalized) {\n\t\t\tsuper(new Float64Array(array), itemSize, normalized);\n\t\t}\n\n\t} //\n\n\tlet _id$1 = 0;\n\n\tconst _m1 = /*@__PURE__*/new Matrix4();\n\n\tconst _obj = /*@__PURE__*/new Object3D();\n\n\tconst _offset = /*@__PURE__*/new Vector3();\n\n\tconst _box$1 = /*@__PURE__*/new Box3();\n\n\tconst _boxMorphTargets = /*@__PURE__*/new Box3();\n\n\tconst _vector$8 = /*@__PURE__*/new Vector3();\n\n\tclass BufferGeometry extends EventDispatcher {\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tthis.isBufferGeometry = true;\n\t\t\tObject.defineProperty(this, 'id', {\n\t\t\t\tvalue: _id$1++\n\t\t\t});\n\t\t\tthis.uuid = generateUUID();\n\t\t\tthis.name = '';\n\t\t\tthis.type = 'BufferGeometry';\n\t\t\tthis.index = null;\n\t\t\tthis.attributes = {};\n\t\t\tthis.morphAttributes = {};\n\t\t\tthis.morphTargetsRelative = false;\n\t\t\tthis.groups = [];\n\t\t\tthis.boundingBox = null;\n\t\t\tthis.boundingSphere = null;\n\t\t\tthis.drawRange = {\n\t\t\t\tstart: 0,\n\t\t\t\tcount: Infinity\n\t\t\t};\n\t\t\tthis.userData = {};\n\t\t}\n\n\t\tgetIndex() {\n\t\t\treturn this.index;\n\t\t}\n\n\t\tsetIndex(index) {\n\t\t\tif (Array.isArray(index)) {\n\t\t\t\tthis.index = new (arrayNeedsUint32(index) ? Uint32BufferAttribute : Uint16BufferAttribute)(index, 1);\n\t\t\t} else {\n\t\t\t\tthis.index = index;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tgetAttribute(name) {\n\t\t\treturn this.attributes[name];\n\t\t}\n\n\t\tsetAttribute(name, attribute) {\n\t\t\tthis.attributes[name] = attribute;\n\t\t\treturn this;\n\t\t}\n\n\t\tdeleteAttribute(name) {\n\t\t\tdelete this.attributes[name];\n\t\t\treturn this;\n\t\t}\n\n\t\thasAttribute(name) {\n\t\t\treturn this.attributes[name] !== undefined;\n\t\t}\n\n\t\taddGroup(start, count, materialIndex = 0) {\n\t\t\tthis.groups.push({\n\t\t\t\tstart: start,\n\t\t\t\tcount: count,\n\t\t\t\tmaterialIndex: materialIndex\n\t\t\t});\n\t\t}\n\n\t\tclearGroups() {\n\t\t\tthis.groups = [];\n\t\t}\n\n\t\tsetDrawRange(start, count) {\n\t\t\tthis.drawRange.start = start;\n\t\t\tthis.drawRange.count = count;\n\t\t}\n\n\t\tapplyMatrix4(matrix) {\n\t\t\tconst position = this.attributes.position;\n\n\t\t\tif (position !== undefined) {\n\t\t\t\tposition.applyMatrix4(matrix);\n\t\t\t\tposition.needsUpdate = true;\n\t\t\t}\n\n\t\t\tconst normal = this.attributes.normal;\n\n\t\t\tif (normal !== undefined) {\n\t\t\t\tconst normalMatrix = new Matrix3().getNormalMatrix(matrix);\n\t\t\t\tnormal.applyNormalMatrix(normalMatrix);\n\t\t\t\tnormal.needsUpdate = true;\n\t\t\t}\n\n\t\t\tconst tangent = this.attributes.tangent;\n\n\t\t\tif (tangent !== undefined) {\n\t\t\t\ttangent.transformDirection(matrix);\n\t\t\t\ttangent.needsUpdate = true;\n\t\t\t}\n\n\t\t\tif (this.boundingBox !== null) {\n\t\t\t\tthis.computeBoundingBox();\n\t\t\t}\n\n\t\t\tif (this.boundingSphere !== null) {\n\t\t\t\tthis.computeBoundingSphere();\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tapplyQuaternion(q) {\n\t\t\t_m1.makeRotationFromQuaternion(q);\n\n\t\t\tthis.applyMatrix4(_m1);\n\t\t\treturn this;\n\t\t}\n\n\t\trotateX(angle) {\n\t\t\t// rotate geometry around world x-axis\n\t\t\t_m1.makeRotationX(angle);\n\n\t\t\tthis.applyMatrix4(_m1);\n\t\t\treturn this;\n\t\t}\n\n\t\trotateY(angle) {\n\t\t\t// rotate geometry around world y-axis\n\t\t\t_m1.makeRotationY(angle);\n\n\t\t\tthis.applyMatrix4(_m1);\n\t\t\treturn this;\n\t\t}\n\n\t\trotateZ(angle) {\n\t\t\t// rotate geometry around world z-axis\n\t\t\t_m1.makeRotationZ(angle);\n\n\t\t\tthis.applyMatrix4(_m1);\n\t\t\treturn this;\n\t\t}\n\n\t\ttranslate(x, y, z) {\n\t\t\t// translate geometry\n\t\t\t_m1.makeTranslation(x, y, z);\n\n\t\t\tthis.applyMatrix4(_m1);\n\t\t\treturn this;\n\t\t}\n\n\t\tscale(x, y, z) {\n\t\t\t// scale geometry\n\t\t\t_m1.makeScale(x, y, z);\n\n\t\t\tthis.applyMatrix4(_m1);\n\t\t\treturn this;\n\t\t}\n\n\t\tlookAt(vector) {\n\t\t\t_obj.lookAt(vector);\n\n\t\t\t_obj.updateMatrix();\n\n\t\t\tthis.applyMatrix4(_obj.matrix);\n\t\t\treturn this;\n\t\t}\n\n\t\tcenter() {\n\t\t\tthis.computeBoundingBox();\n\t\t\tthis.boundingBox.getCenter(_offset).negate();\n\t\t\tthis.translate(_offset.x, _offset.y, _offset.z);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromPoints(points) {\n\t\t\tconst position = [];\n\n\t\t\tfor (let i = 0, l = points.length; i < l; i++) {\n\t\t\t\tconst point = points[i];\n\t\t\t\tposition.push(point.x, point.y, point.z || 0);\n\t\t\t}\n\n\t\t\tthis.setAttribute('position', new Float32BufferAttribute(position, 3));\n\t\t\treturn this;\n\t\t}\n\n\t\tcomputeBoundingBox() {\n\t\t\tif (this.boundingBox === null) {\n\t\t\t\tthis.boundingBox = new Box3();\n\t\t\t}\n\n\t\t\tconst position = this.attributes.position;\n\t\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\t\tif (position && position.isGLBufferAttribute) {\n\t\t\t\tconsole.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set \"mesh.frustumCulled\" to \"false\".', this);\n\t\t\t\tthis.boundingBox.set(new Vector3(-Infinity, -Infinity, -Infinity), new Vector3(+Infinity, +Infinity, +Infinity));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (position !== undefined) {\n\t\t\t\tthis.boundingBox.setFromBufferAttribute(position); // process morph attributes if present\n\n\t\t\t\tif (morphAttributesPosition) {\n\t\t\t\t\tfor (let i = 0, il = morphAttributesPosition.length; i < il; i++) {\n\t\t\t\t\t\tconst morphAttribute = morphAttributesPosition[i];\n\n\t\t\t\t\t\t_box$1.setFromBufferAttribute(morphAttribute);\n\n\t\t\t\t\t\tif (this.morphTargetsRelative) {\n\t\t\t\t\t\t\t_vector$8.addVectors(this.boundingBox.min, _box$1.min);\n\n\t\t\t\t\t\t\tthis.boundingBox.expandByPoint(_vector$8);\n\n\t\t\t\t\t\t\t_vector$8.addVectors(this.boundingBox.max, _box$1.max);\n\n\t\t\t\t\t\t\tthis.boundingBox.expandByPoint(_vector$8);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.boundingBox.expandByPoint(_box$1.min);\n\t\t\t\t\t\t\tthis.boundingBox.expandByPoint(_box$1.max);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.boundingBox.makeEmpty();\n\t\t\t}\n\n\t\t\tif (isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)) {\n\t\t\t\tconsole.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this);\n\t\t\t}\n\t\t}\n\n\t\tcomputeBoundingSphere() {\n\t\t\tif (this.boundingSphere === null) {\n\t\t\t\tthis.boundingSphere = new Sphere();\n\t\t\t}\n\n\t\t\tconst position = this.attributes.position;\n\t\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\t\tif (position && position.isGLBufferAttribute) {\n\t\t\t\tconsole.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set \"mesh.frustumCulled\" to \"false\".', this);\n\t\t\t\tthis.boundingSphere.set(new Vector3(), Infinity);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (position) {\n\t\t\t\t// first, find the center of the bounding sphere\n\t\t\t\tconst center = this.boundingSphere.center;\n\n\t\t\t\t_box$1.setFromBufferAttribute(position); // process morph attributes if present\n\n\n\t\t\t\tif (morphAttributesPosition) {\n\t\t\t\t\tfor (let i = 0, il = morphAttributesPosition.length; i < il; i++) {\n\t\t\t\t\t\tconst morphAttribute = morphAttributesPosition[i];\n\n\t\t\t\t\t\t_boxMorphTargets.setFromBufferAttribute(morphAttribute);\n\n\t\t\t\t\t\tif (this.morphTargetsRelative) {\n\t\t\t\t\t\t\t_vector$8.addVectors(_box$1.min, _boxMorphTargets.min);\n\n\t\t\t\t\t\t\t_box$1.expandByPoint(_vector$8);\n\n\t\t\t\t\t\t\t_vector$8.addVectors(_box$1.max, _boxMorphTargets.max);\n\n\t\t\t\t\t\t\t_box$1.expandByPoint(_vector$8);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_box$1.expandByPoint(_boxMorphTargets.min);\n\n\t\t\t\t\t\t\t_box$1.expandByPoint(_boxMorphTargets.max);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t_box$1.getCenter(center); // second, try to find a boundingSphere with a radius smaller than the\n\t\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\n\t\t\t\tlet maxRadiusSq = 0;\n\n\t\t\t\tfor (let i = 0, il = position.count; i < il; i++) {\n\t\t\t\t\t_vector$8.fromBufferAttribute(position, i);\n\n\t\t\t\t\tmaxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(_vector$8));\n\t\t\t\t} // process morph attributes if present\n\n\n\t\t\t\tif (morphAttributesPosition) {\n\t\t\t\t\tfor (let i = 0, il = morphAttributesPosition.length; i < il; i++) {\n\t\t\t\t\t\tconst morphAttribute = morphAttributesPosition[i];\n\t\t\t\t\t\tconst morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t\t\t\t\tfor (let j = 0, jl = morphAttribute.count; j < jl; j++) {\n\t\t\t\t\t\t\t_vector$8.fromBufferAttribute(morphAttribute, j);\n\n\t\t\t\t\t\t\tif (morphTargetsRelative) {\n\t\t\t\t\t\t\t\t_offset.fromBufferAttribute(position, j);\n\n\t\t\t\t\t\t\t\t_vector$8.add(_offset);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tmaxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(_vector$8));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.boundingSphere.radius = Math.sqrt(maxRadiusSq);\n\n\t\t\t\tif (isNaN(this.boundingSphere.radius)) {\n\t\t\t\t\tconsole.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcomputeTangents() {\n\t\t\tconst index = this.index;\n\t\t\tconst attributes = this.attributes; // based on http://www.terathon.com/code/tangent.html\n\t\t\t// (per vertex tangents)\n\n\t\t\tif (index === null || attributes.position === undefined || attributes.normal === undefined || attributes.uv === undefined) {\n\t\t\t\tconsole.error('THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst indices = index.array;\n\t\t\tconst positions = attributes.position.array;\n\t\t\tconst normals = attributes.normal.array;\n\t\t\tconst uvs = attributes.uv.array;\n\t\t\tconst nVertices = positions.length / 3;\n\n\t\t\tif (this.hasAttribute('tangent') === false) {\n\t\t\t\tthis.setAttribute('tangent', new BufferAttribute(new Float32Array(4 * nVertices), 4));\n\t\t\t}\n\n\t\t\tconst tangents = this.getAttribute('tangent').array;\n\t\t\tconst tan1 = [],\n\t\t\t\t\t\ttan2 = [];\n\n\t\t\tfor (let i = 0; i < nVertices; i++) {\n\t\t\t\ttan1[i] = new Vector3();\n\t\t\t\ttan2[i] = new Vector3();\n\t\t\t}\n\n\t\t\tconst vA = new Vector3(),\n\t\t\t\t\t\tvB = new Vector3(),\n\t\t\t\t\t\tvC = new Vector3(),\n\t\t\t\t\t\tuvA = new Vector2(),\n\t\t\t\t\t\tuvB = new Vector2(),\n\t\t\t\t\t\tuvC = new Vector2(),\n\t\t\t\t\t\tsdir = new Vector3(),\n\t\t\t\t\t\ttdir = new Vector3();\n\n\t\t\tfunction handleTriangle(a, b, c) {\n\t\t\t\tvA.fromArray(positions, a * 3);\n\t\t\t\tvB.fromArray(positions, b * 3);\n\t\t\t\tvC.fromArray(positions, c * 3);\n\t\t\t\tuvA.fromArray(uvs, a * 2);\n\t\t\t\tuvB.fromArray(uvs, b * 2);\n\t\t\t\tuvC.fromArray(uvs, c * 2);\n\t\t\t\tvB.sub(vA);\n\t\t\t\tvC.sub(vA);\n\t\t\t\tuvB.sub(uvA);\n\t\t\t\tuvC.sub(uvA);\n\t\t\t\tconst r = 1.0 / (uvB.x * uvC.y - uvC.x * uvB.y); // silently ignore degenerate uv triangles having coincident or colinear vertices\n\n\t\t\t\tif (!isFinite(r)) return;\n\t\t\t\tsdir.copy(vB).multiplyScalar(uvC.y).addScaledVector(vC, -uvB.y).multiplyScalar(r);\n\t\t\t\ttdir.copy(vC).multiplyScalar(uvB.x).addScaledVector(vB, -uvC.x).multiplyScalar(r);\n\t\t\t\ttan1[a].add(sdir);\n\t\t\t\ttan1[b].add(sdir);\n\t\t\t\ttan1[c].add(sdir);\n\t\t\t\ttan2[a].add(tdir);\n\t\t\t\ttan2[b].add(tdir);\n\t\t\t\ttan2[c].add(tdir);\n\t\t\t}\n\n\t\t\tlet groups = this.groups;\n\n\t\t\tif (groups.length === 0) {\n\t\t\t\tgroups = [{\n\t\t\t\t\tstart: 0,\n\t\t\t\t\tcount: indices.length\n\t\t\t\t}];\n\t\t\t}\n\n\t\t\tfor (let i = 0, il = groups.length; i < il; ++i) {\n\t\t\t\tconst group = groups[i];\n\t\t\t\tconst start = group.start;\n\t\t\t\tconst count = group.count;\n\n\t\t\t\tfor (let j = start, jl = start + count; j < jl; j += 3) {\n\t\t\t\t\thandleTriangle(indices[j + 0], indices[j + 1], indices[j + 2]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst tmp = new Vector3(),\n\t\t\t\t\t\ttmp2 = new Vector3();\n\t\t\tconst n = new Vector3(),\n\t\t\t\t\t\tn2 = new Vector3();\n\n\t\t\tfunction handleVertex(v) {\n\t\t\t\tn.fromArray(normals, v * 3);\n\t\t\t\tn2.copy(n);\n\t\t\t\tconst t = tan1[v]; // Gram-Schmidt orthogonalize\n\n\t\t\t\ttmp.copy(t);\n\t\t\t\ttmp.sub(n.multiplyScalar(n.dot(t))).normalize(); // Calculate handedness\n\n\t\t\t\ttmp2.crossVectors(n2, t);\n\t\t\t\tconst test = tmp2.dot(tan2[v]);\n\t\t\t\tconst w = test < 0.0 ? -1.0 : 1.0;\n\t\t\t\ttangents[v * 4] = tmp.x;\n\t\t\t\ttangents[v * 4 + 1] = tmp.y;\n\t\t\t\ttangents[v * 4 + 2] = tmp.z;\n\t\t\t\ttangents[v * 4 + 3] = w;\n\t\t\t}\n\n\t\t\tfor (let i = 0, il = groups.length; i < il; ++i) {\n\t\t\t\tconst group = groups[i];\n\t\t\t\tconst start = group.start;\n\t\t\t\tconst count = group.count;\n\n\t\t\t\tfor (let j = start, jl = start + count; j < jl; j += 3) {\n\t\t\t\t\thandleVertex(indices[j + 0]);\n\t\t\t\t\thandleVertex(indices[j + 1]);\n\t\t\t\t\thandleVertex(indices[j + 2]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcomputeVertexNormals() {\n\t\t\tconst index = this.index;\n\t\t\tconst positionAttribute = this.getAttribute('position');\n\n\t\t\tif (positionAttribute !== undefined) {\n\t\t\t\tlet normalAttribute = this.getAttribute('normal');\n\n\t\t\t\tif (normalAttribute === undefined) {\n\t\t\t\t\tnormalAttribute = new BufferAttribute(new Float32Array(positionAttribute.count * 3), 3);\n\t\t\t\t\tthis.setAttribute('normal', normalAttribute);\n\t\t\t\t} else {\n\t\t\t\t\t// reset existing normals to zero\n\t\t\t\t\tfor (let i = 0, il = normalAttribute.count; i < il; i++) {\n\t\t\t\t\t\tnormalAttribute.setXYZ(i, 0, 0, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst pA = new Vector3(),\n\t\t\t\t\t\t\tpB = new Vector3(),\n\t\t\t\t\t\t\tpC = new Vector3();\n\t\t\t\tconst nA = new Vector3(),\n\t\t\t\t\t\t\tnB = new Vector3(),\n\t\t\t\t\t\t\tnC = new Vector3();\n\t\t\t\tconst cb = new Vector3(),\n\t\t\t\t\t\t\tab = new Vector3(); // indexed elements\n\n\t\t\t\tif (index) {\n\t\t\t\t\tfor (let i = 0, il = index.count; i < il; i += 3) {\n\t\t\t\t\t\tconst vA = index.getX(i + 0);\n\t\t\t\t\t\tconst vB = index.getX(i + 1);\n\t\t\t\t\t\tconst vC = index.getX(i + 2);\n\t\t\t\t\t\tpA.fromBufferAttribute(positionAttribute, vA);\n\t\t\t\t\t\tpB.fromBufferAttribute(positionAttribute, vB);\n\t\t\t\t\t\tpC.fromBufferAttribute(positionAttribute, vC);\n\t\t\t\t\t\tcb.subVectors(pC, pB);\n\t\t\t\t\t\tab.subVectors(pA, pB);\n\t\t\t\t\t\tcb.cross(ab);\n\t\t\t\t\t\tnA.fromBufferAttribute(normalAttribute, vA);\n\t\t\t\t\t\tnB.fromBufferAttribute(normalAttribute, vB);\n\t\t\t\t\t\tnC.fromBufferAttribute(normalAttribute, vC);\n\t\t\t\t\t\tnA.add(cb);\n\t\t\t\t\t\tnB.add(cb);\n\t\t\t\t\t\tnC.add(cb);\n\t\t\t\t\t\tnormalAttribute.setXYZ(vA, nA.x, nA.y, nA.z);\n\t\t\t\t\t\tnormalAttribute.setXYZ(vB, nB.x, nB.y, nB.z);\n\t\t\t\t\t\tnormalAttribute.setXYZ(vC, nC.x, nC.y, nC.z);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// non-indexed elements (unconnected triangle soup)\n\t\t\t\t\tfor (let i = 0, il = positionAttribute.count; i < il; i += 3) {\n\t\t\t\t\t\tpA.fromBufferAttribute(positionAttribute, i + 0);\n\t\t\t\t\t\tpB.fromBufferAttribute(positionAttribute, i + 1);\n\t\t\t\t\t\tpC.fromBufferAttribute(positionAttribute, i + 2);\n\t\t\t\t\t\tcb.subVectors(pC, pB);\n\t\t\t\t\t\tab.subVectors(pA, pB);\n\t\t\t\t\t\tcb.cross(ab);\n\t\t\t\t\t\tnormalAttribute.setXYZ(i + 0, cb.x, cb.y, cb.z);\n\t\t\t\t\t\tnormalAttribute.setXYZ(i + 1, cb.x, cb.y, cb.z);\n\t\t\t\t\t\tnormalAttribute.setXYZ(i + 2, cb.x, cb.y, cb.z);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.normalizeNormals();\n\t\t\t\tnormalAttribute.needsUpdate = true;\n\t\t\t}\n\t\t}\n\n\t\tmerge(geometry, offset) {\n\t\t\tif (!(geometry && geometry.isBufferGeometry)) {\n\t\t\t\tconsole.error('THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (offset === undefined) {\n\t\t\t\toffset = 0;\n\t\t\t\tconsole.warn('THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. ' + 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.');\n\t\t\t}\n\n\t\t\tconst attributes = this.attributes;\n\n\t\t\tfor (const key in attributes) {\n\t\t\t\tif (geometry.attributes[key] === undefined) continue;\n\t\t\t\tconst attribute1 = attributes[key];\n\t\t\t\tconst attributeArray1 = attribute1.array;\n\t\t\t\tconst attribute2 = geometry.attributes[key];\n\t\t\t\tconst attributeArray2 = attribute2.array;\n\t\t\t\tconst attributeOffset = attribute2.itemSize * offset;\n\t\t\t\tconst length = Math.min(attributeArray2.length, attributeArray1.length - attributeOffset);\n\n\t\t\t\tfor (let i = 0, j = attributeOffset; i < length; i++, j++) {\n\t\t\t\t\tattributeArray1[j] = attributeArray2[i];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tnormalizeNormals() {\n\t\t\tconst normals = this.attributes.normal;\n\n\t\t\tfor (let i = 0, il = normals.count; i < il; i++) {\n\t\t\t\t_vector$8.fromBufferAttribute(normals, i);\n\n\t\t\t\t_vector$8.normalize();\n\n\t\t\t\tnormals.setXYZ(i, _vector$8.x, _vector$8.y, _vector$8.z);\n\t\t\t}\n\t\t}\n\n\t\ttoNonIndexed() {\n\t\t\tfunction convertBufferAttribute(attribute, indices) {\n\t\t\t\tconst array = attribute.array;\n\t\t\t\tconst itemSize = attribute.itemSize;\n\t\t\t\tconst normalized = attribute.normalized;\n\t\t\t\tconst array2 = new array.constructor(indices.length * itemSize);\n\t\t\t\tlet index = 0,\n\t\t\t\t\t\tindex2 = 0;\n\n\t\t\t\tfor (let i = 0, l = indices.length; i < l; i++) {\n\t\t\t\t\tif (attribute.isInterleavedBufferAttribute) {\n\t\t\t\t\t\tindex = indices[i] * attribute.data.stride + attribute.offset;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tindex = indices[i] * itemSize;\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (let j = 0; j < itemSize; j++) {\n\t\t\t\t\t\tarray2[index2++] = array[index++];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn new BufferAttribute(array2, itemSize, normalized);\n\t\t\t} //\n\n\n\t\t\tif (this.index === null) {\n\t\t\t\tconsole.warn('THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed.');\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tconst geometry2 = new BufferGeometry();\n\t\t\tconst indices = this.index.array;\n\t\t\tconst attributes = this.attributes; // attributes\n\n\t\t\tfor (const name in attributes) {\n\t\t\t\tconst attribute = attributes[name];\n\t\t\t\tconst newAttribute = convertBufferAttribute(attribute, indices);\n\t\t\t\tgeometry2.setAttribute(name, newAttribute);\n\t\t\t} // morph attributes\n\n\n\t\t\tconst morphAttributes = this.morphAttributes;\n\n\t\t\tfor (const name in morphAttributes) {\n\t\t\t\tconst morphArray = [];\n\t\t\t\tconst morphAttribute = morphAttributes[name]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\t\tfor (let i = 0, il = morphAttribute.length; i < il; i++) {\n\t\t\t\t\tconst attribute = morphAttribute[i];\n\t\t\t\t\tconst newAttribute = convertBufferAttribute(attribute, indices);\n\t\t\t\t\tmorphArray.push(newAttribute);\n\t\t\t\t}\n\n\t\t\t\tgeometry2.morphAttributes[name] = morphArray;\n\t\t\t}\n\n\t\t\tgeometry2.morphTargetsRelative = this.morphTargetsRelative; // groups\n\n\t\t\tconst groups = this.groups;\n\n\t\t\tfor (let i = 0, l = groups.length; i < l; i++) {\n\t\t\t\tconst group = groups[i];\n\t\t\t\tgeometry2.addGroup(group.start, group.count, group.materialIndex);\n\t\t\t}\n\n\t\t\treturn geometry2;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = {\n\t\t\t\tmetadata: {\n\t\t\t\t\tversion: 4.5,\n\t\t\t\t\ttype: 'BufferGeometry',\n\t\t\t\t\tgenerator: 'BufferGeometry.toJSON'\n\t\t\t\t}\n\t\t\t}; // standard BufferGeometry serialization\n\n\t\t\tdata.uuid = this.uuid;\n\t\t\tdata.type = this.type;\n\t\t\tif (this.name !== '') data.name = this.name;\n\t\t\tif (Object.keys(this.userData).length > 0) data.userData = this.userData;\n\n\t\t\tif (this.parameters !== undefined) {\n\t\t\t\tconst parameters = this.parameters;\n\n\t\t\t\tfor (const key in parameters) {\n\t\t\t\t\tif (parameters[key] !== undefined) data[key] = parameters[key];\n\t\t\t\t}\n\n\t\t\t\treturn data;\n\t\t\t} // for simplicity the code assumes attributes are not shared across geometries, see #15811\n\n\n\t\t\tdata.data = {\n\t\t\t\tattributes: {}\n\t\t\t};\n\t\t\tconst index = this.index;\n\n\t\t\tif (index !== null) {\n\t\t\t\tdata.data.index = {\n\t\t\t\t\ttype: index.array.constructor.name,\n\t\t\t\t\tarray: Array.prototype.slice.call(index.array)\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst attributes = this.attributes;\n\n\t\t\tfor (const key in attributes) {\n\t\t\t\tconst attribute = attributes[key];\n\t\t\t\tdata.data.attributes[key] = attribute.toJSON(data.data);\n\t\t\t}\n\n\t\t\tconst morphAttributes = {};\n\t\t\tlet hasMorphAttributes = false;\n\n\t\t\tfor (const key in this.morphAttributes) {\n\t\t\t\tconst attributeArray = this.morphAttributes[key];\n\t\t\t\tconst array = [];\n\n\t\t\t\tfor (let i = 0, il = attributeArray.length; i < il; i++) {\n\t\t\t\t\tconst attribute = attributeArray[i];\n\t\t\t\t\tarray.push(attribute.toJSON(data.data));\n\t\t\t\t}\n\n\t\t\t\tif (array.length > 0) {\n\t\t\t\t\tmorphAttributes[key] = array;\n\t\t\t\t\thasMorphAttributes = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (hasMorphAttributes) {\n\t\t\t\tdata.data.morphAttributes = morphAttributes;\n\t\t\t\tdata.data.morphTargetsRelative = this.morphTargetsRelative;\n\t\t\t}\n\n\t\t\tconst groups = this.groups;\n\n\t\t\tif (groups.length > 0) {\n\t\t\t\tdata.data.groups = JSON.parse(JSON.stringify(groups));\n\t\t\t}\n\n\t\t\tconst boundingSphere = this.boundingSphere;\n\n\t\t\tif (boundingSphere !== null) {\n\t\t\t\tdata.data.boundingSphere = {\n\t\t\t\t\tcenter: boundingSphere.center.toArray(),\n\t\t\t\t\tradius: boundingSphere.radius\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\t// reset\n\t\t\tthis.index = null;\n\t\t\tthis.attributes = {};\n\t\t\tthis.morphAttributes = {};\n\t\t\tthis.groups = [];\n\t\t\tthis.boundingBox = null;\n\t\t\tthis.boundingSphere = null; // used for storing cloned, shared data\n\n\t\t\tconst data = {}; // name\n\n\t\t\tthis.name = source.name; // index\n\n\t\t\tconst index = source.index;\n\n\t\t\tif (index !== null) {\n\t\t\t\tthis.setIndex(index.clone(data));\n\t\t\t} // attributes\n\n\n\t\t\tconst attributes = source.attributes;\n\n\t\t\tfor (const name in attributes) {\n\t\t\t\tconst attribute = attributes[name];\n\t\t\t\tthis.setAttribute(name, attribute.clone(data));\n\t\t\t} // morph attributes\n\n\n\t\t\tconst morphAttributes = source.morphAttributes;\n\n\t\t\tfor (const name in morphAttributes) {\n\t\t\t\tconst array = [];\n\t\t\t\tconst morphAttribute = morphAttributes[name]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\t\tfor (let i = 0, l = morphAttribute.length; i < l; i++) {\n\t\t\t\t\tarray.push(morphAttribute[i].clone(data));\n\t\t\t\t}\n\n\t\t\t\tthis.morphAttributes[name] = array;\n\t\t\t}\n\n\t\t\tthis.morphTargetsRelative = source.morphTargetsRelative; // groups\n\n\t\t\tconst groups = source.groups;\n\n\t\t\tfor (let i = 0, l = groups.length; i < l; i++) {\n\t\t\t\tconst group = groups[i];\n\t\t\t\tthis.addGroup(group.start, group.count, group.materialIndex);\n\t\t\t} // bounding box\n\n\n\t\t\tconst boundingBox = source.boundingBox;\n\n\t\t\tif (boundingBox !== null) {\n\t\t\t\tthis.boundingBox = boundingBox.clone();\n\t\t\t} // bounding sphere\n\n\n\t\t\tconst boundingSphere = source.boundingSphere;\n\n\t\t\tif (boundingSphere !== null) {\n\t\t\t\tthis.boundingSphere = boundingSphere.clone();\n\t\t\t} // draw range\n\n\n\t\t\tthis.drawRange.start = source.drawRange.start;\n\t\t\tthis.drawRange.count = source.drawRange.count; // user data\n\n\t\t\tthis.userData = source.userData; // geometry generator parameters\n\n\t\t\tif (source.parameters !== undefined) this.parameters = Object.assign({}, source.parameters);\n\t\t\treturn this;\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.dispatchEvent({\n\t\t\t\ttype: 'dispose'\n\t\t\t});\n\t\t}\n\n\t}\n\n\tconst _inverseMatrix$2 = /*@__PURE__*/new Matrix4();\n\n\tconst _ray$2 = /*@__PURE__*/new Ray();\n\n\tconst _sphere$3 = /*@__PURE__*/new Sphere();\n\n\tconst _vA$1 = /*@__PURE__*/new Vector3();\n\n\tconst _vB$1 = /*@__PURE__*/new Vector3();\n\n\tconst _vC$1 = /*@__PURE__*/new Vector3();\n\n\tconst _tempA = /*@__PURE__*/new Vector3();\n\n\tconst _tempB = /*@__PURE__*/new Vector3();\n\n\tconst _tempC = /*@__PURE__*/new Vector3();\n\n\tconst _morphA = /*@__PURE__*/new Vector3();\n\n\tconst _morphB = /*@__PURE__*/new Vector3();\n\n\tconst _morphC = /*@__PURE__*/new Vector3();\n\n\tconst _uvA$1 = /*@__PURE__*/new Vector2();\n\n\tconst _uvB$1 = /*@__PURE__*/new Vector2();\n\n\tconst _uvC$1 = /*@__PURE__*/new Vector2();\n\n\tconst _intersectionPoint = /*@__PURE__*/new Vector3();\n\n\tconst _intersectionPointWorld = /*@__PURE__*/new Vector3();\n\n\tclass Mesh extends Object3D {\n\t\tconstructor(geometry = new BufferGeometry(), material = new MeshBasicMaterial()) {\n\t\t\tsuper();\n\t\t\tthis.isMesh = true;\n\t\t\tthis.type = 'Mesh';\n\t\t\tthis.geometry = geometry;\n\t\t\tthis.material = material;\n\t\t\tthis.updateMorphTargets();\n\t\t}\n\n\t\tcopy(source, recursive) {\n\t\t\tsuper.copy(source, recursive);\n\n\t\t\tif (source.morphTargetInfluences !== undefined) {\n\t\t\t\tthis.morphTargetInfluences = source.morphTargetInfluences.slice();\n\t\t\t}\n\n\t\t\tif (source.morphTargetDictionary !== undefined) {\n\t\t\t\tthis.morphTargetDictionary = Object.assign({}, source.morphTargetDictionary);\n\t\t\t}\n\n\t\t\tthis.material = source.material;\n\t\t\tthis.geometry = source.geometry;\n\t\t\treturn this;\n\t\t}\n\n\t\tupdateMorphTargets() {\n\t\t\tconst geometry = this.geometry;\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys(morphAttributes);\n\n\t\t\tif (keys.length > 0) {\n\t\t\t\tconst morphAttribute = morphAttributes[keys[0]];\n\n\t\t\t\tif (morphAttribute !== undefined) {\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor (let m = 0, ml = morphAttribute.length; m < ml; m++) {\n\t\t\t\t\t\tconst name = morphAttribute[m].name || String(m);\n\t\t\t\t\t\tthis.morphTargetInfluences.push(0);\n\t\t\t\t\t\tthis.morphTargetDictionary[name] = m;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\traycast(raycaster, intersects) {\n\t\t\tconst geometry = this.geometry;\n\t\t\tconst material = this.material;\n\t\t\tconst matrixWorld = this.matrixWorld;\n\t\t\tif (material === undefined) return; // Checking boundingSphere distance to ray\n\n\t\t\tif (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n\n\t\t\t_sphere$3.copy(geometry.boundingSphere);\n\n\t\t\t_sphere$3.applyMatrix4(matrixWorld);\n\n\t\t\tif (raycaster.ray.intersectsSphere(_sphere$3) === false) return; //\n\n\t\t\t_inverseMatrix$2.copy(matrixWorld).invert();\n\n\t\t\t_ray$2.copy(raycaster.ray).applyMatrix4(_inverseMatrix$2); // Check boundingBox before continuing\n\n\n\t\t\tif (geometry.boundingBox !== null) {\n\t\t\t\tif (_ray$2.intersectsBox(geometry.boundingBox) === false) return;\n\t\t\t}\n\n\t\t\tlet intersection;\n\t\t\tconst index = geometry.index;\n\t\t\tconst position = geometry.attributes.position;\n\t\t\tconst morphPosition = geometry.morphAttributes.position;\n\t\t\tconst morphTargetsRelative = geometry.morphTargetsRelative;\n\t\t\tconst uv = geometry.attributes.uv;\n\t\t\tconst uv2 = geometry.attributes.uv2;\n\t\t\tconst groups = geometry.groups;\n\t\t\tconst drawRange = geometry.drawRange;\n\n\t\t\tif (index !== null) {\n\t\t\t\t// indexed buffer geometry\n\t\t\t\tif (Array.isArray(material)) {\n\t\t\t\t\tfor (let i = 0, il = groups.length; i < il; i++) {\n\t\t\t\t\t\tconst group = groups[i];\n\t\t\t\t\t\tconst groupMaterial = material[group.materialIndex];\n\t\t\t\t\t\tconst start = Math.max(group.start, drawRange.start);\n\t\t\t\t\t\tconst end = Math.min(index.count, Math.min(group.start + group.count, drawRange.start + drawRange.count));\n\n\t\t\t\t\t\tfor (let j = start, jl = end; j < jl; j += 3) {\n\t\t\t\t\t\t\tconst a = index.getX(j);\n\t\t\t\t\t\t\tconst b = index.getX(j + 1);\n\t\t\t\t\t\t\tconst c = index.getX(j + 2);\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection(this, groupMaterial, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c);\n\n\t\t\t\t\t\t\tif (intersection) {\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor(j / 3); // triangle number in indexed buffer semantics\n\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push(intersection);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst start = Math.max(0, drawRange.start);\n\t\t\t\t\tconst end = Math.min(index.count, drawRange.start + drawRange.count);\n\n\t\t\t\t\tfor (let i = start, il = end; i < il; i += 3) {\n\t\t\t\t\t\tconst a = index.getX(i);\n\t\t\t\t\t\tconst b = index.getX(i + 1);\n\t\t\t\t\t\tconst c = index.getX(i + 2);\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection(this, material, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c);\n\n\t\t\t\t\t\tif (intersection) {\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor(i / 3); // triangle number in indexed buffer semantics\n\n\t\t\t\t\t\t\tintersects.push(intersection);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (position !== undefined) {\n\t\t\t\t// non-indexed buffer geometry\n\t\t\t\tif (Array.isArray(material)) {\n\t\t\t\t\tfor (let i = 0, il = groups.length; i < il; i++) {\n\t\t\t\t\t\tconst group = groups[i];\n\t\t\t\t\t\tconst groupMaterial = material[group.materialIndex];\n\t\t\t\t\t\tconst start = Math.max(group.start, drawRange.start);\n\t\t\t\t\t\tconst end = Math.min(position.count, Math.min(group.start + group.count, drawRange.start + drawRange.count));\n\n\t\t\t\t\t\tfor (let j = start, jl = end; j < jl; j += 3) {\n\t\t\t\t\t\t\tconst a = j;\n\t\t\t\t\t\t\tconst b = j + 1;\n\t\t\t\t\t\t\tconst c = j + 2;\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection(this, groupMaterial, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c);\n\n\t\t\t\t\t\t\tif (intersection) {\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor(j / 3); // triangle number in non-indexed buffer semantics\n\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push(intersection);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst start = Math.max(0, drawRange.start);\n\t\t\t\t\tconst end = Math.min(position.count, drawRange.start + drawRange.count);\n\n\t\t\t\t\tfor (let i = start, il = end; i < il; i += 3) {\n\t\t\t\t\t\tconst a = i;\n\t\t\t\t\t\tconst b = i + 1;\n\t\t\t\t\t\tconst c = i + 2;\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection(this, material, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c);\n\n\t\t\t\t\t\tif (intersection) {\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor(i / 3); // triangle number in non-indexed buffer semantics\n\n\t\t\t\t\t\t\tintersects.push(intersection);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n\n\tfunction checkIntersection(object, material, raycaster, ray, pA, pB, pC, point) {\n\t\tlet intersect;\n\n\t\tif (material.side === BackSide) {\n\t\t\tintersect = ray.intersectTriangle(pC, pB, pA, true, point);\n\t\t} else {\n\t\t\tintersect = ray.intersectTriangle(pA, pB, pC, material.side !== DoubleSide, point);\n\t\t}\n\n\t\tif (intersect === null) return null;\n\n\t\t_intersectionPointWorld.copy(point);\n\n\t\t_intersectionPointWorld.applyMatrix4(object.matrixWorld);\n\n\t\tconst distance = raycaster.ray.origin.distanceTo(_intersectionPointWorld);\n\t\tif (distance < raycaster.near || distance > raycaster.far) return null;\n\t\treturn {\n\t\t\tdistance: distance,\n\t\t\tpoint: _intersectionPointWorld.clone(),\n\t\t\tobject: object\n\t\t};\n\t}\n\n\tfunction checkBufferGeometryIntersection(object, material, raycaster, ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c) {\n\t\t_vA$1.fromBufferAttribute(position, a);\n\n\t\t_vB$1.fromBufferAttribute(position, b);\n\n\t\t_vC$1.fromBufferAttribute(position, c);\n\n\t\tconst morphInfluences = object.morphTargetInfluences;\n\n\t\tif (morphPosition && morphInfluences) {\n\t\t\t_morphA.set(0, 0, 0);\n\n\t\t\t_morphB.set(0, 0, 0);\n\n\t\t\t_morphC.set(0, 0, 0);\n\n\t\t\tfor (let i = 0, il = morphPosition.length; i < il; i++) {\n\t\t\t\tconst influence = morphInfluences[i];\n\t\t\t\tconst morphAttribute = morphPosition[i];\n\t\t\t\tif (influence === 0) continue;\n\n\t\t\t\t_tempA.fromBufferAttribute(morphAttribute, a);\n\n\t\t\t\t_tempB.fromBufferAttribute(morphAttribute, b);\n\n\t\t\t\t_tempC.fromBufferAttribute(morphAttribute, c);\n\n\t\t\t\tif (morphTargetsRelative) {\n\t\t\t\t\t_morphA.addScaledVector(_tempA, influence);\n\n\t\t\t\t\t_morphB.addScaledVector(_tempB, influence);\n\n\t\t\t\t\t_morphC.addScaledVector(_tempC, influence);\n\t\t\t\t} else {\n\t\t\t\t\t_morphA.addScaledVector(_tempA.sub(_vA$1), influence);\n\n\t\t\t\t\t_morphB.addScaledVector(_tempB.sub(_vB$1), influence);\n\n\t\t\t\t\t_morphC.addScaledVector(_tempC.sub(_vC$1), influence);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_vA$1.add(_morphA);\n\n\t\t\t_vB$1.add(_morphB);\n\n\t\t\t_vC$1.add(_morphC);\n\t\t}\n\n\t\tif (object.isSkinnedMesh) {\n\t\t\tobject.boneTransform(a, _vA$1);\n\t\t\tobject.boneTransform(b, _vB$1);\n\t\t\tobject.boneTransform(c, _vC$1);\n\t\t}\n\n\t\tconst intersection = checkIntersection(object, material, raycaster, ray, _vA$1, _vB$1, _vC$1, _intersectionPoint);\n\n\t\tif (intersection) {\n\t\t\tif (uv) {\n\t\t\t\t_uvA$1.fromBufferAttribute(uv, a);\n\n\t\t\t\t_uvB$1.fromBufferAttribute(uv, b);\n\n\t\t\t\t_uvC$1.fromBufferAttribute(uv, c);\n\n\t\t\t\tintersection.uv = Triangle.getUV(_intersectionPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2());\n\t\t\t}\n\n\t\t\tif (uv2) {\n\t\t\t\t_uvA$1.fromBufferAttribute(uv2, a);\n\n\t\t\t\t_uvB$1.fromBufferAttribute(uv2, b);\n\n\t\t\t\t_uvC$1.fromBufferAttribute(uv2, c);\n\n\t\t\t\tintersection.uv2 = Triangle.getUV(_intersectionPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2());\n\t\t\t}\n\n\t\t\tconst face = {\n\t\t\t\ta: a,\n\t\t\t\tb: b,\n\t\t\t\tc: c,\n\t\t\t\tnormal: new Vector3(),\n\t\t\t\tmaterialIndex: 0\n\t\t\t};\n\t\t\tTriangle.getNormal(_vA$1, _vB$1, _vC$1, face.normal);\n\t\t\tintersection.face = face;\n\t\t}\n\n\t\treturn intersection;\n\t}\n\n\tclass BoxGeometry extends BufferGeometry {\n\t\tconstructor(width = 1, height = 1, depth = 1, widthSegments = 1, heightSegments = 1, depthSegments = 1) {\n\t\t\tsuper();\n\t\t\tthis.type = 'BoxGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\twidth: width,\n\t\t\t\theight: height,\n\t\t\t\tdepth: depth,\n\t\t\t\twidthSegments: widthSegments,\n\t\t\t\theightSegments: heightSegments,\n\t\t\t\tdepthSegments: depthSegments\n\t\t\t};\n\t\t\tconst scope = this; // segments\n\n\t\t\twidthSegments = Math.floor(widthSegments);\n\t\t\theightSegments = Math.floor(heightSegments);\n\t\t\tdepthSegments = Math.floor(depthSegments); // buffers\n\n\t\t\tconst indices = [];\n\t\t\tconst vertices = [];\n\t\t\tconst normals = [];\n\t\t\tconst uvs = []; // helper variables\n\n\t\t\tlet numberOfVertices = 0;\n\t\t\tlet groupStart = 0; // build each side of the box geometry\n\n\t\t\tbuildPlane('z', 'y', 'x', -1, -1, depth, height, width, depthSegments, heightSegments, 0); // px\n\n\t\t\tbuildPlane('z', 'y', 'x', 1, -1, depth, height, -width, depthSegments, heightSegments, 1); // nx\n\n\t\t\tbuildPlane('x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2); // py\n\n\t\t\tbuildPlane('x', 'z', 'y', 1, -1, width, depth, -height, widthSegments, depthSegments, 3); // ny\n\n\t\t\tbuildPlane('x', 'y', 'z', 1, -1, width, height, depth, widthSegments, heightSegments, 4); // pz\n\n\t\t\tbuildPlane('x', 'y', 'z', -1, -1, width, height, -depth, widthSegments, heightSegments, 5); // nz\n\t\t\t// build geometry\n\n\t\t\tthis.setIndex(indices);\n\t\t\tthis.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tthis.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\t\t\tthis.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n\t\t\tfunction buildPlane(u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex) {\n\t\t\t\tconst segmentWidth = width / gridX;\n\t\t\t\tconst segmentHeight = height / gridY;\n\t\t\t\tconst widthHalf = width / 2;\n\t\t\t\tconst heightHalf = height / 2;\n\t\t\t\tconst depthHalf = depth / 2;\n\t\t\t\tconst gridX1 = gridX + 1;\n\t\t\t\tconst gridY1 = gridY + 1;\n\t\t\t\tlet vertexCounter = 0;\n\t\t\t\tlet groupCount = 0;\n\t\t\t\tconst vector = new Vector3(); // generate vertices, normals and uvs\n\n\t\t\t\tfor (let iy = 0; iy < gridY1; iy++) {\n\t\t\t\t\tconst y = iy * segmentHeight - heightHalf;\n\n\t\t\t\t\tfor (let ix = 0; ix < gridX1; ix++) {\n\t\t\t\t\t\tconst x = ix * segmentWidth - widthHalf; // set values to correct vector component\n\n\t\t\t\t\t\tvector[u] = x * udir;\n\t\t\t\t\t\tvector[v] = y * vdir;\n\t\t\t\t\t\tvector[w] = depthHalf; // now apply vector to vertex buffer\n\n\t\t\t\t\t\tvertices.push(vector.x, vector.y, vector.z); // set values to correct vector component\n\n\t\t\t\t\t\tvector[u] = 0;\n\t\t\t\t\t\tvector[v] = 0;\n\t\t\t\t\t\tvector[w] = depth > 0 ? 1 : -1; // now apply vector to normal buffer\n\n\t\t\t\t\t\tnormals.push(vector.x, vector.y, vector.z); // uvs\n\n\t\t\t\t\t\tuvs.push(ix / gridX);\n\t\t\t\t\t\tuvs.push(1 - iy / gridY); // counters\n\n\t\t\t\t\t\tvertexCounter += 1;\n\t\t\t\t\t}\n\t\t\t\t} // indices\n\t\t\t\t// 1. you need three indices to draw a single face\n\t\t\t\t// 2. a single segment consists of two faces\n\t\t\t\t// 3. so we need to generate six (2*3) indices per segment\n\n\n\t\t\t\tfor (let iy = 0; iy < gridY; iy++) {\n\t\t\t\t\tfor (let ix = 0; ix < gridX; ix++) {\n\t\t\t\t\t\tconst a = numberOfVertices + ix + gridX1 * iy;\n\t\t\t\t\t\tconst b = numberOfVertices + ix + gridX1 * (iy + 1);\n\t\t\t\t\t\tconst c = numberOfVertices + (ix + 1) + gridX1 * (iy + 1);\n\t\t\t\t\t\tconst d = numberOfVertices + (ix + 1) + gridX1 * iy; // faces\n\n\t\t\t\t\t\tindices.push(a, b, d);\n\t\t\t\t\t\tindices.push(b, c, d); // increase counter\n\n\t\t\t\t\t\tgroupCount += 6;\n\t\t\t\t\t}\n\t\t\t\t} // add a group to the geometry. this will ensure multi material support\n\n\n\t\t\t\tscope.addGroup(groupStart, groupCount, materialIndex); // calculate new start value for groups\n\n\t\t\t\tgroupStart += groupCount; // update total number of vertices\n\n\t\t\t\tnumberOfVertices += vertexCounter;\n\t\t\t}\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new BoxGeometry(data.width, data.height, data.depth, data.widthSegments, data.heightSegments, data.depthSegments);\n\t\t}\n\n\t}\n\n\t/**\n\t * Uniform Utilities\n\t */\n\tfunction cloneUniforms(src) {\n\t\tconst dst = {};\n\n\t\tfor (const u in src) {\n\t\t\tdst[u] = {};\n\n\t\t\tfor (const p in src[u]) {\n\t\t\t\tconst property = src[u][p];\n\n\t\t\t\tif (property && (property.isColor || property.isMatrix3 || property.isMatrix4 || property.isVector2 || property.isVector3 || property.isVector4 || property.isTexture || property.isQuaternion)) {\n\t\t\t\t\tdst[u][p] = property.clone();\n\t\t\t\t} else if (Array.isArray(property)) {\n\t\t\t\t\tdst[u][p] = property.slice();\n\t\t\t\t} else {\n\t\t\t\t\tdst[u][p] = property;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn dst;\n\t}\n\tfunction mergeUniforms(uniforms) {\n\t\tconst merged = {};\n\n\t\tfor (let u = 0; u < uniforms.length; u++) {\n\t\t\tconst tmp = cloneUniforms(uniforms[u]);\n\n\t\t\tfor (const p in tmp) {\n\t\t\t\tmerged[p] = tmp[p];\n\t\t\t}\n\t\t}\n\n\t\treturn merged;\n\t} // Legacy\n\n\tconst UniformsUtils = {\n\t\tclone: cloneUniforms,\n\t\tmerge: mergeUniforms\n\t};\n\n\tvar default_vertex = \"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\";\n\n\tvar default_fragment = \"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";\n\n\tclass ShaderMaterial extends Material {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.isShaderMaterial = true;\n\t\t\tthis.type = 'ShaderMaterial';\n\t\t\tthis.defines = {};\n\t\t\tthis.uniforms = {};\n\t\t\tthis.vertexShader = default_vertex;\n\t\t\tthis.fragmentShader = default_fragment;\n\t\t\tthis.linewidth = 1;\n\t\t\tthis.wireframe = false;\n\t\t\tthis.wireframeLinewidth = 1;\n\t\t\tthis.fog = false; // set to use scene fog\n\n\t\t\tthis.lights = false; // set to use scene lights\n\n\t\t\tthis.clipping = false; // set to use user-defined clipping planes\n\n\t\t\tthis.extensions = {\n\t\t\t\tderivatives: false,\n\t\t\t\t// set to use derivatives\n\t\t\t\tfragDepth: false,\n\t\t\t\t// set to use fragment depth values\n\t\t\t\tdrawBuffers: false,\n\t\t\t\t// set to use draw buffers\n\t\t\t\tshaderTextureLOD: false // set to use shader texture LOD\n\n\t\t\t}; // When rendered geometry doesn't include these attributes but the material does,\n\t\t\t// use these default values in WebGL. This avoids errors when buffer data is missing.\n\n\t\t\tthis.defaultAttributeValues = {\n\t\t\t\t'color': [1, 1, 1],\n\t\t\t\t'uv': [0, 0],\n\t\t\t\t'uv2': [0, 0]\n\t\t\t};\n\t\t\tthis.index0AttributeName = undefined;\n\t\t\tthis.uniformsNeedUpdate = false;\n\t\t\tthis.glslVersion = null;\n\n\t\t\tif (parameters !== undefined) {\n\t\t\t\tif (parameters.attributes !== undefined) {\n\t\t\t\t\tconsole.error('THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.');\n\t\t\t\t}\n\n\t\t\t\tthis.setValues(parameters);\n\t\t\t}\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.fragmentShader = source.fragmentShader;\n\t\t\tthis.vertexShader = source.vertexShader;\n\t\t\tthis.uniforms = cloneUniforms(source.uniforms);\n\t\t\tthis.defines = Object.assign({}, source.defines);\n\t\t\tthis.wireframe = source.wireframe;\n\t\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\t\tthis.fog = source.fog;\n\t\t\tthis.lights = source.lights;\n\t\t\tthis.clipping = source.clipping;\n\t\t\tthis.extensions = Object.assign({}, source.extensions);\n\t\t\tthis.glslVersion = source.glslVersion;\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON(meta) {\n\t\t\tconst data = super.toJSON(meta);\n\t\t\tdata.glslVersion = this.glslVersion;\n\t\t\tdata.uniforms = {};\n\n\t\t\tfor (const name in this.uniforms) {\n\t\t\t\tconst uniform = this.uniforms[name];\n\t\t\t\tconst value = uniform.value;\n\n\t\t\t\tif (value && value.isTexture) {\n\t\t\t\t\tdata.uniforms[name] = {\n\t\t\t\t\t\ttype: 't',\n\t\t\t\t\t\tvalue: value.toJSON(meta).uuid\n\t\t\t\t\t};\n\t\t\t\t} else if (value && value.isColor) {\n\t\t\t\t\tdata.uniforms[name] = {\n\t\t\t\t\t\ttype: 'c',\n\t\t\t\t\t\tvalue: value.getHex()\n\t\t\t\t\t};\n\t\t\t\t} else if (value && value.isVector2) {\n\t\t\t\t\tdata.uniforms[name] = {\n\t\t\t\t\t\ttype: 'v2',\n\t\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t\t};\n\t\t\t\t} else if (value && value.isVector3) {\n\t\t\t\t\tdata.uniforms[name] = {\n\t\t\t\t\t\ttype: 'v3',\n\t\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t\t};\n\t\t\t\t} else if (value && value.isVector4) {\n\t\t\t\t\tdata.uniforms[name] = {\n\t\t\t\t\t\ttype: 'v4',\n\t\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t\t};\n\t\t\t\t} else if (value && value.isMatrix3) {\n\t\t\t\t\tdata.uniforms[name] = {\n\t\t\t\t\t\ttype: 'm3',\n\t\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t\t};\n\t\t\t\t} else if (value && value.isMatrix4) {\n\t\t\t\t\tdata.uniforms[name] = {\n\t\t\t\t\t\ttype: 'm4',\n\t\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tdata.uniforms[name] = {\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t}; // note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (Object.keys(this.defines).length > 0) data.defines = this.defines;\n\t\t\tdata.vertexShader = this.vertexShader;\n\t\t\tdata.fragmentShader = this.fragmentShader;\n\t\t\tconst extensions = {};\n\n\t\t\tfor (const key in this.extensions) {\n\t\t\t\tif (this.extensions[key] === true) extensions[key] = true;\n\t\t\t}\n\n\t\t\tif (Object.keys(extensions).length > 0) data.extensions = extensions;\n\t\t\treturn data;\n\t\t}\n\n\t}\n\n\tclass Camera extends Object3D {\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tthis.isCamera = true;\n\t\t\tthis.type = 'Camera';\n\t\t\tthis.matrixWorldInverse = new Matrix4();\n\t\t\tthis.projectionMatrix = new Matrix4();\n\t\t\tthis.projectionMatrixInverse = new Matrix4();\n\t\t}\n\n\t\tcopy(source, recursive) {\n\t\t\tsuper.copy(source, recursive);\n\t\t\tthis.matrixWorldInverse.copy(source.matrixWorldInverse);\n\t\t\tthis.projectionMatrix.copy(source.projectionMatrix);\n\t\t\tthis.projectionMatrixInverse.copy(source.projectionMatrixInverse);\n\t\t\treturn this;\n\t\t}\n\n\t\tgetWorldDirection(target) {\n\t\t\tthis.updateWorldMatrix(true, false);\n\t\t\tconst e = this.matrixWorld.elements;\n\t\t\treturn target.set(-e[8], -e[9], -e[10]).normalize();\n\t\t}\n\n\t\tupdateMatrixWorld(force) {\n\t\t\tsuper.updateMatrixWorld(force);\n\t\t\tthis.matrixWorldInverse.copy(this.matrixWorld).invert();\n\t\t}\n\n\t\tupdateWorldMatrix(updateParents, updateChildren) {\n\t\t\tsuper.updateWorldMatrix(updateParents, updateChildren);\n\t\t\tthis.matrixWorldInverse.copy(this.matrixWorld).invert();\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t}\n\n\tclass PerspectiveCamera extends Camera {\n\t\tconstructor(fov = 50, aspect = 1, near = 0.1, far = 2000) {\n\t\t\tsuper();\n\t\t\tthis.isPerspectiveCamera = true;\n\t\t\tthis.type = 'PerspectiveCamera';\n\t\t\tthis.fov = fov;\n\t\t\tthis.zoom = 1;\n\t\t\tthis.near = near;\n\t\t\tthis.far = far;\n\t\t\tthis.focus = 10;\n\t\t\tthis.aspect = aspect;\n\t\t\tthis.view = null;\n\t\t\tthis.filmGauge = 35; // width of the film (default in millimeters)\n\n\t\t\tthis.filmOffset = 0; // horizontal film offset (same unit as gauge)\n\n\t\t\tthis.updateProjectionMatrix();\n\t\t}\n\n\t\tcopy(source, recursive) {\n\t\t\tsuper.copy(source, recursive);\n\t\t\tthis.fov = source.fov;\n\t\t\tthis.zoom = source.zoom;\n\t\t\tthis.near = source.near;\n\t\t\tthis.far = source.far;\n\t\t\tthis.focus = source.focus;\n\t\t\tthis.aspect = source.aspect;\n\t\t\tthis.view = source.view === null ? null : Object.assign({}, source.view);\n\t\t\tthis.filmGauge = source.filmGauge;\n\t\t\tthis.filmOffset = source.filmOffset;\n\t\t\treturn this;\n\t\t}\n\t\t/**\n\t\t * Sets the FOV by focal length in respect to the current .filmGauge.\n\t\t *\n\t\t * The default film gauge is 35, so that the focal length can be specified for\n\t\t * a 35mm (full frame) camera.\n\t\t *\n\t\t * Values for focal length and film gauge must have the same unit.\n\t\t */\n\n\n\t\tsetFocalLength(focalLength) {\n\t\t\t/** see {@link http://www.bobatkins.com/photography/technical/field_of_view.html} */\n\t\t\tconst vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\t\t\tthis.fov = RAD2DEG * 2 * Math.atan(vExtentSlope);\n\t\t\tthis.updateProjectionMatrix();\n\t\t}\n\t\t/**\n\t\t * Calculates the focal length from the current .fov and .filmGauge.\n\t\t */\n\n\n\t\tgetFocalLength() {\n\t\t\tconst vExtentSlope = Math.tan(DEG2RAD * 0.5 * this.fov);\n\t\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\n\t\t}\n\n\t\tgetEffectiveFOV() {\n\t\t\treturn RAD2DEG * 2 * Math.atan(Math.tan(DEG2RAD * 0.5 * this.fov) / this.zoom);\n\t\t}\n\n\t\tgetFilmWidth() {\n\t\t\t// film not completely covered in portrait format (aspect < 1)\n\t\t\treturn this.filmGauge * Math.min(this.aspect, 1);\n\t\t}\n\n\t\tgetFilmHeight() {\n\t\t\t// film not completely covered in landscape format (aspect > 1)\n\t\t\treturn this.filmGauge / Math.max(this.aspect, 1);\n\t\t}\n\t\t/**\n\t\t * Sets an offset in a larger frustum. This is useful for multi-window or\n\t\t * multi-monitor/multi-machine setups.\n\t\t *\n\t\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n\t\t * the monitors are in grid like this\n\t\t *\n\t\t *\t +---+---+---+\n\t\t *\t | A | B | C |\n\t\t *\t +---+---+---+\n\t\t *\t | D | E | F |\n\t\t *\t +---+---+---+\n\t\t *\n\t\t * then for each monitor you would call it like this\n\t\t *\n\t\t *\t const w = 1920;\n\t\t *\t const h = 1080;\n\t\t *\t const fullWidth = w * 3;\n\t\t *\t const fullHeight = h * 2;\n\t\t *\n\t\t *\t --A--\n\t\t *\t camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n\t\t *\t --B--\n\t\t *\t camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n\t\t *\t --C--\n\t\t *\t camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n\t\t *\t --D--\n\t\t *\t camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n\t\t *\t --E--\n\t\t *\t camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n\t\t *\t --F--\n\t\t *\t camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n\t\t *\n\t\t *\t Note there is no reason monitors have to be the same size or in a grid.\n\t\t */\n\n\n\t\tsetViewOffset(fullWidth, fullHeight, x, y, width, height) {\n\t\t\tthis.aspect = fullWidth / fullHeight;\n\n\t\t\tif (this.view === null) {\n\t\t\t\tthis.view = {\n\t\t\t\t\tenabled: true,\n\t\t\t\t\tfullWidth: 1,\n\t\t\t\t\tfullHeight: 1,\n\t\t\t\t\toffsetX: 0,\n\t\t\t\t\toffsetY: 0,\n\t\t\t\t\twidth: 1,\n\t\t\t\t\theight: 1\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthis.view.enabled = true;\n\t\t\tthis.view.fullWidth = fullWidth;\n\t\t\tthis.view.fullHeight = fullHeight;\n\t\t\tthis.view.offsetX = x;\n\t\t\tthis.view.offsetY = y;\n\t\t\tthis.view.width = width;\n\t\t\tthis.view.height = height;\n\t\t\tthis.updateProjectionMatrix();\n\t\t}\n\n\t\tclearViewOffset() {\n\t\t\tif (this.view !== null) {\n\t\t\t\tthis.view.enabled = false;\n\t\t\t}\n\n\t\t\tthis.updateProjectionMatrix();\n\t\t}\n\n\t\tupdateProjectionMatrix() {\n\t\t\tconst near = this.near;\n\t\t\tlet top = near * Math.tan(DEG2RAD * 0.5 * this.fov) / this.zoom;\n\t\t\tlet height = 2 * top;\n\t\t\tlet width = this.aspect * height;\n\t\t\tlet left = -0.5 * width;\n\t\t\tconst view = this.view;\n\n\t\t\tif (this.view !== null && this.view.enabled) {\n\t\t\t\tconst fullWidth = view.fullWidth,\n\t\t\t\t\t\t\tfullHeight = view.fullHeight;\n\t\t\t\tleft += view.offsetX * width / fullWidth;\n\t\t\t\ttop -= view.offsetY * height / fullHeight;\n\t\t\t\twidth *= view.width / fullWidth;\n\t\t\t\theight *= view.height / fullHeight;\n\t\t\t}\n\n\t\t\tconst skew = this.filmOffset;\n\t\t\tif (skew !== 0) left += near * skew / this.getFilmWidth();\n\t\t\tthis.projectionMatrix.makePerspective(left, left + width, top, top - height, near, this.far);\n\t\t\tthis.projectionMatrixInverse.copy(this.projectionMatrix).invert();\n\t\t}\n\n\t\ttoJSON(meta) {\n\t\t\tconst data = super.toJSON(meta);\n\t\t\tdata.object.fov = this.fov;\n\t\t\tdata.object.zoom = this.zoom;\n\t\t\tdata.object.near = this.near;\n\t\t\tdata.object.far = this.far;\n\t\t\tdata.object.focus = this.focus;\n\t\t\tdata.object.aspect = this.aspect;\n\t\t\tif (this.view !== null) data.object.view = Object.assign({}, this.view);\n\t\t\tdata.object.filmGauge = this.filmGauge;\n\t\t\tdata.object.filmOffset = this.filmOffset;\n\t\t\treturn data;\n\t\t}\n\n\t}\n\n\tconst fov = 90,\n\t\t\t\taspect = 1;\n\n\tclass CubeCamera extends Object3D {\n\t\tconstructor(near, far, renderTarget) {\n\t\t\tsuper();\n\t\t\tthis.type = 'CubeCamera';\n\n\t\t\tif (renderTarget.isWebGLCubeRenderTarget !== true) {\n\t\t\t\tconsole.error('THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.renderTarget = renderTarget;\n\t\t\tconst cameraPX = new PerspectiveCamera(fov, aspect, near, far);\n\t\t\tcameraPX.layers = this.layers;\n\t\t\tcameraPX.up.set(0, -1, 0);\n\t\t\tcameraPX.lookAt(new Vector3(1, 0, 0));\n\t\t\tthis.add(cameraPX);\n\t\t\tconst cameraNX = new PerspectiveCamera(fov, aspect, near, far);\n\t\t\tcameraNX.layers = this.layers;\n\t\t\tcameraNX.up.set(0, -1, 0);\n\t\t\tcameraNX.lookAt(new Vector3(-1, 0, 0));\n\t\t\tthis.add(cameraNX);\n\t\t\tconst cameraPY = new PerspectiveCamera(fov, aspect, near, far);\n\t\t\tcameraPY.layers = this.layers;\n\t\t\tcameraPY.up.set(0, 0, 1);\n\t\t\tcameraPY.lookAt(new Vector3(0, 1, 0));\n\t\t\tthis.add(cameraPY);\n\t\t\tconst cameraNY = new PerspectiveCamera(fov, aspect, near, far);\n\t\t\tcameraNY.layers = this.layers;\n\t\t\tcameraNY.up.set(0, 0, -1);\n\t\t\tcameraNY.lookAt(new Vector3(0, -1, 0));\n\t\t\tthis.add(cameraNY);\n\t\t\tconst cameraPZ = new PerspectiveCamera(fov, aspect, near, far);\n\t\t\tcameraPZ.layers = this.layers;\n\t\t\tcameraPZ.up.set(0, -1, 0);\n\t\t\tcameraPZ.lookAt(new Vector3(0, 0, 1));\n\t\t\tthis.add(cameraPZ);\n\t\t\tconst cameraNZ = new PerspectiveCamera(fov, aspect, near, far);\n\t\t\tcameraNZ.layers = this.layers;\n\t\t\tcameraNZ.up.set(0, -1, 0);\n\t\t\tcameraNZ.lookAt(new Vector3(0, 0, -1));\n\t\t\tthis.add(cameraNZ);\n\t\t}\n\n\t\tupdate(renderer, scene) {\n\t\t\tif (this.parent === null) this.updateMatrixWorld();\n\t\t\tconst renderTarget = this.renderTarget;\n\t\t\tconst [cameraPX, cameraNX, cameraPY, cameraNY, cameraPZ, cameraNZ] = this.children;\n\t\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\t\t\tconst currentToneMapping = renderer.toneMapping;\n\t\t\tconst currentXrEnabled = renderer.xr.enabled;\n\t\t\trenderer.toneMapping = NoToneMapping;\n\t\t\trenderer.xr.enabled = false;\n\t\t\tconst generateMipmaps = renderTarget.texture.generateMipmaps;\n\t\t\trenderTarget.texture.generateMipmaps = false;\n\t\t\trenderer.setRenderTarget(renderTarget, 0);\n\t\t\trenderer.render(scene, cameraPX);\n\t\t\trenderer.setRenderTarget(renderTarget, 1);\n\t\t\trenderer.render(scene, cameraNX);\n\t\t\trenderer.setRenderTarget(renderTarget, 2);\n\t\t\trenderer.render(scene, cameraPY);\n\t\t\trenderer.setRenderTarget(renderTarget, 3);\n\t\t\trenderer.render(scene, cameraNY);\n\t\t\trenderer.setRenderTarget(renderTarget, 4);\n\t\t\trenderer.render(scene, cameraPZ);\n\t\t\trenderTarget.texture.generateMipmaps = generateMipmaps;\n\t\t\trenderer.setRenderTarget(renderTarget, 5);\n\t\t\trenderer.render(scene, cameraNZ);\n\t\t\trenderer.setRenderTarget(currentRenderTarget);\n\t\t\trenderer.toneMapping = currentToneMapping;\n\t\t\trenderer.xr.enabled = currentXrEnabled;\n\t\t\trenderTarget.texture.needsPMREMUpdate = true;\n\t\t}\n\n\t}\n\n\tclass CubeTexture extends Texture {\n\t\tconstructor(images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding) {\n\t\t\timages = images !== undefined ? images : [];\n\t\t\tmapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n\t\t\tsuper(images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding);\n\t\t\tthis.isCubeTexture = true;\n\t\t\tthis.flipY = false;\n\t\t}\n\n\t\tget images() {\n\t\t\treturn this.image;\n\t\t}\n\n\t\tset images(value) {\n\t\t\tthis.image = value;\n\t\t}\n\n\t}\n\n\tclass WebGLCubeRenderTarget extends WebGLRenderTarget {\n\t\tconstructor(size, options = {}) {\n\t\t\tsuper(size, size, options);\n\t\t\tthis.isWebGLCubeRenderTarget = true;\n\t\t\tconst image = {\n\t\t\t\twidth: size,\n\t\t\t\theight: size,\n\t\t\t\tdepth: 1\n\t\t\t};\n\t\t\tconst images = [image, image, image, image, image, image];\n\t\t\tthis.texture = new CubeTexture(images, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding); // By convention -- likely based on the RenderMan spec from the 1990's -- cube maps are specified by WebGL (and three.js)\n\t\t\t// in a coordinate system in which positive-x is to the right when looking up the positive-z axis -- in other words,\n\t\t\t// in a left-handed coordinate system. By continuing this convention, preexisting cube maps continued to render correctly.\n\t\t\t// three.js uses a right-handed coordinate system. So environment maps used in three.js appear to have px and nx swapped\n\t\t\t// and the flag isRenderTargetTexture controls this conversion. The flip is not required when using WebGLCubeRenderTarget.texture\n\t\t\t// as a cube texture (this is detected when isRenderTargetTexture is set to true for cube textures).\n\n\t\t\tthis.texture.isRenderTargetTexture = true;\n\t\t\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\t\t\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\t\t}\n\n\t\tfromEquirectangularTexture(renderer, texture) {\n\t\t\tthis.texture.type = texture.type;\n\t\t\tthis.texture.encoding = texture.encoding;\n\t\t\tthis.texture.generateMipmaps = texture.generateMipmaps;\n\t\t\tthis.texture.minFilter = texture.minFilter;\n\t\t\tthis.texture.magFilter = texture.magFilter;\n\t\t\tconst shader = {\n\t\t\t\tuniforms: {\n\t\t\t\t\ttEquirect: {\n\t\t\t\t\t\tvalue: null\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tvertexShader:\n\t\t\t\t/* glsl */\n\t\t\t\t`\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t`,\n\t\t\t\tfragmentShader:\n\t\t\t\t/* glsl */\n\t\t\t\t`\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t`\n\t\t\t};\n\t\t\tconst geometry = new BoxGeometry(5, 5, 5);\n\t\t\tconst material = new ShaderMaterial({\n\t\t\t\tname: 'CubemapFromEquirect',\n\t\t\t\tuniforms: cloneUniforms(shader.uniforms),\n\t\t\t\tvertexShader: shader.vertexShader,\n\t\t\t\tfragmentShader: shader.fragmentShader,\n\t\t\t\tside: BackSide,\n\t\t\t\tblending: NoBlending\n\t\t\t});\n\t\t\tmaterial.uniforms.tEquirect.value = texture;\n\t\t\tconst mesh = new Mesh(geometry, material);\n\t\t\tconst currentMinFilter = texture.minFilter; // Avoid blurred poles\n\n\t\t\tif (texture.minFilter === LinearMipmapLinearFilter) texture.minFilter = LinearFilter;\n\t\t\tconst camera = new CubeCamera(1, 10, this);\n\t\t\tcamera.update(renderer, mesh);\n\t\t\ttexture.minFilter = currentMinFilter;\n\t\t\tmesh.geometry.dispose();\n\t\t\tmesh.material.dispose();\n\t\t\treturn this;\n\t\t}\n\n\t\tclear(renderer, color, depth, stencil) {\n\t\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\trenderer.setRenderTarget(this, i);\n\t\t\t\trenderer.clear(color, depth, stencil);\n\t\t\t}\n\n\t\t\trenderer.setRenderTarget(currentRenderTarget);\n\t\t}\n\n\t}\n\n\tconst _vector1 = /*@__PURE__*/new Vector3();\n\n\tconst _vector2 = /*@__PURE__*/new Vector3();\n\n\tconst _normalMatrix = /*@__PURE__*/new Matrix3();\n\n\tclass Plane {\n\t\tconstructor(normal = new Vector3(1, 0, 0), constant = 0) {\n\t\t\tthis.isPlane = true; // normal is assumed to be normalized\n\n\t\t\tthis.normal = normal;\n\t\t\tthis.constant = constant;\n\t\t}\n\n\t\tset(normal, constant) {\n\t\t\tthis.normal.copy(normal);\n\t\t\tthis.constant = constant;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetComponents(x, y, z, w) {\n\t\t\tthis.normal.set(x, y, z);\n\t\t\tthis.constant = w;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromNormalAndCoplanarPoint(normal, point) {\n\t\t\tthis.normal.copy(normal);\n\t\t\tthis.constant = -point.dot(this.normal);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromCoplanarPoints(a, b, c) {\n\t\t\tconst normal = _vector1.subVectors(c, b).cross(_vector2.subVectors(a, b)).normalize(); // Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\n\t\t\tthis.setFromNormalAndCoplanarPoint(normal, a);\n\t\t\treturn this;\n\t\t}\n\n\t\tcopy(plane) {\n\t\t\tthis.normal.copy(plane.normal);\n\t\t\tthis.constant = plane.constant;\n\t\t\treturn this;\n\t\t}\n\n\t\tnormalize() {\n\t\t\t// Note: will lead to a divide by zero if the plane is invalid.\n\t\t\tconst inverseNormalLength = 1.0 / this.normal.length();\n\t\t\tthis.normal.multiplyScalar(inverseNormalLength);\n\t\t\tthis.constant *= inverseNormalLength;\n\t\t\treturn this;\n\t\t}\n\n\t\tnegate() {\n\t\t\tthis.constant *= -1;\n\t\t\tthis.normal.negate();\n\t\t\treturn this;\n\t\t}\n\n\t\tdistanceToPoint(point) {\n\t\t\treturn this.normal.dot(point) + this.constant;\n\t\t}\n\n\t\tdistanceToSphere(sphere) {\n\t\t\treturn this.distanceToPoint(sphere.center) - sphere.radius;\n\t\t}\n\n\t\tprojectPoint(point, target) {\n\t\t\treturn target.copy(this.normal).multiplyScalar(-this.distanceToPoint(point)).add(point);\n\t\t}\n\n\t\tintersectLine(line, target) {\n\t\t\tconst direction = line.delta(_vector1);\n\t\t\tconst denominator = this.normal.dot(direction);\n\n\t\t\tif (denominator === 0) {\n\t\t\t\t// line is coplanar, return origin\n\t\t\t\tif (this.distanceToPoint(line.start) === 0) {\n\t\t\t\t\treturn target.copy(line.start);\n\t\t\t\t} // Unsure if this is the correct method to handle this case.\n\n\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst t = -(line.start.dot(this.normal) + this.constant) / denominator;\n\n\t\t\tif (t < 0 || t > 1) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn target.copy(direction).multiplyScalar(t).add(line.start);\n\t\t}\n\n\t\tintersectsLine(line) {\n\t\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\t\t\tconst startSign = this.distanceToPoint(line.start);\n\t\t\tconst endSign = this.distanceToPoint(line.end);\n\t\t\treturn startSign < 0 && endSign > 0 || endSign < 0 && startSign > 0;\n\t\t}\n\n\t\tintersectsBox(box) {\n\t\t\treturn box.intersectsPlane(this);\n\t\t}\n\n\t\tintersectsSphere(sphere) {\n\t\t\treturn sphere.intersectsPlane(this);\n\t\t}\n\n\t\tcoplanarPoint(target) {\n\t\t\treturn target.copy(this.normal).multiplyScalar(-this.constant);\n\t\t}\n\n\t\tapplyMatrix4(matrix, optionalNormalMatrix) {\n\t\t\tconst normalMatrix = optionalNormalMatrix || _normalMatrix.getNormalMatrix(matrix);\n\n\t\t\tconst referencePoint = this.coplanarPoint(_vector1).applyMatrix4(matrix);\n\t\t\tconst normal = this.normal.applyMatrix3(normalMatrix).normalize();\n\t\t\tthis.constant = -referencePoint.dot(normal);\n\t\t\treturn this;\n\t\t}\n\n\t\ttranslate(offset) {\n\t\t\tthis.constant -= offset.dot(this.normal);\n\t\t\treturn this;\n\t\t}\n\n\t\tequals(plane) {\n\t\t\treturn plane.normal.equals(this.normal) && plane.constant === this.constant;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t}\n\n\tconst _sphere$2 = /*@__PURE__*/new Sphere();\n\n\tconst _vector$7 = /*@__PURE__*/new Vector3();\n\n\tclass Frustum {\n\t\tconstructor(p0 = new Plane(), p1 = new Plane(), p2 = new Plane(), p3 = new Plane(), p4 = new Plane(), p5 = new Plane()) {\n\t\t\tthis.planes = [p0, p1, p2, p3, p4, p5];\n\t\t}\n\n\t\tset(p0, p1, p2, p3, p4, p5) {\n\t\t\tconst planes = this.planes;\n\t\t\tplanes[0].copy(p0);\n\t\t\tplanes[1].copy(p1);\n\t\t\tplanes[2].copy(p2);\n\t\t\tplanes[3].copy(p3);\n\t\t\tplanes[4].copy(p4);\n\t\t\tplanes[5].copy(p5);\n\t\t\treturn this;\n\t\t}\n\n\t\tcopy(frustum) {\n\t\t\tconst planes = this.planes;\n\n\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\tplanes[i].copy(frustum.planes[i]);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromProjectionMatrix(m) {\n\t\t\tconst planes = this.planes;\n\t\t\tconst me = m.elements;\n\t\t\tconst me0 = me[0],\n\t\t\t\t\t\tme1 = me[1],\n\t\t\t\t\t\tme2 = me[2],\n\t\t\t\t\t\tme3 = me[3];\n\t\t\tconst me4 = me[4],\n\t\t\t\t\t\tme5 = me[5],\n\t\t\t\t\t\tme6 = me[6],\n\t\t\t\t\t\tme7 = me[7];\n\t\t\tconst me8 = me[8],\n\t\t\t\t\t\tme9 = me[9],\n\t\t\t\t\t\tme10 = me[10],\n\t\t\t\t\t\tme11 = me[11];\n\t\t\tconst me12 = me[12],\n\t\t\t\t\t\tme13 = me[13],\n\t\t\t\t\t\tme14 = me[14],\n\t\t\t\t\t\tme15 = me[15];\n\t\t\tplanes[0].setComponents(me3 - me0, me7 - me4, me11 - me8, me15 - me12).normalize();\n\t\t\tplanes[1].setComponents(me3 + me0, me7 + me4, me11 + me8, me15 + me12).normalize();\n\t\t\tplanes[2].setComponents(me3 + me1, me7 + me5, me11 + me9, me15 + me13).normalize();\n\t\t\tplanes[3].setComponents(me3 - me1, me7 - me5, me11 - me9, me15 - me13).normalize();\n\t\t\tplanes[4].setComponents(me3 - me2, me7 - me6, me11 - me10, me15 - me14).normalize();\n\t\t\tplanes[5].setComponents(me3 + me2, me7 + me6, me11 + me10, me15 + me14).normalize();\n\t\t\treturn this;\n\t\t}\n\n\t\tintersectsObject(object) {\n\t\t\tconst geometry = object.geometry;\n\t\t\tif (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n\n\t\t\t_sphere$2.copy(geometry.boundingSphere).applyMatrix4(object.matrixWorld);\n\n\t\t\treturn this.intersectsSphere(_sphere$2);\n\t\t}\n\n\t\tintersectsSprite(sprite) {\n\t\t\t_sphere$2.center.set(0, 0, 0);\n\n\t\t\t_sphere$2.radius = 0.7071067811865476;\n\n\t\t\t_sphere$2.applyMatrix4(sprite.matrixWorld);\n\n\t\t\treturn this.intersectsSphere(_sphere$2);\n\t\t}\n\n\t\tintersectsSphere(sphere) {\n\t\t\tconst planes = this.planes;\n\t\t\tconst center = sphere.center;\n\t\t\tconst negRadius = -sphere.radius;\n\n\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\tconst distance = planes[i].distanceToPoint(center);\n\n\t\t\t\tif (distance < negRadius) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\tintersectsBox(box) {\n\t\t\tconst planes = this.planes;\n\n\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\tconst plane = planes[i]; // corner at max distance\n\n\t\t\t\t_vector$7.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n\t\t\t\t_vector$7.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n\t\t\t\t_vector$7.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n\t\t\t\tif (plane.distanceToPoint(_vector$7) < 0) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\tcontainsPoint(point) {\n\t\t\tconst planes = this.planes;\n\n\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\tif (planes[i].distanceToPoint(point) < 0) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t}\n\n\tfunction WebGLAnimation() {\n\t\tlet context = null;\n\t\tlet isAnimating = false;\n\t\tlet animationLoop = null;\n\t\tlet requestId = null;\n\n\t\tfunction onAnimationFrame(time, frame) {\n\t\t\tanimationLoop(time, frame);\n\t\t\trequestId = context.requestAnimationFrame(onAnimationFrame);\n\t\t}\n\n\t\treturn {\n\t\t\tstart: function () {\n\t\t\t\tif (isAnimating === true) return;\n\t\t\t\tif (animationLoop === null) return;\n\t\t\t\trequestId = context.requestAnimationFrame(onAnimationFrame);\n\t\t\t\tisAnimating = true;\n\t\t\t},\n\t\t\tstop: function () {\n\t\t\t\tcontext.cancelAnimationFrame(requestId);\n\t\t\t\tisAnimating = false;\n\t\t\t},\n\t\t\tsetAnimationLoop: function (callback) {\n\t\t\t\tanimationLoop = callback;\n\t\t\t},\n\t\t\tsetContext: function (value) {\n\t\t\t\tcontext = value;\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction WebGLAttributes(gl, capabilities) {\n\t\tconst isWebGL2 = capabilities.isWebGL2;\n\t\tconst buffers = new WeakMap();\n\n\t\tfunction createBuffer(attribute, bufferType) {\n\t\t\tconst array = attribute.array;\n\t\t\tconst usage = attribute.usage;\n\t\t\tconst buffer = gl.createBuffer();\n\t\t\tgl.bindBuffer(bufferType, buffer);\n\t\t\tgl.bufferData(bufferType, array, usage);\n\t\t\tattribute.onUploadCallback();\n\t\t\tlet type;\n\n\t\t\tif (array instanceof Float32Array) {\n\t\t\t\ttype = gl.FLOAT;\n\t\t\t} else if (array instanceof Uint16Array) {\n\t\t\t\tif (attribute.isFloat16BufferAttribute) {\n\t\t\t\t\tif (isWebGL2) {\n\t\t\t\t\t\ttype = gl.HALF_FLOAT;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error('THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttype = gl.UNSIGNED_SHORT;\n\t\t\t\t}\n\t\t\t} else if (array instanceof Int16Array) {\n\t\t\t\ttype = gl.SHORT;\n\t\t\t} else if (array instanceof Uint32Array) {\n\t\t\t\ttype = gl.UNSIGNED_INT;\n\t\t\t} else if (array instanceof Int32Array) {\n\t\t\t\ttype = gl.INT;\n\t\t\t} else if (array instanceof Int8Array) {\n\t\t\t\ttype = gl.BYTE;\n\t\t\t} else if (array instanceof Uint8Array) {\n\t\t\t\ttype = gl.UNSIGNED_BYTE;\n\t\t\t} else if (array instanceof Uint8ClampedArray) {\n\t\t\t\ttype = gl.UNSIGNED_BYTE;\n\t\t\t} else {\n\t\t\t\tthrow new Error('THREE.WebGLAttributes: Unsupported buffer data format: ' + array);\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tbuffer: buffer,\n\t\t\t\ttype: type,\n\t\t\t\tbytesPerElement: array.BYTES_PER_ELEMENT,\n\t\t\t\tversion: attribute.version\n\t\t\t};\n\t\t}\n\n\t\tfunction updateBuffer(buffer, attribute, bufferType) {\n\t\t\tconst array = attribute.array;\n\t\t\tconst updateRange = attribute.updateRange;\n\t\t\tgl.bindBuffer(bufferType, buffer);\n\n\t\t\tif (updateRange.count === -1) {\n\t\t\t\t// Not using update ranges\n\t\t\t\tgl.bufferSubData(bufferType, 0, array);\n\t\t\t} else {\n\t\t\t\tif (isWebGL2) {\n\t\t\t\t\tgl.bufferSubData(bufferType, updateRange.offset * array.BYTES_PER_ELEMENT, array, updateRange.offset, updateRange.count);\n\t\t\t\t} else {\n\t\t\t\t\tgl.bufferSubData(bufferType, updateRange.offset * array.BYTES_PER_ELEMENT, array.subarray(updateRange.offset, updateRange.offset + updateRange.count));\n\t\t\t\t}\n\n\t\t\t\tupdateRange.count = -1; // reset range\n\t\t\t}\n\t\t} //\n\n\n\t\tfunction get(attribute) {\n\t\t\tif (attribute.isInterleavedBufferAttribute) attribute = attribute.data;\n\t\t\treturn buffers.get(attribute);\n\t\t}\n\n\t\tfunction remove(attribute) {\n\t\t\tif (attribute.isInterleavedBufferAttribute) attribute = attribute.data;\n\t\t\tconst data = buffers.get(attribute);\n\n\t\t\tif (data) {\n\t\t\t\tgl.deleteBuffer(data.buffer);\n\t\t\t\tbuffers.delete(attribute);\n\t\t\t}\n\t\t}\n\n\t\tfunction update(attribute, bufferType) {\n\t\t\tif (attribute.isGLBufferAttribute) {\n\t\t\t\tconst cached = buffers.get(attribute);\n\n\t\t\t\tif (!cached || cached.version < attribute.version) {\n\t\t\t\t\tbuffers.set(attribute, {\n\t\t\t\t\t\tbuffer: attribute.buffer,\n\t\t\t\t\t\ttype: attribute.type,\n\t\t\t\t\t\tbytesPerElement: attribute.elementSize,\n\t\t\t\t\t\tversion: attribute.version\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (attribute.isInterleavedBufferAttribute) attribute = attribute.data;\n\t\t\tconst data = buffers.get(attribute);\n\n\t\t\tif (data === undefined) {\n\t\t\t\tbuffers.set(attribute, createBuffer(attribute, bufferType));\n\t\t\t} else if (data.version < attribute.version) {\n\t\t\t\tupdateBuffer(data.buffer, attribute, bufferType);\n\t\t\t\tdata.version = attribute.version;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tget: get,\n\t\t\tremove: remove,\n\t\t\tupdate: update\n\t\t};\n\t}\n\n\tclass PlaneGeometry extends BufferGeometry {\n\t\tconstructor(width = 1, height = 1, widthSegments = 1, heightSegments = 1) {\n\t\t\tsuper();\n\t\t\tthis.type = 'PlaneGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\twidth: width,\n\t\t\t\theight: height,\n\t\t\t\twidthSegments: widthSegments,\n\t\t\t\theightSegments: heightSegments\n\t\t\t};\n\t\t\tconst width_half = width / 2;\n\t\t\tconst height_half = height / 2;\n\t\t\tconst gridX = Math.floor(widthSegments);\n\t\t\tconst gridY = Math.floor(heightSegments);\n\t\t\tconst gridX1 = gridX + 1;\n\t\t\tconst gridY1 = gridY + 1;\n\t\t\tconst segment_width = width / gridX;\n\t\t\tconst segment_height = height / gridY; //\n\n\t\t\tconst indices = [];\n\t\t\tconst vertices = [];\n\t\t\tconst normals = [];\n\t\t\tconst uvs = [];\n\n\t\t\tfor (let iy = 0; iy < gridY1; iy++) {\n\t\t\t\tconst y = iy * segment_height - height_half;\n\n\t\t\t\tfor (let ix = 0; ix < gridX1; ix++) {\n\t\t\t\t\tconst x = ix * segment_width - width_half;\n\t\t\t\t\tvertices.push(x, -y, 0);\n\t\t\t\t\tnormals.push(0, 0, 1);\n\t\t\t\t\tuvs.push(ix / gridX);\n\t\t\t\t\tuvs.push(1 - iy / gridY);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (let iy = 0; iy < gridY; iy++) {\n\t\t\t\tfor (let ix = 0; ix < gridX; ix++) {\n\t\t\t\t\tconst a = ix + gridX1 * iy;\n\t\t\t\t\tconst b = ix + gridX1 * (iy + 1);\n\t\t\t\t\tconst c = ix + 1 + gridX1 * (iy + 1);\n\t\t\t\t\tconst d = ix + 1 + gridX1 * iy;\n\t\t\t\t\tindices.push(a, b, d);\n\t\t\t\t\tindices.push(b, c, d);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.setIndex(indices);\n\t\t\tthis.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tthis.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\t\t\tthis.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new PlaneGeometry(data.width, data.height, data.widthSegments, data.heightSegments);\n\t\t}\n\n\t}\n\n\tvar alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\";\n\n\tvar alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\n\tvar alphatest_fragment = \"#ifdef USE_ALPHATEST\\n\\tif ( diffuseColor.a < alphaTest ) discard;\\n#endif\";\n\n\tvar alphatest_pars_fragment = \"#ifdef USE_ALPHATEST\\n\\tuniform float alphaTest;\\n#endif\";\n\n\tvar aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\\n\\t#endif\\n#endif\";\n\n\tvar aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\n\tvar begin_vertex = \"vec3 transformed = vec3( position );\";\n\n\tvar beginnormal_vertex = \"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\";\n\n\tvar bsdfs = \"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\\n\\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\\n\\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\\n}\\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\\n\\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\\n\\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\\n}\\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\\n\t\tfloat x = clamp( 1.0 - dotVH, 0.0, 1.0 );\\n\t\tfloat x2 = x * x;\\n\t\tfloat x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\\n\t\treturn ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\\n}\\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( lightDir + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, lightDir ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\\n\\tvec3 F = F_Schlick( f0, f90, dotVH );\\n\\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( V * D );\\n}\\n#ifdef USE_IRIDESCENCE\\nvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( lightDir + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, lightDir ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\\n\\tvec3 F = mix(F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence);\\n\\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( V * D );\\n}\\n#endif\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( lightDir + viewDir );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie( float roughness, float dotNH ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tfloat invAlpha = 1.0 / alpha;\\n\\tfloat cos2h = dotNH * dotNH;\\n\\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\\n\\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\\n}\\nfloat V_Neubelt( float dotNV, float dotNL ) {\\n\\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\\n}\\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\\n\\tvec3 halfDir = normalize( lightDir + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, lightDir ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat D = D_Charlie( sheenRoughness, dotNH );\\n\\tfloat V = V_Neubelt( dotNV, dotNL );\\n\\treturn sheenColor * ( D * V );\\n}\\n#endif\";\n\n\tvar iridescence_fragment = \"#ifdef USE_IRIDESCENCE\\nconst mat3 XYZ_TO_REC709 = mat3(\\n\t\t3.2404542, -0.9692660,\t0.0556434,\\n\t -1.5371385,\t1.8760108, -0.2040259,\\n\t -0.4985314,\t0.0415560,\t1.0572252\\n);\\nvec3 Fresnel0ToIor( vec3 fresnel0 ) {\\n\t vec3 sqrtF0 = sqrt( fresnel0 );\\n\t return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\\n}\\nvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\\n\t return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\\n}\\nfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\\n\t return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\\n}\\nvec3 evalSensitivity( float OPD, vec3 shift ) {\\n\t float phase = 2.0 * PI * OPD * 1.0e-9;\\n\t vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\\n\t vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\\n\t vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\\n\t vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( -pow2( phase ) * var );\\n\t xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[0] ) * exp( -4.5282e+09 * pow2( phase ) );\\n\t xyz /= 1.0685e-7;\\n\t vec3 srgb = XYZ_TO_REC709 * xyz;\\n\t return srgb;\\n}\\nvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\\n\t vec3 I;\\n\t float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\\n\t float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\\n\t float cosTheta2Sq = 1.0 - sinTheta2Sq;\\n\t if ( cosTheta2Sq < 0.0 ) {\\n\t\t\t return vec3( 1.0 );\\n\t }\\n\t float cosTheta2 = sqrt( cosTheta2Sq );\\n\t float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\\n\t float R12 = F_Schlick( R0, 1.0, cosTheta1 );\\n\t float R21 = R12;\\n\t float T121 = 1.0 - R12;\\n\t float phi12 = 0.0;\\n\t if ( iridescenceIOR < outsideIOR ) phi12 = PI;\\n\t float phi21 = PI - phi12;\\n\t vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\\n\t vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\\n\t vec3 phi23 = vec3( 0.0 );\\n\t if ( baseIOR[0] < iridescenceIOR ) phi23[0] = PI;\\n\t if ( baseIOR[1] < iridescenceIOR ) phi23[1] = PI;\\n\t if ( baseIOR[2] < iridescenceIOR ) phi23[2] = PI;\\n\t float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\\n\t vec3 phi = vec3( phi21 ) + phi23;\\n\t vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\\n\t vec3 r123 = sqrt( R123 );\\n\t vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\\n\t vec3 C0 = R12 + Rs;\\n\t I = C0;\\n\t vec3 Cm = Rs - T121;\\n\t for ( int m = 1; m <= 2; ++m ) {\\n\t\t\t Cm *= r123;\\n\t\t\t vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\\n\t\t\t I += Cm * Sm;\\n\t }\\n\t return max( I, vec3( 0.0 ) );\\n}\\n#endif\";\n\n\tvar bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\";\n\n\tvar clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\";\n\n\tvar clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\";\n\n\tvar clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n#endif\";\n\n\tvar clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvClipPosition = - mvPosition.xyz;\\n#endif\";\n\n\tvar color_fragment = \"#if defined( USE_COLOR_ALPHA )\\n\\tdiffuseColor *= vColor;\\n#elif defined( USE_COLOR )\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\n\tvar color_pars_fragment = \"#if defined( USE_COLOR_ALPHA )\\n\\tvarying vec4 vColor;\\n#elif defined( USE_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\n\n\tvar color_pars_vertex = \"#if defined( USE_COLOR_ALPHA )\\n\\tvarying vec4 vColor;\\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\n\n\tvar color_vertex = \"#if defined( USE_COLOR_ALPHA )\\n\\tvColor = vec4( 1.0 );\\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvColor = vec3( 1.0 );\\n#endif\\n#ifdef USE_COLOR\\n\\tvColor *= color;\\n#endif\\n#ifdef USE_INSTANCING_COLOR\\n\\tvColor.xyz *= instanceColor.xyz;\\n#endif\";\n\n\tvar common = \"#define PI 3.141592653589793\\n#define PI2 6.283185307179586\\n#define PI_HALF 1.5707963267948966\\n#define RECIPROCAL_PI 0.3183098861837907\\n#define RECIPROCAL_PI2 0.15915494309189535\\n#define EPSILON 1e-6\\n#ifndef saturate\\n#define saturate( a ) clamp( a, 0.0, 1.0 )\\n#endif\\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nvec3 pow2( const in vec3 x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract( sin( sn ) * c );\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef USE_CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\\nbool isPerspectiveMatrix( mat4 m ) {\\n\\treturn m[ 2 ][ 3 ] == - 1.0;\\n}\\nvec2 equirectUv( in vec3 dir ) {\\n\\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\treturn vec2( u, v );\\n}\";\n\n\tvar cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n\\t#define cubeUV_minMipLevel 4.0\\n\\t#define cubeUV_minTileSize 16.0\\n\\tfloat getFace( vec3 direction ) {\\n\\t\\tvec3 absDirection = abs( direction );\\n\\t\\tfloat face = - 1.0;\\n\\t\\tif ( absDirection.x > absDirection.z ) {\\n\\t\\t\\tif ( absDirection.x > absDirection.y )\\n\\t\\t\\t\\tface = direction.x > 0.0 ? 0.0 : 3.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t} else {\\n\\t\\t\\tif ( absDirection.z > absDirection.y )\\n\\t\\t\\t\\tface = direction.z > 0.0 ? 2.0 : 5.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t}\\n\\t\\treturn face;\\n\\t}\\n\\tvec2 getUV( vec3 direction, float face ) {\\n\\t\\tvec2 uv;\\n\\t\\tif ( face == 0.0 ) {\\n\\t\\t\\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 1.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\\n\\t\\t} else if ( face == 2.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\\n\\t\\t} else if ( face == 3.0 ) {\\n\\t\\t\\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 4.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\\n\\t\\t} else {\\n\\t\\t\\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\\n\\t\\t}\\n\\t\\treturn 0.5 * ( uv + 1.0 );\\n\\t}\\n\\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\\n\\t\\tfloat face = getFace( direction );\\n\\t\\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\\n\\t\\tmipInt = max( mipInt, cubeUV_minMipLevel );\\n\\t\\tfloat faceSize = exp2( mipInt );\\n\\t\\tvec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\\n\\t\\tif ( face > 2.0 ) {\\n\\t\\t\\tuv.y += faceSize;\\n\\t\\t\\tface -= 3.0;\\n\\t\\t}\\n\\t\\tuv.x += face * faceSize;\\n\\t\\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\\n\\t\\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\\n\\t\\tuv.x *= CUBEUV_TEXEL_WIDTH;\\n\\t\\tuv.y *= CUBEUV_TEXEL_HEIGHT;\\n\\t\\t#ifdef texture2DGradEXT\\n\\t\\t\\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\\n\\t\\t#else\\n\\t\\t\\treturn texture2D( envMap, uv ).rgb;\\n\\t\\t#endif\\n\\t}\\n\\t#define r0 1.0\\n\\t#define v0 0.339\\n\\t#define m0 - 2.0\\n\\t#define r1 0.8\\n\\t#define v1 0.276\\n\\t#define m1 - 1.0\\n\\t#define r4 0.4\\n\\t#define v4 0.046\\n\\t#define m4 2.0\\n\\t#define r5 0.305\\n\\t#define v5 0.016\\n\\t#define m5 3.0\\n\\t#define r6 0.21\\n\\t#define v6 0.0038\\n\\t#define m6 4.0\\n\\tfloat roughnessToMip( float roughness ) {\\n\\t\\tfloat mip = 0.0;\\n\\t\\tif ( roughness >= r1 ) {\\n\\t\\t\\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\\n\\t\\t} else if ( roughness >= r4 ) {\\n\\t\\t\\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\\n\\t\\t} else if ( roughness >= r5 ) {\\n\\t\\t\\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\\n\\t\\t} else if ( roughness >= r6 ) {\\n\\t\\t\\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\\n\\t\\t} else {\\n\\t\\t\\tmip = - 2.0 * log2( 1.16 * roughness );\\t\\t}\\n\\t\\treturn mip;\\n\\t}\\n\\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\\n\\t\\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\\n\\t\\tfloat mipF = fract( mip );\\n\\t\\tfloat mipInt = floor( mip );\\n\\t\\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\\n\\t\\tif ( mipF == 0.0 ) {\\n\\t\\t\\treturn vec4( color0, 1.0 );\\n\\t\\t} else {\\n\\t\\t\\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\\n\\t\\t\\treturn vec4( mix( color0, color1, mipF ), 1.0 );\\n\\t\\t}\\n\\t}\\n#endif\";\n\n\tvar defaultnormal_vertex = \"vec3 transformedNormal = objectNormal;\\n#ifdef USE_INSTANCING\\n\\tmat3 m = mat3( instanceMatrix );\\n\\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\\n\\ttransformedNormal = m * transformedNormal;\\n#endif\\ntransformedNormal = normalMatrix * transformedNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\";\n\n\tvar displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\";\n\n\tvar displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\\n#endif\";\n\n\tvar emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\";\n\n\tvar emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\";\n\n\tvar encodings_fragment = \"gl_FragColor = linearToOutputTexel( gl_FragColor );\";\n\n\tvar encodings_pars_fragment = \"vec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\";\n\n\tvar envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToFrag;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\";\n\n\tvar envmap_common_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\";\n\n\tvar envmap_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\";\n\n\tvar envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\";\n\n\tvar envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\n\tvar fog_vertex = \"#ifdef USE_FOG\\n\\tvFogDepth = - mvPosition.z;\\n#endif\";\n\n\tvar fog_pars_vertex = \"#ifdef USE_FOG\\n\\tvarying float vFogDepth;\\n#endif\";\n\n\tvar fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\";\n\n\tvar fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float vFogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\n\n\tvar gradientmap_pars_fragment = \"#ifdef USE_GRADIENTMAP\\n\\tuniform sampler2D gradientMap;\\n#endif\\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\tfloat dotNL = dot( normal, lightDirection );\\n\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t#ifdef USE_GRADIENTMAP\\n\\t\\treturn vec3( texture2D( gradientMap, coord ).r );\\n\\t#else\\n\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t#endif\\n}\";\n\n\tvar lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\\n\\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\\n\\treflectedLight.indirectDiffuse += lightMapIrradiance;\\n#endif\";\n\n\tvar lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\n\tvar lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\\n#ifdef DOUBLE_SIDED\\n\\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\\n\\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\";\n\n\tvar lights_pars_begin = \"uniform bool receiveShadow;\\nuniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\\n\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\treturn irradiance;\\n}\\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n\\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\t\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\t\\tif ( cutoffDistance > 0.0 ) {\\n\\t\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t\\t}\\n\\t\\treturn distanceFalloff;\\n\\t#else\\n\\t\\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\t\\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t\\t}\\n\\t\\treturn 1.0;\\n\\t#endif\\n}\\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\\n\\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\\n\\t\\tlight.color = directionalLight.color;\\n\\t\\tlight.direction = directionalLight.direction;\\n\\t\\tlight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tlight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tlight.color = pointLight.color;\\n\\t\\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tlight.visible = ( light.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tlight.direction = normalize( lVector );\\n\\t\\tfloat angleCos = dot( light.direction, spotLight.direction );\\n\\t\\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\tif ( spotAttenuation > 0.0 ) {\\n\\t\\t\\tfloat lightDistance = length( lVector );\\n\\t\\t\\tlight.color = spotLight.color * spotAttenuation;\\n\\t\\t\\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tlight.visible = ( light.color != vec3( 0.0 ) );\\n\\t\\t} else {\\n\\t\\t\\tlight.color = vec3( 0.0 );\\n\\t\\t\\tlight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\\n\\t\\tfloat dotNL = dot( normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\";\n\n\tvar envmap_physical_pars_fragment = \"#if defined( USE_ENVMAP )\\n\\tvec3 getIBLIrradiance( const in vec3 normal ) {\\n\\t\\t#if defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\\n\\t\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t\\t#else\\n\\t\\t\\treturn vec3( 0.0 );\\n\\t\\t#endif\\n\\t}\\n\\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\\n\\t\\t#if defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 reflectVec = reflect( - viewDir, normal );\\n\\t\\t\\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\\n\\t\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t\\t#else\\n\\t\\t\\treturn vec3( 0.0 );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\n\tvar lights_toon_fragment = \"ToonMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\";\n\n\tvar lights_toon_pars_fragment = \"varying vec3 vViewPosition;\\nstruct ToonMaterial {\\n\\tvec3 diffuseColor;\\n};\\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Toon\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Toon\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\n\tvar lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\n\tvar lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\nstruct BlinnPhongMaterial {\\n\\tvec3 diffuseColor;\\n\\tvec3 specularColor;\\n\\tfloat specularShininess;\\n\\tfloat specularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\n\tvar lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\\nmaterial.roughness = min( material.roughness, 1.0 );\\n#ifdef IOR\\n\\t#ifdef SPECULAR\\n\\t\\tfloat specularIntensityFactor = specularIntensity;\\n\\t\\tvec3 specularColorFactor = specularColor;\\n\\t\\t#ifdef USE_SPECULARINTENSITYMAP\\n\\t\\t\\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\\n\\t\\t#endif\\n\\t\\t#ifdef USE_SPECULARCOLORMAP\\n\\t\\t\\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\\n\\t\\t#endif\\n\\t\\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\\n\\t#else\\n\\t\\tfloat specularIntensityFactor = 1.0;\\n\\t\\tvec3 specularColorFactor = vec3( 1.0 );\\n\\t\\tmaterial.specularF90 = 1.0;\\n\\t#endif\\n\\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\\n\\tmaterial.specularF90 = 1.0;\\n#endif\\n#ifdef USE_CLEARCOAT\\n\\tmaterial.clearcoat = clearcoat;\\n\\tmaterial.clearcoatRoughness = clearcoatRoughness;\\n\\tmaterial.clearcoatF0 = vec3( 0.04 );\\n\\tmaterial.clearcoatF90 = 1.0;\\n\\t#ifdef USE_CLEARCOATMAP\\n\\t\\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\\n\\t#endif\\n\\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\t\\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\\n\\t#endif\\n\\tmaterial.clearcoat = saturate( material.clearcoat );\\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\\n\\tmaterial.clearcoatRoughness += geometryRoughness;\\n\\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\\n#endif\\n#ifdef USE_IRIDESCENCE\\n\\tmaterial.iridescence = iridescence;\\n\\tmaterial.iridescenceIOR = iridescenceIOR;\\n\\t#ifdef USE_IRIDESCENCEMAP\\n\\t\\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\\n\\t#endif\\n\\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\\n\\t\\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\\n\\t#else\\n\\t\\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\\n\\t#endif\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenColor = sheenColor;\\n\\t#ifdef USE_SHEENCOLORMAP\\n\\t\\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\\n\\t#endif\\n\\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\\n\\t#ifdef USE_SHEENROUGHNESSMAP\\n\\t\\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\\n\\t#endif\\n#endif\";\n\n\tvar lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3 diffuseColor;\\n\\tfloat roughness;\\n\\tvec3 specularColor;\\n\\tfloat specularF90;\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tfloat clearcoat;\\n\\t\\tfloat clearcoatRoughness;\\n\\t\\tvec3 clearcoatF0;\\n\\t\\tfloat clearcoatF90;\\n\\t#endif\\n\\t#ifdef USE_IRIDESCENCE\\n\\t\\tfloat iridescence;\\n\\t\\tfloat iridescenceIOR;\\n\\t\\tfloat iridescenceThickness;\\n\\t\\tvec3 iridescenceFresnel;\\n\\t\\tvec3 iridescenceF0;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\tvec3 sheenColor;\\n\\t\\tfloat sheenRoughness;\\n\\t#endif\\n};\\nvec3 clearcoatSpecular = vec3( 0.0 );\\nvec3 sheenSpecular = vec3( 0.0 );\\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat r2 = roughness * roughness;\\n\\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\\n\\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\\n\\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\\n\\treturn saturate( DG * RECIPROCAL_PI );\\n}\\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\\n\\treturn fab;\\n}\\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\\n\\tvec2 fab = DFGApprox( normal, viewDir, roughness );\\n\\treturn specularColor * fab.x + specularF90 * fab.y;\\n}\\n#ifdef USE_IRIDESCENCE\\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n#else\\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n#endif\\n\\tvec2 fab = DFGApprox( normal, viewDir, roughness );\\n\\t#ifdef USE_IRIDESCENCE\\n\\t\\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\\n\\t#else\\n\\t\\tvec3 Fr = specularColor;\\n\\t#endif\\n\\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\\n\\tfloat Ess = fab.x + fab.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.roughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(\t\t0, 1,\t\t0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = dotNLcc * directLight.color;\\n\\t\\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\\n\\t#endif\\n\\t#ifdef USE_IRIDESCENCE\\n\\t\\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\\n\\t#else\\n\\t\\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\\n\\t#endif\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\t#ifdef USE_IRIDESCENCE\\n\\t\\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\\n\\t#else\\n\\t\\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\\n\\t#endif\\n\\tvec3 totalScattering = singleScattering + multiScattering;\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\\n\\treflectedLight.indirectSpecular += radiance * singleScattering;\\n\\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\";\n\n\tvar lights_fragment_begin = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\\n#ifdef USE_CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\n#ifdef USE_IRIDESCENCE\\nfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\\nif ( material.iridescenceThickness == 0.0 ) {\\n\\tmaterial.iridescence = 0.0;\\n} else {\\n\\tmaterial.iridescence = saturate( material.iridescence );\\n}\\nif ( material.iridescence > 0.0 ) {\\n\\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\\n\\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\\n}\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointLightInfo( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tpointLightShadow = pointLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotLightInfo( spotLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tspotLightShadow = spotLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectionalLightShadow = directionalLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\";\n\n\tvar lights_fragment_maps = \"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\\n\\t\\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getIBLIrradiance( geometry.normal );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\\n\\t#endif\\n#endif\";\n\n\tvar lights_fragment_end = \"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\";\n\n\tvar logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\n\n\tvar logdepthbuf_pars_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n\\tvarying float vIsPerspective;\\n#endif\";\n\n\tvar logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t\\tvarying float vIsPerspective;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\";\n\n\tvar logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t\\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\\n\\t#else\\n\\t\\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\\n\\t\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\t\\tgl_Position.z *= gl_Position.w;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\n\tvar map_fragment = \"#ifdef USE_MAP\\n\\tvec4 sampledDiffuseColor = texture2D( map, vUv );\\n\\t#ifdef DECODE_VIDEO_TEXTURE\\n\\t\\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\\n\\t#endif\\n\\tdiffuseColor *= sampledDiffuseColor;\\n#endif\";\n\n\tvar map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\";\n\n\tvar map_particle_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n#endif\\n#ifdef USE_MAP\\n\\tdiffuseColor *= texture2D( map, uv );\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\\n#endif\";\n\n\tvar map_particle_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tuniform mat3 uvTransform;\\n#endif\\n#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\n\tvar metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\";\n\n\tvar metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\n\tvar morphcolor_vertex = \"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\\n\\tvColor *= morphTargetBaseInfluence;\\n\\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\\n\\t\\t#if defined( USE_COLOR_ALPHA )\\n\\t\\t\\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\\n\\t\\t#elif defined( USE_COLOR )\\n\\t\\t\\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\n\tvar morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal *= morphTargetBaseInfluence;\\n\\t#ifdef MORPHTARGETS_TEXTURE\\n\\t\\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\\n\\t\\t\\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\\n\\t\\t}\\n\\t#else\\n\\t\\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\\n\\t\\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\\n\\t\\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\\n\\t\\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\\n\\t#endif\\n#endif\";\n\n\tvar morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\tuniform float morphTargetBaseInfluence;\\n\\t#ifdef MORPHTARGETS_TEXTURE\\n\\t\\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\\n\\t\\tuniform sampler2DArray morphTargetsTexture;\\n\\t\\tuniform ivec2 morphTargetsTextureSize;\\n\\t\\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\\n\\t\\t\\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\\n\\t\\t\\tint y = texelIndex / morphTargetsTextureSize.x;\\n\\t\\t\\tint x = texelIndex - y * morphTargetsTextureSize.x;\\n\\t\\t\\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\\n\\t\\t\\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\\n\\t\\t}\\n\\t#else\\n\\t\\t#ifndef USE_MORPHNORMALS\\n\\t\\t\\tuniform float morphTargetInfluences[ 8 ];\\n\\t\\t#else\\n\\t\\t\\tuniform float morphTargetInfluences[ 4 ];\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\n\tvar morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed *= morphTargetBaseInfluence;\\n\\t#ifdef MORPHTARGETS_TEXTURE\\n\\t\\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\\n\\t\\t\\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\\n\\t\\t}\\n\\t#else\\n\\t\\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\\n\\t\\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\\n\\t\\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\\n\\t\\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\\n\\t\\t#ifndef USE_MORPHNORMALS\\n\\t\\t\\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\\n\\t\\t\\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\\n\\t\\t\\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\\n\\t\\t\\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\n\tvar normal_fragment_begin = \"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\\n#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * faceDirection;\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * faceDirection;\\n\\t\\t\\tbitangent = bitangent * faceDirection;\\n\\t\\t#endif\\n\\t\\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\\n\\t\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\";\n\n\tvar normal_fragment_maps = \"#ifdef OBJECTSPACE_NORMALMAP\\n\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * faceDirection;\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( TANGENTSPACE_NORMALMAP )\\n\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tmapN.xy *= normalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tnormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\\n#endif\";\n\n\tvar normal_pars_fragment = \"#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\";\n\n\tvar normal_pars_vertex = \"#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\";\n\n\tvar normal_vertex = \"#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\";\n\n\tvar normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tvec3 N = surf_norm;\\n\\t\\tvec3 q1perp = cross( q1, N );\\n\\t\\tvec3 q0perp = cross( N, q0 );\\n\\t\\tvec3 T = q1perp * st0.x + q0perp * st1.x;\\n\\t\\tvec3 B = q1perp * st0.y + q0perp * st1.y;\\n\\t\\tfloat det = max( dot( T, T ), dot( B, B ) );\\n\\t\\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\\n\\t\\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\\n\\t}\\n#endif\";\n\n\tvar clearcoat_normal_fragment_begin = \"#ifdef USE_CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\";\n\n\tvar clearcoat_normal_fragment_maps = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tclearcoatMapN.xy *= clearcoatNormalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\\n\\t#else\\n\\t\\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\\n\\t#endif\\n#endif\";\n\n\tvar clearcoat_pars_fragment = \"#ifdef USE_CLEARCOATMAP\\n\\tuniform sampler2D clearcoatMap;\\n#endif\\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\tuniform sampler2D clearcoatRoughnessMap;\\n#endif\\n#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\";\n\n\tvar iridescence_pars_fragment = \"#ifdef USE_IRIDESCENCEMAP\\n\\tuniform sampler2D iridescenceMap;\\n#endif\\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\\n\\tuniform sampler2D iridescenceThicknessMap;\\n#endif\";\n\n\tvar output_fragment = \"#ifdef OPAQUE\\ndiffuseColor.a = 1.0;\\n#endif\\n#ifdef USE_TRANSMISSION\\ndiffuseColor.a *= transmissionAlpha + 0.1;\\n#endif\\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\";\n\n\tvar packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec4 pack2HalfToRGBA( vec2 v ) {\\n\\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\\n\\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\\n}\\nvec2 unpackRGBATo2Half( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\";\n\n\tvar premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\";\n\n\tvar project_vertex = \"vec4 mvPosition = vec4( transformed, 1.0 );\\n#ifdef USE_INSTANCING\\n\\tmvPosition = instanceMatrix * mvPosition;\\n#endif\\nmvPosition = modelViewMatrix * mvPosition;\\ngl_Position = projectionMatrix * mvPosition;\";\n\n\tvar dithering_fragment = \"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\";\n\n\tvar dithering_pars_fragment = \"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\";\n\n\tvar roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\";\n\n\tvar roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\n\tvar shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx = texelSize.x;\\n\\t\\t\\tfloat dy = texelSize.y;\\n\\t\\t\\tvec2 uv = shadowCoord.xy;\\n\\t\\t\\tvec2 f = fract( uv * shadowMapSize + 0.5 );\\n\\t\\t\\tuv -= f * texelSize;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t\ttexture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t\tf.x ),\\n\\t\\t\\t\\t\\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t\ttexture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t\tf.x ),\\n\\t\\t\\t\\t\\t f.y )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\n\tvar shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\";\n\n\tvar shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\tvec4 shadowWorldPosition;\\n\\t#endif\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\";\n\n\tvar shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\";\n\n\tvar skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\n\tvar skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\tuniform highp sampler2D boneTexture;\\n\\tuniform int boneTextureSize;\\n\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\tfloat j = i * 4.0;\\n\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\ty = dy * ( y + 0.5 );\\n\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\treturn bone;\\n\\t}\\n#endif\";\n\n\tvar skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\";\n\n\tvar skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\";\n\n\tvar specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\n\tvar specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\n\tvar tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\";\n\n\tvar tonemapping_pars_fragment = \"#ifndef saturate\\n#define saturate( a ) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 RRTAndODTFit( vec3 v ) {\\n\\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\\n\\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\\n\\treturn a / b;\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tconst mat3 ACESInputMat = mat3(\\n\\t\\tvec3( 0.59719, 0.07600, 0.02840 ),\\t\\tvec3( 0.35458, 0.90834, 0.13383 ),\\n\\t\\tvec3( 0.04823, 0.01566, 0.83777 )\\n\\t);\\n\\tconst mat3 ACESOutputMat = mat3(\\n\\t\\tvec3(\t1.60475, -0.10208, -0.00327 ),\\t\\tvec3( -0.53108,\t1.10813, -0.07276 ),\\n\\t\\tvec3( -0.07367, -0.00605,\t1.07602 )\\n\\t);\\n\\tcolor *= toneMappingExposure / 0.6;\\n\\tcolor = ACESInputMat * color;\\n\\tcolor = RRTAndODTFit( color );\\n\\tcolor = ACESOutputMat * color;\\n\\treturn saturate( color );\\n}\\nvec3 CustomToneMapping( vec3 color ) { return color; }\";\n\n\tvar transmission_fragment = \"#ifdef USE_TRANSMISSION\\n\\tfloat transmissionAlpha = 1.0;\\n\\tfloat transmissionFactor = transmission;\\n\\tfloat thicknessFactor = thickness;\\n\\t#ifdef USE_TRANSMISSIONMAP\\n\\t\\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\\n\\t#endif\\n\\t#ifdef USE_THICKNESSMAP\\n\\t\\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\\n\\t#endif\\n\\tvec3 pos = vWorldPosition;\\n\\tvec3 v = normalize( cameraPosition - pos );\\n\\tvec3 n = inverseTransformDirection( normal, viewMatrix );\\n\\tvec4 transmission = getIBLVolumeRefraction(\\n\\t\\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\\n\\t\\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\\n\\t\\tattenuationColor, attenuationDistance );\\n\\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\\n\\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\\n#endif\";\n\n\tvar transmission_pars_fragment = \"#ifdef USE_TRANSMISSION\\n\\tuniform float transmission;\\n\\tuniform float thickness;\\n\\tuniform float attenuationDistance;\\n\\tuniform vec3 attenuationColor;\\n\\t#ifdef USE_TRANSMISSIONMAP\\n\\t\\tuniform sampler2D transmissionMap;\\n\\t#endif\\n\\t#ifdef USE_THICKNESSMAP\\n\\t\\tuniform sampler2D thicknessMap;\\n\\t#endif\\n\\tuniform vec2 transmissionSamplerSize;\\n\\tuniform sampler2D transmissionSamplerMap;\\n\\tuniform mat4 modelMatrix;\\n\\tuniform mat4 projectionMatrix;\\n\\tvarying vec3 vWorldPosition;\\n\\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\\n\\t\\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\\n\\t\\tvec3 modelScale;\\n\\t\\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\\n\\t\\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\\n\\t\\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\\n\\t\\treturn normalize( refractionVector ) * thickness * modelScale;\\n\\t}\\n\\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\\n\\t\\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\\n\\t}\\n\\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\\n\\t\\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\\n\\t\\t#ifdef texture2DLodEXT\\n\\t\\t\\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\\n\\t\\t#else\\n\\t\\t\\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\\n\\t\\t#endif\\n\\t}\\n\\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\\n\\t\\tif ( attenuationDistance == 0.0 ) {\\n\\t\\t\\treturn radiance;\\n\\t\\t} else {\\n\\t\\t\\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\\n\\t\\t\\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\\t\\t\\treturn transmittance * radiance;\\n\\t\\t}\\n\\t}\\n\\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\\n\\t\\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\\n\\t\\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\\n\\t\\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\\n\\t\\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\\n\\t\\tvec3 refractedRayExit = position + transmissionRay;\\n\\t\\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\\n\\t\\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\\n\\t\\trefractionCoords += 1.0;\\n\\t\\trefractionCoords /= 2.0;\\n\\t\\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\\n\\t\\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\\n\\t\\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\\n\\t\\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\\n\\t}\\n#endif\";\n\n\tvar uv_pars_fragment = \"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\\n\\tvarying vec2 vUv;\\n#endif\";\n\n\tvar uv_pars_vertex = \"#ifdef USE_UV\\n\\t#ifdef UVS_VERTEX_ONLY\\n\\t\\tvec2 vUv;\\n\\t#else\\n\\t\\tvarying vec2 vUv;\\n\\t#endif\\n\\tuniform mat3 uvTransform;\\n#endif\";\n\n\tvar uv_vertex = \"#ifdef USE_UV\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\n\n\tvar uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n\n\tvar uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n\\tuniform mat3 uv2Transform;\\n#endif\";\n\n\tvar uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\\n#endif\";\n\n\tvar worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\\n\\tvec4 worldPosition = vec4( transformed, 1.0 );\\n\\t#ifdef USE_INSTANCING\\n\\t\\tworldPosition = instanceMatrix * worldPosition;\\n\\t#endif\\n\\tworldPosition = modelMatrix * worldPosition;\\n#endif\";\n\n\tconst vertex$g = \"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\";\n\tconst fragment$g = \"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tgl_FragColor = texture2D( t2D, vUv );\\n\\t#ifdef DECODE_VIDEO_TEXTURE\\n\\t\\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\\n\\t#endif\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\n\tconst vertex$f = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\n\tconst fragment$f = \"#include <envmap_common_pars_fragment>\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\n#include <cube_uv_reflection_fragment>\\nvoid main() {\\n\\tvec3 vReflect = vWorldDirection;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = envColor;\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\n\tconst vertex$e = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvHighPrecisionZW = gl_Position.zw;\\n}\";\n\tconst fragment$e = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( fragCoordZ );\\n\\t#endif\\n}\";\n\n\tconst vertex$d = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\";\n\tconst fragment$d = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\";\n\n\tconst vertex$c = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\";\n\tconst fragment$c = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV = equirectUv( direction );\\n\\tgl_FragColor = texture2D( tEquirect, sampleUV );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\n\tconst vertex$b = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\tvLineDistance = scale * lineDistance;\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\tconst fragment$b = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\n\tconst vertex$a = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinbase_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\tconst fragment$a = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\\n\\t\\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n\tconst vertex$9 = \"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\tconst fragment$9 = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n\tconst vertex$8 = \"#define MATCAP\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <color_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\";\n\tconst fragment$8 = \"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <normal_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n\tconst vertex$7 = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\";\n\tconst fragment$7 = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <normal_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n\\t#ifdef OPAQUE\\n\\t\\tgl_FragColor.a = 1.0;\\n\\t#endif\\n}\";\n\n\tconst vertex$6 = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\tconst fragment$6 = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <normal_pars_fragment>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n\tconst vertex$5 = \"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifdef USE_TRANSMISSION\\n\\tvarying vec3 vWorldPosition;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n#ifdef USE_TRANSMISSION\\n\\tvWorldPosition = worldPosition.xyz;\\n#endif\\n}\";\n\tconst fragment$5 = \"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define IOR\\n\\t#define SPECULAR\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef IOR\\n\\tuniform float ior;\\n#endif\\n#ifdef SPECULAR\\n\\tuniform float specularIntensity;\\n\\tuniform vec3 specularColor;\\n\\t#ifdef USE_SPECULARINTENSITYMAP\\n\\t\\tuniform sampler2D specularIntensityMap;\\n\\t#endif\\n\\t#ifdef USE_SPECULARCOLORMAP\\n\\t\\tuniform sampler2D specularColorMap;\\n\\t#endif\\n#endif\\n#ifdef USE_CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_IRIDESCENCE\\n\\tuniform float iridescence;\\n\\tuniform float iridescenceIOR;\\n\\tuniform float iridescenceThicknessMinimum;\\n\\tuniform float iridescenceThicknessMaximum;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheenColor;\\n\\tuniform float sheenRoughness;\\n\\t#ifdef USE_SHEENCOLORMAP\\n\\t\\tuniform sampler2D sheenColorMap;\\n\\t#endif\\n\\t#ifdef USE_SHEENROUGHNESSMAP\\n\\t\\tuniform sampler2D sheenRoughnessMap;\\n\\t#endif\\n#endif\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <bsdfs>\\n#include <iridescence_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <normal_pars_fragment>\\n#include <lights_physical_pars_fragment>\\n#include <transmission_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_pars_fragment>\\n#include <iridescence_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\\n\\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\\n\\t#include <transmission_fragment>\\n\\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\\n\\t#ifdef USE_SHEEN\\n\\t\\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\\n\\t\\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\\n\\t#endif\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\\n\\t\\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\\n\\t#endif\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n\tconst vertex$4 = \"#define TOON\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\tconst fragment$4 = \"#define TOON\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <normal_pars_fragment>\\n#include <lights_toon_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_toon_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n\tconst vertex$3 = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <morphcolor_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\tconst fragment$3 = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\n\tconst vertex$2 = \"#include <common>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\tconst fragment$2 = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\n\tconst vertex$1 = \"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\tconst fragment$1 = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\n\tconst ShaderChunk = {\n\t\talphamap_fragment: alphamap_fragment,\n\t\talphamap_pars_fragment: alphamap_pars_fragment,\n\t\talphatest_fragment: alphatest_fragment,\n\t\talphatest_pars_fragment: alphatest_pars_fragment,\n\t\taomap_fragment: aomap_fragment,\n\t\taomap_pars_fragment: aomap_pars_fragment,\n\t\tbegin_vertex: begin_vertex,\n\t\tbeginnormal_vertex: beginnormal_vertex,\n\t\tbsdfs: bsdfs,\n\t\tiridescence_fragment: iridescence_fragment,\n\t\tbumpmap_pars_fragment: bumpmap_pars_fragment,\n\t\tclipping_planes_fragment: clipping_planes_fragment,\n\t\tclipping_planes_pars_fragment: clipping_planes_pars_fragment,\n\t\tclipping_planes_pars_vertex: clipping_planes_pars_vertex,\n\t\tclipping_planes_vertex: clipping_planes_vertex,\n\t\tcolor_fragment: color_fragment,\n\t\tcolor_pars_fragment: color_pars_fragment,\n\t\tcolor_pars_vertex: color_pars_vertex,\n\t\tcolor_vertex: color_vertex,\n\t\tcommon: common,\n\t\tcube_uv_reflection_fragment: cube_uv_reflection_fragment,\n\t\tdefaultnormal_vertex: defaultnormal_vertex,\n\t\tdisplacementmap_pars_vertex: displacementmap_pars_vertex,\n\t\tdisplacementmap_vertex: displacementmap_vertex,\n\t\temissivemap_fragment: emissivemap_fragment,\n\t\temissivemap_pars_fragment: emissivemap_pars_fragment,\n\t\tencodings_fragment: encodings_fragment,\n\t\tencodings_pars_fragment: encodings_pars_fragment,\n\t\tenvmap_fragment: envmap_fragment,\n\t\tenvmap_common_pars_fragment: envmap_common_pars_fragment,\n\t\tenvmap_pars_fragment: envmap_pars_fragment,\n\t\tenvmap_pars_vertex: envmap_pars_vertex,\n\t\tenvmap_physical_pars_fragment: envmap_physical_pars_fragment,\n\t\tenvmap_vertex: envmap_vertex,\n\t\tfog_vertex: fog_vertex,\n\t\tfog_pars_vertex: fog_pars_vertex,\n\t\tfog_fragment: fog_fragment,\n\t\tfog_pars_fragment: fog_pars_fragment,\n\t\tgradientmap_pars_fragment: gradientmap_pars_fragment,\n\t\tlightmap_fragment: lightmap_fragment,\n\t\tlightmap_pars_fragment: lightmap_pars_fragment,\n\t\tlights_lambert_vertex: lights_lambert_vertex,\n\t\tlights_pars_begin: lights_pars_begin,\n\t\tlights_toon_fragment: lights_toon_fragment,\n\t\tlights_toon_pars_fragment: lights_toon_pars_fragment,\n\t\tlights_phong_fragment: lights_phong_fragment,\n\t\tlights_phong_pars_fragment: lights_phong_pars_fragment,\n\t\tlights_physical_fragment: lights_physical_fragment,\n\t\tlights_physical_pars_fragment: lights_physical_pars_fragment,\n\t\tlights_fragment_begin: lights_fragment_begin,\n\t\tlights_fragment_maps: lights_fragment_maps,\n\t\tlights_fragment_end: lights_fragment_end,\n\t\tlogdepthbuf_fragment: logdepthbuf_fragment,\n\t\tlogdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n\t\tlogdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n\t\tlogdepthbuf_vertex: logdepthbuf_vertex,\n\t\tmap_fragment: map_fragment,\n\t\tmap_pars_fragment: map_pars_fragment,\n\t\tmap_particle_fragment: map_particle_fragment,\n\t\tmap_particle_pars_fragment: map_particle_pars_fragment,\n\t\tmetalnessmap_fragment: metalnessmap_fragment,\n\t\tmetalnessmap_pars_fragment: metalnessmap_pars_fragment,\n\t\tmorphcolor_vertex: morphcolor_vertex,\n\t\tmorphnormal_vertex: morphnormal_vertex,\n\t\tmorphtarget_pars_vertex: morphtarget_pars_vertex,\n\t\tmorphtarget_vertex: morphtarget_vertex,\n\t\tnormal_fragment_begin: normal_fragment_begin,\n\t\tnormal_fragment_maps: normal_fragment_maps,\n\t\tnormal_pars_fragment: normal_pars_fragment,\n\t\tnormal_pars_vertex: normal_pars_vertex,\n\t\tnormal_vertex: normal_vertex,\n\t\tnormalmap_pars_fragment: normalmap_pars_fragment,\n\t\tclearcoat_normal_fragment_begin: clearcoat_normal_fragment_begin,\n\t\tclearcoat_normal_fragment_maps: clearcoat_normal_fragment_maps,\n\t\tclearcoat_pars_fragment: clearcoat_pars_fragment,\n\t\tiridescence_pars_fragment: iridescence_pars_fragment,\n\t\toutput_fragment: output_fragment,\n\t\tpacking: packing,\n\t\tpremultiplied_alpha_fragment: premultiplied_alpha_fragment,\n\t\tproject_vertex: project_vertex,\n\t\tdithering_fragment: dithering_fragment,\n\t\tdithering_pars_fragment: dithering_pars_fragment,\n\t\troughnessmap_fragment: roughnessmap_fragment,\n\t\troughnessmap_pars_fragment: roughnessmap_pars_fragment,\n\t\tshadowmap_pars_fragment: shadowmap_pars_fragment,\n\t\tshadowmap_pars_vertex: shadowmap_pars_vertex,\n\t\tshadowmap_vertex: shadowmap_vertex,\n\t\tshadowmask_pars_fragment: shadowmask_pars_fragment,\n\t\tskinbase_vertex: skinbase_vertex,\n\t\tskinning_pars_vertex: skinning_pars_vertex,\n\t\tskinning_vertex: skinning_vertex,\n\t\tskinnormal_vertex: skinnormal_vertex,\n\t\tspecularmap_fragment: specularmap_fragment,\n\t\tspecularmap_pars_fragment: specularmap_pars_fragment,\n\t\ttonemapping_fragment: tonemapping_fragment,\n\t\ttonemapping_pars_fragment: tonemapping_pars_fragment,\n\t\ttransmission_fragment: transmission_fragment,\n\t\ttransmission_pars_fragment: transmission_pars_fragment,\n\t\tuv_pars_fragment: uv_pars_fragment,\n\t\tuv_pars_vertex: uv_pars_vertex,\n\t\tuv_vertex: uv_vertex,\n\t\tuv2_pars_fragment: uv2_pars_fragment,\n\t\tuv2_pars_vertex: uv2_pars_vertex,\n\t\tuv2_vertex: uv2_vertex,\n\t\tworldpos_vertex: worldpos_vertex,\n\t\tbackground_vert: vertex$g,\n\t\tbackground_frag: fragment$g,\n\t\tcube_vert: vertex$f,\n\t\tcube_frag: fragment$f,\n\t\tdepth_vert: vertex$e,\n\t\tdepth_frag: fragment$e,\n\t\tdistanceRGBA_vert: vertex$d,\n\t\tdistanceRGBA_frag: fragment$d,\n\t\tequirect_vert: vertex$c,\n\t\tequirect_frag: fragment$c,\n\t\tlinedashed_vert: vertex$b,\n\t\tlinedashed_frag: fragment$b,\n\t\tmeshbasic_vert: vertex$a,\n\t\tmeshbasic_frag: fragment$a,\n\t\tmeshlambert_vert: vertex$9,\n\t\tmeshlambert_frag: fragment$9,\n\t\tmeshmatcap_vert: vertex$8,\n\t\tmeshmatcap_frag: fragment$8,\n\t\tmeshnormal_vert: vertex$7,\n\t\tmeshnormal_frag: fragment$7,\n\t\tmeshphong_vert: vertex$6,\n\t\tmeshphong_frag: fragment$6,\n\t\tmeshphysical_vert: vertex$5,\n\t\tmeshphysical_frag: fragment$5,\n\t\tmeshtoon_vert: vertex$4,\n\t\tmeshtoon_frag: fragment$4,\n\t\tpoints_vert: vertex$3,\n\t\tpoints_frag: fragment$3,\n\t\tshadow_vert: vertex$2,\n\t\tshadow_frag: fragment$2,\n\t\tsprite_vert: vertex$1,\n\t\tsprite_frag: fragment$1\n\t};\n\n\t/**\n\t * Uniforms library for shared webgl shaders\n\t */\n\n\tconst UniformsLib = {\n\t\tcommon: {\n\t\t\tdiffuse: {\n\t\t\t\tvalue: new Color(0xffffff)\n\t\t\t},\n\t\t\topacity: {\n\t\t\t\tvalue: 1.0\n\t\t\t},\n\t\t\tmap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tuvTransform: {\n\t\t\t\tvalue: new Matrix3()\n\t\t\t},\n\t\t\tuv2Transform: {\n\t\t\t\tvalue: new Matrix3()\n\t\t\t},\n\t\t\talphaMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\talphaTest: {\n\t\t\t\tvalue: 0\n\t\t\t}\n\t\t},\n\t\tspecularmap: {\n\t\t\tspecularMap: {\n\t\t\t\tvalue: null\n\t\t\t}\n\t\t},\n\t\tenvmap: {\n\t\t\tenvMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tflipEnvMap: {\n\t\t\t\tvalue: -1\n\t\t\t},\n\t\t\treflectivity: {\n\t\t\t\tvalue: 1.0\n\t\t\t},\n\t\t\t// basic, lambert, phong\n\t\t\tior: {\n\t\t\t\tvalue: 1.5\n\t\t\t},\n\t\t\t// physical\n\t\t\trefractionRatio: {\n\t\t\t\tvalue: 0.98\n\t\t\t} // basic, lambert, phong\n\n\t\t},\n\t\taomap: {\n\t\t\taoMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\taoMapIntensity: {\n\t\t\t\tvalue: 1\n\t\t\t}\n\t\t},\n\t\tlightmap: {\n\t\t\tlightMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tlightMapIntensity: {\n\t\t\t\tvalue: 1\n\t\t\t}\n\t\t},\n\t\temissivemap: {\n\t\t\temissiveMap: {\n\t\t\t\tvalue: null\n\t\t\t}\n\t\t},\n\t\tbumpmap: {\n\t\t\tbumpMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tbumpScale: {\n\t\t\t\tvalue: 1\n\t\t\t}\n\t\t},\n\t\tnormalmap: {\n\t\t\tnormalMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tnormalScale: {\n\t\t\t\tvalue: new Vector2(1, 1)\n\t\t\t}\n\t\t},\n\t\tdisplacementmap: {\n\t\t\tdisplacementMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tdisplacementScale: {\n\t\t\t\tvalue: 1\n\t\t\t},\n\t\t\tdisplacementBias: {\n\t\t\t\tvalue: 0\n\t\t\t}\n\t\t},\n\t\troughnessmap: {\n\t\t\troughnessMap: {\n\t\t\t\tvalue: null\n\t\t\t}\n\t\t},\n\t\tmetalnessmap: {\n\t\t\tmetalnessMap: {\n\t\t\t\tvalue: null\n\t\t\t}\n\t\t},\n\t\tgradientmap: {\n\t\t\tgradientMap: {\n\t\t\t\tvalue: null\n\t\t\t}\n\t\t},\n\t\tfog: {\n\t\t\tfogDensity: {\n\t\t\t\tvalue: 0.00025\n\t\t\t},\n\t\t\tfogNear: {\n\t\t\t\tvalue: 1\n\t\t\t},\n\t\t\tfogFar: {\n\t\t\t\tvalue: 2000\n\t\t\t},\n\t\t\tfogColor: {\n\t\t\t\tvalue: new Color(0xffffff)\n\t\t\t}\n\t\t},\n\t\tlights: {\n\t\t\tambientLightColor: {\n\t\t\t\tvalue: []\n\t\t\t},\n\t\t\tlightProbe: {\n\t\t\t\tvalue: []\n\t\t\t},\n\t\t\tdirectionalLights: {\n\t\t\t\tvalue: [],\n\t\t\t\tproperties: {\n\t\t\t\t\tdirection: {},\n\t\t\t\t\tcolor: {}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdirectionalLightShadows: {\n\t\t\t\tvalue: [],\n\t\t\t\tproperties: {\n\t\t\t\t\tshadowBias: {},\n\t\t\t\t\tshadowNormalBias: {},\n\t\t\t\t\tshadowRadius: {},\n\t\t\t\t\tshadowMapSize: {}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdirectionalShadowMap: {\n\t\t\t\tvalue: []\n\t\t\t},\n\t\t\tdirectionalShadowMatrix: {\n\t\t\t\tvalue: []\n\t\t\t},\n\t\t\tspotLights: {\n\t\t\t\tvalue: [],\n\t\t\t\tproperties: {\n\t\t\t\t\tcolor: {},\n\t\t\t\t\tposition: {},\n\t\t\t\t\tdirection: {},\n\t\t\t\t\tdistance: {},\n\t\t\t\t\tconeCos: {},\n\t\t\t\t\tpenumbraCos: {},\n\t\t\t\t\tdecay: {}\n\t\t\t\t}\n\t\t\t},\n\t\t\tspotLightShadows: {\n\t\t\t\tvalue: [],\n\t\t\t\tproperties: {\n\t\t\t\t\tshadowBias: {},\n\t\t\t\t\tshadowNormalBias: {},\n\t\t\t\t\tshadowRadius: {},\n\t\t\t\t\tshadowMapSize: {}\n\t\t\t\t}\n\t\t\t},\n\t\t\tspotShadowMap: {\n\t\t\t\tvalue: []\n\t\t\t},\n\t\t\tspotShadowMatrix: {\n\t\t\t\tvalue: []\n\t\t\t},\n\t\t\tpointLights: {\n\t\t\t\tvalue: [],\n\t\t\t\tproperties: {\n\t\t\t\t\tcolor: {},\n\t\t\t\t\tposition: {},\n\t\t\t\t\tdecay: {},\n\t\t\t\t\tdistance: {}\n\t\t\t\t}\n\t\t\t},\n\t\t\tpointLightShadows: {\n\t\t\t\tvalue: [],\n\t\t\t\tproperties: {\n\t\t\t\t\tshadowBias: {},\n\t\t\t\t\tshadowNormalBias: {},\n\t\t\t\t\tshadowRadius: {},\n\t\t\t\t\tshadowMapSize: {},\n\t\t\t\t\tshadowCameraNear: {},\n\t\t\t\t\tshadowCameraFar: {}\n\t\t\t\t}\n\t\t\t},\n\t\t\tpointShadowMap: {\n\t\t\t\tvalue: []\n\t\t\t},\n\t\t\tpointShadowMatrix: {\n\t\t\t\tvalue: []\n\t\t\t},\n\t\t\themisphereLights: {\n\t\t\t\tvalue: [],\n\t\t\t\tproperties: {\n\t\t\t\t\tdirection: {},\n\t\t\t\t\tskyColor: {},\n\t\t\t\t\tgroundColor: {}\n\t\t\t\t}\n\t\t\t},\n\t\t\t// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n\t\t\trectAreaLights: {\n\t\t\t\tvalue: [],\n\t\t\t\tproperties: {\n\t\t\t\t\tcolor: {},\n\t\t\t\t\tposition: {},\n\t\t\t\t\twidth: {},\n\t\t\t\t\theight: {}\n\t\t\t\t}\n\t\t\t},\n\t\t\tltc_1: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tltc_2: {\n\t\t\t\tvalue: null\n\t\t\t}\n\t\t},\n\t\tpoints: {\n\t\t\tdiffuse: {\n\t\t\t\tvalue: new Color(0xffffff)\n\t\t\t},\n\t\t\topacity: {\n\t\t\t\tvalue: 1.0\n\t\t\t},\n\t\t\tsize: {\n\t\t\t\tvalue: 1.0\n\t\t\t},\n\t\t\tscale: {\n\t\t\t\tvalue: 1.0\n\t\t\t},\n\t\t\tmap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\talphaMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\talphaTest: {\n\t\t\t\tvalue: 0\n\t\t\t},\n\t\t\tuvTransform: {\n\t\t\t\tvalue: new Matrix3()\n\t\t\t}\n\t\t},\n\t\tsprite: {\n\t\t\tdiffuse: {\n\t\t\t\tvalue: new Color(0xffffff)\n\t\t\t},\n\t\t\topacity: {\n\t\t\t\tvalue: 1.0\n\t\t\t},\n\t\t\tcenter: {\n\t\t\t\tvalue: new Vector2(0.5, 0.5)\n\t\t\t},\n\t\t\trotation: {\n\t\t\t\tvalue: 0.0\n\t\t\t},\n\t\t\tmap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\talphaMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\talphaTest: {\n\t\t\t\tvalue: 0\n\t\t\t},\n\t\t\tuvTransform: {\n\t\t\t\tvalue: new Matrix3()\n\t\t\t}\n\t\t}\n\t};\n\n\tconst ShaderLib = {\n\t\tbasic: {\n\t\t\tuniforms: mergeUniforms([UniformsLib.common, UniformsLib.specularmap, UniformsLib.envmap, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.fog]),\n\t\t\tvertexShader: ShaderChunk.meshbasic_vert,\n\t\t\tfragmentShader: ShaderChunk.meshbasic_frag\n\t\t},\n\t\tlambert: {\n\t\t\tuniforms: mergeUniforms([UniformsLib.common, UniformsLib.specularmap, UniformsLib.envmap, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.emissivemap, UniformsLib.fog, UniformsLib.lights, {\n\t\t\t\temissive: {\n\t\t\t\t\tvalue: new Color(0x000000)\n\t\t\t\t}\n\t\t\t}]),\n\t\t\tvertexShader: ShaderChunk.meshlambert_vert,\n\t\t\tfragmentShader: ShaderChunk.meshlambert_frag\n\t\t},\n\t\tphong: {\n\t\t\tuniforms: mergeUniforms([UniformsLib.common, UniformsLib.specularmap, UniformsLib.envmap, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.emissivemap, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, UniformsLib.fog, UniformsLib.lights, {\n\t\t\t\temissive: {\n\t\t\t\t\tvalue: new Color(0x000000)\n\t\t\t\t},\n\t\t\t\tspecular: {\n\t\t\t\t\tvalue: new Color(0x111111)\n\t\t\t\t},\n\t\t\t\tshininess: {\n\t\t\t\t\tvalue: 30\n\t\t\t\t}\n\t\t\t}]),\n\t\t\tvertexShader: ShaderChunk.meshphong_vert,\n\t\t\tfragmentShader: ShaderChunk.meshphong_frag\n\t\t},\n\t\tstandard: {\n\t\t\tuniforms: mergeUniforms([UniformsLib.common, UniformsLib.envmap, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.emissivemap, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, UniformsLib.roughnessmap, UniformsLib.metalnessmap, UniformsLib.fog, UniformsLib.lights, {\n\t\t\t\temissive: {\n\t\t\t\t\tvalue: new Color(0x000000)\n\t\t\t\t},\n\t\t\t\troughness: {\n\t\t\t\t\tvalue: 1.0\n\t\t\t\t},\n\t\t\t\tmetalness: {\n\t\t\t\t\tvalue: 0.0\n\t\t\t\t},\n\t\t\t\tenvMapIntensity: {\n\t\t\t\t\tvalue: 1\n\t\t\t\t} // temporary\n\n\t\t\t}]),\n\t\t\tvertexShader: ShaderChunk.meshphysical_vert,\n\t\t\tfragmentShader: ShaderChunk.meshphysical_frag\n\t\t},\n\t\ttoon: {\n\t\t\tuniforms: mergeUniforms([UniformsLib.common, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.emissivemap, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, UniformsLib.gradientmap, UniformsLib.fog, UniformsLib.lights, {\n\t\t\t\temissive: {\n\t\t\t\t\tvalue: new Color(0x000000)\n\t\t\t\t}\n\t\t\t}]),\n\t\t\tvertexShader: ShaderChunk.meshtoon_vert,\n\t\t\tfragmentShader: ShaderChunk.meshtoon_frag\n\t\t},\n\t\tmatcap: {\n\t\t\tuniforms: mergeUniforms([UniformsLib.common, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, UniformsLib.fog, {\n\t\t\t\tmatcap: {\n\t\t\t\t\tvalue: null\n\t\t\t\t}\n\t\t\t}]),\n\t\t\tvertexShader: ShaderChunk.meshmatcap_vert,\n\t\t\tfragmentShader: ShaderChunk.meshmatcap_frag\n\t\t},\n\t\tpoints: {\n\t\t\tuniforms: mergeUniforms([UniformsLib.points, UniformsLib.fog]),\n\t\t\tvertexShader: ShaderChunk.points_vert,\n\t\t\tfragmentShader: ShaderChunk.points_frag\n\t\t},\n\t\tdashed: {\n\t\t\tuniforms: mergeUniforms([UniformsLib.common, UniformsLib.fog, {\n\t\t\t\tscale: {\n\t\t\t\t\tvalue: 1\n\t\t\t\t},\n\t\t\t\tdashSize: {\n\t\t\t\t\tvalue: 1\n\t\t\t\t},\n\t\t\t\ttotalSize: {\n\t\t\t\t\tvalue: 2\n\t\t\t\t}\n\t\t\t}]),\n\t\t\tvertexShader: ShaderChunk.linedashed_vert,\n\t\t\tfragmentShader: ShaderChunk.linedashed_frag\n\t\t},\n\t\tdepth: {\n\t\t\tuniforms: mergeUniforms([UniformsLib.common, UniformsLib.displacementmap]),\n\t\t\tvertexShader: ShaderChunk.depth_vert,\n\t\t\tfragmentShader: ShaderChunk.depth_frag\n\t\t},\n\t\tnormal: {\n\t\t\tuniforms: mergeUniforms([UniformsLib.common, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, {\n\t\t\t\topacity: {\n\t\t\t\t\tvalue: 1.0\n\t\t\t\t}\n\t\t\t}]),\n\t\t\tvertexShader: ShaderChunk.meshnormal_vert,\n\t\t\tfragmentShader: ShaderChunk.meshnormal_frag\n\t\t},\n\t\tsprite: {\n\t\t\tuniforms: mergeUniforms([UniformsLib.sprite, UniformsLib.fog]),\n\t\t\tvertexShader: ShaderChunk.sprite_vert,\n\t\t\tfragmentShader: ShaderChunk.sprite_frag\n\t\t},\n\t\tbackground: {\n\t\t\tuniforms: {\n\t\t\t\tuvTransform: {\n\t\t\t\t\tvalue: new Matrix3()\n\t\t\t\t},\n\t\t\t\tt2D: {\n\t\t\t\t\tvalue: null\n\t\t\t\t}\n\t\t\t},\n\t\t\tvertexShader: ShaderChunk.background_vert,\n\t\t\tfragmentShader: ShaderChunk.background_frag\n\t\t},\n\n\t\t/* -------------------------------------------------------------------------\n\t\t//\tCube map shader\n\t\t ------------------------------------------------------------------------- */\n\t\tcube: {\n\t\t\tuniforms: mergeUniforms([UniformsLib.envmap, {\n\t\t\t\topacity: {\n\t\t\t\t\tvalue: 1.0\n\t\t\t\t}\n\t\t\t}]),\n\t\t\tvertexShader: ShaderChunk.cube_vert,\n\t\t\tfragmentShader: ShaderChunk.cube_frag\n\t\t},\n\t\tequirect: {\n\t\t\tuniforms: {\n\t\t\t\ttEquirect: {\n\t\t\t\t\tvalue: null\n\t\t\t\t}\n\t\t\t},\n\t\t\tvertexShader: ShaderChunk.equirect_vert,\n\t\t\tfragmentShader: ShaderChunk.equirect_frag\n\t\t},\n\t\tdistanceRGBA: {\n\t\t\tuniforms: mergeUniforms([UniformsLib.common, UniformsLib.displacementmap, {\n\t\t\t\treferencePosition: {\n\t\t\t\t\tvalue: new Vector3()\n\t\t\t\t},\n\t\t\t\tnearDistance: {\n\t\t\t\t\tvalue: 1\n\t\t\t\t},\n\t\t\t\tfarDistance: {\n\t\t\t\t\tvalue: 1000\n\t\t\t\t}\n\t\t\t}]),\n\t\t\tvertexShader: ShaderChunk.distanceRGBA_vert,\n\t\t\tfragmentShader: ShaderChunk.distanceRGBA_frag\n\t\t},\n\t\tshadow: {\n\t\t\tuniforms: mergeUniforms([UniformsLib.lights, UniformsLib.fog, {\n\t\t\t\tcolor: {\n\t\t\t\t\tvalue: new Color(0x00000)\n\t\t\t\t},\n\t\t\t\topacity: {\n\t\t\t\t\tvalue: 1.0\n\t\t\t\t}\n\t\t\t}]),\n\t\t\tvertexShader: ShaderChunk.shadow_vert,\n\t\t\tfragmentShader: ShaderChunk.shadow_frag\n\t\t}\n\t};\n\tShaderLib.physical = {\n\t\tuniforms: mergeUniforms([ShaderLib.standard.uniforms, {\n\t\t\tclearcoat: {\n\t\t\t\tvalue: 0\n\t\t\t},\n\t\t\tclearcoatMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tclearcoatRoughness: {\n\t\t\t\tvalue: 0\n\t\t\t},\n\t\t\tclearcoatRoughnessMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tclearcoatNormalScale: {\n\t\t\t\tvalue: new Vector2(1, 1)\n\t\t\t},\n\t\t\tclearcoatNormalMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tiridescence: {\n\t\t\t\tvalue: 0\n\t\t\t},\n\t\t\tiridescenceMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tiridescenceIOR: {\n\t\t\t\tvalue: 1.3\n\t\t\t},\n\t\t\tiridescenceThicknessMinimum: {\n\t\t\t\tvalue: 100\n\t\t\t},\n\t\t\tiridescenceThicknessMaximum: {\n\t\t\t\tvalue: 400\n\t\t\t},\n\t\t\tiridescenceThicknessMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tsheen: {\n\t\t\t\tvalue: 0\n\t\t\t},\n\t\t\tsheenColor: {\n\t\t\t\tvalue: new Color(0x000000)\n\t\t\t},\n\t\t\tsheenColorMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tsheenRoughness: {\n\t\t\t\tvalue: 1\n\t\t\t},\n\t\t\tsheenRoughnessMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\ttransmission: {\n\t\t\t\tvalue: 0\n\t\t\t},\n\t\t\ttransmissionMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\ttransmissionSamplerSize: {\n\t\t\t\tvalue: new Vector2()\n\t\t\t},\n\t\t\ttransmissionSamplerMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tthickness: {\n\t\t\t\tvalue: 0\n\t\t\t},\n\t\t\tthicknessMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tattenuationDistance: {\n\t\t\t\tvalue: 0\n\t\t\t},\n\t\t\tattenuationColor: {\n\t\t\t\tvalue: new Color(0x000000)\n\t\t\t},\n\t\t\tspecularIntensity: {\n\t\t\t\tvalue: 1\n\t\t\t},\n\t\t\tspecularIntensityMap: {\n\t\t\t\tvalue: null\n\t\t\t},\n\t\t\tspecularColor: {\n\t\t\t\tvalue: new Color(1, 1, 1)\n\t\t\t},\n\t\t\tspecularColorMap: {\n\t\t\t\tvalue: null\n\t\t\t}\n\t\t}]),\n\t\tvertexShader: ShaderChunk.meshphysical_vert,\n\t\tfragmentShader: ShaderChunk.meshphysical_frag\n\t};\n\n\tfunction WebGLBackground(renderer, cubemaps, state, objects, alpha, premultipliedAlpha) {\n\t\tconst clearColor = new Color(0x000000);\n\t\tlet clearAlpha = alpha === true ? 0 : 1;\n\t\tlet planeMesh;\n\t\tlet boxMesh;\n\t\tlet currentBackground = null;\n\t\tlet currentBackgroundVersion = 0;\n\t\tlet currentTonemapping = null;\n\n\t\tfunction render(renderList, scene) {\n\t\t\tlet forceClear = false;\n\t\t\tlet background = scene.isScene === true ? scene.background : null;\n\n\t\t\tif (background && background.isTexture) {\n\t\t\t\tbackground = cubemaps.get(background);\n\t\t\t} // Ignore background in AR\n\t\t\t// TODO: Reconsider this.\n\n\n\t\t\tconst xr = renderer.xr;\n\t\t\tconst session = xr.getSession && xr.getSession();\n\n\t\t\tif (session && session.environmentBlendMode === 'additive') {\n\t\t\t\tbackground = null;\n\t\t\t}\n\n\t\t\tif (background === null) {\n\t\t\t\tsetClear(clearColor, clearAlpha);\n\t\t\t} else if (background && background.isColor) {\n\t\t\t\tsetClear(background, 1);\n\t\t\t\tforceClear = true;\n\t\t\t}\n\n\t\t\tif (renderer.autoClear || forceClear) {\n\t\t\t\trenderer.clear(renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil);\n\t\t\t}\n\n\t\t\tif (background && (background.isCubeTexture || background.mapping === CubeUVReflectionMapping)) {\n\t\t\t\tif (boxMesh === undefined) {\n\t\t\t\t\tboxMesh = new Mesh(new BoxGeometry(1, 1, 1), new ShaderMaterial({\n\t\t\t\t\t\tname: 'BackgroundCubeMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms(ShaderLib.cube.uniforms),\n\t\t\t\t\t\tvertexShader: ShaderLib.cube.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.cube.fragmentShader,\n\t\t\t\t\t\tside: BackSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t}));\n\t\t\t\t\tboxMesh.geometry.deleteAttribute('normal');\n\t\t\t\t\tboxMesh.geometry.deleteAttribute('uv');\n\n\t\t\t\t\tboxMesh.onBeforeRender = function (renderer, scene, camera) {\n\t\t\t\t\t\tthis.matrixWorld.copyPosition(camera.matrixWorld);\n\t\t\t\t\t}; // enable code injection for non-built-in material\n\n\n\t\t\t\t\tObject.defineProperty(boxMesh.material, 'envMap', {\n\t\t\t\t\t\tget: function () {\n\t\t\t\t\t\t\treturn this.uniforms.envMap.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tobjects.update(boxMesh);\n\t\t\t\t}\n\n\t\t\t\tboxMesh.material.uniforms.envMap.value = background;\n\t\t\t\tboxMesh.material.uniforms.flipEnvMap.value = background.isCubeTexture && background.isRenderTargetTexture === false ? -1 : 1;\n\n\t\t\t\tif (currentBackground !== background || currentBackgroundVersion !== background.version || currentTonemapping !== renderer.toneMapping) {\n\t\t\t\t\tboxMesh.material.needsUpdate = true;\n\t\t\t\t\tcurrentBackground = background;\n\t\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\t\t\t\t}\n\n\t\t\t\tboxMesh.layers.enableAll(); // push to the pre-sorted opaque render list\n\n\t\t\t\trenderList.unshift(boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null);\n\t\t\t} else if (background && background.isTexture) {\n\t\t\t\tif (planeMesh === undefined) {\n\t\t\t\t\tplaneMesh = new Mesh(new PlaneGeometry(2, 2), new ShaderMaterial({\n\t\t\t\t\t\tname: 'BackgroundMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms(ShaderLib.background.uniforms),\n\t\t\t\t\t\tvertexShader: ShaderLib.background.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.background.fragmentShader,\n\t\t\t\t\t\tside: FrontSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t}));\n\t\t\t\t\tplaneMesh.geometry.deleteAttribute('normal'); // enable code injection for non-built-in material\n\n\t\t\t\t\tObject.defineProperty(planeMesh.material, 'map', {\n\t\t\t\t\t\tget: function () {\n\t\t\t\t\t\t\treturn this.uniforms.t2D.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tobjects.update(planeMesh);\n\t\t\t\t}\n\n\t\t\t\tplaneMesh.material.uniforms.t2D.value = background;\n\n\t\t\t\tif (background.matrixAutoUpdate === true) {\n\t\t\t\t\tbackground.updateMatrix();\n\t\t\t\t}\n\n\t\t\t\tplaneMesh.material.uniforms.uvTransform.value.copy(background.matrix);\n\n\t\t\t\tif (currentBackground !== background || currentBackgroundVersion !== background.version || currentTonemapping !== renderer.toneMapping) {\n\t\t\t\t\tplaneMesh.material.needsUpdate = true;\n\t\t\t\t\tcurrentBackground = background;\n\t\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\t\t\t\t}\n\n\t\t\t\tplaneMesh.layers.enableAll(); // push to the pre-sorted opaque render list\n\n\t\t\t\trenderList.unshift(planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null);\n\t\t\t}\n\t\t}\n\n\t\tfunction setClear(color, alpha) {\n\t\t\tstate.buffers.color.setClear(color.r, color.g, color.b, alpha, premultipliedAlpha);\n\t\t}\n\n\t\treturn {\n\t\t\tgetClearColor: function () {\n\t\t\t\treturn clearColor;\n\t\t\t},\n\t\t\tsetClearColor: function (color, alpha = 1) {\n\t\t\t\tclearColor.set(color);\n\t\t\t\tclearAlpha = alpha;\n\t\t\t\tsetClear(clearColor, clearAlpha);\n\t\t\t},\n\t\t\tgetClearAlpha: function () {\n\t\t\t\treturn clearAlpha;\n\t\t\t},\n\t\t\tsetClearAlpha: function (alpha) {\n\t\t\t\tclearAlpha = alpha;\n\t\t\t\tsetClear(clearColor, clearAlpha);\n\t\t\t},\n\t\t\trender: render\n\t\t};\n\t}\n\n\tfunction WebGLBindingStates(gl, extensions, attributes, capabilities) {\n\t\tconst maxVertexAttributes = gl.getParameter(gl.MAX_VERTEX_ATTRIBS);\n\t\tconst extension = capabilities.isWebGL2 ? null : extensions.get('OES_vertex_array_object');\n\t\tconst vaoAvailable = capabilities.isWebGL2 || extension !== null;\n\t\tconst bindingStates = {};\n\t\tconst defaultState = createBindingState(null);\n\t\tlet currentState = defaultState;\n\t\tlet forceUpdate = false;\n\n\t\tfunction setup(object, material, program, geometry, index) {\n\t\t\tlet updateBuffers = false;\n\n\t\t\tif (vaoAvailable) {\n\t\t\t\tconst state = getBindingState(geometry, program, material);\n\n\t\t\t\tif (currentState !== state) {\n\t\t\t\t\tcurrentState = state;\n\t\t\t\t\tbindVertexArrayObject(currentState.object);\n\t\t\t\t}\n\n\t\t\t\tupdateBuffers = needsUpdate(object, geometry, program, index);\n\t\t\t\tif (updateBuffers) saveCache(object, geometry, program, index);\n\t\t\t} else {\n\t\t\t\tconst wireframe = material.wireframe === true;\n\n\t\t\t\tif (currentState.geometry !== geometry.id || currentState.program !== program.id || currentState.wireframe !== wireframe) {\n\t\t\t\t\tcurrentState.geometry = geometry.id;\n\t\t\t\t\tcurrentState.program = program.id;\n\t\t\t\t\tcurrentState.wireframe = wireframe;\n\t\t\t\t\tupdateBuffers = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (index !== null) {\n\t\t\t\tattributes.update(index, gl.ELEMENT_ARRAY_BUFFER);\n\t\t\t}\n\n\t\t\tif (updateBuffers || forceUpdate) {\n\t\t\t\tforceUpdate = false;\n\t\t\t\tsetupVertexAttributes(object, material, program, geometry);\n\n\t\t\t\tif (index !== null) {\n\t\t\t\t\tgl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, attributes.get(index).buffer);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction createVertexArrayObject() {\n\t\t\tif (capabilities.isWebGL2) return gl.createVertexArray();\n\t\t\treturn extension.createVertexArrayOES();\n\t\t}\n\n\t\tfunction bindVertexArrayObject(vao) {\n\t\t\tif (capabilities.isWebGL2) return gl.bindVertexArray(vao);\n\t\t\treturn extension.bindVertexArrayOES(vao);\n\t\t}\n\n\t\tfunction deleteVertexArrayObject(vao) {\n\t\t\tif (capabilities.isWebGL2) return gl.deleteVertexArray(vao);\n\t\t\treturn extension.deleteVertexArrayOES(vao);\n\t\t}\n\n\t\tfunction getBindingState(geometry, program, material) {\n\t\t\tconst wireframe = material.wireframe === true;\n\t\t\tlet programMap = bindingStates[geometry.id];\n\n\t\t\tif (programMap === undefined) {\n\t\t\t\tprogramMap = {};\n\t\t\t\tbindingStates[geometry.id] = programMap;\n\t\t\t}\n\n\t\t\tlet stateMap = programMap[program.id];\n\n\t\t\tif (stateMap === undefined) {\n\t\t\t\tstateMap = {};\n\t\t\t\tprogramMap[program.id] = stateMap;\n\t\t\t}\n\n\t\t\tlet state = stateMap[wireframe];\n\n\t\t\tif (state === undefined) {\n\t\t\t\tstate = createBindingState(createVertexArrayObject());\n\t\t\t\tstateMap[wireframe] = state;\n\t\t\t}\n\n\t\t\treturn state;\n\t\t}\n\n\t\tfunction createBindingState(vao) {\n\t\t\tconst newAttributes = [];\n\t\t\tconst enabledAttributes = [];\n\t\t\tconst attributeDivisors = [];\n\n\t\t\tfor (let i = 0; i < maxVertexAttributes; i++) {\n\t\t\t\tnewAttributes[i] = 0;\n\t\t\t\tenabledAttributes[i] = 0;\n\t\t\t\tattributeDivisors[i] = 0;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t// for backward compatibility on non-VAO support browser\n\t\t\t\tgeometry: null,\n\t\t\t\tprogram: null,\n\t\t\t\twireframe: false,\n\t\t\t\tnewAttributes: newAttributes,\n\t\t\t\tenabledAttributes: enabledAttributes,\n\t\t\t\tattributeDivisors: attributeDivisors,\n\t\t\t\tobject: vao,\n\t\t\t\tattributes: {},\n\t\t\t\tindex: null\n\t\t\t};\n\t\t}\n\n\t\tfunction needsUpdate(object, geometry, program, index) {\n\t\t\tconst cachedAttributes = currentState.attributes;\n\t\t\tconst geometryAttributes = geometry.attributes;\n\t\t\tlet attributesNum = 0;\n\t\t\tconst programAttributes = program.getAttributes();\n\n\t\t\tfor (const name in programAttributes) {\n\t\t\t\tconst programAttribute = programAttributes[name];\n\n\t\t\t\tif (programAttribute.location >= 0) {\n\t\t\t\t\tconst cachedAttribute = cachedAttributes[name];\n\t\t\t\t\tlet geometryAttribute = geometryAttributes[name];\n\n\t\t\t\t\tif (geometryAttribute === undefined) {\n\t\t\t\t\t\tif (name === 'instanceMatrix' && object.instanceMatrix) geometryAttribute = object.instanceMatrix;\n\t\t\t\t\t\tif (name === 'instanceColor' && object.instanceColor) geometryAttribute = object.instanceColor;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (cachedAttribute === undefined) return true;\n\t\t\t\t\tif (cachedAttribute.attribute !== geometryAttribute) return true;\n\t\t\t\t\tif (geometryAttribute && cachedAttribute.data !== geometryAttribute.data) return true;\n\t\t\t\t\tattributesNum++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (currentState.attributesNum !== attributesNum) return true;\n\t\t\tif (currentState.index !== index) return true;\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction saveCache(object, geometry, program, index) {\n\t\t\tconst cache = {};\n\t\t\tconst attributes = geometry.attributes;\n\t\t\tlet attributesNum = 0;\n\t\t\tconst programAttributes = program.getAttributes();\n\n\t\t\tfor (const name in programAttributes) {\n\t\t\t\tconst programAttribute = programAttributes[name];\n\n\t\t\t\tif (programAttribute.location >= 0) {\n\t\t\t\t\tlet attribute = attributes[name];\n\n\t\t\t\t\tif (attribute === undefined) {\n\t\t\t\t\t\tif (name === 'instanceMatrix' && object.instanceMatrix) attribute = object.instanceMatrix;\n\t\t\t\t\t\tif (name === 'instanceColor' && object.instanceColor) attribute = object.instanceColor;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst data = {};\n\t\t\t\t\tdata.attribute = attribute;\n\n\t\t\t\t\tif (attribute && attribute.data) {\n\t\t\t\t\t\tdata.data = attribute.data;\n\t\t\t\t\t}\n\n\t\t\t\t\tcache[name] = data;\n\t\t\t\t\tattributesNum++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcurrentState.attributes = cache;\n\t\t\tcurrentState.attributesNum = attributesNum;\n\t\t\tcurrentState.index = index;\n\t\t}\n\n\t\tfunction initAttributes() {\n\t\t\tconst newAttributes = currentState.newAttributes;\n\n\t\t\tfor (let i = 0, il = newAttributes.length; i < il; i++) {\n\t\t\t\tnewAttributes[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\tfunction enableAttribute(attribute) {\n\t\t\tenableAttributeAndDivisor(attribute, 0);\n\t\t}\n\n\t\tfunction enableAttributeAndDivisor(attribute, meshPerAttribute) {\n\t\t\tconst newAttributes = currentState.newAttributes;\n\t\t\tconst enabledAttributes = currentState.enabledAttributes;\n\t\t\tconst attributeDivisors = currentState.attributeDivisors;\n\t\t\tnewAttributes[attribute] = 1;\n\n\t\t\tif (enabledAttributes[attribute] === 0) {\n\t\t\t\tgl.enableVertexAttribArray(attribute);\n\t\t\t\tenabledAttributes[attribute] = 1;\n\t\t\t}\n\n\t\t\tif (attributeDivisors[attribute] !== meshPerAttribute) {\n\t\t\t\tconst extension = capabilities.isWebGL2 ? gl : extensions.get('ANGLE_instanced_arrays');\n\t\t\t\textension[capabilities.isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE'](attribute, meshPerAttribute);\n\t\t\t\tattributeDivisors[attribute] = meshPerAttribute;\n\t\t\t}\n\t\t}\n\n\t\tfunction disableUnusedAttributes() {\n\t\t\tconst newAttributes = currentState.newAttributes;\n\t\t\tconst enabledAttributes = currentState.enabledAttributes;\n\n\t\t\tfor (let i = 0, il = enabledAttributes.length; i < il; i++) {\n\t\t\t\tif (enabledAttributes[i] !== newAttributes[i]) {\n\t\t\t\t\tgl.disableVertexAttribArray(i);\n\t\t\t\t\tenabledAttributes[i] = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction vertexAttribPointer(index, size, type, normalized, stride, offset) {\n\t\t\tif (capabilities.isWebGL2 === true && (type === gl.INT || type === gl.UNSIGNED_INT)) {\n\t\t\t\tgl.vertexAttribIPointer(index, size, type, stride, offset);\n\t\t\t} else {\n\t\t\t\tgl.vertexAttribPointer(index, size, type, normalized, stride, offset);\n\t\t\t}\n\t\t}\n\n\t\tfunction setupVertexAttributes(object, material, program, geometry) {\n\t\t\tif (capabilities.isWebGL2 === false && (object.isInstancedMesh || geometry.isInstancedBufferGeometry)) {\n\t\t\t\tif (extensions.get('ANGLE_instanced_arrays') === null) return;\n\t\t\t}\n\n\t\t\tinitAttributes();\n\t\t\tconst geometryAttributes = geometry.attributes;\n\t\t\tconst programAttributes = program.getAttributes();\n\t\t\tconst materialDefaultAttributeValues = material.defaultAttributeValues;\n\n\t\t\tfor (const name in programAttributes) {\n\t\t\t\tconst programAttribute = programAttributes[name];\n\n\t\t\t\tif (programAttribute.location >= 0) {\n\t\t\t\t\tlet geometryAttribute = geometryAttributes[name];\n\n\t\t\t\t\tif (geometryAttribute === undefined) {\n\t\t\t\t\t\tif (name === 'instanceMatrix' && object.instanceMatrix) geometryAttribute = object.instanceMatrix;\n\t\t\t\t\t\tif (name === 'instanceColor' && object.instanceColor) geometryAttribute = object.instanceColor;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (geometryAttribute !== undefined) {\n\t\t\t\t\t\tconst normalized = geometryAttribute.normalized;\n\t\t\t\t\t\tconst size = geometryAttribute.itemSize;\n\t\t\t\t\t\tconst attribute = attributes.get(geometryAttribute); // TODO Attribute may not be available on context restore\n\n\t\t\t\t\t\tif (attribute === undefined) continue;\n\t\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\t\tconst type = attribute.type;\n\t\t\t\t\t\tconst bytesPerElement = attribute.bytesPerElement;\n\n\t\t\t\t\t\tif (geometryAttribute.isInterleavedBufferAttribute) {\n\t\t\t\t\t\t\tconst data = geometryAttribute.data;\n\t\t\t\t\t\t\tconst stride = data.stride;\n\t\t\t\t\t\t\tconst offset = geometryAttribute.offset;\n\n\t\t\t\t\t\t\tif (data.isInstancedInterleavedBuffer) {\n\t\t\t\t\t\t\t\tfor (let i = 0; i < programAttribute.locationSize; i++) {\n\t\t\t\t\t\t\t\t\tenableAttributeAndDivisor(programAttribute.location + i, data.meshPerAttribute);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (object.isInstancedMesh !== true && geometry._maxInstanceCount === undefined) {\n\t\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = data.meshPerAttribute * data.count;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfor (let i = 0; i < programAttribute.locationSize; i++) {\n\t\t\t\t\t\t\t\t\tenableAttribute(programAttribute.location + i);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n\n\t\t\t\t\t\t\tfor (let i = 0; i < programAttribute.locationSize; i++) {\n\t\t\t\t\t\t\t\tvertexAttribPointer(programAttribute.location + i, size / programAttribute.locationSize, type, normalized, stride * bytesPerElement, (offset + size / programAttribute.locationSize * i) * bytesPerElement);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (geometryAttribute.isInstancedBufferAttribute) {\n\t\t\t\t\t\t\t\tfor (let i = 0; i < programAttribute.locationSize; i++) {\n\t\t\t\t\t\t\t\t\tenableAttributeAndDivisor(programAttribute.location + i, geometryAttribute.meshPerAttribute);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (object.isInstancedMesh !== true && geometry._maxInstanceCount === undefined) {\n\t\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfor (let i = 0; i < programAttribute.locationSize; i++) {\n\t\t\t\t\t\t\t\t\tenableAttribute(programAttribute.location + i);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n\n\t\t\t\t\t\t\tfor (let i = 0; i < programAttribute.locationSize; i++) {\n\t\t\t\t\t\t\t\tvertexAttribPointer(programAttribute.location + i, size / programAttribute.locationSize, type, normalized, size * bytesPerElement, size / programAttribute.locationSize * i * bytesPerElement);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (materialDefaultAttributeValues !== undefined) {\n\t\t\t\t\t\tconst value = materialDefaultAttributeValues[name];\n\n\t\t\t\t\t\tif (value !== undefined) {\n\t\t\t\t\t\t\tswitch (value.length) {\n\t\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t\tgl.vertexAttrib2fv(programAttribute.location, value);\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\t\tgl.vertexAttrib3fv(programAttribute.location, value);\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\t\tgl.vertexAttrib4fv(programAttribute.location, value);\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\tgl.vertexAttrib1fv(programAttribute.location, value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdisableUnusedAttributes();\n\t\t}\n\n\t\tfunction dispose() {\n\t\t\treset();\n\n\t\t\tfor (const geometryId in bindingStates) {\n\t\t\t\tconst programMap = bindingStates[geometryId];\n\n\t\t\t\tfor (const programId in programMap) {\n\t\t\t\t\tconst stateMap = programMap[programId];\n\n\t\t\t\t\tfor (const wireframe in stateMap) {\n\t\t\t\t\t\tdeleteVertexArrayObject(stateMap[wireframe].object);\n\t\t\t\t\t\tdelete stateMap[wireframe];\n\t\t\t\t\t}\n\n\t\t\t\t\tdelete programMap[programId];\n\t\t\t\t}\n\n\t\t\t\tdelete bindingStates[geometryId];\n\t\t\t}\n\t\t}\n\n\t\tfunction releaseStatesOfGeometry(geometry) {\n\t\t\tif (bindingStates[geometry.id] === undefined) return;\n\t\t\tconst programMap = bindingStates[geometry.id];\n\n\t\t\tfor (const programId in programMap) {\n\t\t\t\tconst stateMap = programMap[programId];\n\n\t\t\t\tfor (const wireframe in stateMap) {\n\t\t\t\t\tdeleteVertexArrayObject(stateMap[wireframe].object);\n\t\t\t\t\tdelete stateMap[wireframe];\n\t\t\t\t}\n\n\t\t\t\tdelete programMap[programId];\n\t\t\t}\n\n\t\t\tdelete bindingStates[geometry.id];\n\t\t}\n\n\t\tfunction releaseStatesOfProgram(program) {\n\t\t\tfor (const geometryId in bindingStates) {\n\t\t\t\tconst programMap = bindingStates[geometryId];\n\t\t\t\tif (programMap[program.id] === undefined) continue;\n\t\t\t\tconst stateMap = programMap[program.id];\n\n\t\t\t\tfor (const wireframe in stateMap) {\n\t\t\t\t\tdeleteVertexArrayObject(stateMap[wireframe].object);\n\t\t\t\t\tdelete stateMap[wireframe];\n\t\t\t\t}\n\n\t\t\t\tdelete programMap[program.id];\n\t\t\t}\n\t\t}\n\n\t\tfunction reset() {\n\t\t\tresetDefaultState();\n\t\t\tforceUpdate = true;\n\t\t\tif (currentState === defaultState) return;\n\t\t\tcurrentState = defaultState;\n\t\t\tbindVertexArrayObject(currentState.object);\n\t\t} // for backward-compatibility\n\n\n\t\tfunction resetDefaultState() {\n\t\t\tdefaultState.geometry = null;\n\t\t\tdefaultState.program = null;\n\t\t\tdefaultState.wireframe = false;\n\t\t}\n\n\t\treturn {\n\t\t\tsetup: setup,\n\t\t\treset: reset,\n\t\t\tresetDefaultState: resetDefaultState,\n\t\t\tdispose: dispose,\n\t\t\treleaseStatesOfGeometry: releaseStatesOfGeometry,\n\t\t\treleaseStatesOfProgram: releaseStatesOfProgram,\n\t\t\tinitAttributes: initAttributes,\n\t\t\tenableAttribute: enableAttribute,\n\t\t\tdisableUnusedAttributes: disableUnusedAttributes\n\t\t};\n\t}\n\n\tfunction WebGLBufferRenderer(gl, extensions, info, capabilities) {\n\t\tconst isWebGL2 = capabilities.isWebGL2;\n\t\tlet mode;\n\n\t\tfunction setMode(value) {\n\t\t\tmode = value;\n\t\t}\n\n\t\tfunction render(start, count) {\n\t\t\tgl.drawArrays(mode, start, count);\n\t\t\tinfo.update(count, mode, 1);\n\t\t}\n\n\t\tfunction renderInstances(start, count, primcount) {\n\t\t\tif (primcount === 0) return;\n\t\t\tlet extension, methodName;\n\n\t\t\tif (isWebGL2) {\n\t\t\t\textension = gl;\n\t\t\t\tmethodName = 'drawArraysInstanced';\n\t\t\t} else {\n\t\t\t\textension = extensions.get('ANGLE_instanced_arrays');\n\t\t\t\tmethodName = 'drawArraysInstancedANGLE';\n\n\t\t\t\tif (extension === null) {\n\t\t\t\t\tconsole.error('THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\textension[methodName](mode, start, count, primcount);\n\t\t\tinfo.update(count, mode, primcount);\n\t\t} //\n\n\n\t\tthis.setMode = setMode;\n\t\tthis.render = render;\n\t\tthis.renderInstances = renderInstances;\n\t}\n\n\tfunction WebGLCapabilities(gl, extensions, parameters) {\n\t\tlet maxAnisotropy;\n\n\t\tfunction getMaxAnisotropy() {\n\t\t\tif (maxAnisotropy !== undefined) return maxAnisotropy;\n\n\t\t\tif (extensions.has('EXT_texture_filter_anisotropic') === true) {\n\t\t\t\tconst extension = extensions.get('EXT_texture_filter_anisotropic');\n\t\t\t\tmaxAnisotropy = gl.getParameter(extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT);\n\t\t\t} else {\n\t\t\t\tmaxAnisotropy = 0;\n\t\t\t}\n\n\t\t\treturn maxAnisotropy;\n\t\t}\n\n\t\tfunction getMaxPrecision(precision) {\n\t\t\tif (precision === 'highp') {\n\t\t\t\tif (gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.HIGH_FLOAT).precision > 0 && gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT).precision > 0) {\n\t\t\t\t\treturn 'highp';\n\t\t\t\t}\n\n\t\t\t\tprecision = 'mediump';\n\t\t\t}\n\n\t\t\tif (precision === 'mediump') {\n\t\t\t\tif (gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.MEDIUM_FLOAT).precision > 0 && gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT).precision > 0) {\n\t\t\t\t\treturn 'mediump';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn 'lowp';\n\t\t}\n\n\t\tconst isWebGL2 = typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext || typeof WebGL2ComputeRenderingContext !== 'undefined' && gl instanceof WebGL2ComputeRenderingContext;\n\t\tlet precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n\t\tconst maxPrecision = getMaxPrecision(precision);\n\n\t\tif (maxPrecision !== precision) {\n\t\t\tconsole.warn('THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.');\n\t\t\tprecision = maxPrecision;\n\t\t}\n\n\t\tconst drawBuffers = isWebGL2 || extensions.has('WEBGL_draw_buffers');\n\t\tconst logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n\t\tconst maxTextures = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);\n\t\tconst maxVertexTextures = gl.getParameter(gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS);\n\t\tconst maxTextureSize = gl.getParameter(gl.MAX_TEXTURE_SIZE);\n\t\tconst maxCubemapSize = gl.getParameter(gl.MAX_CUBE_MAP_TEXTURE_SIZE);\n\t\tconst maxAttributes = gl.getParameter(gl.MAX_VERTEX_ATTRIBS);\n\t\tconst maxVertexUniforms = gl.getParameter(gl.MAX_VERTEX_UNIFORM_VECTORS);\n\t\tconst maxVaryings = gl.getParameter(gl.MAX_VARYING_VECTORS);\n\t\tconst maxFragmentUniforms = gl.getParameter(gl.MAX_FRAGMENT_UNIFORM_VECTORS);\n\t\tconst vertexTextures = maxVertexTextures > 0;\n\t\tconst floatFragmentTextures = isWebGL2 || extensions.has('OES_texture_float');\n\t\tconst floatVertexTextures = vertexTextures && floatFragmentTextures;\n\t\tconst maxSamples = isWebGL2 ? gl.getParameter(gl.MAX_SAMPLES) : 0;\n\t\treturn {\n\t\t\tisWebGL2: isWebGL2,\n\t\t\tdrawBuffers: drawBuffers,\n\t\t\tgetMaxAnisotropy: getMaxAnisotropy,\n\t\t\tgetMaxPrecision: getMaxPrecision,\n\t\t\tprecision: precision,\n\t\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\t\t\tmaxTextures: maxTextures,\n\t\t\tmaxVertexTextures: maxVertexTextures,\n\t\t\tmaxTextureSize: maxTextureSize,\n\t\t\tmaxCubemapSize: maxCubemapSize,\n\t\t\tmaxAttributes: maxAttributes,\n\t\t\tmaxVertexUniforms: maxVertexUniforms,\n\t\t\tmaxVaryings: maxVaryings,\n\t\t\tmaxFragmentUniforms: maxFragmentUniforms,\n\t\t\tvertexTextures: vertexTextures,\n\t\t\tfloatFragmentTextures: floatFragmentTextures,\n\t\t\tfloatVertexTextures: floatVertexTextures,\n\t\t\tmaxSamples: maxSamples\n\t\t};\n\t}\n\n\tfunction WebGLClipping(properties) {\n\t\tconst scope = this;\n\t\tlet globalState = null,\n\t\t\t\tnumGlobalPlanes = 0,\n\t\t\t\tlocalClippingEnabled = false,\n\t\t\t\trenderingShadows = false;\n\t\tconst plane = new Plane(),\n\t\t\t\t\tviewNormalMatrix = new Matrix3(),\n\t\t\t\t\tuniform = {\n\t\t\tvalue: null,\n\t\t\tneedsUpdate: false\n\t\t};\n\t\tthis.uniform = uniform;\n\t\tthis.numPlanes = 0;\n\t\tthis.numIntersection = 0;\n\n\t\tthis.init = function (planes, enableLocalClipping, camera) {\n\t\t\tconst enabled = planes.length !== 0 || enableLocalClipping || // enable state of previous frame - the clipping code has to\n\t\t\t// run another frame in order to reset the state:\n\t\t\tnumGlobalPlanes !== 0 || localClippingEnabled;\n\t\t\tlocalClippingEnabled = enableLocalClipping;\n\t\t\tglobalState = projectPlanes(planes, camera, 0);\n\t\t\tnumGlobalPlanes = planes.length;\n\t\t\treturn enabled;\n\t\t};\n\n\t\tthis.beginShadows = function () {\n\t\t\trenderingShadows = true;\n\t\t\tprojectPlanes(null);\n\t\t};\n\n\t\tthis.endShadows = function () {\n\t\t\trenderingShadows = false;\n\t\t\tresetGlobalState();\n\t\t};\n\n\t\tthis.setState = function (material, camera, useCache) {\n\t\t\tconst planes = material.clippingPlanes,\n\t\t\t\t\t\tclipIntersection = material.clipIntersection,\n\t\t\t\t\t\tclipShadows = material.clipShadows;\n\t\t\tconst materialProperties = properties.get(material);\n\n\t\t\tif (!localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && !clipShadows) {\n\t\t\t\t// there's no local clipping\n\t\t\t\tif (renderingShadows) {\n\t\t\t\t\t// there's no global clipping\n\t\t\t\t\tprojectPlanes(null);\n\t\t\t\t} else {\n\t\t\t\t\tresetGlobalState();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n\t\t\t\t\t\t\tlGlobal = nGlobal * 4;\n\t\t\t\tlet dstArray = materialProperties.clippingState || null;\n\t\t\t\tuniform.value = dstArray; // ensure unique state\n\n\t\t\t\tdstArray = projectPlanes(planes, camera, lGlobal, useCache);\n\n\t\t\t\tfor (let i = 0; i !== lGlobal; ++i) {\n\t\t\t\t\tdstArray[i] = globalState[i];\n\t\t\t\t}\n\n\t\t\t\tmaterialProperties.clippingState = dstArray;\n\t\t\t\tthis.numIntersection = clipIntersection ? this.numPlanes : 0;\n\t\t\t\tthis.numPlanes += nGlobal;\n\t\t\t}\n\t\t};\n\n\t\tfunction resetGlobalState() {\n\t\t\tif (uniform.value !== globalState) {\n\t\t\t\tuniform.value = globalState;\n\t\t\t\tuniform.needsUpdate = numGlobalPlanes > 0;\n\t\t\t}\n\n\t\t\tscope.numPlanes = numGlobalPlanes;\n\t\t\tscope.numIntersection = 0;\n\t\t}\n\n\t\tfunction projectPlanes(planes, camera, dstOffset, skipTransform) {\n\t\t\tconst nPlanes = planes !== null ? planes.length : 0;\n\t\t\tlet dstArray = null;\n\n\t\t\tif (nPlanes !== 0) {\n\t\t\t\tdstArray = uniform.value;\n\n\t\t\t\tif (skipTransform !== true || dstArray === null) {\n\t\t\t\t\tconst flatSize = dstOffset + nPlanes * 4,\n\t\t\t\t\t\t\t\tviewMatrix = camera.matrixWorldInverse;\n\t\t\t\t\tviewNormalMatrix.getNormalMatrix(viewMatrix);\n\n\t\t\t\t\tif (dstArray === null || dstArray.length < flatSize) {\n\t\t\t\t\t\tdstArray = new Float32Array(flatSize);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (let i = 0, i4 = dstOffset; i !== nPlanes; ++i, i4 += 4) {\n\t\t\t\t\t\tplane.copy(planes[i]).applyMatrix4(viewMatrix, viewNormalMatrix);\n\t\t\t\t\t\tplane.normal.toArray(dstArray, i4);\n\t\t\t\t\t\tdstArray[i4 + 3] = plane.constant;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tuniform.value = dstArray;\n\t\t\t\tuniform.needsUpdate = true;\n\t\t\t}\n\n\t\t\tscope.numPlanes = nPlanes;\n\t\t\tscope.numIntersection = 0;\n\t\t\treturn dstArray;\n\t\t}\n\t}\n\n\tfunction WebGLCubeMaps(renderer) {\n\t\tlet cubemaps = new WeakMap();\n\n\t\tfunction mapTextureMapping(texture, mapping) {\n\t\t\tif (mapping === EquirectangularReflectionMapping) {\n\t\t\t\ttexture.mapping = CubeReflectionMapping;\n\t\t\t} else if (mapping === EquirectangularRefractionMapping) {\n\t\t\t\ttexture.mapping = CubeRefractionMapping;\n\t\t\t}\n\n\t\t\treturn texture;\n\t\t}\n\n\t\tfunction get(texture) {\n\t\t\tif (texture && texture.isTexture && texture.isRenderTargetTexture === false) {\n\t\t\t\tconst mapping = texture.mapping;\n\n\t\t\t\tif (mapping === EquirectangularReflectionMapping || mapping === EquirectangularRefractionMapping) {\n\t\t\t\t\tif (cubemaps.has(texture)) {\n\t\t\t\t\t\tconst cubemap = cubemaps.get(texture).texture;\n\t\t\t\t\t\treturn mapTextureMapping(cubemap, texture.mapping);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst image = texture.image;\n\n\t\t\t\t\t\tif (image && image.height > 0) {\n\t\t\t\t\t\t\tconst renderTarget = new WebGLCubeRenderTarget(image.height / 2);\n\t\t\t\t\t\t\trenderTarget.fromEquirectangularTexture(renderer, texture);\n\t\t\t\t\t\t\tcubemaps.set(texture, renderTarget);\n\t\t\t\t\t\t\ttexture.addEventListener('dispose', onTextureDispose);\n\t\t\t\t\t\t\treturn mapTextureMapping(renderTarget.texture, texture.mapping);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// image not yet ready. try the conversion next frame\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn texture;\n\t\t}\n\n\t\tfunction onTextureDispose(event) {\n\t\t\tconst texture = event.target;\n\t\t\ttexture.removeEventListener('dispose', onTextureDispose);\n\t\t\tconst cubemap = cubemaps.get(texture);\n\n\t\t\tif (cubemap !== undefined) {\n\t\t\t\tcubemaps.delete(texture);\n\t\t\t\tcubemap.dispose();\n\t\t\t}\n\t\t}\n\n\t\tfunction dispose() {\n\t\t\tcubemaps = new WeakMap();\n\t\t}\n\n\t\treturn {\n\t\t\tget: get,\n\t\t\tdispose: dispose\n\t\t};\n\t}\n\n\tclass OrthographicCamera extends Camera {\n\t\tconstructor(left = -1, right = 1, top = 1, bottom = -1, near = 0.1, far = 2000) {\n\t\t\tsuper();\n\t\t\tthis.isOrthographicCamera = true;\n\t\t\tthis.type = 'OrthographicCamera';\n\t\t\tthis.zoom = 1;\n\t\t\tthis.view = null;\n\t\t\tthis.left = left;\n\t\t\tthis.right = right;\n\t\t\tthis.top = top;\n\t\t\tthis.bottom = bottom;\n\t\t\tthis.near = near;\n\t\t\tthis.far = far;\n\t\t\tthis.updateProjectionMatrix();\n\t\t}\n\n\t\tcopy(source, recursive) {\n\t\t\tsuper.copy(source, recursive);\n\t\t\tthis.left = source.left;\n\t\t\tthis.right = source.right;\n\t\t\tthis.top = source.top;\n\t\t\tthis.bottom = source.bottom;\n\t\t\tthis.near = source.near;\n\t\t\tthis.far = source.far;\n\t\t\tthis.zoom = source.zoom;\n\t\t\tthis.view = source.view === null ? null : Object.assign({}, source.view);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetViewOffset(fullWidth, fullHeight, x, y, width, height) {\n\t\t\tif (this.view === null) {\n\t\t\t\tthis.view = {\n\t\t\t\t\tenabled: true,\n\t\t\t\t\tfullWidth: 1,\n\t\t\t\t\tfullHeight: 1,\n\t\t\t\t\toffsetX: 0,\n\t\t\t\t\toffsetY: 0,\n\t\t\t\t\twidth: 1,\n\t\t\t\t\theight: 1\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthis.view.enabled = true;\n\t\t\tthis.view.fullWidth = fullWidth;\n\t\t\tthis.view.fullHeight = fullHeight;\n\t\t\tthis.view.offsetX = x;\n\t\t\tthis.view.offsetY = y;\n\t\t\tthis.view.width = width;\n\t\t\tthis.view.height = height;\n\t\t\tthis.updateProjectionMatrix();\n\t\t}\n\n\t\tclearViewOffset() {\n\t\t\tif (this.view !== null) {\n\t\t\t\tthis.view.enabled = false;\n\t\t\t}\n\n\t\t\tthis.updateProjectionMatrix();\n\t\t}\n\n\t\tupdateProjectionMatrix() {\n\t\t\tconst dx = (this.right - this.left) / (2 * this.zoom);\n\t\t\tconst dy = (this.top - this.bottom) / (2 * this.zoom);\n\t\t\tconst cx = (this.right + this.left) / 2;\n\t\t\tconst cy = (this.top + this.bottom) / 2;\n\t\t\tlet left = cx - dx;\n\t\t\tlet right = cx + dx;\n\t\t\tlet top = cy + dy;\n\t\t\tlet bottom = cy - dy;\n\n\t\t\tif (this.view !== null && this.view.enabled) {\n\t\t\t\tconst scaleW = (this.right - this.left) / this.view.fullWidth / this.zoom;\n\t\t\t\tconst scaleH = (this.top - this.bottom) / this.view.fullHeight / this.zoom;\n\t\t\t\tleft += scaleW * this.view.offsetX;\n\t\t\t\tright = left + scaleW * this.view.width;\n\t\t\t\ttop -= scaleH * this.view.offsetY;\n\t\t\t\tbottom = top - scaleH * this.view.height;\n\t\t\t}\n\n\t\t\tthis.projectionMatrix.makeOrthographic(left, right, top, bottom, this.near, this.far);\n\t\t\tthis.projectionMatrixInverse.copy(this.projectionMatrix).invert();\n\t\t}\n\n\t\ttoJSON(meta) {\n\t\t\tconst data = super.toJSON(meta);\n\t\t\tdata.object.zoom = this.zoom;\n\t\t\tdata.object.left = this.left;\n\t\t\tdata.object.right = this.right;\n\t\t\tdata.object.top = this.top;\n\t\t\tdata.object.bottom = this.bottom;\n\t\t\tdata.object.near = this.near;\n\t\t\tdata.object.far = this.far;\n\t\t\tif (this.view !== null) data.object.view = Object.assign({}, this.view);\n\t\t\treturn data;\n\t\t}\n\n\t}\n\n\tconst LOD_MIN = 4; // The standard deviations (radians) associated with the extra mips. These are\n\t// chosen to approximate a Trowbridge-Reitz distribution function times the\n\t// geometric shadowing function. These sigma values squared must match the\n\t// variance #defines in cube_uv_reflection_fragment.glsl.js.\n\n\tconst EXTRA_LOD_SIGMA = [0.125, 0.215, 0.35, 0.446, 0.526, 0.582]; // The maximum length of the blur for loop. Smaller sigmas will use fewer\n\t// samples and exit early, but not recompile the shader.\n\n\tconst MAX_SAMPLES = 20;\n\n\tconst _flatCamera = /*@__PURE__*/new OrthographicCamera();\n\n\tconst _clearColor = /*@__PURE__*/new Color();\n\n\tlet _oldTarget = null; // Golden Ratio\n\n\tconst PHI = (1 + Math.sqrt(5)) / 2;\n\tconst INV_PHI = 1 / PHI; // Vertices of a dodecahedron (except the opposites, which represent the\n\t// same axis), used as axis directions evenly spread on a sphere.\n\n\tconst _axisDirections = [/*@__PURE__*/new Vector3(1, 1, 1), /*@__PURE__*/new Vector3(-1, 1, 1), /*@__PURE__*/new Vector3(1, 1, -1), /*@__PURE__*/new Vector3(-1, 1, -1), /*@__PURE__*/new Vector3(0, PHI, INV_PHI), /*@__PURE__*/new Vector3(0, PHI, -INV_PHI), /*@__PURE__*/new Vector3(INV_PHI, 0, PHI), /*@__PURE__*/new Vector3(-INV_PHI, 0, PHI), /*@__PURE__*/new Vector3(PHI, INV_PHI, 0), /*@__PURE__*/new Vector3(-PHI, INV_PHI, 0)];\n\t/**\n\t * This class generates a Prefiltered, Mipmapped Radiance Environment Map\n\t * (PMREM) from a cubeMap environment texture. This allows different levels of\n\t * blur to be quickly accessed based on material roughness. It is packed into a\n\t * special CubeUV format that allows us to perform custom interpolation so that\n\t * we can support nonlinear formats such as RGBE. Unlike a traditional mipmap\n\t * chain, it only goes down to the LOD_MIN level (above), and then creates extra\n\t * even more filtered 'mips' at the same LOD_MIN resolution, associated with\n\t * higher roughness levels. In this way we maintain resolution to smoothly\n\t * interpolate diffuse lighting while limiting sampling computation.\n\t *\n\t * Paper: Fast, Accurate Image-Based Lighting\n\t * https://drive.google.com/file/d/15y8r_UpKlU9SvV4ILb0C3qCPecS8pvLz/view\n\t*/\n\n\tclass PMREMGenerator {\n\t\tconstructor(renderer) {\n\t\t\tthis._renderer = renderer;\n\t\t\tthis._pingPongRenderTarget = null;\n\t\t\tthis._lodMax = 0;\n\t\t\tthis._cubeSize = 0;\n\t\t\tthis._lodPlanes = [];\n\t\t\tthis._sizeLods = [];\n\t\t\tthis._sigmas = [];\n\t\t\tthis._blurMaterial = null;\n\t\t\tthis._cubemapMaterial = null;\n\t\t\tthis._equirectMaterial = null;\n\n\t\t\tthis._compileMaterial(this._blurMaterial);\n\t\t}\n\t\t/**\n\t\t * Generates a PMREM from a supplied Scene, which can be faster than using an\n\t\t * image if networking bandwidth is low. Optional sigma specifies a blur radius\n\t\t * in radians to be applied to the scene before PMREM generation. Optional near\n\t\t * and far planes ensure the scene is rendered in its entirety (the cubeCamera\n\t\t * is placed at the origin).\n\t\t */\n\n\n\t\tfromScene(scene, sigma = 0, near = 0.1, far = 100) {\n\t\t\t_oldTarget = this._renderer.getRenderTarget();\n\n\t\t\tthis._setSize(256);\n\n\t\t\tconst cubeUVRenderTarget = this._allocateTargets();\n\n\t\t\tcubeUVRenderTarget.depthBuffer = true;\n\n\t\t\tthis._sceneToCubeUV(scene, near, far, cubeUVRenderTarget);\n\n\t\t\tif (sigma > 0) {\n\t\t\t\tthis._blur(cubeUVRenderTarget, 0, 0, sigma);\n\t\t\t}\n\n\t\t\tthis._applyPMREM(cubeUVRenderTarget);\n\n\t\t\tthis._cleanup(cubeUVRenderTarget);\n\n\t\t\treturn cubeUVRenderTarget;\n\t\t}\n\t\t/**\n\t\t * Generates a PMREM from an equirectangular texture, which can be either LDR\n\t\t * or HDR. The ideal input image size is 1k (1024 x 512),\n\t\t * as this matches best with the 256 x 256 cubemap output.\n\t\t */\n\n\n\t\tfromEquirectangular(equirectangular, renderTarget = null) {\n\t\t\treturn this._fromTexture(equirectangular, renderTarget);\n\t\t}\n\t\t/**\n\t\t * Generates a PMREM from an cubemap texture, which can be either LDR\n\t\t * or HDR. The ideal input cube size is 256 x 256,\n\t\t * as this matches best with the 256 x 256 cubemap output.\n\t\t */\n\n\n\t\tfromCubemap(cubemap, renderTarget = null) {\n\t\t\treturn this._fromTexture(cubemap, renderTarget);\n\t\t}\n\t\t/**\n\t\t * Pre-compiles the cubemap shader. You can get faster start-up by invoking this method during\n\t\t * your texture's network fetch for increased concurrency.\n\t\t */\n\n\n\t\tcompileCubemapShader() {\n\t\t\tif (this._cubemapMaterial === null) {\n\t\t\t\tthis._cubemapMaterial = _getCubemapMaterial();\n\n\t\t\t\tthis._compileMaterial(this._cubemapMaterial);\n\t\t\t}\n\t\t}\n\t\t/**\n\t\t * Pre-compiles the equirectangular shader. You can get faster start-up by invoking this method during\n\t\t * your texture's network fetch for increased concurrency.\n\t\t */\n\n\n\t\tcompileEquirectangularShader() {\n\t\t\tif (this._equirectMaterial === null) {\n\t\t\t\tthis._equirectMaterial = _getEquirectMaterial();\n\n\t\t\t\tthis._compileMaterial(this._equirectMaterial);\n\t\t\t}\n\t\t}\n\t\t/**\n\t\t * Disposes of the PMREMGenerator's internal memory. Note that PMREMGenerator is a static class,\n\t\t * so you should not need more than one PMREMGenerator object. If you do, calling dispose() on\n\t\t * one of them will cause any others to also become unusable.\n\t\t */\n\n\n\t\tdispose() {\n\t\t\tthis._dispose();\n\n\t\t\tif (this._cubemapMaterial !== null) this._cubemapMaterial.dispose();\n\t\t\tif (this._equirectMaterial !== null) this._equirectMaterial.dispose();\n\t\t} // private interface\n\n\n\t\t_setSize(cubeSize) {\n\t\t\tthis._lodMax = Math.floor(Math.log2(cubeSize));\n\t\t\tthis._cubeSize = Math.pow(2, this._lodMax);\n\t\t}\n\n\t\t_dispose() {\n\t\t\tif (this._blurMaterial !== null) this._blurMaterial.dispose();\n\t\t\tif (this._pingPongRenderTarget !== null) this._pingPongRenderTarget.dispose();\n\n\t\t\tfor (let i = 0; i < this._lodPlanes.length; i++) {\n\t\t\t\tthis._lodPlanes[i].dispose();\n\t\t\t}\n\t\t}\n\n\t\t_cleanup(outputTarget) {\n\t\t\tthis._renderer.setRenderTarget(_oldTarget);\n\n\t\t\toutputTarget.scissorTest = false;\n\n\t\t\t_setViewport(outputTarget, 0, 0, outputTarget.width, outputTarget.height);\n\t\t}\n\n\t\t_fromTexture(texture, renderTarget) {\n\t\t\tif (texture.mapping === CubeReflectionMapping || texture.mapping === CubeRefractionMapping) {\n\t\t\t\tthis._setSize(texture.image.length === 0 ? 16 : texture.image[0].width || texture.image[0].image.width);\n\t\t\t} else {\n\t\t\t\t// Equirectangular\n\t\t\t\tthis._setSize(texture.image.width / 4);\n\t\t\t}\n\n\t\t\t_oldTarget = this._renderer.getRenderTarget();\n\n\t\t\tconst cubeUVRenderTarget = renderTarget || this._allocateTargets();\n\n\t\t\tthis._textureToCubeUV(texture, cubeUVRenderTarget);\n\n\t\t\tthis._applyPMREM(cubeUVRenderTarget);\n\n\t\t\tthis._cleanup(cubeUVRenderTarget);\n\n\t\t\treturn cubeUVRenderTarget;\n\t\t}\n\n\t\t_allocateTargets() {\n\t\t\tconst width = 3 * Math.max(this._cubeSize, 16 * 7);\n\t\t\tconst height = 4 * this._cubeSize;\n\t\t\tconst params = {\n\t\t\t\tmagFilter: LinearFilter,\n\t\t\t\tminFilter: LinearFilter,\n\t\t\t\tgenerateMipmaps: false,\n\t\t\t\ttype: HalfFloatType,\n\t\t\t\tformat: RGBAFormat,\n\t\t\t\tencoding: LinearEncoding,\n\t\t\t\tdepthBuffer: false\n\t\t\t};\n\n\t\t\tconst cubeUVRenderTarget = _createRenderTarget(width, height, params);\n\n\t\t\tif (this._pingPongRenderTarget === null || this._pingPongRenderTarget.width !== width) {\n\t\t\t\tif (this._pingPongRenderTarget !== null) {\n\t\t\t\t\tthis._dispose();\n\t\t\t\t}\n\n\t\t\t\tthis._pingPongRenderTarget = _createRenderTarget(width, height, params);\n\t\t\t\tconst {\n\t\t\t\t\t_lodMax\n\t\t\t\t} = this;\n\t\t\t\t({\n\t\t\t\t\tsizeLods: this._sizeLods,\n\t\t\t\t\tlodPlanes: this._lodPlanes,\n\t\t\t\t\tsigmas: this._sigmas\n\t\t\t\t} = _createPlanes(_lodMax));\n\t\t\t\tthis._blurMaterial = _getBlurShader(_lodMax, width, height);\n\t\t\t}\n\n\t\t\treturn cubeUVRenderTarget;\n\t\t}\n\n\t\t_compileMaterial(material) {\n\t\t\tconst tmpMesh = new Mesh(this._lodPlanes[0], material);\n\n\t\t\tthis._renderer.compile(tmpMesh, _flatCamera);\n\t\t}\n\n\t\t_sceneToCubeUV(scene, near, far, cubeUVRenderTarget) {\n\t\t\tconst fov = 90;\n\t\t\tconst aspect = 1;\n\t\t\tconst cubeCamera = new PerspectiveCamera(fov, aspect, near, far);\n\t\t\tconst upSign = [1, -1, 1, 1, 1, 1];\n\t\t\tconst forwardSign = [1, 1, 1, -1, -1, -1];\n\t\t\tconst renderer = this._renderer;\n\t\t\tconst originalAutoClear = renderer.autoClear;\n\t\t\tconst toneMapping = renderer.toneMapping;\n\t\t\trenderer.getClearColor(_clearColor);\n\t\t\trenderer.toneMapping = NoToneMapping;\n\t\t\trenderer.autoClear = false;\n\t\t\tconst backgroundMaterial = new MeshBasicMaterial({\n\t\t\t\tname: 'PMREM.Background',\n\t\t\t\tside: BackSide,\n\t\t\t\tdepthWrite: false,\n\t\t\t\tdepthTest: false\n\t\t\t});\n\t\t\tconst backgroundBox = new Mesh(new BoxGeometry(), backgroundMaterial);\n\t\t\tlet useSolidColor = false;\n\t\t\tconst background = scene.background;\n\n\t\t\tif (background) {\n\t\t\t\tif (background.isColor) {\n\t\t\t\t\tbackgroundMaterial.color.copy(background);\n\t\t\t\t\tscene.background = null;\n\t\t\t\t\tuseSolidColor = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tbackgroundMaterial.color.copy(_clearColor);\n\t\t\t\tuseSolidColor = true;\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\tconst col = i % 3;\n\n\t\t\t\tif (col === 0) {\n\t\t\t\t\tcubeCamera.up.set(0, upSign[i], 0);\n\t\t\t\t\tcubeCamera.lookAt(forwardSign[i], 0, 0);\n\t\t\t\t} else if (col === 1) {\n\t\t\t\t\tcubeCamera.up.set(0, 0, upSign[i]);\n\t\t\t\t\tcubeCamera.lookAt(0, forwardSign[i], 0);\n\t\t\t\t} else {\n\t\t\t\t\tcubeCamera.up.set(0, upSign[i], 0);\n\t\t\t\t\tcubeCamera.lookAt(0, 0, forwardSign[i]);\n\t\t\t\t}\n\n\t\t\t\tconst size = this._cubeSize;\n\n\t\t\t\t_setViewport(cubeUVRenderTarget, col * size, i > 2 ? size : 0, size, size);\n\n\t\t\t\trenderer.setRenderTarget(cubeUVRenderTarget);\n\n\t\t\t\tif (useSolidColor) {\n\t\t\t\t\trenderer.render(backgroundBox, cubeCamera);\n\t\t\t\t}\n\n\t\t\t\trenderer.render(scene, cubeCamera);\n\t\t\t}\n\n\t\t\tbackgroundBox.geometry.dispose();\n\t\t\tbackgroundBox.material.dispose();\n\t\t\trenderer.toneMapping = toneMapping;\n\t\t\trenderer.autoClear = originalAutoClear;\n\t\t\tscene.background = background;\n\t\t}\n\n\t\t_textureToCubeUV(texture, cubeUVRenderTarget) {\n\t\t\tconst renderer = this._renderer;\n\t\t\tconst isCubeTexture = texture.mapping === CubeReflectionMapping || texture.mapping === CubeRefractionMapping;\n\n\t\t\tif (isCubeTexture) {\n\t\t\t\tif (this._cubemapMaterial === null) {\n\t\t\t\t\tthis._cubemapMaterial = _getCubemapMaterial();\n\t\t\t\t}\n\n\t\t\t\tthis._cubemapMaterial.uniforms.flipEnvMap.value = texture.isRenderTargetTexture === false ? -1 : 1;\n\t\t\t} else {\n\t\t\t\tif (this._equirectMaterial === null) {\n\t\t\t\t\tthis._equirectMaterial = _getEquirectMaterial();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst material = isCubeTexture ? this._cubemapMaterial : this._equirectMaterial;\n\t\t\tconst mesh = new Mesh(this._lodPlanes[0], material);\n\t\t\tconst uniforms = material.uniforms;\n\t\t\tuniforms['envMap'].value = texture;\n\t\t\tconst size = this._cubeSize;\n\n\t\t\t_setViewport(cubeUVRenderTarget, 0, 0, 3 * size, 2 * size);\n\n\t\t\trenderer.setRenderTarget(cubeUVRenderTarget);\n\t\t\trenderer.render(mesh, _flatCamera);\n\t\t}\n\n\t\t_applyPMREM(cubeUVRenderTarget) {\n\t\t\tconst renderer = this._renderer;\n\t\t\tconst autoClear = renderer.autoClear;\n\t\t\trenderer.autoClear = false;\n\n\t\t\tfor (let i = 1; i < this._lodPlanes.length; i++) {\n\t\t\t\tconst sigma = Math.sqrt(this._sigmas[i] * this._sigmas[i] - this._sigmas[i - 1] * this._sigmas[i - 1]);\n\t\t\t\tconst poleAxis = _axisDirections[(i - 1) % _axisDirections.length];\n\n\t\t\t\tthis._blur(cubeUVRenderTarget, i - 1, i, sigma, poleAxis);\n\t\t\t}\n\n\t\t\trenderer.autoClear = autoClear;\n\t\t}\n\t\t/**\n\t\t * This is a two-pass Gaussian blur for a cubemap. Normally this is done\n\t\t * vertically and horizontally, but this breaks down on a cube. Here we apply\n\t\t * the blur latitudinally (around the poles), and then longitudinally (towards\n\t\t * the poles) to approximate the orthogonally-separable blur. It is least\n\t\t * accurate at the poles, but still does a decent job.\n\t\t */\n\n\n\t\t_blur(cubeUVRenderTarget, lodIn, lodOut, sigma, poleAxis) {\n\t\t\tconst pingPongRenderTarget = this._pingPongRenderTarget;\n\n\t\t\tthis._halfBlur(cubeUVRenderTarget, pingPongRenderTarget, lodIn, lodOut, sigma, 'latitudinal', poleAxis);\n\n\t\t\tthis._halfBlur(pingPongRenderTarget, cubeUVRenderTarget, lodOut, lodOut, sigma, 'longitudinal', poleAxis);\n\t\t}\n\n\t\t_halfBlur(targetIn, targetOut, lodIn, lodOut, sigmaRadians, direction, poleAxis) {\n\t\t\tconst renderer = this._renderer;\n\t\t\tconst blurMaterial = this._blurMaterial;\n\n\t\t\tif (direction !== 'latitudinal' && direction !== 'longitudinal') {\n\t\t\t\tconsole.error('blur direction must be either latitudinal or longitudinal!');\n\t\t\t} // Number of standard deviations at which to cut off the discrete approximation.\n\n\n\t\t\tconst STANDARD_DEVIATIONS = 3;\n\t\t\tconst blurMesh = new Mesh(this._lodPlanes[lodOut], blurMaterial);\n\t\t\tconst blurUniforms = blurMaterial.uniforms;\n\t\t\tconst pixels = this._sizeLods[lodIn] - 1;\n\t\t\tconst radiansPerPixel = isFinite(sigmaRadians) ? Math.PI / (2 * pixels) : 2 * Math.PI / (2 * MAX_SAMPLES - 1);\n\t\t\tconst sigmaPixels = sigmaRadians / radiansPerPixel;\n\t\t\tconst samples = isFinite(sigmaRadians) ? 1 + Math.floor(STANDARD_DEVIATIONS * sigmaPixels) : MAX_SAMPLES;\n\n\t\t\tif (samples > MAX_SAMPLES) {\n\t\t\t\tconsole.warn(`sigmaRadians, ${sigmaRadians}, is too large and will clip, as it requested ${samples} samples when the maximum is set to ${MAX_SAMPLES}`);\n\t\t\t}\n\n\t\t\tconst weights = [];\n\t\t\tlet sum = 0;\n\n\t\t\tfor (let i = 0; i < MAX_SAMPLES; ++i) {\n\t\t\t\tconst x = i / sigmaPixels;\n\t\t\t\tconst weight = Math.exp(-x * x / 2);\n\t\t\t\tweights.push(weight);\n\n\t\t\t\tif (i === 0) {\n\t\t\t\t\tsum += weight;\n\t\t\t\t} else if (i < samples) {\n\t\t\t\t\tsum += 2 * weight;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < weights.length; i++) {\n\t\t\t\tweights[i] = weights[i] / sum;\n\t\t\t}\n\n\t\t\tblurUniforms['envMap'].value = targetIn.texture;\n\t\t\tblurUniforms['samples'].value = samples;\n\t\t\tblurUniforms['weights'].value = weights;\n\t\t\tblurUniforms['latitudinal'].value = direction === 'latitudinal';\n\n\t\t\tif (poleAxis) {\n\t\t\t\tblurUniforms['poleAxis'].value = poleAxis;\n\t\t\t}\n\n\t\t\tconst {\n\t\t\t\t_lodMax\n\t\t\t} = this;\n\t\t\tblurUniforms['dTheta'].value = radiansPerPixel;\n\t\t\tblurUniforms['mipInt'].value = _lodMax - lodIn;\n\t\t\tconst outputSize = this._sizeLods[lodOut];\n\t\t\tconst x = 3 * outputSize * (lodOut > _lodMax - LOD_MIN ? lodOut - _lodMax + LOD_MIN : 0);\n\t\t\tconst y = 4 * (this._cubeSize - outputSize);\n\n\t\t\t_setViewport(targetOut, x, y, 3 * outputSize, 2 * outputSize);\n\n\t\t\trenderer.setRenderTarget(targetOut);\n\t\t\trenderer.render(blurMesh, _flatCamera);\n\t\t}\n\n\t}\n\n\tfunction _createPlanes(lodMax) {\n\t\tconst lodPlanes = [];\n\t\tconst sizeLods = [];\n\t\tconst sigmas = [];\n\t\tlet lod = lodMax;\n\t\tconst totalLods = lodMax - LOD_MIN + 1 + EXTRA_LOD_SIGMA.length;\n\n\t\tfor (let i = 0; i < totalLods; i++) {\n\t\t\tconst sizeLod = Math.pow(2, lod);\n\t\t\tsizeLods.push(sizeLod);\n\t\t\tlet sigma = 1.0 / sizeLod;\n\n\t\t\tif (i > lodMax - LOD_MIN) {\n\t\t\t\tsigma = EXTRA_LOD_SIGMA[i - lodMax + LOD_MIN - 1];\n\t\t\t} else if (i === 0) {\n\t\t\t\tsigma = 0;\n\t\t\t}\n\n\t\t\tsigmas.push(sigma);\n\t\t\tconst texelSize = 1.0 / (sizeLod - 2);\n\t\t\tconst min = -texelSize;\n\t\t\tconst max = 1 + texelSize;\n\t\t\tconst uv1 = [min, min, max, min, max, max, min, min, max, max, min, max];\n\t\t\tconst cubeFaces = 6;\n\t\t\tconst vertices = 6;\n\t\t\tconst positionSize = 3;\n\t\t\tconst uvSize = 2;\n\t\t\tconst faceIndexSize = 1;\n\t\t\tconst position = new Float32Array(positionSize * vertices * cubeFaces);\n\t\t\tconst uv = new Float32Array(uvSize * vertices * cubeFaces);\n\t\t\tconst faceIndex = new Float32Array(faceIndexSize * vertices * cubeFaces);\n\n\t\t\tfor (let face = 0; face < cubeFaces; face++) {\n\t\t\t\tconst x = face % 3 * 2 / 3 - 1;\n\t\t\t\tconst y = face > 2 ? 0 : -1;\n\t\t\t\tconst coordinates = [x, y, 0, x + 2 / 3, y, 0, x + 2 / 3, y + 1, 0, x, y, 0, x + 2 / 3, y + 1, 0, x, y + 1, 0];\n\t\t\t\tposition.set(coordinates, positionSize * vertices * face);\n\t\t\t\tuv.set(uv1, uvSize * vertices * face);\n\t\t\t\tconst fill = [face, face, face, face, face, face];\n\t\t\t\tfaceIndex.set(fill, faceIndexSize * vertices * face);\n\t\t\t}\n\n\t\t\tconst planes = new BufferGeometry();\n\t\t\tplanes.setAttribute('position', new BufferAttribute(position, positionSize));\n\t\t\tplanes.setAttribute('uv', new BufferAttribute(uv, uvSize));\n\t\t\tplanes.setAttribute('faceIndex', new BufferAttribute(faceIndex, faceIndexSize));\n\t\t\tlodPlanes.push(planes);\n\n\t\t\tif (lod > LOD_MIN) {\n\t\t\t\tlod--;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tlodPlanes,\n\t\t\tsizeLods,\n\t\t\tsigmas\n\t\t};\n\t}\n\n\tfunction _createRenderTarget(width, height, params) {\n\t\tconst cubeUVRenderTarget = new WebGLRenderTarget(width, height, params);\n\t\tcubeUVRenderTarget.texture.mapping = CubeUVReflectionMapping;\n\t\tcubeUVRenderTarget.texture.name = 'PMREM.cubeUv';\n\t\tcubeUVRenderTarget.scissorTest = true;\n\t\treturn cubeUVRenderTarget;\n\t}\n\n\tfunction _setViewport(target, x, y, width, height) {\n\t\ttarget.viewport.set(x, y, width, height);\n\t\ttarget.scissor.set(x, y, width, height);\n\t}\n\n\tfunction _getBlurShader(lodMax, width, height) {\n\t\tconst weights = new Float32Array(MAX_SAMPLES);\n\t\tconst poleAxis = new Vector3(0, 1, 0);\n\t\tconst shaderMaterial = new ShaderMaterial({\n\t\t\tname: 'SphericalGaussianBlur',\n\t\t\tdefines: {\n\t\t\t\t'n': MAX_SAMPLES,\n\t\t\t\t'CUBEUV_TEXEL_WIDTH': 1.0 / width,\n\t\t\t\t'CUBEUV_TEXEL_HEIGHT': 1.0 / height,\n\t\t\t\t'CUBEUV_MAX_MIP': `${lodMax}.0`\n\t\t\t},\n\t\t\tuniforms: {\n\t\t\t\t'envMap': {\n\t\t\t\t\tvalue: null\n\t\t\t\t},\n\t\t\t\t'samples': {\n\t\t\t\t\tvalue: 1\n\t\t\t\t},\n\t\t\t\t'weights': {\n\t\t\t\t\tvalue: weights\n\t\t\t\t},\n\t\t\t\t'latitudinal': {\n\t\t\t\t\tvalue: false\n\t\t\t\t},\n\t\t\t\t'dTheta': {\n\t\t\t\t\tvalue: 0\n\t\t\t\t},\n\t\t\t\t'mipInt': {\n\t\t\t\t\tvalue: 0\n\t\t\t\t},\n\t\t\t\t'poleAxis': {\n\t\t\t\t\tvalue: poleAxis\n\t\t\t\t}\n\t\t\t},\n\t\t\tvertexShader: _getCommonVertexShader(),\n\t\t\tfragmentShader:\n\t\t\t/* glsl */\n\t\t\t`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t`,\n\t\t\tblending: NoBlending,\n\t\t\tdepthTest: false,\n\t\t\tdepthWrite: false\n\t\t});\n\t\treturn shaderMaterial;\n\t}\n\n\tfunction _getEquirectMaterial() {\n\t\treturn new ShaderMaterial({\n\t\t\tname: 'EquirectangularToCubeUV',\n\t\t\tuniforms: {\n\t\t\t\t'envMap': {\n\t\t\t\t\tvalue: null\n\t\t\t\t}\n\t\t\t},\n\t\t\tvertexShader: _getCommonVertexShader(),\n\t\t\tfragmentShader:\n\t\t\t/* glsl */\n\t\t\t`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t`,\n\t\t\tblending: NoBlending,\n\t\t\tdepthTest: false,\n\t\t\tdepthWrite: false\n\t\t});\n\t}\n\n\tfunction _getCubemapMaterial() {\n\t\treturn new ShaderMaterial({\n\t\t\tname: 'CubemapToCubeUV',\n\t\t\tuniforms: {\n\t\t\t\t'envMap': {\n\t\t\t\t\tvalue: null\n\t\t\t\t},\n\t\t\t\t'flipEnvMap': {\n\t\t\t\t\tvalue: -1\n\t\t\t\t}\n\t\t\t},\n\t\t\tvertexShader: _getCommonVertexShader(),\n\t\t\tfragmentShader:\n\t\t\t/* glsl */\n\t\t\t`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t`,\n\t\t\tblending: NoBlending,\n\t\t\tdepthTest: false,\n\t\t\tdepthWrite: false\n\t\t});\n\t}\n\n\tfunction _getCommonVertexShader() {\n\t\treturn (\n\t\t\t/* glsl */\n\t\t\t`\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t`\n\t\t);\n\t}\n\n\tfunction WebGLCubeUVMaps(renderer) {\n\t\tlet cubeUVmaps = new WeakMap();\n\t\tlet pmremGenerator = null;\n\n\t\tfunction get(texture) {\n\t\t\tif (texture && texture.isTexture) {\n\t\t\t\tconst mapping = texture.mapping;\n\t\t\t\tconst isEquirectMap = mapping === EquirectangularReflectionMapping || mapping === EquirectangularRefractionMapping;\n\t\t\t\tconst isCubeMap = mapping === CubeReflectionMapping || mapping === CubeRefractionMapping; // equirect/cube map to cubeUV conversion\n\n\t\t\t\tif (isEquirectMap || isCubeMap) {\n\t\t\t\t\tif (texture.isRenderTargetTexture && texture.needsPMREMUpdate === true) {\n\t\t\t\t\t\ttexture.needsPMREMUpdate = false;\n\t\t\t\t\t\tlet renderTarget = cubeUVmaps.get(texture);\n\t\t\t\t\t\tif (pmremGenerator === null) pmremGenerator = new PMREMGenerator(renderer);\n\t\t\t\t\t\trenderTarget = isEquirectMap ? pmremGenerator.fromEquirectangular(texture, renderTarget) : pmremGenerator.fromCubemap(texture, renderTarget);\n\t\t\t\t\t\tcubeUVmaps.set(texture, renderTarget);\n\t\t\t\t\t\treturn renderTarget.texture;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (cubeUVmaps.has(texture)) {\n\t\t\t\t\t\t\treturn cubeUVmaps.get(texture).texture;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst image = texture.image;\n\n\t\t\t\t\t\t\tif (isEquirectMap && image && image.height > 0 || isCubeMap && image && isCubeTextureComplete(image)) {\n\t\t\t\t\t\t\t\tif (pmremGenerator === null) pmremGenerator = new PMREMGenerator(renderer);\n\t\t\t\t\t\t\t\tconst renderTarget = isEquirectMap ? pmremGenerator.fromEquirectangular(texture) : pmremGenerator.fromCubemap(texture);\n\t\t\t\t\t\t\t\tcubeUVmaps.set(texture, renderTarget);\n\t\t\t\t\t\t\t\ttexture.addEventListener('dispose', onTextureDispose);\n\t\t\t\t\t\t\t\treturn renderTarget.texture;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// image not yet ready. try the conversion next frame\n\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn texture;\n\t\t}\n\n\t\tfunction isCubeTextureComplete(image) {\n\t\t\tlet count = 0;\n\t\t\tconst length = 6;\n\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tif (image[i] !== undefined) count++;\n\t\t\t}\n\n\t\t\treturn count === length;\n\t\t}\n\n\t\tfunction onTextureDispose(event) {\n\t\t\tconst texture = event.target;\n\t\t\ttexture.removeEventListener('dispose', onTextureDispose);\n\t\t\tconst cubemapUV = cubeUVmaps.get(texture);\n\n\t\t\tif (cubemapUV !== undefined) {\n\t\t\t\tcubeUVmaps.delete(texture);\n\t\t\t\tcubemapUV.dispose();\n\t\t\t}\n\t\t}\n\n\t\tfunction dispose() {\n\t\t\tcubeUVmaps = new WeakMap();\n\n\t\t\tif (pmremGenerator !== null) {\n\t\t\t\tpmremGenerator.dispose();\n\t\t\t\tpmremGenerator = null;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tget: get,\n\t\t\tdispose: dispose\n\t\t};\n\t}\n\n\tfunction WebGLExtensions(gl) {\n\t\tconst extensions = {};\n\n\t\tfunction getExtension(name) {\n\t\t\tif (extensions[name] !== undefined) {\n\t\t\t\treturn extensions[name];\n\t\t\t}\n\n\t\t\tlet extension;\n\n\t\t\tswitch (name) {\n\t\t\t\tcase 'WEBGL_depth_texture':\n\t\t\t\t\textension = gl.getExtension('WEBGL_depth_texture') || gl.getExtension('MOZ_WEBGL_depth_texture') || gl.getExtension('WEBKIT_WEBGL_depth_texture');\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'EXT_texture_filter_anisotropic':\n\t\t\t\t\textension = gl.getExtension('EXT_texture_filter_anisotropic') || gl.getExtension('MOZ_EXT_texture_filter_anisotropic') || gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic');\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_s3tc':\n\t\t\t\t\textension = gl.getExtension('WEBGL_compressed_texture_s3tc') || gl.getExtension('MOZ_WEBGL_compressed_texture_s3tc') || gl.getExtension('WEBKIT_WEBGL_compressed_texture_s3tc');\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\n\t\t\t\t\textension = gl.getExtension('WEBGL_compressed_texture_pvrtc') || gl.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc');\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\textension = gl.getExtension(name);\n\t\t\t}\n\n\t\t\textensions[name] = extension;\n\t\t\treturn extension;\n\t\t}\n\n\t\treturn {\n\t\t\thas: function (name) {\n\t\t\t\treturn getExtension(name) !== null;\n\t\t\t},\n\t\t\tinit: function (capabilities) {\n\t\t\t\tif (capabilities.isWebGL2) {\n\t\t\t\t\tgetExtension('EXT_color_buffer_float');\n\t\t\t\t} else {\n\t\t\t\t\tgetExtension('WEBGL_depth_texture');\n\t\t\t\t\tgetExtension('OES_texture_float');\n\t\t\t\t\tgetExtension('OES_texture_half_float');\n\t\t\t\t\tgetExtension('OES_texture_half_float_linear');\n\t\t\t\t\tgetExtension('OES_standard_derivatives');\n\t\t\t\t\tgetExtension('OES_element_index_uint');\n\t\t\t\t\tgetExtension('OES_vertex_array_object');\n\t\t\t\t\tgetExtension('ANGLE_instanced_arrays');\n\t\t\t\t}\n\n\t\t\t\tgetExtension('OES_texture_float_linear');\n\t\t\t\tgetExtension('EXT_color_buffer_half_float');\n\t\t\t\tgetExtension('WEBGL_multisampled_render_to_texture');\n\t\t\t},\n\t\t\tget: function (name) {\n\t\t\t\tconst extension = getExtension(name);\n\n\t\t\t\tif (extension === null) {\n\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: ' + name + ' extension not supported.');\n\t\t\t\t}\n\n\t\t\t\treturn extension;\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction WebGLGeometries(gl, attributes, info, bindingStates) {\n\t\tconst geometries = {};\n\t\tconst wireframeAttributes = new WeakMap();\n\n\t\tfunction onGeometryDispose(event) {\n\t\t\tconst geometry = event.target;\n\n\t\t\tif (geometry.index !== null) {\n\t\t\t\tattributes.remove(geometry.index);\n\t\t\t}\n\n\t\t\tfor (const name in geometry.attributes) {\n\t\t\t\tattributes.remove(geometry.attributes[name]);\n\t\t\t}\n\n\t\t\tgeometry.removeEventListener('dispose', onGeometryDispose);\n\t\t\tdelete geometries[geometry.id];\n\t\t\tconst attribute = wireframeAttributes.get(geometry);\n\n\t\t\tif (attribute) {\n\t\t\t\tattributes.remove(attribute);\n\t\t\t\twireframeAttributes.delete(geometry);\n\t\t\t}\n\n\t\t\tbindingStates.releaseStatesOfGeometry(geometry);\n\n\t\t\tif (geometry.isInstancedBufferGeometry === true) {\n\t\t\t\tdelete geometry._maxInstanceCount;\n\t\t\t} //\n\n\n\t\t\tinfo.memory.geometries--;\n\t\t}\n\n\t\tfunction get(object, geometry) {\n\t\t\tif (geometries[geometry.id] === true) return geometry;\n\t\t\tgeometry.addEventListener('dispose', onGeometryDispose);\n\t\t\tgeometries[geometry.id] = true;\n\t\t\tinfo.memory.geometries++;\n\t\t\treturn geometry;\n\t\t}\n\n\t\tfunction update(geometry) {\n\t\t\tconst geometryAttributes = geometry.attributes; // Updating index buffer in VAO now. See WebGLBindingStates.\n\n\t\t\tfor (const name in geometryAttributes) {\n\t\t\t\tattributes.update(geometryAttributes[name], gl.ARRAY_BUFFER);\n\t\t\t} // morph targets\n\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\n\t\t\tfor (const name in morphAttributes) {\n\t\t\t\tconst array = morphAttributes[name];\n\n\t\t\t\tfor (let i = 0, l = array.length; i < l; i++) {\n\t\t\t\t\tattributes.update(array[i], gl.ARRAY_BUFFER);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction updateWireframeAttribute(geometry) {\n\t\t\tconst indices = [];\n\t\t\tconst geometryIndex = geometry.index;\n\t\t\tconst geometryPosition = geometry.attributes.position;\n\t\t\tlet version = 0;\n\n\t\t\tif (geometryIndex !== null) {\n\t\t\t\tconst array = geometryIndex.array;\n\t\t\t\tversion = geometryIndex.version;\n\n\t\t\t\tfor (let i = 0, l = array.length; i < l; i += 3) {\n\t\t\t\t\tconst a = array[i + 0];\n\t\t\t\t\tconst b = array[i + 1];\n\t\t\t\t\tconst c = array[i + 2];\n\t\t\t\t\tindices.push(a, b, b, c, c, a);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst array = geometryPosition.array;\n\t\t\t\tversion = geometryPosition.version;\n\n\t\t\t\tfor (let i = 0, l = array.length / 3 - 1; i < l; i += 3) {\n\t\t\t\t\tconst a = i + 0;\n\t\t\t\t\tconst b = i + 1;\n\t\t\t\t\tconst c = i + 2;\n\t\t\t\t\tindices.push(a, b, b, c, c, a);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst attribute = new (arrayNeedsUint32(indices) ? Uint32BufferAttribute : Uint16BufferAttribute)(indices, 1);\n\t\t\tattribute.version = version; // Updating index buffer in VAO now. See WebGLBindingStates\n\t\t\t//\n\n\t\t\tconst previousAttribute = wireframeAttributes.get(geometry);\n\t\t\tif (previousAttribute) attributes.remove(previousAttribute); //\n\n\t\t\twireframeAttributes.set(geometry, attribute);\n\t\t}\n\n\t\tfunction getWireframeAttribute(geometry) {\n\t\t\tconst currentAttribute = wireframeAttributes.get(geometry);\n\n\t\t\tif (currentAttribute) {\n\t\t\t\tconst geometryIndex = geometry.index;\n\n\t\t\t\tif (geometryIndex !== null) {\n\t\t\t\t\t// if the attribute is obsolete, create a new one\n\t\t\t\t\tif (currentAttribute.version < geometryIndex.version) {\n\t\t\t\t\t\tupdateWireframeAttribute(geometry);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tupdateWireframeAttribute(geometry);\n\t\t\t}\n\n\t\t\treturn wireframeAttributes.get(geometry);\n\t\t}\n\n\t\treturn {\n\t\t\tget: get,\n\t\t\tupdate: update,\n\t\t\tgetWireframeAttribute: getWireframeAttribute\n\t\t};\n\t}\n\n\tfunction WebGLIndexedBufferRenderer(gl, extensions, info, capabilities) {\n\t\tconst isWebGL2 = capabilities.isWebGL2;\n\t\tlet mode;\n\n\t\tfunction setMode(value) {\n\t\t\tmode = value;\n\t\t}\n\n\t\tlet type, bytesPerElement;\n\n\t\tfunction setIndex(value) {\n\t\t\ttype = value.type;\n\t\t\tbytesPerElement = value.bytesPerElement;\n\t\t}\n\n\t\tfunction render(start, count) {\n\t\t\tgl.drawElements(mode, count, type, start * bytesPerElement);\n\t\t\tinfo.update(count, mode, 1);\n\t\t}\n\n\t\tfunction renderInstances(start, count, primcount) {\n\t\t\tif (primcount === 0) return;\n\t\t\tlet extension, methodName;\n\n\t\t\tif (isWebGL2) {\n\t\t\t\textension = gl;\n\t\t\t\tmethodName = 'drawElementsInstanced';\n\t\t\t} else {\n\t\t\t\textension = extensions.get('ANGLE_instanced_arrays');\n\t\t\t\tmethodName = 'drawElementsInstancedANGLE';\n\n\t\t\t\tif (extension === null) {\n\t\t\t\t\tconsole.error('THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\textension[methodName](mode, count, type, start * bytesPerElement, primcount);\n\t\t\tinfo.update(count, mode, primcount);\n\t\t} //\n\n\n\t\tthis.setMode = setMode;\n\t\tthis.setIndex = setIndex;\n\t\tthis.render = render;\n\t\tthis.renderInstances = renderInstances;\n\t}\n\n\tfunction WebGLInfo(gl) {\n\t\tconst memory = {\n\t\t\tgeometries: 0,\n\t\t\ttextures: 0\n\t\t};\n\t\tconst render = {\n\t\t\tframe: 0,\n\t\t\tcalls: 0,\n\t\t\ttriangles: 0,\n\t\t\tpoints: 0,\n\t\t\tlines: 0\n\t\t};\n\n\t\tfunction update(count, mode, instanceCount) {\n\t\t\trender.calls++;\n\n\t\t\tswitch (mode) {\n\t\t\t\tcase gl.TRIANGLES:\n\t\t\t\t\trender.triangles += instanceCount * (count / 3);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase gl.LINES:\n\t\t\t\t\trender.lines += instanceCount * (count / 2);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase gl.LINE_STRIP:\n\t\t\t\t\trender.lines += instanceCount * (count - 1);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase gl.LINE_LOOP:\n\t\t\t\t\trender.lines += instanceCount * count;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase gl.POINTS:\n\t\t\t\t\trender.points += instanceCount * count;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.error('THREE.WebGLInfo: Unknown draw mode:', mode);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tfunction reset() {\n\t\t\trender.frame++;\n\t\t\trender.calls = 0;\n\t\t\trender.triangles = 0;\n\t\t\trender.points = 0;\n\t\t\trender.lines = 0;\n\t\t}\n\n\t\treturn {\n\t\t\tmemory: memory,\n\t\t\trender: render,\n\t\t\tprograms: null,\n\t\t\tautoReset: true,\n\t\t\treset: reset,\n\t\t\tupdate: update\n\t\t};\n\t}\n\n\tfunction numericalSort(a, b) {\n\t\treturn a[0] - b[0];\n\t}\n\n\tfunction absNumericalSort(a, b) {\n\t\treturn Math.abs(b[1]) - Math.abs(a[1]);\n\t}\n\n\tfunction denormalize(morph, attribute) {\n\t\tlet denominator = 1;\n\t\tconst array = attribute.isInterleavedBufferAttribute ? attribute.data.array : attribute.array;\n\t\tif (array instanceof Int8Array) denominator = 127;else if (array instanceof Int16Array) denominator = 32767;else if (array instanceof Int32Array) denominator = 2147483647;else console.error('THREE.WebGLMorphtargets: Unsupported morph attribute data type: ', array);\n\t\tmorph.divideScalar(denominator);\n\t}\n\n\tfunction WebGLMorphtargets(gl, capabilities, textures) {\n\t\tconst influencesList = {};\n\t\tconst morphInfluences = new Float32Array(8);\n\t\tconst morphTextures = new WeakMap();\n\t\tconst morph = new Vector4();\n\t\tconst workInfluences = [];\n\n\t\tfor (let i = 0; i < 8; i++) {\n\t\t\tworkInfluences[i] = [i, 0];\n\t\t}\n\n\t\tfunction update(object, geometry, material, program) {\n\t\t\tconst objectInfluences = object.morphTargetInfluences;\n\n\t\t\tif (capabilities.isWebGL2 === true) {\n\t\t\t\t// instead of using attributes, the WebGL 2 code path encodes morph targets\n\t\t\t\t// into an array of data textures. Each layer represents a single morph target.\n\t\t\t\tconst morphAttribute = geometry.morphAttributes.position || geometry.morphAttributes.normal || geometry.morphAttributes.color;\n\t\t\t\tconst morphTargetsCount = morphAttribute !== undefined ? morphAttribute.length : 0;\n\t\t\t\tlet entry = morphTextures.get(geometry);\n\n\t\t\t\tif (entry === undefined || entry.count !== morphTargetsCount) {\n\t\t\t\t\tif (entry !== undefined) entry.texture.dispose();\n\t\t\t\t\tconst hasMorphPosition = geometry.morphAttributes.position !== undefined;\n\t\t\t\t\tconst hasMorphNormals = geometry.morphAttributes.normal !== undefined;\n\t\t\t\t\tconst hasMorphColors = geometry.morphAttributes.color !== undefined;\n\t\t\t\t\tconst morphTargets = geometry.morphAttributes.position || [];\n\t\t\t\t\tconst morphNormals = geometry.morphAttributes.normal || [];\n\t\t\t\t\tconst morphColors = geometry.morphAttributes.color || [];\n\t\t\t\t\tlet vertexDataCount = 0;\n\t\t\t\t\tif (hasMorphPosition === true) vertexDataCount = 1;\n\t\t\t\t\tif (hasMorphNormals === true) vertexDataCount = 2;\n\t\t\t\t\tif (hasMorphColors === true) vertexDataCount = 3;\n\t\t\t\t\tlet width = geometry.attributes.position.count * vertexDataCount;\n\t\t\t\t\tlet height = 1;\n\n\t\t\t\t\tif (width > capabilities.maxTextureSize) {\n\t\t\t\t\t\theight = Math.ceil(width / capabilities.maxTextureSize);\n\t\t\t\t\t\twidth = capabilities.maxTextureSize;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst buffer = new Float32Array(width * height * 4 * morphTargetsCount);\n\t\t\t\t\tconst texture = new DataArrayTexture(buffer, width, height, morphTargetsCount);\n\t\t\t\t\ttexture.type = FloatType;\n\t\t\t\t\ttexture.needsUpdate = true; // fill buffer\n\n\t\t\t\t\tconst vertexDataStride = vertexDataCount * 4;\n\n\t\t\t\t\tfor (let i = 0; i < morphTargetsCount; i++) {\n\t\t\t\t\t\tconst morphTarget = morphTargets[i];\n\t\t\t\t\t\tconst morphNormal = morphNormals[i];\n\t\t\t\t\t\tconst morphColor = morphColors[i];\n\t\t\t\t\t\tconst offset = width * height * 4 * i;\n\n\t\t\t\t\t\tfor (let j = 0; j < morphTarget.count; j++) {\n\t\t\t\t\t\t\tconst stride = j * vertexDataStride;\n\n\t\t\t\t\t\t\tif (hasMorphPosition === true) {\n\t\t\t\t\t\t\t\tmorph.fromBufferAttribute(morphTarget, j);\n\t\t\t\t\t\t\t\tif (morphTarget.normalized === true) denormalize(morph, morphTarget);\n\t\t\t\t\t\t\t\tbuffer[offset + stride + 0] = morph.x;\n\t\t\t\t\t\t\t\tbuffer[offset + stride + 1] = morph.y;\n\t\t\t\t\t\t\t\tbuffer[offset + stride + 2] = morph.z;\n\t\t\t\t\t\t\t\tbuffer[offset + stride + 3] = 0;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (hasMorphNormals === true) {\n\t\t\t\t\t\t\t\tmorph.fromBufferAttribute(morphNormal, j);\n\t\t\t\t\t\t\t\tif (morphNormal.normalized === true) denormalize(morph, morphNormal);\n\t\t\t\t\t\t\t\tbuffer[offset + stride + 4] = morph.x;\n\t\t\t\t\t\t\t\tbuffer[offset + stride + 5] = morph.y;\n\t\t\t\t\t\t\t\tbuffer[offset + stride + 6] = morph.z;\n\t\t\t\t\t\t\t\tbuffer[offset + stride + 7] = 0;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (hasMorphColors === true) {\n\t\t\t\t\t\t\t\tmorph.fromBufferAttribute(morphColor, j);\n\t\t\t\t\t\t\t\tif (morphColor.normalized === true) denormalize(morph, morphColor);\n\t\t\t\t\t\t\t\tbuffer[offset + stride + 8] = morph.x;\n\t\t\t\t\t\t\t\tbuffer[offset + stride + 9] = morph.y;\n\t\t\t\t\t\t\t\tbuffer[offset + stride + 10] = morph.z;\n\t\t\t\t\t\t\t\tbuffer[offset + stride + 11] = morphColor.itemSize === 4 ? morph.w : 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tentry = {\n\t\t\t\t\t\tcount: morphTargetsCount,\n\t\t\t\t\t\ttexture: texture,\n\t\t\t\t\t\tsize: new Vector2(width, height)\n\t\t\t\t\t};\n\t\t\t\t\tmorphTextures.set(geometry, entry);\n\n\t\t\t\t\tfunction disposeTexture() {\n\t\t\t\t\t\ttexture.dispose();\n\t\t\t\t\t\tmorphTextures.delete(geometry);\n\t\t\t\t\t\tgeometry.removeEventListener('dispose', disposeTexture);\n\t\t\t\t\t}\n\n\t\t\t\t\tgeometry.addEventListener('dispose', disposeTexture);\n\t\t\t\t} //\n\n\n\t\t\t\tlet morphInfluencesSum = 0;\n\n\t\t\t\tfor (let i = 0; i < objectInfluences.length; i++) {\n\t\t\t\t\tmorphInfluencesSum += objectInfluences[i];\n\t\t\t\t}\n\n\t\t\t\tconst morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\n\t\t\t\tprogram.getUniforms().setValue(gl, 'morphTargetBaseInfluence', morphBaseInfluence);\n\t\t\t\tprogram.getUniforms().setValue(gl, 'morphTargetInfluences', objectInfluences);\n\t\t\t\tprogram.getUniforms().setValue(gl, 'morphTargetsTexture', entry.texture, textures);\n\t\t\t\tprogram.getUniforms().setValue(gl, 'morphTargetsTextureSize', entry.size);\n\t\t\t} else {\n\t\t\t\t// When object doesn't have morph target influences defined, we treat it as a 0-length array\n\t\t\t\t// This is important to make sure we set up morphTargetBaseInfluence / morphTargetInfluences\n\t\t\t\tconst length = objectInfluences === undefined ? 0 : objectInfluences.length;\n\t\t\t\tlet influences = influencesList[geometry.id];\n\n\t\t\t\tif (influences === undefined || influences.length !== length) {\n\t\t\t\t\t// initialise list\n\t\t\t\t\tinfluences = [];\n\n\t\t\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\t\t\tinfluences[i] = [i, 0];\n\t\t\t\t\t}\n\n\t\t\t\t\tinfluencesList[geometry.id] = influences;\n\t\t\t\t} // Collect influences\n\n\n\t\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\t\tconst influence = influences[i];\n\t\t\t\t\tinfluence[0] = i;\n\t\t\t\t\tinfluence[1] = objectInfluences[i];\n\t\t\t\t}\n\n\t\t\t\tinfluences.sort(absNumericalSort);\n\n\t\t\t\tfor (let i = 0; i < 8; i++) {\n\t\t\t\t\tif (i < length && influences[i][1]) {\n\t\t\t\t\t\tworkInfluences[i][0] = influences[i][0];\n\t\t\t\t\t\tworkInfluences[i][1] = influences[i][1];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tworkInfluences[i][0] = Number.MAX_SAFE_INTEGER;\n\t\t\t\t\t\tworkInfluences[i][1] = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tworkInfluences.sort(numericalSort);\n\t\t\t\tconst morphTargets = geometry.morphAttributes.position;\n\t\t\t\tconst morphNormals = geometry.morphAttributes.normal;\n\t\t\t\tlet morphInfluencesSum = 0;\n\n\t\t\t\tfor (let i = 0; i < 8; i++) {\n\t\t\t\t\tconst influence = workInfluences[i];\n\t\t\t\t\tconst index = influence[0];\n\t\t\t\t\tconst value = influence[1];\n\n\t\t\t\t\tif (index !== Number.MAX_SAFE_INTEGER && value) {\n\t\t\t\t\t\tif (morphTargets && geometry.getAttribute('morphTarget' + i) !== morphTargets[index]) {\n\t\t\t\t\t\t\tgeometry.setAttribute('morphTarget' + i, morphTargets[index]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (morphNormals && geometry.getAttribute('morphNormal' + i) !== morphNormals[index]) {\n\t\t\t\t\t\t\tgeometry.setAttribute('morphNormal' + i, morphNormals[index]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmorphInfluences[i] = value;\n\t\t\t\t\t\tmorphInfluencesSum += value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (morphTargets && geometry.hasAttribute('morphTarget' + i) === true) {\n\t\t\t\t\t\t\tgeometry.deleteAttribute('morphTarget' + i);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (morphNormals && geometry.hasAttribute('morphNormal' + i) === true) {\n\t\t\t\t\t\t\tgeometry.deleteAttribute('morphNormal' + i);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmorphInfluences[i] = 0;\n\t\t\t\t\t}\n\t\t\t\t} // GLSL shader uses formula baseinfluence * base + sum(target * influence)\n\t\t\t\t// This allows us to switch between absolute morphs and relative morphs without changing shader code\n\t\t\t\t// When baseinfluence = 1 - sum(influence), the above is equivalent to sum((target - base) * influence)\n\n\n\t\t\t\tconst morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\n\t\t\t\tprogram.getUniforms().setValue(gl, 'morphTargetBaseInfluence', morphBaseInfluence);\n\t\t\t\tprogram.getUniforms().setValue(gl, 'morphTargetInfluences', morphInfluences);\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tupdate: update\n\t\t};\n\t}\n\n\tfunction WebGLObjects(gl, geometries, attributes, info) {\n\t\tlet updateMap = new WeakMap();\n\n\t\tfunction update(object) {\n\t\t\tconst frame = info.render.frame;\n\t\t\tconst geometry = object.geometry;\n\t\t\tconst buffergeometry = geometries.get(object, geometry); // Update once per frame\n\n\t\t\tif (updateMap.get(buffergeometry) !== frame) {\n\t\t\t\tgeometries.update(buffergeometry);\n\t\t\t\tupdateMap.set(buffergeometry, frame);\n\t\t\t}\n\n\t\t\tif (object.isInstancedMesh) {\n\t\t\t\tif (object.hasEventListener('dispose', onInstancedMeshDispose) === false) {\n\t\t\t\t\tobject.addEventListener('dispose', onInstancedMeshDispose);\n\t\t\t\t}\n\n\t\t\t\tattributes.update(object.instanceMatrix, gl.ARRAY_BUFFER);\n\n\t\t\t\tif (object.instanceColor !== null) {\n\t\t\t\t\tattributes.update(object.instanceColor, gl.ARRAY_BUFFER);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn buffergeometry;\n\t\t}\n\n\t\tfunction dispose() {\n\t\t\tupdateMap = new WeakMap();\n\t\t}\n\n\t\tfunction onInstancedMeshDispose(event) {\n\t\t\tconst instancedMesh = event.target;\n\t\t\tinstancedMesh.removeEventListener('dispose', onInstancedMeshDispose);\n\t\t\tattributes.remove(instancedMesh.instanceMatrix);\n\t\t\tif (instancedMesh.instanceColor !== null) attributes.remove(instancedMesh.instanceColor);\n\t\t}\n\n\t\treturn {\n\t\t\tupdate: update,\n\t\t\tdispose: dispose\n\t\t};\n\t}\n\n\t/**\n\t * Uniforms of a program.\n\t * Those form a tree structure with a special top-level container for the root,\n\t * which you get by calling 'new WebGLUniforms( gl, program )'.\n\t *\n\t *\n\t * Properties of inner nodes including the top-level container:\n\t *\n\t * .seq - array of nested uniforms\n\t * .map - nested uniforms by name\n\t *\n\t *\n\t * Methods of all nodes except the top-level container:\n\t *\n\t * .setValue( gl, value, [textures] )\n\t *\n\t * \t\tuploads a uniform value(s)\n\t *\t\tthe 'textures' parameter is needed for sampler uniforms\n\t *\n\t *\n\t * Static methods of the top-level container (textures factorizations):\n\t *\n\t * .upload( gl, seq, values, textures )\n\t *\n\t * \t\tsets uniforms in 'seq' to 'values[id].value'\n\t *\n\t * .seqWithValue( seq, values ) : filteredSeq\n\t *\n\t * \t\tfilters 'seq' entries with corresponding entry in values\n\t *\n\t *\n\t * Methods of the top-level container (textures factorizations):\n\t *\n\t * .setValue( gl, name, value, textures )\n\t *\n\t * \t\tsets uniform with\tname 'name' to 'value'\n\t *\n\t * .setOptional( gl, obj, prop )\n\t *\n\t * \t\tlike .set for an optional property of the object\n\t *\n\t */\n\tconst emptyTexture = new Texture();\n\tconst emptyArrayTexture = new DataArrayTexture();\n\tconst empty3dTexture = new Data3DTexture();\n\tconst emptyCubeTexture = new CubeTexture(); // --- Utilities ---\n\t// Array Caches (provide typed arrays for temporary by size)\n\n\tconst arrayCacheF32 = [];\n\tconst arrayCacheI32 = []; // Float32Array caches used for uploading Matrix uniforms\n\n\tconst mat4array = new Float32Array(16);\n\tconst mat3array = new Float32Array(9);\n\tconst mat2array = new Float32Array(4); // Flattening for arrays of vectors and matrices\n\n\tfunction flatten(array, nBlocks, blockSize) {\n\t\tconst firstElem = array[0];\n\t\tif (firstElem <= 0 || firstElem > 0) return array; // unoptimized: ! isNaN( firstElem )\n\t\t// see http://jacksondunstan.com/articles/983\n\n\t\tconst n = nBlocks * blockSize;\n\t\tlet r = arrayCacheF32[n];\n\n\t\tif (r === undefined) {\n\t\t\tr = new Float32Array(n);\n\t\t\tarrayCacheF32[n] = r;\n\t\t}\n\n\t\tif (nBlocks !== 0) {\n\t\t\tfirstElem.toArray(r, 0);\n\n\t\t\tfor (let i = 1, offset = 0; i !== nBlocks; ++i) {\n\t\t\t\toffset += blockSize;\n\t\t\t\tarray[i].toArray(r, offset);\n\t\t\t}\n\t\t}\n\n\t\treturn r;\n\t}\n\n\tfunction arraysEqual(a, b) {\n\t\tif (a.length !== b.length) return false;\n\n\t\tfor (let i = 0, l = a.length; i < l; i++) {\n\t\t\tif (a[i] !== b[i]) return false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tfunction copyArray(a, b) {\n\t\tfor (let i = 0, l = b.length; i < l; i++) {\n\t\t\ta[i] = b[i];\n\t\t}\n\t} // Texture unit allocation\n\n\n\tfunction allocTexUnits(textures, n) {\n\t\tlet r = arrayCacheI32[n];\n\n\t\tif (r === undefined) {\n\t\t\tr = new Int32Array(n);\n\t\t\tarrayCacheI32[n] = r;\n\t\t}\n\n\t\tfor (let i = 0; i !== n; ++i) {\n\t\t\tr[i] = textures.allocateTextureUnit();\n\t\t}\n\n\t\treturn r;\n\t} // --- Setters ---\n\t// Note: Defining these methods externally, because they come in a bunch\n\t// and this way their names minify.\n\t// Single scalar\n\n\n\tfunction setValueV1f(gl, v) {\n\t\tconst cache = this.cache;\n\t\tif (cache[0] === v) return;\n\t\tgl.uniform1f(this.addr, v);\n\t\tcache[0] = v;\n\t} // Single float vector (from flat array or THREE.VectorN)\n\n\n\tfunction setValueV2f(gl, v) {\n\t\tconst cache = this.cache;\n\n\t\tif (v.x !== undefined) {\n\t\t\tif (cache[0] !== v.x || cache[1] !== v.y) {\n\t\t\t\tgl.uniform2f(this.addr, v.x, v.y);\n\t\t\t\tcache[0] = v.x;\n\t\t\t\tcache[1] = v.y;\n\t\t\t}\n\t\t} else {\n\t\t\tif (arraysEqual(cache, v)) return;\n\t\t\tgl.uniform2fv(this.addr, v);\n\t\t\tcopyArray(cache, v);\n\t\t}\n\t}\n\n\tfunction setValueV3f(gl, v) {\n\t\tconst cache = this.cache;\n\n\t\tif (v.x !== undefined) {\n\t\t\tif (cache[0] !== v.x || cache[1] !== v.y || cache[2] !== v.z) {\n\t\t\t\tgl.uniform3f(this.addr, v.x, v.y, v.z);\n\t\t\t\tcache[0] = v.x;\n\t\t\t\tcache[1] = v.y;\n\t\t\t\tcache[2] = v.z;\n\t\t\t}\n\t\t} else if (v.r !== undefined) {\n\t\t\tif (cache[0] !== v.r || cache[1] !== v.g || cache[2] !== v.b) {\n\t\t\t\tgl.uniform3f(this.addr, v.r, v.g, v.b);\n\t\t\t\tcache[0] = v.r;\n\t\t\t\tcache[1] = v.g;\n\t\t\t\tcache[2] = v.b;\n\t\t\t}\n\t\t} else {\n\t\t\tif (arraysEqual(cache, v)) return;\n\t\t\tgl.uniform3fv(this.addr, v);\n\t\t\tcopyArray(cache, v);\n\t\t}\n\t}\n\n\tfunction setValueV4f(gl, v) {\n\t\tconst cache = this.cache;\n\n\t\tif (v.x !== undefined) {\n\t\t\tif (cache[0] !== v.x || cache[1] !== v.y || cache[2] !== v.z || cache[3] !== v.w) {\n\t\t\t\tgl.uniform4f(this.addr, v.x, v.y, v.z, v.w);\n\t\t\t\tcache[0] = v.x;\n\t\t\t\tcache[1] = v.y;\n\t\t\t\tcache[2] = v.z;\n\t\t\t\tcache[3] = v.w;\n\t\t\t}\n\t\t} else {\n\t\t\tif (arraysEqual(cache, v)) return;\n\t\t\tgl.uniform4fv(this.addr, v);\n\t\t\tcopyArray(cache, v);\n\t\t}\n\t} // Single matrix (from flat array or THREE.MatrixN)\n\n\n\tfunction setValueM2(gl, v) {\n\t\tconst cache = this.cache;\n\t\tconst elements = v.elements;\n\n\t\tif (elements === undefined) {\n\t\t\tif (arraysEqual(cache, v)) return;\n\t\t\tgl.uniformMatrix2fv(this.addr, false, v);\n\t\t\tcopyArray(cache, v);\n\t\t} else {\n\t\t\tif (arraysEqual(cache, elements)) return;\n\t\t\tmat2array.set(elements);\n\t\t\tgl.uniformMatrix2fv(this.addr, false, mat2array);\n\t\t\tcopyArray(cache, elements);\n\t\t}\n\t}\n\n\tfunction setValueM3(gl, v) {\n\t\tconst cache = this.cache;\n\t\tconst elements = v.elements;\n\n\t\tif (elements === undefined) {\n\t\t\tif (arraysEqual(cache, v)) return;\n\t\t\tgl.uniformMatrix3fv(this.addr, false, v);\n\t\t\tcopyArray(cache, v);\n\t\t} else {\n\t\t\tif (arraysEqual(cache, elements)) return;\n\t\t\tmat3array.set(elements);\n\t\t\tgl.uniformMatrix3fv(this.addr, false, mat3array);\n\t\t\tcopyArray(cache, elements);\n\t\t}\n\t}\n\n\tfunction setValueM4(gl, v) {\n\t\tconst cache = this.cache;\n\t\tconst elements = v.elements;\n\n\t\tif (elements === undefined) {\n\t\t\tif (arraysEqual(cache, v)) return;\n\t\t\tgl.uniformMatrix4fv(this.addr, false, v);\n\t\t\tcopyArray(cache, v);\n\t\t} else {\n\t\t\tif (arraysEqual(cache, elements)) return;\n\t\t\tmat4array.set(elements);\n\t\t\tgl.uniformMatrix4fv(this.addr, false, mat4array);\n\t\t\tcopyArray(cache, elements);\n\t\t}\n\t} // Single integer / boolean\n\n\n\tfunction setValueV1i(gl, v) {\n\t\tconst cache = this.cache;\n\t\tif (cache[0] === v) return;\n\t\tgl.uniform1i(this.addr, v);\n\t\tcache[0] = v;\n\t} // Single integer / boolean vector (from flat array)\n\n\n\tfunction setValueV2i(gl, v) {\n\t\tconst cache = this.cache;\n\t\tif (arraysEqual(cache, v)) return;\n\t\tgl.uniform2iv(this.addr, v);\n\t\tcopyArray(cache, v);\n\t}\n\n\tfunction setValueV3i(gl, v) {\n\t\tconst cache = this.cache;\n\t\tif (arraysEqual(cache, v)) return;\n\t\tgl.uniform3iv(this.addr, v);\n\t\tcopyArray(cache, v);\n\t}\n\n\tfunction setValueV4i(gl, v) {\n\t\tconst cache = this.cache;\n\t\tif (arraysEqual(cache, v)) return;\n\t\tgl.uniform4iv(this.addr, v);\n\t\tcopyArray(cache, v);\n\t} // Single unsigned integer\n\n\n\tfunction setValueV1ui(gl, v) {\n\t\tconst cache = this.cache;\n\t\tif (cache[0] === v) return;\n\t\tgl.uniform1ui(this.addr, v);\n\t\tcache[0] = v;\n\t} // Single unsigned integer vector (from flat array)\n\n\n\tfunction setValueV2ui(gl, v) {\n\t\tconst cache = this.cache;\n\t\tif (arraysEqual(cache, v)) return;\n\t\tgl.uniform2uiv(this.addr, v);\n\t\tcopyArray(cache, v);\n\t}\n\n\tfunction setValueV3ui(gl, v) {\n\t\tconst cache = this.cache;\n\t\tif (arraysEqual(cache, v)) return;\n\t\tgl.uniform3uiv(this.addr, v);\n\t\tcopyArray(cache, v);\n\t}\n\n\tfunction setValueV4ui(gl, v) {\n\t\tconst cache = this.cache;\n\t\tif (arraysEqual(cache, v)) return;\n\t\tgl.uniform4uiv(this.addr, v);\n\t\tcopyArray(cache, v);\n\t} // Single texture (2D / Cube)\n\n\n\tfunction setValueT1(gl, v, textures) {\n\t\tconst cache = this.cache;\n\t\tconst unit = textures.allocateTextureUnit();\n\n\t\tif (cache[0] !== unit) {\n\t\t\tgl.uniform1i(this.addr, unit);\n\t\t\tcache[0] = unit;\n\t\t}\n\n\t\ttextures.setTexture2D(v || emptyTexture, unit);\n\t}\n\n\tfunction setValueT3D1(gl, v, textures) {\n\t\tconst cache = this.cache;\n\t\tconst unit = textures.allocateTextureUnit();\n\n\t\tif (cache[0] !== unit) {\n\t\t\tgl.uniform1i(this.addr, unit);\n\t\t\tcache[0] = unit;\n\t\t}\n\n\t\ttextures.setTexture3D(v || empty3dTexture, unit);\n\t}\n\n\tfunction setValueT6(gl, v, textures) {\n\t\tconst cache = this.cache;\n\t\tconst unit = textures.allocateTextureUnit();\n\n\t\tif (cache[0] !== unit) {\n\t\t\tgl.uniform1i(this.addr, unit);\n\t\t\tcache[0] = unit;\n\t\t}\n\n\t\ttextures.setTextureCube(v || emptyCubeTexture, unit);\n\t}\n\n\tfunction setValueT2DArray1(gl, v, textures) {\n\t\tconst cache = this.cache;\n\t\tconst unit = textures.allocateTextureUnit();\n\n\t\tif (cache[0] !== unit) {\n\t\t\tgl.uniform1i(this.addr, unit);\n\t\t\tcache[0] = unit;\n\t\t}\n\n\t\ttextures.setTexture2DArray(v || emptyArrayTexture, unit);\n\t} // Helper to pick the right setter for the singular case\n\n\n\tfunction getSingularSetter(type) {\n\t\tswitch (type) {\n\t\t\tcase 0x1406:\n\t\t\t\treturn setValueV1f;\n\t\t\t// FLOAT\n\n\t\t\tcase 0x8b50:\n\t\t\t\treturn setValueV2f;\n\t\t\t// _VEC2\n\n\t\t\tcase 0x8b51:\n\t\t\t\treturn setValueV3f;\n\t\t\t// _VEC3\n\n\t\t\tcase 0x8b52:\n\t\t\t\treturn setValueV4f;\n\t\t\t// _VEC4\n\n\t\t\tcase 0x8b5a:\n\t\t\t\treturn setValueM2;\n\t\t\t// _MAT2\n\n\t\t\tcase 0x8b5b:\n\t\t\t\treturn setValueM3;\n\t\t\t// _MAT3\n\n\t\t\tcase 0x8b5c:\n\t\t\t\treturn setValueM4;\n\t\t\t// _MAT4\n\n\t\t\tcase 0x1404:\n\t\t\tcase 0x8b56:\n\t\t\t\treturn setValueV1i;\n\t\t\t// INT, BOOL\n\n\t\t\tcase 0x8b53:\n\t\t\tcase 0x8b57:\n\t\t\t\treturn setValueV2i;\n\t\t\t// _VEC2\n\n\t\t\tcase 0x8b54:\n\t\t\tcase 0x8b58:\n\t\t\t\treturn setValueV3i;\n\t\t\t// _VEC3\n\n\t\t\tcase 0x8b55:\n\t\t\tcase 0x8b59:\n\t\t\t\treturn setValueV4i;\n\t\t\t// _VEC4\n\n\t\t\tcase 0x1405:\n\t\t\t\treturn setValueV1ui;\n\t\t\t// UINT\n\n\t\t\tcase 0x8dc6:\n\t\t\t\treturn setValueV2ui;\n\t\t\t// _VEC2\n\n\t\t\tcase 0x8dc7:\n\t\t\t\treturn setValueV3ui;\n\t\t\t// _VEC3\n\n\t\t\tcase 0x8dc8:\n\t\t\t\treturn setValueV4ui;\n\t\t\t// _VEC4\n\n\t\t\tcase 0x8b5e: // SAMPLER_2D\n\n\t\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\n\t\t\tcase 0x8dca: // INT_SAMPLER_2D\n\n\t\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\n\t\t\tcase 0x8b62:\n\t\t\t\t// SAMPLER_2D_SHADOW\n\t\t\t\treturn setValueT1;\n\n\t\t\tcase 0x8b5f: // SAMPLER_3D\n\n\t\t\tcase 0x8dcb: // INT_SAMPLER_3D\n\n\t\t\tcase 0x8dd3:\n\t\t\t\t// UNSIGNED_INT_SAMPLER_3D\n\t\t\t\treturn setValueT3D1;\n\n\t\t\tcase 0x8b60: // SAMPLER_CUBE\n\n\t\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\n\t\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\n\t\t\tcase 0x8dc5:\n\t\t\t\t// SAMPLER_CUBE_SHADOW\n\t\t\t\treturn setValueT6;\n\n\t\t\tcase 0x8dc1: // SAMPLER_2D_ARRAY\n\n\t\t\tcase 0x8dcf: // INT_SAMPLER_2D_ARRAY\n\n\t\t\tcase 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n\n\t\t\tcase 0x8dc4:\n\t\t\t\t// SAMPLER_2D_ARRAY_SHADOW\n\t\t\t\treturn setValueT2DArray1;\n\t\t}\n\t} // Array of scalars\n\n\n\tfunction setValueV1fArray(gl, v) {\n\t\tgl.uniform1fv(this.addr, v);\n\t} // Array of vectors (from flat array or array of THREE.VectorN)\n\n\n\tfunction setValueV2fArray(gl, v) {\n\t\tconst data = flatten(v, this.size, 2);\n\t\tgl.uniform2fv(this.addr, data);\n\t}\n\n\tfunction setValueV3fArray(gl, v) {\n\t\tconst data = flatten(v, this.size, 3);\n\t\tgl.uniform3fv(this.addr, data);\n\t}\n\n\tfunction setValueV4fArray(gl, v) {\n\t\tconst data = flatten(v, this.size, 4);\n\t\tgl.uniform4fv(this.addr, data);\n\t} // Array of matrices (from flat array or array of THREE.MatrixN)\n\n\n\tfunction setValueM2Array(gl, v) {\n\t\tconst data = flatten(v, this.size, 4);\n\t\tgl.uniformMatrix2fv(this.addr, false, data);\n\t}\n\n\tfunction setValueM3Array(gl, v) {\n\t\tconst data = flatten(v, this.size, 9);\n\t\tgl.uniformMatrix3fv(this.addr, false, data);\n\t}\n\n\tfunction setValueM4Array(gl, v) {\n\t\tconst data = flatten(v, this.size, 16);\n\t\tgl.uniformMatrix4fv(this.addr, false, data);\n\t} // Array of integer / boolean\n\n\n\tfunction setValueV1iArray(gl, v) {\n\t\tgl.uniform1iv(this.addr, v);\n\t} // Array of integer / boolean vectors (from flat array)\n\n\n\tfunction setValueV2iArray(gl, v) {\n\t\tgl.uniform2iv(this.addr, v);\n\t}\n\n\tfunction setValueV3iArray(gl, v) {\n\t\tgl.uniform3iv(this.addr, v);\n\t}\n\n\tfunction setValueV4iArray(gl, v) {\n\t\tgl.uniform4iv(this.addr, v);\n\t} // Array of unsigned integer\n\n\n\tfunction setValueV1uiArray(gl, v) {\n\t\tgl.uniform1uiv(this.addr, v);\n\t} // Array of unsigned integer vectors (from flat array)\n\n\n\tfunction setValueV2uiArray(gl, v) {\n\t\tgl.uniform2uiv(this.addr, v);\n\t}\n\n\tfunction setValueV3uiArray(gl, v) {\n\t\tgl.uniform3uiv(this.addr, v);\n\t}\n\n\tfunction setValueV4uiArray(gl, v) {\n\t\tgl.uniform4uiv(this.addr, v);\n\t} // Array of textures (2D / 3D / Cube / 2DArray)\n\n\n\tfunction setValueT1Array(gl, v, textures) {\n\t\tconst n = v.length;\n\t\tconst units = allocTexUnits(textures, n);\n\t\tgl.uniform1iv(this.addr, units);\n\n\t\tfor (let i = 0; i !== n; ++i) {\n\t\t\ttextures.setTexture2D(v[i] || emptyTexture, units[i]);\n\t\t}\n\t}\n\n\tfunction setValueT3DArray(gl, v, textures) {\n\t\tconst n = v.length;\n\t\tconst units = allocTexUnits(textures, n);\n\t\tgl.uniform1iv(this.addr, units);\n\n\t\tfor (let i = 0; i !== n; ++i) {\n\t\t\ttextures.setTexture3D(v[i] || empty3dTexture, units[i]);\n\t\t}\n\t}\n\n\tfunction setValueT6Array(gl, v, textures) {\n\t\tconst n = v.length;\n\t\tconst units = allocTexUnits(textures, n);\n\t\tgl.uniform1iv(this.addr, units);\n\n\t\tfor (let i = 0; i !== n; ++i) {\n\t\t\ttextures.setTextureCube(v[i] || emptyCubeTexture, units[i]);\n\t\t}\n\t}\n\n\tfunction setValueT2DArrayArray(gl, v, textures) {\n\t\tconst n = v.length;\n\t\tconst units = allocTexUnits(textures, n);\n\t\tgl.uniform1iv(this.addr, units);\n\n\t\tfor (let i = 0; i !== n; ++i) {\n\t\t\ttextures.setTexture2DArray(v[i] || emptyArrayTexture, units[i]);\n\t\t}\n\t} // Helper to pick the right setter for a pure (bottom-level) array\n\n\n\tfunction getPureArraySetter(type) {\n\t\tswitch (type) {\n\t\t\tcase 0x1406:\n\t\t\t\treturn setValueV1fArray;\n\t\t\t// FLOAT\n\n\t\t\tcase 0x8b50:\n\t\t\t\treturn setValueV2fArray;\n\t\t\t// _VEC2\n\n\t\t\tcase 0x8b51:\n\t\t\t\treturn setValueV3fArray;\n\t\t\t// _VEC3\n\n\t\t\tcase 0x8b52:\n\t\t\t\treturn setValueV4fArray;\n\t\t\t// _VEC4\n\n\t\t\tcase 0x8b5a:\n\t\t\t\treturn setValueM2Array;\n\t\t\t// _MAT2\n\n\t\t\tcase 0x8b5b:\n\t\t\t\treturn setValueM3Array;\n\t\t\t// _MAT3\n\n\t\t\tcase 0x8b5c:\n\t\t\t\treturn setValueM4Array;\n\t\t\t// _MAT4\n\n\t\t\tcase 0x1404:\n\t\t\tcase 0x8b56:\n\t\t\t\treturn setValueV1iArray;\n\t\t\t// INT, BOOL\n\n\t\t\tcase 0x8b53:\n\t\t\tcase 0x8b57:\n\t\t\t\treturn setValueV2iArray;\n\t\t\t// _VEC2\n\n\t\t\tcase 0x8b54:\n\t\t\tcase 0x8b58:\n\t\t\t\treturn setValueV3iArray;\n\t\t\t// _VEC3\n\n\t\t\tcase 0x8b55:\n\t\t\tcase 0x8b59:\n\t\t\t\treturn setValueV4iArray;\n\t\t\t// _VEC4\n\n\t\t\tcase 0x1405:\n\t\t\t\treturn setValueV1uiArray;\n\t\t\t// UINT\n\n\t\t\tcase 0x8dc6:\n\t\t\t\treturn setValueV2uiArray;\n\t\t\t// _VEC2\n\n\t\t\tcase 0x8dc7:\n\t\t\t\treturn setValueV3uiArray;\n\t\t\t// _VEC3\n\n\t\t\tcase 0x8dc8:\n\t\t\t\treturn setValueV4uiArray;\n\t\t\t// _VEC4\n\n\t\t\tcase 0x8b5e: // SAMPLER_2D\n\n\t\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\n\t\t\tcase 0x8dca: // INT_SAMPLER_2D\n\n\t\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\n\t\t\tcase 0x8b62:\n\t\t\t\t// SAMPLER_2D_SHADOW\n\t\t\t\treturn setValueT1Array;\n\n\t\t\tcase 0x8b5f: // SAMPLER_3D\n\n\t\t\tcase 0x8dcb: // INT_SAMPLER_3D\n\n\t\t\tcase 0x8dd3:\n\t\t\t\t// UNSIGNED_INT_SAMPLER_3D\n\t\t\t\treturn setValueT3DArray;\n\n\t\t\tcase 0x8b60: // SAMPLER_CUBE\n\n\t\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\n\t\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\n\t\t\tcase 0x8dc5:\n\t\t\t\t// SAMPLER_CUBE_SHADOW\n\t\t\t\treturn setValueT6Array;\n\n\t\t\tcase 0x8dc1: // SAMPLER_2D_ARRAY\n\n\t\t\tcase 0x8dcf: // INT_SAMPLER_2D_ARRAY\n\n\t\t\tcase 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n\n\t\t\tcase 0x8dc4:\n\t\t\t\t// SAMPLER_2D_ARRAY_SHADOW\n\t\t\t\treturn setValueT2DArrayArray;\n\t\t}\n\t} // --- Uniform Classes ---\n\n\n\tclass SingleUniform {\n\t\tconstructor(id, activeInfo, addr) {\n\t\t\tthis.id = id;\n\t\t\tthis.addr = addr;\n\t\t\tthis.cache = [];\n\t\t\tthis.setValue = getSingularSetter(activeInfo.type); // this.path = activeInfo.name; // DEBUG\n\t\t}\n\n\t}\n\n\tclass PureArrayUniform {\n\t\tconstructor(id, activeInfo, addr) {\n\t\t\tthis.id = id;\n\t\t\tthis.addr = addr;\n\t\t\tthis.cache = [];\n\t\t\tthis.size = activeInfo.size;\n\t\t\tthis.setValue = getPureArraySetter(activeInfo.type); // this.path = activeInfo.name; // DEBUG\n\t\t}\n\n\t}\n\n\tclass StructuredUniform {\n\t\tconstructor(id) {\n\t\t\tthis.id = id;\n\t\t\tthis.seq = [];\n\t\t\tthis.map = {};\n\t\t}\n\n\t\tsetValue(gl, value, textures) {\n\t\t\tconst seq = this.seq;\n\n\t\t\tfor (let i = 0, n = seq.length; i !== n; ++i) {\n\t\t\t\tconst u = seq[i];\n\t\t\t\tu.setValue(gl, value[u.id], textures);\n\t\t\t}\n\t\t}\n\n\t} // --- Top-level ---\n\t// Parser - builds up the property tree from the path strings\n\n\n\tconst RePathPart = /(\\w+)(\\])?(\\[|\\.)?/g; // extracts\n\t// \t- the identifier (member name or array index)\n\t//\t- followed by an optional right bracket (found when array index)\n\t//\t- followed by an optional left bracket or dot (type of subscript)\n\t//\n\t// Note: These portions can be read in a non-overlapping fashion and\n\t// allow straightforward parsing of the hierarchy that WebGL encodes\n\t// in the uniform names.\n\n\tfunction addUniform(container, uniformObject) {\n\t\tcontainer.seq.push(uniformObject);\n\t\tcontainer.map[uniformObject.id] = uniformObject;\n\t}\n\n\tfunction parseUniform(activeInfo, addr, container) {\n\t\tconst path = activeInfo.name,\n\t\t\t\t\tpathLength = path.length; // reset RegExp object, because of the early exit of a previous run\n\n\t\tRePathPart.lastIndex = 0;\n\n\t\twhile (true) {\n\t\t\tconst match = RePathPart.exec(path),\n\t\t\t\t\t\tmatchEnd = RePathPart.lastIndex;\n\t\t\tlet id = match[1];\n\t\t\tconst idIsIndex = match[2] === ']',\n\t\t\t\t\t\tsubscript = match[3];\n\t\t\tif (idIsIndex) id = id | 0; // convert to integer\n\n\t\t\tif (subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength) {\n\t\t\t\t// bare name or \"pure\" bottom-level array \"[0]\" suffix\n\t\t\t\taddUniform(container, subscript === undefined ? new SingleUniform(id, activeInfo, addr) : new PureArrayUniform(id, activeInfo, addr));\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\t// step into inner node / create it in case it doesn't exist\n\t\t\t\tconst map = container.map;\n\t\t\t\tlet next = map[id];\n\n\t\t\t\tif (next === undefined) {\n\t\t\t\t\tnext = new StructuredUniform(id);\n\t\t\t\t\taddUniform(container, next);\n\t\t\t\t}\n\n\t\t\t\tcontainer = next;\n\t\t\t}\n\t\t}\n\t} // Root Container\n\n\n\tclass WebGLUniforms {\n\t\tconstructor(gl, program) {\n\t\t\tthis.seq = [];\n\t\t\tthis.map = {};\n\t\t\tconst n = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n\n\t\t\tfor (let i = 0; i < n; ++i) {\n\t\t\t\tconst info = gl.getActiveUniform(program, i),\n\t\t\t\t\t\t\taddr = gl.getUniformLocation(program, info.name);\n\t\t\t\tparseUniform(info, addr, this);\n\t\t\t}\n\t\t}\n\n\t\tsetValue(gl, name, value, textures) {\n\t\t\tconst u = this.map[name];\n\t\t\tif (u !== undefined) u.setValue(gl, value, textures);\n\t\t}\n\n\t\tsetOptional(gl, object, name) {\n\t\t\tconst v = object[name];\n\t\t\tif (v !== undefined) this.setValue(gl, name, v);\n\t\t}\n\n\t\tstatic upload(gl, seq, values, textures) {\n\t\t\tfor (let i = 0, n = seq.length; i !== n; ++i) {\n\t\t\t\tconst u = seq[i],\n\t\t\t\t\t\t\tv = values[u.id];\n\n\t\t\t\tif (v.needsUpdate !== false) {\n\t\t\t\t\t// note: always updating when .needsUpdate is undefined\n\t\t\t\t\tu.setValue(gl, v.value, textures);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tstatic seqWithValue(seq, values) {\n\t\t\tconst r = [];\n\n\t\t\tfor (let i = 0, n = seq.length; i !== n; ++i) {\n\t\t\t\tconst u = seq[i];\n\t\t\t\tif (u.id in values) r.push(u);\n\t\t\t}\n\n\t\t\treturn r;\n\t\t}\n\n\t}\n\n\tfunction WebGLShader(gl, type, string) {\n\t\tconst shader = gl.createShader(type);\n\t\tgl.shaderSource(shader, string);\n\t\tgl.compileShader(shader);\n\t\treturn shader;\n\t}\n\n\tlet programIdCount = 0;\n\n\tfunction handleSource(string, errorLine) {\n\t\tconst lines = string.split('\\n');\n\t\tconst lines2 = [];\n\t\tconst from = Math.max(errorLine - 6, 0);\n\t\tconst to = Math.min(errorLine + 6, lines.length);\n\n\t\tfor (let i = from; i < to; i++) {\n\t\t\tconst line = i + 1;\n\t\t\tlines2.push(`${line === errorLine ? '>' : ' '} ${line}: ${lines[i]}`);\n\t\t}\n\n\t\treturn lines2.join('\\n');\n\t}\n\n\tfunction getEncodingComponents(encoding) {\n\t\tswitch (encoding) {\n\t\t\tcase LinearEncoding:\n\t\t\t\treturn ['Linear', '( value )'];\n\n\t\t\tcase sRGBEncoding:\n\t\t\t\treturn ['sRGB', '( value )'];\n\n\t\t\tdefault:\n\t\t\t\tconsole.warn('THREE.WebGLProgram: Unsupported encoding:', encoding);\n\t\t\t\treturn ['Linear', '( value )'];\n\t\t}\n\t}\n\n\tfunction getShaderErrors(gl, shader, type) {\n\t\tconst status = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n\t\tconst errors = gl.getShaderInfoLog(shader).trim();\n\t\tif (status && errors === '') return '';\n\t\tconst errorMatches = /ERROR: 0:(\\d+)/.exec(errors);\n\n\t\tif (errorMatches) {\n\t\t\t// --enable-privileged-webgl-extension\n\t\t\t// console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\t\t\tconst errorLine = parseInt(errorMatches[1]);\n\t\t\treturn type.toUpperCase() + '\\n\\n' + errors + '\\n\\n' + handleSource(gl.getShaderSource(shader), errorLine);\n\t\t} else {\n\t\t\treturn errors;\n\t\t}\n\t}\n\n\tfunction getTexelEncodingFunction(functionName, encoding) {\n\t\tconst components = getEncodingComponents(encoding);\n\t\treturn 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[0] + components[1] + '; }';\n\t}\n\n\tfunction getToneMappingFunction(functionName, toneMapping) {\n\t\tlet toneMappingName;\n\n\t\tswitch (toneMapping) {\n\t\t\tcase LinearToneMapping:\n\t\t\t\ttoneMappingName = 'Linear';\n\t\t\t\tbreak;\n\n\t\t\tcase ReinhardToneMapping:\n\t\t\t\ttoneMappingName = 'Reinhard';\n\t\t\t\tbreak;\n\n\t\t\tcase CineonToneMapping:\n\t\t\t\ttoneMappingName = 'OptimizedCineon';\n\t\t\t\tbreak;\n\n\t\t\tcase ACESFilmicToneMapping:\n\t\t\t\ttoneMappingName = 'ACESFilmic';\n\t\t\t\tbreak;\n\n\t\t\tcase CustomToneMapping:\n\t\t\t\ttoneMappingName = 'Custom';\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.warn('THREE.WebGLProgram: Unsupported toneMapping:', toneMapping);\n\t\t\t\ttoneMappingName = 'Linear';\n\t\t}\n\n\t\treturn 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\n\t}\n\n\tfunction generateExtensions(parameters) {\n\t\tconst chunks = [parameters.extensionDerivatives || !!parameters.envMapCubeUVHeight || parameters.bumpMap || parameters.tangentSpaceNormalMap || parameters.clearcoatNormalMap || parameters.flatShading || parameters.shaderID === 'physical' ? '#extension GL_OES_standard_derivatives : enable' : '', (parameters.extensionFragDepth || parameters.logarithmicDepthBuffer) && parameters.rendererExtensionFragDepth ? '#extension GL_EXT_frag_depth : enable' : '', parameters.extensionDrawBuffers && parameters.rendererExtensionDrawBuffers ? '#extension GL_EXT_draw_buffers : require' : '', (parameters.extensionShaderTextureLOD || parameters.envMap || parameters.transmission) && parameters.rendererExtensionShaderTextureLod ? '#extension GL_EXT_shader_texture_lod : enable' : ''];\n\t\treturn chunks.filter(filterEmptyLine).join('\\n');\n\t}\n\n\tfunction generateDefines(defines) {\n\t\tconst chunks = [];\n\n\t\tfor (const name in defines) {\n\t\t\tconst value = defines[name];\n\t\t\tif (value === false) continue;\n\t\t\tchunks.push('#define ' + name + ' ' + value);\n\t\t}\n\n\t\treturn chunks.join('\\n');\n\t}\n\n\tfunction fetchAttributeLocations(gl, program) {\n\t\tconst attributes = {};\n\t\tconst n = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\n\n\t\tfor (let i = 0; i < n; i++) {\n\t\t\tconst info = gl.getActiveAttrib(program, i);\n\t\t\tconst name = info.name;\n\t\t\tlet locationSize = 1;\n\t\t\tif (info.type === gl.FLOAT_MAT2) locationSize = 2;\n\t\t\tif (info.type === gl.FLOAT_MAT3) locationSize = 3;\n\t\t\tif (info.type === gl.FLOAT_MAT4) locationSize = 4; // console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n\t\t\tattributes[name] = {\n\t\t\t\ttype: info.type,\n\t\t\t\tlocation: gl.getAttribLocation(program, name),\n\t\t\t\tlocationSize: locationSize\n\t\t\t};\n\t\t}\n\n\t\treturn attributes;\n\t}\n\n\tfunction filterEmptyLine(string) {\n\t\treturn string !== '';\n\t}\n\n\tfunction replaceLightNums(string, parameters) {\n\t\treturn string.replace(/NUM_DIR_LIGHTS/g, parameters.numDirLights).replace(/NUM_SPOT_LIGHTS/g, parameters.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g, parameters.numPointLights).replace(/NUM_HEMI_LIGHTS/g, parameters.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g, parameters.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g, parameters.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g, parameters.numPointLightShadows);\n\t}\n\n\tfunction replaceClippingPlaneNums(string, parameters) {\n\t\treturn string.replace(/NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g, parameters.numClippingPlanes - parameters.numClipIntersection);\n\t} // Resolve Includes\n\n\n\tconst includePattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\n\tfunction resolveIncludes(string) {\n\t\treturn string.replace(includePattern, includeReplacer);\n\t}\n\n\tfunction includeReplacer(match, include) {\n\t\tconst string = ShaderChunk[include];\n\n\t\tif (string === undefined) {\n\t\t\tthrow new Error('Can not resolve #include <' + include + '>');\n\t\t}\n\n\t\treturn resolveIncludes(string);\n\t} // Unroll Loops\n\n\n\tconst deprecatedUnrollLoopPattern = /#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\n\tconst unrollLoopPattern = /#pragma unroll_loop_start\\s+for\\s*\\(\\s*int\\s+i\\s*=\\s*(\\d+)\\s*;\\s*i\\s*<\\s*(\\d+)\\s*;\\s*i\\s*\\+\\+\\s*\\)\\s*{([\\s\\S]+?)}\\s+#pragma unroll_loop_end/g;\n\n\tfunction unrollLoops(string) {\n\t\treturn string.replace(unrollLoopPattern, loopReplacer).replace(deprecatedUnrollLoopPattern, deprecatedLoopReplacer);\n\t}\n\n\tfunction deprecatedLoopReplacer(match, start, end, snippet) {\n\t\tconsole.warn('WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead.');\n\t\treturn loopReplacer(match, start, end, snippet);\n\t}\n\n\tfunction loopReplacer(match, start, end, snippet) {\n\t\tlet string = '';\n\n\t\tfor (let i = parseInt(start); i < parseInt(end); i++) {\n\t\t\tstring += snippet.replace(/\\[\\s*i\\s*\\]/g, '[ ' + i + ' ]').replace(/UNROLLED_LOOP_INDEX/g, i);\n\t\t}\n\n\t\treturn string;\n\t} //\n\n\n\tfunction generatePrecision(parameters) {\n\t\tlet precisionstring = 'precision ' + parameters.precision + ' float;\\nprecision ' + parameters.precision + ' int;';\n\n\t\tif (parameters.precision === 'highp') {\n\t\t\tprecisionstring += '\\n#define HIGH_PRECISION';\n\t\t} else if (parameters.precision === 'mediump') {\n\t\t\tprecisionstring += '\\n#define MEDIUM_PRECISION';\n\t\t} else if (parameters.precision === 'lowp') {\n\t\t\tprecisionstring += '\\n#define LOW_PRECISION';\n\t\t}\n\n\t\treturn precisionstring;\n\t}\n\n\tfunction generateShadowMapTypeDefine(parameters) {\n\t\tlet shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n\t\tif (parameters.shadowMapType === PCFShadowMap) {\n\t\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\t\t} else if (parameters.shadowMapType === PCFSoftShadowMap) {\n\t\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\t\t} else if (parameters.shadowMapType === VSMShadowMap) {\n\t\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_VSM';\n\t\t}\n\n\t\treturn shadowMapTypeDefine;\n\t}\n\n\tfunction generateEnvMapTypeDefine(parameters) {\n\t\tlet envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\n\t\tif (parameters.envMap) {\n\t\t\tswitch (parameters.envMapMode) {\n\t\t\t\tcase CubeReflectionMapping:\n\t\t\t\tcase CubeRefractionMapping:\n\t\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase CubeUVReflectionMapping:\n\t\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn envMapTypeDefine;\n\t}\n\n\tfunction generateEnvMapModeDefine(parameters) {\n\t\tlet envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\n\t\tif (parameters.envMap) {\n\t\t\tswitch (parameters.envMapMode) {\n\t\t\t\tcase CubeRefractionMapping:\n\t\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn envMapModeDefine;\n\t}\n\n\tfunction generateEnvMapBlendingDefine(parameters) {\n\t\tlet envMapBlendingDefine = 'ENVMAP_BLENDING_NONE';\n\n\t\tif (parameters.envMap) {\n\t\t\tswitch (parameters.combine) {\n\t\t\t\tcase MultiplyOperation:\n\t\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MixOperation:\n\t\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase AddOperation:\n\t\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn envMapBlendingDefine;\n\t}\n\n\tfunction generateCubeUVSize(parameters) {\n\t\tconst imageHeight = parameters.envMapCubeUVHeight;\n\t\tif (imageHeight === null) return null;\n\t\tconst maxMip = Math.log2(imageHeight) - 2;\n\t\tconst texelHeight = 1.0 / imageHeight;\n\t\tconst texelWidth = 1.0 / (3 * Math.max(Math.pow(2, maxMip), 7 * 16));\n\t\treturn {\n\t\t\ttexelWidth,\n\t\t\ttexelHeight,\n\t\t\tmaxMip\n\t\t};\n\t}\n\n\tfunction WebGLProgram(renderer, cacheKey, parameters, bindingStates) {\n\t\t// TODO Send this event to Three.js DevTools\n\t\t// console.log( 'WebGLProgram', cacheKey );\n\t\tconst gl = renderer.getContext();\n\t\tconst defines = parameters.defines;\n\t\tlet vertexShader = parameters.vertexShader;\n\t\tlet fragmentShader = parameters.fragmentShader;\n\t\tconst shadowMapTypeDefine = generateShadowMapTypeDefine(parameters);\n\t\tconst envMapTypeDefine = generateEnvMapTypeDefine(parameters);\n\t\tconst envMapModeDefine = generateEnvMapModeDefine(parameters);\n\t\tconst envMapBlendingDefine = generateEnvMapBlendingDefine(parameters);\n\t\tconst envMapCubeUVSize = generateCubeUVSize(parameters);\n\t\tconst customExtensions = parameters.isWebGL2 ? '' : generateExtensions(parameters);\n\t\tconst customDefines = generateDefines(defines);\n\t\tconst program = gl.createProgram();\n\t\tlet prefixVertex, prefixFragment;\n\t\tlet versionString = parameters.glslVersion ? '#version ' + parameters.glslVersion + '\\n' : '';\n\n\t\tif (parameters.isRawShaderMaterial) {\n\t\t\tprefixVertex = [customDefines].filter(filterEmptyLine).join('\\n');\n\n\t\t\tif (prefixVertex.length > 0) {\n\t\t\t\tprefixVertex += '\\n';\n\t\t\t}\n\n\t\t\tprefixFragment = [customExtensions, customDefines].filter(filterEmptyLine).join('\\n');\n\n\t\t\tif (prefixFragment.length > 0) {\n\t\t\t\tprefixFragment += '\\n';\n\t\t\t}\n\t\t} else {\n\t\t\tprefixVertex = [generatePrecision(parameters), '#define SHADER_NAME ' + parameters.shaderName, customDefines, parameters.instancing ? '#define USE_INSTANCING' : '', parameters.instancingColor ? '#define USE_INSTANCING_COLOR' : '', parameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '', parameters.useFog && parameters.fog ? '#define USE_FOG' : '', parameters.useFog && parameters.fogExp2 ? '#define FOG_EXP2' : '', parameters.map ? '#define USE_MAP' : '', parameters.envMap ? '#define USE_ENVMAP' : '', parameters.envMap ? '#define ' + envMapModeDefine : '', parameters.lightMap ? '#define USE_LIGHTMAP' : '', parameters.aoMap ? '#define USE_AOMAP' : '', parameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '', parameters.bumpMap ? '#define USE_BUMPMAP' : '', parameters.normalMap ? '#define USE_NORMALMAP' : '', parameters.normalMap && parameters.objectSpaceNormalMap ? '#define OBJECTSPACE_NORMALMAP' : '', parameters.normalMap && parameters.tangentSpaceNormalMap ? '#define TANGENTSPACE_NORMALMAP' : '', parameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '', parameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '', parameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '', parameters.iridescenceMap ? '#define USE_IRIDESCENCEMAP' : '', parameters.iridescenceThicknessMap ? '#define USE_IRIDESCENCE_THICKNESSMAP' : '', parameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '', parameters.specularMap ? '#define USE_SPECULARMAP' : '', parameters.specularIntensityMap ? '#define USE_SPECULARINTENSITYMAP' : '', parameters.specularColorMap ? '#define USE_SPECULARCOLORMAP' : '', parameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '', parameters.metalnessMap ? '#define USE_METALNESSMAP' : '', parameters.alphaMap ? '#define USE_ALPHAMAP' : '', parameters.transmission ? '#define USE_TRANSMISSION' : '', parameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '', parameters.thicknessMap ? '#define USE_THICKNESSMAP' : '', parameters.sheenColorMap ? '#define USE_SHEENCOLORMAP' : '', parameters.sheenRoughnessMap ? '#define USE_SHEENROUGHNESSMAP' : '', parameters.vertexTangents ? '#define USE_TANGENT' : '', parameters.vertexColors ? '#define USE_COLOR' : '', parameters.vertexAlphas ? '#define USE_COLOR_ALPHA' : '', parameters.vertexUvs ? '#define USE_UV' : '', parameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '', parameters.flatShading ? '#define FLAT_SHADED' : '', parameters.skinning ? '#define USE_SKINNING' : '', parameters.morphTargets ? '#define USE_MORPHTARGETS' : '', parameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '', parameters.morphColors && parameters.isWebGL2 ? '#define USE_MORPHCOLORS' : '', parameters.morphTargetsCount > 0 && parameters.isWebGL2 ? '#define MORPHTARGETS_TEXTURE' : '', parameters.morphTargetsCount > 0 && parameters.isWebGL2 ? '#define MORPHTARGETS_TEXTURE_STRIDE ' + parameters.morphTextureStride : '', parameters.morphTargetsCount > 0 && parameters.isWebGL2 ? '#define MORPHTARGETS_COUNT ' + parameters.morphTargetsCount : '', parameters.doubleSided ? '#define DOUBLE_SIDED' : '', parameters.flipSided ? '#define FLIP_SIDED' : '', parameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '', parameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '', parameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '', parameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '', parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ? '#define USE_LOGDEPTHBUF_EXT' : '', 'uniform mat4 modelMatrix;', 'uniform mat4 modelViewMatrix;', 'uniform mat4 projectionMatrix;', 'uniform mat4 viewMatrix;', 'uniform mat3 normalMatrix;', 'uniform vec3 cameraPosition;', 'uniform bool isOrthographic;', '#ifdef USE_INSTANCING', '\tattribute mat4 instanceMatrix;', '#endif', '#ifdef USE_INSTANCING_COLOR', '\tattribute vec3 instanceColor;', '#endif', 'attribute vec3 position;', 'attribute vec3 normal;', 'attribute vec2 uv;', '#ifdef USE_TANGENT', '\tattribute vec4 tangent;', '#endif', '#if defined( USE_COLOR_ALPHA )', '\tattribute vec4 color;', '#elif defined( USE_COLOR )', '\tattribute vec3 color;', '#endif', '#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )', '\tattribute vec3 morphTarget0;', '\tattribute vec3 morphTarget1;', '\tattribute vec3 morphTarget2;', '\tattribute vec3 morphTarget3;', '\t#ifdef USE_MORPHNORMALS', '\t\tattribute vec3 morphNormal0;', '\t\tattribute vec3 morphNormal1;', '\t\tattribute vec3 morphNormal2;', '\t\tattribute vec3 morphNormal3;', '\t#else', '\t\tattribute vec3 morphTarget4;', '\t\tattribute vec3 morphTarget5;', '\t\tattribute vec3 morphTarget6;', '\t\tattribute vec3 morphTarget7;', '\t#endif', '#endif', '#ifdef USE_SKINNING', '\tattribute vec4 skinIndex;', '\tattribute vec4 skinWeight;', '#endif', '\\n'].filter(filterEmptyLine).join('\\n');\n\t\t\tprefixFragment = [customExtensions, generatePrecision(parameters), '#define SHADER_NAME ' + parameters.shaderName, customDefines, parameters.useFog && parameters.fog ? '#define USE_FOG' : '', parameters.useFog && parameters.fogExp2 ? '#define FOG_EXP2' : '', parameters.map ? '#define USE_MAP' : '', parameters.matcap ? '#define USE_MATCAP' : '', parameters.envMap ? '#define USE_ENVMAP' : '', parameters.envMap ? '#define ' + envMapTypeDefine : '', parameters.envMap ? '#define ' + envMapModeDefine : '', parameters.envMap ? '#define ' + envMapBlendingDefine : '', envMapCubeUVSize ? '#define CUBEUV_TEXEL_WIDTH ' + envMapCubeUVSize.texelWidth : '', envMapCubeUVSize ? '#define CUBEUV_TEXEL_HEIGHT ' + envMapCubeUVSize.texelHeight : '', envMapCubeUVSize ? '#define CUBEUV_MAX_MIP ' + envMapCubeUVSize.maxMip + '.0' : '', parameters.lightMap ? '#define USE_LIGHTMAP' : '', parameters.aoMap ? '#define USE_AOMAP' : '', parameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '', parameters.bumpMap ? '#define USE_BUMPMAP' : '', parameters.normalMap ? '#define USE_NORMALMAP' : '', parameters.normalMap && parameters.objectSpaceNormalMap ? '#define OBJECTSPACE_NORMALMAP' : '', parameters.normalMap && parameters.tangentSpaceNormalMap ? '#define TANGENTSPACE_NORMALMAP' : '', parameters.clearcoat ? '#define USE_CLEARCOAT' : '', parameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '', parameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '', parameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '', parameters.iridescence ? '#define USE_IRIDESCENCE' : '', parameters.iridescenceMap ? '#define USE_IRIDESCENCEMAP' : '', parameters.iridescenceThicknessMap ? '#define USE_IRIDESCENCE_THICKNESSMAP' : '', parameters.specularMap ? '#define USE_SPECULARMAP' : '', parameters.specularIntensityMap ? '#define USE_SPECULARINTENSITYMAP' : '', parameters.specularColorMap ? '#define USE_SPECULARCOLORMAP' : '', parameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '', parameters.metalnessMap ? '#define USE_METALNESSMAP' : '', parameters.alphaMap ? '#define USE_ALPHAMAP' : '', parameters.alphaTest ? '#define USE_ALPHATEST' : '', parameters.sheen ? '#define USE_SHEEN' : '', parameters.sheenColorMap ? '#define USE_SHEENCOLORMAP' : '', parameters.sheenRoughnessMap ? '#define USE_SHEENROUGHNESSMAP' : '', parameters.transmission ? '#define USE_TRANSMISSION' : '', parameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '', parameters.thicknessMap ? '#define USE_THICKNESSMAP' : '', parameters.decodeVideoTexture ? '#define DECODE_VIDEO_TEXTURE' : '', parameters.vertexTangents ? '#define USE_TANGENT' : '', parameters.vertexColors || parameters.instancingColor ? '#define USE_COLOR' : '', parameters.vertexAlphas ? '#define USE_COLOR_ALPHA' : '', parameters.vertexUvs ? '#define USE_UV' : '', parameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '', parameters.gradientMap ? '#define USE_GRADIENTMAP' : '', parameters.flatShading ? '#define FLAT_SHADED' : '', parameters.doubleSided ? '#define DOUBLE_SIDED' : '', parameters.flipSided ? '#define FLIP_SIDED' : '', parameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '', parameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '', parameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '', parameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '', parameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '', parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ? '#define USE_LOGDEPTHBUF_EXT' : '', 'uniform mat4 viewMatrix;', 'uniform vec3 cameraPosition;', 'uniform bool isOrthographic;', parameters.toneMapping !== NoToneMapping ? '#define TONE_MAPPING' : '', parameters.toneMapping !== NoToneMapping ? ShaderChunk['tonemapping_pars_fragment'] : '', // this code is required here because it is used by the toneMapping() function defined below\n\t\t\tparameters.toneMapping !== NoToneMapping ? getToneMappingFunction('toneMapping', parameters.toneMapping) : '', parameters.dithering ? '#define DITHERING' : '', parameters.opaque ? '#define OPAQUE' : '', ShaderChunk['encodings_pars_fragment'], // this code is required here because it is used by the various encoding/decoding function defined below\n\t\t\tgetTexelEncodingFunction('linearToOutputTexel', parameters.outputEncoding), parameters.useDepthPacking ? '#define DEPTH_PACKING ' + parameters.depthPacking : '', '\\n'].filter(filterEmptyLine).join('\\n');\n\t\t}\n\n\t\tvertexShader = resolveIncludes(vertexShader);\n\t\tvertexShader = replaceLightNums(vertexShader, parameters);\n\t\tvertexShader = replaceClippingPlaneNums(vertexShader, parameters);\n\t\tfragmentShader = resolveIncludes(fragmentShader);\n\t\tfragmentShader = replaceLightNums(fragmentShader, parameters);\n\t\tfragmentShader = replaceClippingPlaneNums(fragmentShader, parameters);\n\t\tvertexShader = unrollLoops(vertexShader);\n\t\tfragmentShader = unrollLoops(fragmentShader);\n\n\t\tif (parameters.isWebGL2 && parameters.isRawShaderMaterial !== true) {\n\t\t\t// GLSL 3.0 conversion for built-in materials and ShaderMaterial\n\t\t\tversionString = '#version 300 es\\n';\n\t\t\tprefixVertex = ['precision mediump sampler2DArray;', '#define attribute in', '#define varying out', '#define texture2D texture'].join('\\n') + '\\n' + prefixVertex;\n\t\t\tprefixFragment = ['#define varying in', parameters.glslVersion === GLSL3 ? '' : 'layout(location = 0) out highp vec4 pc_fragColor;', parameters.glslVersion === GLSL3 ? '' : '#define gl_FragColor pc_fragColor', '#define gl_FragDepthEXT gl_FragDepth', '#define texture2D texture', '#define textureCube texture', '#define texture2DProj textureProj', '#define texture2DLodEXT textureLod', '#define texture2DProjLodEXT textureProjLod', '#define textureCubeLodEXT textureLod', '#define texture2DGradEXT textureGrad', '#define texture2DProjGradEXT textureProjGrad', '#define textureCubeGradEXT textureGrad'].join('\\n') + '\\n' + prefixFragment;\n\t\t}\n\n\t\tconst vertexGlsl = versionString + prefixVertex + vertexShader;\n\t\tconst fragmentGlsl = versionString + prefixFragment + fragmentShader; // console.log( '*VERTEX*', vertexGlsl );\n\t\t// console.log( '*FRAGMENT*', fragmentGlsl );\n\n\t\tconst glVertexShader = WebGLShader(gl, gl.VERTEX_SHADER, vertexGlsl);\n\t\tconst glFragmentShader = WebGLShader(gl, gl.FRAGMENT_SHADER, fragmentGlsl);\n\t\tgl.attachShader(program, glVertexShader);\n\t\tgl.attachShader(program, glFragmentShader); // Force a particular attribute to index 0.\n\n\t\tif (parameters.index0AttributeName !== undefined) {\n\t\t\tgl.bindAttribLocation(program, 0, parameters.index0AttributeName);\n\t\t} else if (parameters.morphTargets === true) {\n\t\t\t// programs with morphTargets displace position out of attribute 0\n\t\t\tgl.bindAttribLocation(program, 0, 'position');\n\t\t}\n\n\t\tgl.linkProgram(program); // check for link errors\n\n\t\tif (renderer.debug.checkShaderErrors) {\n\t\t\tconst programLog = gl.getProgramInfoLog(program).trim();\n\t\t\tconst vertexLog = gl.getShaderInfoLog(glVertexShader).trim();\n\t\t\tconst fragmentLog = gl.getShaderInfoLog(glFragmentShader).trim();\n\t\t\tlet runnable = true;\n\t\t\tlet haveDiagnostics = true;\n\n\t\t\tif (gl.getProgramParameter(program, gl.LINK_STATUS) === false) {\n\t\t\t\trunnable = false;\n\t\t\t\tconst vertexErrors = getShaderErrors(gl, glVertexShader, 'vertex');\n\t\t\t\tconst fragmentErrors = getShaderErrors(gl, glFragmentShader, 'fragment');\n\t\t\t\tconsole.error('THREE.WebGLProgram: Shader Error ' + gl.getError() + ' - ' + 'VALIDATE_STATUS ' + gl.getProgramParameter(program, gl.VALIDATE_STATUS) + '\\n\\n' + 'Program Info Log: ' + programLog + '\\n' + vertexErrors + '\\n' + fragmentErrors);\n\t\t\t} else if (programLog !== '') {\n\t\t\t\tconsole.warn('THREE.WebGLProgram: Program Info Log:', programLog);\n\t\t\t} else if (vertexLog === '' || fragmentLog === '') {\n\t\t\t\thaveDiagnostics = false;\n\t\t\t}\n\n\t\t\tif (haveDiagnostics) {\n\t\t\t\tthis.diagnostics = {\n\t\t\t\t\trunnable: runnable,\n\t\t\t\t\tprogramLog: programLog,\n\t\t\t\t\tvertexShader: {\n\t\t\t\t\t\tlog: vertexLog,\n\t\t\t\t\t\tprefix: prefixVertex\n\t\t\t\t\t},\n\t\t\t\t\tfragmentShader: {\n\t\t\t\t\t\tlog: fragmentLog,\n\t\t\t\t\t\tprefix: prefixFragment\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t} // Clean up\n\t\t// Crashes in iOS9 and iOS10. #18402\n\t\t// gl.detachShader( program, glVertexShader );\n\t\t// gl.detachShader( program, glFragmentShader );\n\n\n\t\tgl.deleteShader(glVertexShader);\n\t\tgl.deleteShader(glFragmentShader); // set up caching for uniform locations\n\n\t\tlet cachedUniforms;\n\n\t\tthis.getUniforms = function () {\n\t\t\tif (cachedUniforms === undefined) {\n\t\t\t\tcachedUniforms = new WebGLUniforms(gl, program);\n\t\t\t}\n\n\t\t\treturn cachedUniforms;\n\t\t}; // set up caching for attribute locations\n\n\n\t\tlet cachedAttributes;\n\n\t\tthis.getAttributes = function () {\n\t\t\tif (cachedAttributes === undefined) {\n\t\t\t\tcachedAttributes = fetchAttributeLocations(gl, program);\n\t\t\t}\n\n\t\t\treturn cachedAttributes;\n\t\t}; // free resource\n\n\n\t\tthis.destroy = function () {\n\t\t\tbindingStates.releaseStatesOfProgram(this);\n\t\t\tgl.deleteProgram(program);\n\t\t\tthis.program = undefined;\n\t\t}; //\n\n\n\t\tthis.name = parameters.shaderName;\n\t\tthis.id = programIdCount++;\n\t\tthis.cacheKey = cacheKey;\n\t\tthis.usedTimes = 1;\n\t\tthis.program = program;\n\t\tthis.vertexShader = glVertexShader;\n\t\tthis.fragmentShader = glFragmentShader;\n\t\treturn this;\n\t}\n\n\tlet _id = 0;\n\n\tclass WebGLShaderCache {\n\t\tconstructor() {\n\t\t\tthis.shaderCache = new Map();\n\t\t\tthis.materialCache = new Map();\n\t\t}\n\n\t\tupdate(material) {\n\t\t\tconst vertexShader = material.vertexShader;\n\t\t\tconst fragmentShader = material.fragmentShader;\n\n\t\t\tconst vertexShaderStage = this._getShaderStage(vertexShader);\n\n\t\t\tconst fragmentShaderStage = this._getShaderStage(fragmentShader);\n\n\t\t\tconst materialShaders = this._getShaderCacheForMaterial(material);\n\n\t\t\tif (materialShaders.has(vertexShaderStage) === false) {\n\t\t\t\tmaterialShaders.add(vertexShaderStage);\n\t\t\t\tvertexShaderStage.usedTimes++;\n\t\t\t}\n\n\t\t\tif (materialShaders.has(fragmentShaderStage) === false) {\n\t\t\t\tmaterialShaders.add(fragmentShaderStage);\n\t\t\t\tfragmentShaderStage.usedTimes++;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tremove(material) {\n\t\t\tconst materialShaders = this.materialCache.get(material);\n\n\t\t\tfor (const shaderStage of materialShaders) {\n\t\t\t\tshaderStage.usedTimes--;\n\t\t\t\tif (shaderStage.usedTimes === 0) this.shaderCache.delete(shaderStage.code);\n\t\t\t}\n\n\t\t\tthis.materialCache.delete(material);\n\t\t\treturn this;\n\t\t}\n\n\t\tgetVertexShaderID(material) {\n\t\t\treturn this._getShaderStage(material.vertexShader).id;\n\t\t}\n\n\t\tgetFragmentShaderID(material) {\n\t\t\treturn this._getShaderStage(material.fragmentShader).id;\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.shaderCache.clear();\n\t\t\tthis.materialCache.clear();\n\t\t}\n\n\t\t_getShaderCacheForMaterial(material) {\n\t\t\tconst cache = this.materialCache;\n\n\t\t\tif (cache.has(material) === false) {\n\t\t\t\tcache.set(material, new Set());\n\t\t\t}\n\n\t\t\treturn cache.get(material);\n\t\t}\n\n\t\t_getShaderStage(code) {\n\t\t\tconst cache = this.shaderCache;\n\n\t\t\tif (cache.has(code) === false) {\n\t\t\t\tconst stage = new WebGLShaderStage(code);\n\t\t\t\tcache.set(code, stage);\n\t\t\t}\n\n\t\t\treturn cache.get(code);\n\t\t}\n\n\t}\n\n\tclass WebGLShaderStage {\n\t\tconstructor(code) {\n\t\t\tthis.id = _id++;\n\t\t\tthis.code = code;\n\t\t\tthis.usedTimes = 0;\n\t\t}\n\n\t}\n\n\tfunction WebGLPrograms(renderer, cubemaps, cubeuvmaps, extensions, capabilities, bindingStates, clipping) {\n\t\tconst _programLayers = new Layers();\n\n\t\tconst _customShaders = new WebGLShaderCache();\n\n\t\tconst programs = [];\n\t\tconst isWebGL2 = capabilities.isWebGL2;\n\t\tconst logarithmicDepthBuffer = capabilities.logarithmicDepthBuffer;\n\t\tconst vertexTextures = capabilities.vertexTextures;\n\t\tlet precision = capabilities.precision;\n\t\tconst shaderIDs = {\n\t\t\tMeshDepthMaterial: 'depth',\n\t\t\tMeshDistanceMaterial: 'distanceRGBA',\n\t\t\tMeshNormalMaterial: 'normal',\n\t\t\tMeshBasicMaterial: 'basic',\n\t\t\tMeshLambertMaterial: 'lambert',\n\t\t\tMeshPhongMaterial: 'phong',\n\t\t\tMeshToonMaterial: 'toon',\n\t\t\tMeshStandardMaterial: 'physical',\n\t\t\tMeshPhysicalMaterial: 'physical',\n\t\t\tMeshMatcapMaterial: 'matcap',\n\t\t\tLineBasicMaterial: 'basic',\n\t\t\tLineDashedMaterial: 'dashed',\n\t\t\tPointsMaterial: 'points',\n\t\t\tShadowMaterial: 'shadow',\n\t\t\tSpriteMaterial: 'sprite'\n\t\t};\n\n\t\tfunction getParameters(material, lights, shadows, scene, object) {\n\t\t\tconst fog = scene.fog;\n\t\t\tconst geometry = object.geometry;\n\t\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\t\tconst envMap = (material.isMeshStandardMaterial ? cubeuvmaps : cubemaps).get(material.envMap || environment);\n\t\t\tconst envMapCubeUVHeight = !!envMap && envMap.mapping === CubeUVReflectionMapping ? envMap.image.height : null;\n\t\t\tconst shaderID = shaderIDs[material.type]; // heuristics to create shader parameters according to lights in the scene\n\t\t\t// (not to blow over maxLights budget)\n\n\t\t\tif (material.precision !== null) {\n\t\t\t\tprecision = capabilities.getMaxPrecision(material.precision);\n\n\t\t\t\tif (precision !== material.precision) {\n\t\t\t\t\tconsole.warn('THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.');\n\t\t\t\t}\n\t\t\t} //\n\n\n\t\t\tconst morphAttribute = geometry.morphAttributes.position || geometry.morphAttributes.normal || geometry.morphAttributes.color;\n\t\t\tconst morphTargetsCount = morphAttribute !== undefined ? morphAttribute.length : 0;\n\t\t\tlet morphTextureStride = 0;\n\t\t\tif (geometry.morphAttributes.position !== undefined) morphTextureStride = 1;\n\t\t\tif (geometry.morphAttributes.normal !== undefined) morphTextureStride = 2;\n\t\t\tif (geometry.morphAttributes.color !== undefined) morphTextureStride = 3; //\n\n\t\t\tlet vertexShader, fragmentShader;\n\t\t\tlet customVertexShaderID, customFragmentShaderID;\n\n\t\t\tif (shaderID) {\n\t\t\t\tconst shader = ShaderLib[shaderID];\n\t\t\t\tvertexShader = shader.vertexShader;\n\t\t\t\tfragmentShader = shader.fragmentShader;\n\t\t\t} else {\n\t\t\t\tvertexShader = material.vertexShader;\n\t\t\t\tfragmentShader = material.fragmentShader;\n\n\t\t\t\t_customShaders.update(material);\n\n\t\t\t\tcustomVertexShaderID = _customShaders.getVertexShaderID(material);\n\t\t\t\tcustomFragmentShaderID = _customShaders.getFragmentShaderID(material);\n\t\t\t}\n\n\t\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\t\t\tconst useAlphaTest = material.alphaTest > 0;\n\t\t\tconst useClearcoat = material.clearcoat > 0;\n\t\t\tconst useIridescence = material.iridescence > 0;\n\t\t\tconst parameters = {\n\t\t\t\tisWebGL2: isWebGL2,\n\t\t\t\tshaderID: shaderID,\n\t\t\t\tshaderName: material.type,\n\t\t\t\tvertexShader: vertexShader,\n\t\t\t\tfragmentShader: fragmentShader,\n\t\t\t\tdefines: material.defines,\n\t\t\t\tcustomVertexShaderID: customVertexShaderID,\n\t\t\t\tcustomFragmentShaderID: customFragmentShaderID,\n\t\t\t\tisRawShaderMaterial: material.isRawShaderMaterial === true,\n\t\t\t\tglslVersion: material.glslVersion,\n\t\t\t\tprecision: precision,\n\t\t\t\tinstancing: object.isInstancedMesh === true,\n\t\t\t\tinstancingColor: object.isInstancedMesh === true && object.instanceColor !== null,\n\t\t\t\tsupportsVertexTextures: vertexTextures,\n\t\t\t\toutputEncoding: currentRenderTarget === null ? renderer.outputEncoding : currentRenderTarget.isXRRenderTarget === true ? currentRenderTarget.texture.encoding : LinearEncoding,\n\t\t\t\tmap: !!material.map,\n\t\t\t\tmatcap: !!material.matcap,\n\t\t\t\tenvMap: !!envMap,\n\t\t\t\tenvMapMode: envMap && envMap.mapping,\n\t\t\t\tenvMapCubeUVHeight: envMapCubeUVHeight,\n\t\t\t\tlightMap: !!material.lightMap,\n\t\t\t\taoMap: !!material.aoMap,\n\t\t\t\temissiveMap: !!material.emissiveMap,\n\t\t\t\tbumpMap: !!material.bumpMap,\n\t\t\t\tnormalMap: !!material.normalMap,\n\t\t\t\tobjectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\n\t\t\t\ttangentSpaceNormalMap: material.normalMapType === TangentSpaceNormalMap,\n\t\t\t\tdecodeVideoTexture: !!material.map && material.map.isVideoTexture === true && material.map.encoding === sRGBEncoding,\n\t\t\t\tclearcoat: useClearcoat,\n\t\t\t\tclearcoatMap: useClearcoat && !!material.clearcoatMap,\n\t\t\t\tclearcoatRoughnessMap: useClearcoat && !!material.clearcoatRoughnessMap,\n\t\t\t\tclearcoatNormalMap: useClearcoat && !!material.clearcoatNormalMap,\n\t\t\t\tiridescence: useIridescence,\n\t\t\t\tiridescenceMap: useIridescence && !!material.iridescenceMap,\n\t\t\t\tiridescenceThicknessMap: useIridescence && !!material.iridescenceThicknessMap,\n\t\t\t\tdisplacementMap: !!material.displacementMap,\n\t\t\t\troughnessMap: !!material.roughnessMap,\n\t\t\t\tmetalnessMap: !!material.metalnessMap,\n\t\t\t\tspecularMap: !!material.specularMap,\n\t\t\t\tspecularIntensityMap: !!material.specularIntensityMap,\n\t\t\t\tspecularColorMap: !!material.specularColorMap,\n\t\t\t\topaque: material.transparent === false && material.blending === NormalBlending,\n\t\t\t\talphaMap: !!material.alphaMap,\n\t\t\t\talphaTest: useAlphaTest,\n\t\t\t\tgradientMap: !!material.gradientMap,\n\t\t\t\tsheen: material.sheen > 0,\n\t\t\t\tsheenColorMap: !!material.sheenColorMap,\n\t\t\t\tsheenRoughnessMap: !!material.sheenRoughnessMap,\n\t\t\t\ttransmission: material.transmission > 0,\n\t\t\t\ttransmissionMap: !!material.transmissionMap,\n\t\t\t\tthicknessMap: !!material.thicknessMap,\n\t\t\t\tcombine: material.combine,\n\t\t\t\tvertexTangents: !!material.normalMap && !!geometry.attributes.tangent,\n\t\t\t\tvertexColors: material.vertexColors,\n\t\t\t\tvertexAlphas: material.vertexColors === true && !!geometry.attributes.color && geometry.attributes.color.itemSize === 4,\n\t\t\t\tvertexUvs: !!material.map || !!material.bumpMap || !!material.normalMap || !!material.specularMap || !!material.alphaMap || !!material.emissiveMap || !!material.roughnessMap || !!material.metalnessMap || !!material.clearcoatMap || !!material.clearcoatRoughnessMap || !!material.clearcoatNormalMap || !!material.iridescenceMap || !!material.iridescenceThicknessMap || !!material.displacementMap || !!material.transmissionMap || !!material.thicknessMap || !!material.specularIntensityMap || !!material.specularColorMap || !!material.sheenColorMap || !!material.sheenRoughnessMap,\n\t\t\t\tuvsVertexOnly: !(!!material.map || !!material.bumpMap || !!material.normalMap || !!material.specularMap || !!material.alphaMap || !!material.emissiveMap || !!material.roughnessMap || !!material.metalnessMap || !!material.clearcoatNormalMap || !!material.iridescenceMap || !!material.iridescenceThicknessMap || material.transmission > 0 || !!material.transmissionMap || !!material.thicknessMap || !!material.specularIntensityMap || !!material.specularColorMap || material.sheen > 0 || !!material.sheenColorMap || !!material.sheenRoughnessMap) && !!material.displacementMap,\n\t\t\t\tfog: !!fog,\n\t\t\t\tuseFog: material.fog === true,\n\t\t\t\tfogExp2: fog && fog.isFogExp2,\n\t\t\t\tflatShading: !!material.flatShading,\n\t\t\t\tsizeAttenuation: material.sizeAttenuation,\n\t\t\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\t\t\t\tskinning: object.isSkinnedMesh === true,\n\t\t\t\tmorphTargets: geometry.morphAttributes.position !== undefined,\n\t\t\t\tmorphNormals: geometry.morphAttributes.normal !== undefined,\n\t\t\t\tmorphColors: geometry.morphAttributes.color !== undefined,\n\t\t\t\tmorphTargetsCount: morphTargetsCount,\n\t\t\t\tmorphTextureStride: morphTextureStride,\n\t\t\t\tnumDirLights: lights.directional.length,\n\t\t\t\tnumPointLights: lights.point.length,\n\t\t\t\tnumSpotLights: lights.spot.length,\n\t\t\t\tnumRectAreaLights: lights.rectArea.length,\n\t\t\t\tnumHemiLights: lights.hemi.length,\n\t\t\t\tnumDirLightShadows: lights.directionalShadowMap.length,\n\t\t\t\tnumPointLightShadows: lights.pointShadowMap.length,\n\t\t\t\tnumSpotLightShadows: lights.spotShadowMap.length,\n\t\t\t\tnumClippingPlanes: clipping.numPlanes,\n\t\t\t\tnumClipIntersection: clipping.numIntersection,\n\t\t\t\tdithering: material.dithering,\n\t\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && shadows.length > 0,\n\t\t\t\tshadowMapType: renderer.shadowMap.type,\n\t\t\t\ttoneMapping: material.toneMapped ? renderer.toneMapping : NoToneMapping,\n\t\t\t\tphysicallyCorrectLights: renderer.physicallyCorrectLights,\n\t\t\t\tpremultipliedAlpha: material.premultipliedAlpha,\n\t\t\t\tdoubleSided: material.side === DoubleSide,\n\t\t\t\tflipSided: material.side === BackSide,\n\t\t\t\tuseDepthPacking: !!material.depthPacking,\n\t\t\t\tdepthPacking: material.depthPacking || 0,\n\t\t\t\tindex0AttributeName: material.index0AttributeName,\n\t\t\t\textensionDerivatives: material.extensions && material.extensions.derivatives,\n\t\t\t\textensionFragDepth: material.extensions && material.extensions.fragDepth,\n\t\t\t\textensionDrawBuffers: material.extensions && material.extensions.drawBuffers,\n\t\t\t\textensionShaderTextureLOD: material.extensions && material.extensions.shaderTextureLOD,\n\t\t\t\trendererExtensionFragDepth: isWebGL2 || extensions.has('EXT_frag_depth'),\n\t\t\t\trendererExtensionDrawBuffers: isWebGL2 || extensions.has('WEBGL_draw_buffers'),\n\t\t\t\trendererExtensionShaderTextureLod: isWebGL2 || extensions.has('EXT_shader_texture_lod'),\n\t\t\t\tcustomProgramCacheKey: material.customProgramCacheKey()\n\t\t\t};\n\t\t\treturn parameters;\n\t\t}\n\n\t\tfunction getProgramCacheKey(parameters) {\n\t\t\tconst array = [];\n\n\t\t\tif (parameters.shaderID) {\n\t\t\t\tarray.push(parameters.shaderID);\n\t\t\t} else {\n\t\t\t\tarray.push(parameters.customVertexShaderID);\n\t\t\t\tarray.push(parameters.customFragmentShaderID);\n\t\t\t}\n\n\t\t\tif (parameters.defines !== undefined) {\n\t\t\t\tfor (const name in parameters.defines) {\n\t\t\t\t\tarray.push(name);\n\t\t\t\t\tarray.push(parameters.defines[name]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (parameters.isRawShaderMaterial === false) {\n\t\t\t\tgetProgramCacheKeyParameters(array, parameters);\n\t\t\t\tgetProgramCacheKeyBooleans(array, parameters);\n\t\t\t\tarray.push(renderer.outputEncoding);\n\t\t\t}\n\n\t\t\tarray.push(parameters.customProgramCacheKey);\n\t\t\treturn array.join();\n\t\t}\n\n\t\tfunction getProgramCacheKeyParameters(array, parameters) {\n\t\t\tarray.push(parameters.precision);\n\t\t\tarray.push(parameters.outputEncoding);\n\t\t\tarray.push(parameters.envMapMode);\n\t\t\tarray.push(parameters.envMapCubeUVHeight);\n\t\t\tarray.push(parameters.combine);\n\t\t\tarray.push(parameters.vertexUvs);\n\t\t\tarray.push(parameters.fogExp2);\n\t\t\tarray.push(parameters.sizeAttenuation);\n\t\t\tarray.push(parameters.morphTargetsCount);\n\t\t\tarray.push(parameters.morphAttributeCount);\n\t\t\tarray.push(parameters.numDirLights);\n\t\t\tarray.push(parameters.numPointLights);\n\t\t\tarray.push(parameters.numSpotLights);\n\t\t\tarray.push(parameters.numHemiLights);\n\t\t\tarray.push(parameters.numRectAreaLights);\n\t\t\tarray.push(parameters.numDirLightShadows);\n\t\t\tarray.push(parameters.numPointLightShadows);\n\t\t\tarray.push(parameters.numSpotLightShadows);\n\t\t\tarray.push(parameters.shadowMapType);\n\t\t\tarray.push(parameters.toneMapping);\n\t\t\tarray.push(parameters.numClippingPlanes);\n\t\t\tarray.push(parameters.numClipIntersection);\n\t\t\tarray.push(parameters.depthPacking);\n\t\t}\n\n\t\tfunction getProgramCacheKeyBooleans(array, parameters) {\n\t\t\t_programLayers.disableAll();\n\n\t\t\tif (parameters.isWebGL2) _programLayers.enable(0);\n\t\t\tif (parameters.supportsVertexTextures) _programLayers.enable(1);\n\t\t\tif (parameters.instancing) _programLayers.enable(2);\n\t\t\tif (parameters.instancingColor) _programLayers.enable(3);\n\t\t\tif (parameters.map) _programLayers.enable(4);\n\t\t\tif (parameters.matcap) _programLayers.enable(5);\n\t\t\tif (parameters.envMap) _programLayers.enable(6);\n\t\t\tif (parameters.lightMap) _programLayers.enable(7);\n\t\t\tif (parameters.aoMap) _programLayers.enable(8);\n\t\t\tif (parameters.emissiveMap) _programLayers.enable(9);\n\t\t\tif (parameters.bumpMap) _programLayers.enable(10);\n\t\t\tif (parameters.normalMap) _programLayers.enable(11);\n\t\t\tif (parameters.objectSpaceNormalMap) _programLayers.enable(12);\n\t\t\tif (parameters.tangentSpaceNormalMap) _programLayers.enable(13);\n\t\t\tif (parameters.clearcoat) _programLayers.enable(14);\n\t\t\tif (parameters.clearcoatMap) _programLayers.enable(15);\n\t\t\tif (parameters.clearcoatRoughnessMap) _programLayers.enable(16);\n\t\t\tif (parameters.clearcoatNormalMap) _programLayers.enable(17);\n\t\t\tif (parameters.iridescence) _programLayers.enable(18);\n\t\t\tif (parameters.iridescenceMap) _programLayers.enable(19);\n\t\t\tif (parameters.iridescenceThicknessMap) _programLayers.enable(20);\n\t\t\tif (parameters.displacementMap) _programLayers.enable(21);\n\t\t\tif (parameters.specularMap) _programLayers.enable(22);\n\t\t\tif (parameters.roughnessMap) _programLayers.enable(23);\n\t\t\tif (parameters.metalnessMap) _programLayers.enable(24);\n\t\t\tif (parameters.gradientMap) _programLayers.enable(25);\n\t\t\tif (parameters.alphaMap) _programLayers.enable(26);\n\t\t\tif (parameters.alphaTest) _programLayers.enable(27);\n\t\t\tif (parameters.vertexColors) _programLayers.enable(28);\n\t\t\tif (parameters.vertexAlphas) _programLayers.enable(29);\n\t\t\tif (parameters.vertexUvs) _programLayers.enable(30);\n\t\t\tif (parameters.vertexTangents) _programLayers.enable(31);\n\t\t\tif (parameters.uvsVertexOnly) _programLayers.enable(32);\n\t\t\tif (parameters.fog) _programLayers.enable(33);\n\t\t\tarray.push(_programLayers.mask);\n\n\t\t\t_programLayers.disableAll();\n\n\t\t\tif (parameters.useFog) _programLayers.enable(0);\n\t\t\tif (parameters.flatShading) _programLayers.enable(1);\n\t\t\tif (parameters.logarithmicDepthBuffer) _programLayers.enable(2);\n\t\t\tif (parameters.skinning) _programLayers.enable(3);\n\t\t\tif (parameters.morphTargets) _programLayers.enable(4);\n\t\t\tif (parameters.morphNormals) _programLayers.enable(5);\n\t\t\tif (parameters.morphColors) _programLayers.enable(6);\n\t\t\tif (parameters.premultipliedAlpha) _programLayers.enable(7);\n\t\t\tif (parameters.shadowMapEnabled) _programLayers.enable(8);\n\t\t\tif (parameters.physicallyCorrectLights) _programLayers.enable(9);\n\t\t\tif (parameters.doubleSided) _programLayers.enable(10);\n\t\t\tif (parameters.flipSided) _programLayers.enable(11);\n\t\t\tif (parameters.useDepthPacking) _programLayers.enable(12);\n\t\t\tif (parameters.dithering) _programLayers.enable(13);\n\t\t\tif (parameters.specularIntensityMap) _programLayers.enable(14);\n\t\t\tif (parameters.specularColorMap) _programLayers.enable(15);\n\t\t\tif (parameters.transmission) _programLayers.enable(16);\n\t\t\tif (parameters.transmissionMap) _programLayers.enable(17);\n\t\t\tif (parameters.thicknessMap) _programLayers.enable(18);\n\t\t\tif (parameters.sheen) _programLayers.enable(19);\n\t\t\tif (parameters.sheenColorMap) _programLayers.enable(20);\n\t\t\tif (parameters.sheenRoughnessMap) _programLayers.enable(21);\n\t\t\tif (parameters.decodeVideoTexture) _programLayers.enable(22);\n\t\t\tif (parameters.opaque) _programLayers.enable(23);\n\t\t\tarray.push(_programLayers.mask);\n\t\t}\n\n\t\tfunction getUniforms(material) {\n\t\t\tconst shaderID = shaderIDs[material.type];\n\t\t\tlet uniforms;\n\n\t\t\tif (shaderID) {\n\t\t\t\tconst shader = ShaderLib[shaderID];\n\t\t\t\tuniforms = UniformsUtils.clone(shader.uniforms);\n\t\t\t} else {\n\t\t\t\tuniforms = material.uniforms;\n\t\t\t}\n\n\t\t\treturn uniforms;\n\t\t}\n\n\t\tfunction acquireProgram(parameters, cacheKey) {\n\t\t\tlet program; // Check if code has been already compiled\n\n\t\t\tfor (let p = 0, pl = programs.length; p < pl; p++) {\n\t\t\t\tconst preexistingProgram = programs[p];\n\n\t\t\t\tif (preexistingProgram.cacheKey === cacheKey) {\n\t\t\t\t\tprogram = preexistingProgram;\n\t\t\t\t\t++program.usedTimes;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (program === undefined) {\n\t\t\t\tprogram = new WebGLProgram(renderer, cacheKey, parameters, bindingStates);\n\t\t\t\tprograms.push(program);\n\t\t\t}\n\n\t\t\treturn program;\n\t\t}\n\n\t\tfunction releaseProgram(program) {\n\t\t\tif (--program.usedTimes === 0) {\n\t\t\t\t// Remove from unordered set\n\t\t\t\tconst i = programs.indexOf(program);\n\t\t\t\tprograms[i] = programs[programs.length - 1];\n\t\t\t\tprograms.pop(); // Free WebGL resources\n\n\t\t\t\tprogram.destroy();\n\t\t\t}\n\t\t}\n\n\t\tfunction releaseShaderCache(material) {\n\t\t\t_customShaders.remove(material);\n\t\t}\n\n\t\tfunction dispose() {\n\t\t\t_customShaders.dispose();\n\t\t}\n\n\t\treturn {\n\t\t\tgetParameters: getParameters,\n\t\t\tgetProgramCacheKey: getProgramCacheKey,\n\t\t\tgetUniforms: getUniforms,\n\t\t\tacquireProgram: acquireProgram,\n\t\t\treleaseProgram: releaseProgram,\n\t\t\treleaseShaderCache: releaseShaderCache,\n\t\t\t// Exposed for resource monitoring & error feedback via renderer.info:\n\t\t\tprograms: programs,\n\t\t\tdispose: dispose\n\t\t};\n\t}\n\n\tfunction WebGLProperties() {\n\t\tlet properties = new WeakMap();\n\n\t\tfunction get(object) {\n\t\t\tlet map = properties.get(object);\n\n\t\t\tif (map === undefined) {\n\t\t\t\tmap = {};\n\t\t\t\tproperties.set(object, map);\n\t\t\t}\n\n\t\t\treturn map;\n\t\t}\n\n\t\tfunction remove(object) {\n\t\t\tproperties.delete(object);\n\t\t}\n\n\t\tfunction update(object, key, value) {\n\t\t\tproperties.get(object)[key] = value;\n\t\t}\n\n\t\tfunction dispose() {\n\t\t\tproperties = new WeakMap();\n\t\t}\n\n\t\treturn {\n\t\t\tget: get,\n\t\t\tremove: remove,\n\t\t\tupdate: update,\n\t\t\tdispose: dispose\n\t\t};\n\t}\n\n\tfunction painterSortStable(a, b) {\n\t\tif (a.groupOrder !== b.groupOrder) {\n\t\t\treturn a.groupOrder - b.groupOrder;\n\t\t} else if (a.renderOrder !== b.renderOrder) {\n\t\t\treturn a.renderOrder - b.renderOrder;\n\t\t} else if (a.material.id !== b.material.id) {\n\t\t\treturn a.material.id - b.material.id;\n\t\t} else if (a.z !== b.z) {\n\t\t\treturn a.z - b.z;\n\t\t} else {\n\t\t\treturn a.id - b.id;\n\t\t}\n\t}\n\n\tfunction reversePainterSortStable(a, b) {\n\t\tif (a.groupOrder !== b.groupOrder) {\n\t\t\treturn a.groupOrder - b.groupOrder;\n\t\t} else if (a.renderOrder !== b.renderOrder) {\n\t\t\treturn a.renderOrder - b.renderOrder;\n\t\t} else if (a.z !== b.z) {\n\t\t\treturn b.z - a.z;\n\t\t} else {\n\t\t\treturn a.id - b.id;\n\t\t}\n\t}\n\n\tfunction WebGLRenderList() {\n\t\tconst renderItems = [];\n\t\tlet renderItemsIndex = 0;\n\t\tconst opaque = [];\n\t\tconst transmissive = [];\n\t\tconst transparent = [];\n\n\t\tfunction init() {\n\t\t\trenderItemsIndex = 0;\n\t\t\topaque.length = 0;\n\t\t\ttransmissive.length = 0;\n\t\t\ttransparent.length = 0;\n\t\t}\n\n\t\tfunction getNextRenderItem(object, geometry, material, groupOrder, z, group) {\n\t\t\tlet renderItem = renderItems[renderItemsIndex];\n\n\t\t\tif (renderItem === undefined) {\n\t\t\t\trenderItem = {\n\t\t\t\t\tid: object.id,\n\t\t\t\t\tobject: object,\n\t\t\t\t\tgeometry: geometry,\n\t\t\t\t\tmaterial: material,\n\t\t\t\t\tgroupOrder: groupOrder,\n\t\t\t\t\trenderOrder: object.renderOrder,\n\t\t\t\t\tz: z,\n\t\t\t\t\tgroup: group\n\t\t\t\t};\n\t\t\t\trenderItems[renderItemsIndex] = renderItem;\n\t\t\t} else {\n\t\t\t\trenderItem.id = object.id;\n\t\t\t\trenderItem.object = object;\n\t\t\t\trenderItem.geometry = geometry;\n\t\t\t\trenderItem.material = material;\n\t\t\t\trenderItem.groupOrder = groupOrder;\n\t\t\t\trenderItem.renderOrder = object.renderOrder;\n\t\t\t\trenderItem.z = z;\n\t\t\t\trenderItem.group = group;\n\t\t\t}\n\n\t\t\trenderItemsIndex++;\n\t\t\treturn renderItem;\n\t\t}\n\n\t\tfunction push(object, geometry, material, groupOrder, z, group) {\n\t\t\tconst renderItem = getNextRenderItem(object, geometry, material, groupOrder, z, group);\n\n\t\t\tif (material.transmission > 0.0) {\n\t\t\t\ttransmissive.push(renderItem);\n\t\t\t} else if (material.transparent === true) {\n\t\t\t\ttransparent.push(renderItem);\n\t\t\t} else {\n\t\t\t\topaque.push(renderItem);\n\t\t\t}\n\t\t}\n\n\t\tfunction unshift(object, geometry, material, groupOrder, z, group) {\n\t\t\tconst renderItem = getNextRenderItem(object, geometry, material, groupOrder, z, group);\n\n\t\t\tif (material.transmission > 0.0) {\n\t\t\t\ttransmissive.unshift(renderItem);\n\t\t\t} else if (material.transparent === true) {\n\t\t\t\ttransparent.unshift(renderItem);\n\t\t\t} else {\n\t\t\t\topaque.unshift(renderItem);\n\t\t\t}\n\t\t}\n\n\t\tfunction sort(customOpaqueSort, customTransparentSort) {\n\t\t\tif (opaque.length > 1) opaque.sort(customOpaqueSort || painterSortStable);\n\t\t\tif (transmissive.length > 1) transmissive.sort(customTransparentSort || reversePainterSortStable);\n\t\t\tif (transparent.length > 1) transparent.sort(customTransparentSort || reversePainterSortStable);\n\t\t}\n\n\t\tfunction finish() {\n\t\t\t// Clear references from inactive renderItems in the list\n\t\t\tfor (let i = renderItemsIndex, il = renderItems.length; i < il; i++) {\n\t\t\t\tconst renderItem = renderItems[i];\n\t\t\t\tif (renderItem.id === null) break;\n\t\t\t\trenderItem.id = null;\n\t\t\t\trenderItem.object = null;\n\t\t\t\trenderItem.geometry = null;\n\t\t\t\trenderItem.material = null;\n\t\t\t\trenderItem.group = null;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\topaque: opaque,\n\t\t\ttransmissive: transmissive,\n\t\t\ttransparent: transparent,\n\t\t\tinit: init,\n\t\t\tpush: push,\n\t\t\tunshift: unshift,\n\t\t\tfinish: finish,\n\t\t\tsort: sort\n\t\t};\n\t}\n\n\tfunction WebGLRenderLists() {\n\t\tlet lists = new WeakMap();\n\n\t\tfunction get(scene, renderCallDepth) {\n\t\t\tlet list;\n\n\t\t\tif (lists.has(scene) === false) {\n\t\t\t\tlist = new WebGLRenderList();\n\t\t\t\tlists.set(scene, [list]);\n\t\t\t} else {\n\t\t\t\tif (renderCallDepth >= lists.get(scene).length) {\n\t\t\t\t\tlist = new WebGLRenderList();\n\t\t\t\t\tlists.get(scene).push(list);\n\t\t\t\t} else {\n\t\t\t\t\tlist = lists.get(scene)[renderCallDepth];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn list;\n\t\t}\n\n\t\tfunction dispose() {\n\t\t\tlists = new WeakMap();\n\t\t}\n\n\t\treturn {\n\t\t\tget: get,\n\t\t\tdispose: dispose\n\t\t};\n\t}\n\n\tfunction UniformsCache() {\n\t\tconst lights = {};\n\t\treturn {\n\t\t\tget: function (light) {\n\t\t\t\tif (lights[light.id] !== undefined) {\n\t\t\t\t\treturn lights[light.id];\n\t\t\t\t}\n\n\t\t\t\tlet uniforms;\n\n\t\t\t\tswitch (light.type) {\n\t\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\t\tuniforms = {\n\t\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\t\tcolor: new Color()\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'SpotLight':\n\t\t\t\t\t\tuniforms = {\n\t\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\t\tconeCos: 0,\n\t\t\t\t\t\t\tpenumbraCos: 0,\n\t\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'PointLight':\n\t\t\t\t\t\tuniforms = {\n\t\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'HemisphereLight':\n\t\t\t\t\t\tuniforms = {\n\t\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\t\tskyColor: new Color(),\n\t\t\t\t\t\t\tgroundColor: new Color()\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'RectAreaLight':\n\t\t\t\t\t\tuniforms = {\n\t\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\t\thalfWidth: new Vector3(),\n\t\t\t\t\t\t\thalfHeight: new Vector3()\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tlights[light.id] = uniforms;\n\t\t\t\treturn uniforms;\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction ShadowUniformsCache() {\n\t\tconst lights = {};\n\t\treturn {\n\t\t\tget: function (light) {\n\t\t\t\tif (lights[light.id] !== undefined) {\n\t\t\t\t\treturn lights[light.id];\n\t\t\t\t}\n\n\t\t\t\tlet uniforms;\n\n\t\t\t\tswitch (light.type) {\n\t\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\t\tuniforms = {\n\t\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'SpotLight':\n\t\t\t\t\t\tuniforms = {\n\t\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'PointLight':\n\t\t\t\t\t\tuniforms = {\n\t\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\t\tshadowMapSize: new Vector2(),\n\t\t\t\t\t\t\tshadowCameraNear: 1,\n\t\t\t\t\t\t\tshadowCameraFar: 1000\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t// TODO (abelnation): set RectAreaLight shadow uniforms\n\t\t\t\t}\n\n\t\t\t\tlights[light.id] = uniforms;\n\t\t\t\treturn uniforms;\n\t\t\t}\n\t\t};\n\t}\n\n\tlet nextVersion = 0;\n\n\tfunction shadowCastingLightsFirst(lightA, lightB) {\n\t\treturn (lightB.castShadow ? 1 : 0) - (lightA.castShadow ? 1 : 0);\n\t}\n\n\tfunction WebGLLights(extensions, capabilities) {\n\t\tconst cache = new UniformsCache();\n\t\tconst shadowCache = ShadowUniformsCache();\n\t\tconst state = {\n\t\t\tversion: 0,\n\t\t\thash: {\n\t\t\t\tdirectionalLength: -1,\n\t\t\t\tpointLength: -1,\n\t\t\t\tspotLength: -1,\n\t\t\t\trectAreaLength: -1,\n\t\t\t\themiLength: -1,\n\t\t\t\tnumDirectionalShadows: -1,\n\t\t\t\tnumPointShadows: -1,\n\t\t\t\tnumSpotShadows: -1\n\t\t\t},\n\t\t\tambient: [0, 0, 0],\n\t\t\tprobe: [],\n\t\t\tdirectional: [],\n\t\t\tdirectionalShadow: [],\n\t\t\tdirectionalShadowMap: [],\n\t\t\tdirectionalShadowMatrix: [],\n\t\t\tspot: [],\n\t\t\tspotShadow: [],\n\t\t\tspotShadowMap: [],\n\t\t\tspotShadowMatrix: [],\n\t\t\trectArea: [],\n\t\t\trectAreaLTC1: null,\n\t\t\trectAreaLTC2: null,\n\t\t\tpoint: [],\n\t\t\tpointShadow: [],\n\t\t\tpointShadowMap: [],\n\t\t\tpointShadowMatrix: [],\n\t\t\themi: []\n\t\t};\n\n\t\tfor (let i = 0; i < 9; i++) state.probe.push(new Vector3());\n\n\t\tconst vector3 = new Vector3();\n\t\tconst matrix4 = new Matrix4();\n\t\tconst matrix42 = new Matrix4();\n\n\t\tfunction setup(lights, physicallyCorrectLights) {\n\t\t\tlet r = 0,\n\t\t\t\t\tg = 0,\n\t\t\t\t\tb = 0;\n\n\t\t\tfor (let i = 0; i < 9; i++) state.probe[i].set(0, 0, 0);\n\n\t\t\tlet directionalLength = 0;\n\t\t\tlet pointLength = 0;\n\t\t\tlet spotLength = 0;\n\t\t\tlet rectAreaLength = 0;\n\t\t\tlet hemiLength = 0;\n\t\t\tlet numDirectionalShadows = 0;\n\t\t\tlet numPointShadows = 0;\n\t\t\tlet numSpotShadows = 0;\n\t\t\tlights.sort(shadowCastingLightsFirst); // artist-friendly light intensity scaling factor\n\n\t\t\tconst scaleFactor = physicallyCorrectLights !== true ? Math.PI : 1;\n\n\t\t\tfor (let i = 0, l = lights.length; i < l; i++) {\n\t\t\t\tconst light = lights[i];\n\t\t\t\tconst color = light.color;\n\t\t\t\tconst intensity = light.intensity;\n\t\t\t\tconst distance = light.distance;\n\t\t\t\tconst shadowMap = light.shadow && light.shadow.map ? light.shadow.map.texture : null;\n\n\t\t\t\tif (light.isAmbientLight) {\n\t\t\t\t\tr += color.r * intensity * scaleFactor;\n\t\t\t\t\tg += color.g * intensity * scaleFactor;\n\t\t\t\t\tb += color.b * intensity * scaleFactor;\n\t\t\t\t} else if (light.isLightProbe) {\n\t\t\t\t\tfor (let j = 0; j < 9; j++) {\n\t\t\t\t\t\tstate.probe[j].addScaledVector(light.sh.coefficients[j], intensity);\n\t\t\t\t\t}\n\t\t\t\t} else if (light.isDirectionalLight) {\n\t\t\t\t\tconst uniforms = cache.get(light);\n\t\t\t\t\tuniforms.color.copy(light.color).multiplyScalar(light.intensity * scaleFactor);\n\n\t\t\t\t\tif (light.castShadow) {\n\t\t\t\t\t\tconst shadow = light.shadow;\n\t\t\t\t\t\tconst shadowUniforms = shadowCache.get(light);\n\t\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\t\tstate.directionalShadow[directionalLength] = shadowUniforms;\n\t\t\t\t\t\tstate.directionalShadowMap[directionalLength] = shadowMap;\n\t\t\t\t\t\tstate.directionalShadowMatrix[directionalLength] = light.shadow.matrix;\n\t\t\t\t\t\tnumDirectionalShadows++;\n\t\t\t\t\t}\n\n\t\t\t\t\tstate.directional[directionalLength] = uniforms;\n\t\t\t\t\tdirectionalLength++;\n\t\t\t\t} else if (light.isSpotLight) {\n\t\t\t\t\tconst uniforms = cache.get(light);\n\t\t\t\t\tuniforms.position.setFromMatrixPosition(light.matrixWorld);\n\t\t\t\t\tuniforms.color.copy(color).multiplyScalar(intensity * scaleFactor);\n\t\t\t\t\tuniforms.distance = distance;\n\t\t\t\t\tuniforms.coneCos = Math.cos(light.angle);\n\t\t\t\t\tuniforms.penumbraCos = Math.cos(light.angle * (1 - light.penumbra));\n\t\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\t\tif (light.castShadow) {\n\t\t\t\t\t\tconst shadow = light.shadow;\n\t\t\t\t\t\tconst shadowUniforms = shadowCache.get(light);\n\t\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\t\tstate.spotShadow[spotLength] = shadowUniforms;\n\t\t\t\t\t\tstate.spotShadowMap[spotLength] = shadowMap;\n\t\t\t\t\t\tstate.spotShadowMatrix[spotLength] = light.shadow.matrix;\n\t\t\t\t\t\tnumSpotShadows++;\n\t\t\t\t\t}\n\n\t\t\t\t\tstate.spot[spotLength] = uniforms;\n\t\t\t\t\tspotLength++;\n\t\t\t\t} else if (light.isRectAreaLight) {\n\t\t\t\t\tconst uniforms = cache.get(light); // (a) intensity is the total visible light emitted\n\t\t\t\t\t//uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\n\t\t\t\t\t// (b) intensity is the brightness of the light\n\n\t\t\t\t\tuniforms.color.copy(color).multiplyScalar(intensity);\n\t\t\t\t\tuniforms.halfWidth.set(light.width * 0.5, 0.0, 0.0);\n\t\t\t\t\tuniforms.halfHeight.set(0.0, light.height * 0.5, 0.0);\n\t\t\t\t\tstate.rectArea[rectAreaLength] = uniforms;\n\t\t\t\t\trectAreaLength++;\n\t\t\t\t} else if (light.isPointLight) {\n\t\t\t\t\tconst uniforms = cache.get(light);\n\t\t\t\t\tuniforms.color.copy(light.color).multiplyScalar(light.intensity * scaleFactor);\n\t\t\t\t\tuniforms.distance = light.distance;\n\t\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\t\tif (light.castShadow) {\n\t\t\t\t\t\tconst shadow = light.shadow;\n\t\t\t\t\t\tconst shadowUniforms = shadowCache.get(light);\n\t\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\t\tshadowUniforms.shadowCameraNear = shadow.camera.near;\n\t\t\t\t\t\tshadowUniforms.shadowCameraFar = shadow.camera.far;\n\t\t\t\t\t\tstate.pointShadow[pointLength] = shadowUniforms;\n\t\t\t\t\t\tstate.pointShadowMap[pointLength] = shadowMap;\n\t\t\t\t\t\tstate.pointShadowMatrix[pointLength] = light.shadow.matrix;\n\t\t\t\t\t\tnumPointShadows++;\n\t\t\t\t\t}\n\n\t\t\t\t\tstate.point[pointLength] = uniforms;\n\t\t\t\t\tpointLength++;\n\t\t\t\t} else if (light.isHemisphereLight) {\n\t\t\t\t\tconst uniforms = cache.get(light);\n\t\t\t\t\tuniforms.skyColor.copy(light.color).multiplyScalar(intensity * scaleFactor);\n\t\t\t\t\tuniforms.groundColor.copy(light.groundColor).multiplyScalar(intensity * scaleFactor);\n\t\t\t\t\tstate.hemi[hemiLength] = uniforms;\n\t\t\t\t\themiLength++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (rectAreaLength > 0) {\n\t\t\t\tif (capabilities.isWebGL2) {\n\t\t\t\t\t// WebGL 2\n\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\t\t\t\t} else {\n\t\t\t\t\t// WebGL 1\n\t\t\t\t\tif (extensions.has('OES_texture_float_linear') === true) {\n\t\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n\t\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\t\t\t\t\t} else if (extensions.has('OES_texture_half_float_linear') === true) {\n\t\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_HALF_1;\n\t\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_HALF_2;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error('THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tstate.ambient[0] = r;\n\t\t\tstate.ambient[1] = g;\n\t\t\tstate.ambient[2] = b;\n\t\t\tconst hash = state.hash;\n\n\t\t\tif (hash.directionalLength !== directionalLength || hash.pointLength !== pointLength || hash.spotLength !== spotLength || hash.rectAreaLength !== rectAreaLength || hash.hemiLength !== hemiLength || hash.numDirectionalShadows !== numDirectionalShadows || hash.numPointShadows !== numPointShadows || hash.numSpotShadows !== numSpotShadows) {\n\t\t\t\tstate.directional.length = directionalLength;\n\t\t\t\tstate.spot.length = spotLength;\n\t\t\t\tstate.rectArea.length = rectAreaLength;\n\t\t\t\tstate.point.length = pointLength;\n\t\t\t\tstate.hemi.length = hemiLength;\n\t\t\t\tstate.directionalShadow.length = numDirectionalShadows;\n\t\t\t\tstate.directionalShadowMap.length = numDirectionalShadows;\n\t\t\t\tstate.pointShadow.length = numPointShadows;\n\t\t\t\tstate.pointShadowMap.length = numPointShadows;\n\t\t\t\tstate.spotShadow.length = numSpotShadows;\n\t\t\t\tstate.spotShadowMap.length = numSpotShadows;\n\t\t\t\tstate.directionalShadowMatrix.length = numDirectionalShadows;\n\t\t\t\tstate.pointShadowMatrix.length = numPointShadows;\n\t\t\t\tstate.spotShadowMatrix.length = numSpotShadows;\n\t\t\t\thash.directionalLength = directionalLength;\n\t\t\t\thash.pointLength = pointLength;\n\t\t\t\thash.spotLength = spotLength;\n\t\t\t\thash.rectAreaLength = rectAreaLength;\n\t\t\t\thash.hemiLength = hemiLength;\n\t\t\t\thash.numDirectionalShadows = numDirectionalShadows;\n\t\t\t\thash.numPointShadows = numPointShadows;\n\t\t\t\thash.numSpotShadows = numSpotShadows;\n\t\t\t\tstate.version = nextVersion++;\n\t\t\t}\n\t\t}\n\n\t\tfunction setupView(lights, camera) {\n\t\t\tlet directionalLength = 0;\n\t\t\tlet pointLength = 0;\n\t\t\tlet spotLength = 0;\n\t\t\tlet rectAreaLength = 0;\n\t\t\tlet hemiLength = 0;\n\t\t\tconst viewMatrix = camera.matrixWorldInverse;\n\n\t\t\tfor (let i = 0, l = lights.length; i < l; i++) {\n\t\t\t\tconst light = lights[i];\n\n\t\t\t\tif (light.isDirectionalLight) {\n\t\t\t\t\tconst uniforms = state.directional[directionalLength];\n\t\t\t\t\tuniforms.direction.setFromMatrixPosition(light.matrixWorld);\n\t\t\t\t\tvector3.setFromMatrixPosition(light.target.matrixWorld);\n\t\t\t\t\tuniforms.direction.sub(vector3);\n\t\t\t\t\tuniforms.direction.transformDirection(viewMatrix);\n\t\t\t\t\tdirectionalLength++;\n\t\t\t\t} else if (light.isSpotLight) {\n\t\t\t\t\tconst uniforms = state.spot[spotLength];\n\t\t\t\t\tuniforms.position.setFromMatrixPosition(light.matrixWorld);\n\t\t\t\t\tuniforms.position.applyMatrix4(viewMatrix);\n\t\t\t\t\tuniforms.direction.setFromMatrixPosition(light.matrixWorld);\n\t\t\t\t\tvector3.setFromMatrixPosition(light.target.matrixWorld);\n\t\t\t\t\tuniforms.direction.sub(vector3);\n\t\t\t\t\tuniforms.direction.transformDirection(viewMatrix);\n\t\t\t\t\tspotLength++;\n\t\t\t\t} else if (light.isRectAreaLight) {\n\t\t\t\t\tconst uniforms = state.rectArea[rectAreaLength];\n\t\t\t\t\tuniforms.position.setFromMatrixPosition(light.matrixWorld);\n\t\t\t\t\tuniforms.position.applyMatrix4(viewMatrix); // extract local rotation of light to derive width/height half vectors\n\n\t\t\t\t\tmatrix42.identity();\n\t\t\t\t\tmatrix4.copy(light.matrixWorld);\n\t\t\t\t\tmatrix4.premultiply(viewMatrix);\n\t\t\t\t\tmatrix42.extractRotation(matrix4);\n\t\t\t\t\tuniforms.halfWidth.set(light.width * 0.5, 0.0, 0.0);\n\t\t\t\t\tuniforms.halfHeight.set(0.0, light.height * 0.5, 0.0);\n\t\t\t\t\tuniforms.halfWidth.applyMatrix4(matrix42);\n\t\t\t\t\tuniforms.halfHeight.applyMatrix4(matrix42);\n\t\t\t\t\trectAreaLength++;\n\t\t\t\t} else if (light.isPointLight) {\n\t\t\t\t\tconst uniforms = state.point[pointLength];\n\t\t\t\t\tuniforms.position.setFromMatrixPosition(light.matrixWorld);\n\t\t\t\t\tuniforms.position.applyMatrix4(viewMatrix);\n\t\t\t\t\tpointLength++;\n\t\t\t\t} else if (light.isHemisphereLight) {\n\t\t\t\t\tconst uniforms = state.hemi[hemiLength];\n\t\t\t\t\tuniforms.direction.setFromMatrixPosition(light.matrixWorld);\n\t\t\t\t\tuniforms.direction.transformDirection(viewMatrix);\n\t\t\t\t\themiLength++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tsetup: setup,\n\t\t\tsetupView: setupView,\n\t\t\tstate: state\n\t\t};\n\t}\n\n\tfunction WebGLRenderState(extensions, capabilities) {\n\t\tconst lights = new WebGLLights(extensions, capabilities);\n\t\tconst lightsArray = [];\n\t\tconst shadowsArray = [];\n\n\t\tfunction init() {\n\t\t\tlightsArray.length = 0;\n\t\t\tshadowsArray.length = 0;\n\t\t}\n\n\t\tfunction pushLight(light) {\n\t\t\tlightsArray.push(light);\n\t\t}\n\n\t\tfunction pushShadow(shadowLight) {\n\t\t\tshadowsArray.push(shadowLight);\n\t\t}\n\n\t\tfunction setupLights(physicallyCorrectLights) {\n\t\t\tlights.setup(lightsArray, physicallyCorrectLights);\n\t\t}\n\n\t\tfunction setupLightsView(camera) {\n\t\t\tlights.setupView(lightsArray, camera);\n\t\t}\n\n\t\tconst state = {\n\t\t\tlightsArray: lightsArray,\n\t\t\tshadowsArray: shadowsArray,\n\t\t\tlights: lights\n\t\t};\n\t\treturn {\n\t\t\tinit: init,\n\t\t\tstate: state,\n\t\t\tsetupLights: setupLights,\n\t\t\tsetupLightsView: setupLightsView,\n\t\t\tpushLight: pushLight,\n\t\t\tpushShadow: pushShadow\n\t\t};\n\t}\n\n\tfunction WebGLRenderStates(extensions, capabilities) {\n\t\tlet renderStates = new WeakMap();\n\n\t\tfunction get(scene, renderCallDepth = 0) {\n\t\t\tlet renderState;\n\n\t\t\tif (renderStates.has(scene) === false) {\n\t\t\t\trenderState = new WebGLRenderState(extensions, capabilities);\n\t\t\t\trenderStates.set(scene, [renderState]);\n\t\t\t} else {\n\t\t\t\tif (renderCallDepth >= renderStates.get(scene).length) {\n\t\t\t\t\trenderState = new WebGLRenderState(extensions, capabilities);\n\t\t\t\t\trenderStates.get(scene).push(renderState);\n\t\t\t\t} else {\n\t\t\t\t\trenderState = renderStates.get(scene)[renderCallDepth];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn renderState;\n\t\t}\n\n\t\tfunction dispose() {\n\t\t\trenderStates = new WeakMap();\n\t\t}\n\n\t\treturn {\n\t\t\tget: get,\n\t\t\tdispose: dispose\n\t\t};\n\t}\n\n\tclass MeshDepthMaterial extends Material {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.isMeshDepthMaterial = true;\n\t\t\tthis.type = 'MeshDepthMaterial';\n\t\t\tthis.depthPacking = BasicDepthPacking;\n\t\t\tthis.map = null;\n\t\t\tthis.alphaMap = null;\n\t\t\tthis.displacementMap = null;\n\t\t\tthis.displacementScale = 1;\n\t\t\tthis.displacementBias = 0;\n\t\t\tthis.wireframe = false;\n\t\t\tthis.wireframeLinewidth = 1;\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.depthPacking = source.depthPacking;\n\t\t\tthis.map = source.map;\n\t\t\tthis.alphaMap = source.alphaMap;\n\t\t\tthis.displacementMap = source.displacementMap;\n\t\t\tthis.displacementScale = source.displacementScale;\n\t\t\tthis.displacementBias = source.displacementBias;\n\t\t\tthis.wireframe = source.wireframe;\n\t\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass MeshDistanceMaterial extends Material {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.isMeshDistanceMaterial = true;\n\t\t\tthis.type = 'MeshDistanceMaterial';\n\t\t\tthis.referencePosition = new Vector3();\n\t\t\tthis.nearDistance = 1;\n\t\t\tthis.farDistance = 1000;\n\t\t\tthis.map = null;\n\t\t\tthis.alphaMap = null;\n\t\t\tthis.displacementMap = null;\n\t\t\tthis.displacementScale = 1;\n\t\t\tthis.displacementBias = 0;\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.referencePosition.copy(source.referencePosition);\n\t\t\tthis.nearDistance = source.nearDistance;\n\t\t\tthis.farDistance = source.farDistance;\n\t\t\tthis.map = source.map;\n\t\t\tthis.alphaMap = source.alphaMap;\n\t\t\tthis.displacementMap = source.displacementMap;\n\t\t\tthis.displacementScale = source.displacementScale;\n\t\t\tthis.displacementBias = source.displacementBias;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tconst vertex = \"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\";\n\tconst fragment = \"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\n#include <packing>\\nvoid main() {\\n\\tconst float samples = float( VSM_SAMPLES );\\n\\tfloat mean = 0.0;\\n\\tfloat squared_mean = 0.0;\\n\\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\\n\\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\\n\\tfor ( float i = 0.0; i < samples; i ++ ) {\\n\\t\\tfloat uvOffset = uvStart + i * uvStride;\\n\\t\\t#ifdef HORIZONTAL_PASS\\n\\t\\t\\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\\n\\t\\t\\tmean += distribution.x;\\n\\t\\t\\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n\\t\\t#else\\n\\t\\t\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\\n\\t\\t\\tmean += depth;\\n\\t\\t\\tsquared_mean += depth * depth;\\n\\t\\t#endif\\n\\t}\\n\\tmean = mean / samples;\\n\\tsquared_mean = squared_mean / samples;\\n\\tfloat std_dev = sqrt( squared_mean - mean * mean );\\n\\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\\n}\";\n\n\tfunction WebGLShadowMap(_renderer, _objects, _capabilities) {\n\t\tlet _frustum = new Frustum();\n\n\t\tconst _shadowMapSize = new Vector2(),\n\t\t\t\t\t_viewportSize = new Vector2(),\n\t\t\t\t\t_viewport = new Vector4(),\n\t\t\t\t\t_depthMaterial = new MeshDepthMaterial({\n\t\t\tdepthPacking: RGBADepthPacking\n\t\t}),\n\t\t\t\t\t_distanceMaterial = new MeshDistanceMaterial(),\n\t\t\t\t\t_materialCache = {},\n\t\t\t\t\t_maxTextureSize = _capabilities.maxTextureSize;\n\n\t\tconst shadowSide = {\n\t\t\t0: BackSide,\n\t\t\t1: FrontSide,\n\t\t\t2: DoubleSide\n\t\t};\n\t\tconst shadowMaterialVertical = new ShaderMaterial({\n\t\t\tdefines: {\n\t\t\t\tVSM_SAMPLES: 8\n\t\t\t},\n\t\t\tuniforms: {\n\t\t\t\tshadow_pass: {\n\t\t\t\t\tvalue: null\n\t\t\t\t},\n\t\t\t\tresolution: {\n\t\t\t\t\tvalue: new Vector2()\n\t\t\t\t},\n\t\t\t\tradius: {\n\t\t\t\t\tvalue: 4.0\n\t\t\t\t}\n\t\t\t},\n\t\t\tvertexShader: vertex,\n\t\t\tfragmentShader: fragment\n\t\t});\n\t\tconst shadowMaterialHorizontal = shadowMaterialVertical.clone();\n\t\tshadowMaterialHorizontal.defines.HORIZONTAL_PASS = 1;\n\t\tconst fullScreenTri = new BufferGeometry();\n\t\tfullScreenTri.setAttribute('position', new BufferAttribute(new Float32Array([-1, -1, 0.5, 3, -1, 0.5, -1, 3, 0.5]), 3));\n\t\tconst fullScreenMesh = new Mesh(fullScreenTri, shadowMaterialVertical);\n\t\tconst scope = this;\n\t\tthis.enabled = false;\n\t\tthis.autoUpdate = true;\n\t\tthis.needsUpdate = false;\n\t\tthis.type = PCFShadowMap;\n\n\t\tthis.render = function (lights, scene, camera) {\n\t\t\tif (scope.enabled === false) return;\n\t\t\tif (scope.autoUpdate === false && scope.needsUpdate === false) return;\n\t\t\tif (lights.length === 0) return;\n\n\t\t\tconst currentRenderTarget = _renderer.getRenderTarget();\n\n\t\t\tconst activeCubeFace = _renderer.getActiveCubeFace();\n\n\t\t\tconst activeMipmapLevel = _renderer.getActiveMipmapLevel();\n\n\t\t\tconst _state = _renderer.state; // Set GL state for depth map.\n\n\t\t\t_state.setBlending(NoBlending);\n\n\t\t\t_state.buffers.color.setClear(1, 1, 1, 1);\n\n\t\t\t_state.buffers.depth.setTest(true);\n\n\t\t\t_state.setScissorTest(false); // render depth map\n\n\n\t\t\tfor (let i = 0, il = lights.length; i < il; i++) {\n\t\t\t\tconst light = lights[i];\n\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\tif (shadow === undefined) {\n\t\t\t\t\tconsole.warn('THREE.WebGLShadowMap:', light, 'has no shadow.');\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (shadow.autoUpdate === false && shadow.needsUpdate === false) continue;\n\n\t\t\t\t_shadowMapSize.copy(shadow.mapSize);\n\n\t\t\t\tconst shadowFrameExtents = shadow.getFrameExtents();\n\n\t\t\t\t_shadowMapSize.multiply(shadowFrameExtents);\n\n\t\t\t\t_viewportSize.copy(shadow.mapSize);\n\n\t\t\t\tif (_shadowMapSize.x > _maxTextureSize || _shadowMapSize.y > _maxTextureSize) {\n\t\t\t\t\tif (_shadowMapSize.x > _maxTextureSize) {\n\t\t\t\t\t\t_viewportSize.x = Math.floor(_maxTextureSize / shadowFrameExtents.x);\n\t\t\t\t\t\t_shadowMapSize.x = _viewportSize.x * shadowFrameExtents.x;\n\t\t\t\t\t\tshadow.mapSize.x = _viewportSize.x;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_shadowMapSize.y > _maxTextureSize) {\n\t\t\t\t\t\t_viewportSize.y = Math.floor(_maxTextureSize / shadowFrameExtents.y);\n\t\t\t\t\t\t_shadowMapSize.y = _viewportSize.y * shadowFrameExtents.y;\n\t\t\t\t\t\tshadow.mapSize.y = _viewportSize.y;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (shadow.map === null && !shadow.isPointLightShadow && this.type === VSMShadowMap) {\n\t\t\t\t\tshadow.map = new WebGLRenderTarget(_shadowMapSize.x, _shadowMapSize.y);\n\t\t\t\t\tshadow.map.texture.name = light.name + '.shadowMap';\n\t\t\t\t\tshadow.mapPass = new WebGLRenderTarget(_shadowMapSize.x, _shadowMapSize.y);\n\t\t\t\t\tshadow.camera.updateProjectionMatrix();\n\t\t\t\t}\n\n\t\t\t\tif (shadow.map === null) {\n\t\t\t\t\tconst pars = {\n\t\t\t\t\t\tminFilter: NearestFilter,\n\t\t\t\t\t\tmagFilter: NearestFilter,\n\t\t\t\t\t\tformat: RGBAFormat\n\t\t\t\t\t};\n\t\t\t\t\tshadow.map = new WebGLRenderTarget(_shadowMapSize.x, _shadowMapSize.y, pars);\n\t\t\t\t\tshadow.map.texture.name = light.name + '.shadowMap';\n\t\t\t\t\tshadow.camera.updateProjectionMatrix();\n\t\t\t\t}\n\n\t\t\t\t_renderer.setRenderTarget(shadow.map);\n\n\t\t\t\t_renderer.clear();\n\n\t\t\t\tconst viewportCount = shadow.getViewportCount();\n\n\t\t\t\tfor (let vp = 0; vp < viewportCount; vp++) {\n\t\t\t\t\tconst viewport = shadow.getViewport(vp);\n\n\t\t\t\t\t_viewport.set(_viewportSize.x * viewport.x, _viewportSize.y * viewport.y, _viewportSize.x * viewport.z, _viewportSize.y * viewport.w);\n\n\t\t\t\t\t_state.viewport(_viewport);\n\n\t\t\t\t\tshadow.updateMatrices(light, vp);\n\t\t\t\t\t_frustum = shadow.getFrustum();\n\t\t\t\t\trenderObject(scene, camera, shadow.camera, light, this.type);\n\t\t\t\t} // do blur pass for VSM\n\n\n\t\t\t\tif (!shadow.isPointLightShadow && this.type === VSMShadowMap) {\n\t\t\t\t\tVSMPass(shadow, camera);\n\t\t\t\t}\n\n\t\t\t\tshadow.needsUpdate = false;\n\t\t\t}\n\n\t\t\tscope.needsUpdate = false;\n\n\t\t\t_renderer.setRenderTarget(currentRenderTarget, activeCubeFace, activeMipmapLevel);\n\t\t};\n\n\t\tfunction VSMPass(shadow, camera) {\n\t\t\tconst geometry = _objects.update(fullScreenMesh);\n\n\t\t\tif (shadowMaterialVertical.defines.VSM_SAMPLES !== shadow.blurSamples) {\n\t\t\t\tshadowMaterialVertical.defines.VSM_SAMPLES = shadow.blurSamples;\n\t\t\t\tshadowMaterialHorizontal.defines.VSM_SAMPLES = shadow.blurSamples;\n\t\t\t\tshadowMaterialVertical.needsUpdate = true;\n\t\t\t\tshadowMaterialHorizontal.needsUpdate = true;\n\t\t\t} // vertical pass\n\n\n\t\t\tshadowMaterialVertical.uniforms.shadow_pass.value = shadow.map.texture;\n\t\t\tshadowMaterialVertical.uniforms.resolution.value = shadow.mapSize;\n\t\t\tshadowMaterialVertical.uniforms.radius.value = shadow.radius;\n\n\t\t\t_renderer.setRenderTarget(shadow.mapPass);\n\n\t\t\t_renderer.clear();\n\n\t\t\t_renderer.renderBufferDirect(camera, null, geometry, shadowMaterialVertical, fullScreenMesh, null); // horizontal pass\n\n\n\t\t\tshadowMaterialHorizontal.uniforms.shadow_pass.value = shadow.mapPass.texture;\n\t\t\tshadowMaterialHorizontal.uniforms.resolution.value = shadow.mapSize;\n\t\t\tshadowMaterialHorizontal.uniforms.radius.value = shadow.radius;\n\n\t\t\t_renderer.setRenderTarget(shadow.map);\n\n\t\t\t_renderer.clear();\n\n\t\t\t_renderer.renderBufferDirect(camera, null, geometry, shadowMaterialHorizontal, fullScreenMesh, null);\n\t\t}\n\n\t\tfunction getDepthMaterial(object, material, light, shadowCameraNear, shadowCameraFar, type) {\n\t\t\tlet result = null;\n\t\t\tconst customMaterial = light.isPointLight === true ? object.customDistanceMaterial : object.customDepthMaterial;\n\n\t\t\tif (customMaterial !== undefined) {\n\t\t\t\tresult = customMaterial;\n\t\t\t} else {\n\t\t\t\tresult = light.isPointLight === true ? _distanceMaterial : _depthMaterial;\n\t\t\t}\n\n\t\t\tif (_renderer.localClippingEnabled && material.clipShadows === true && material.clippingPlanes.length !== 0 || material.displacementMap && material.displacementScale !== 0 || material.alphaMap && material.alphaTest > 0) {\n\t\t\t\t// in this case we need a unique material instance reflecting the\n\t\t\t\t// appropriate state\n\t\t\t\tconst keyA = result.uuid,\n\t\t\t\t\t\t\tkeyB = material.uuid;\n\t\t\t\tlet materialsForVariant = _materialCache[keyA];\n\n\t\t\t\tif (materialsForVariant === undefined) {\n\t\t\t\t\tmaterialsForVariant = {};\n\t\t\t\t\t_materialCache[keyA] = materialsForVariant;\n\t\t\t\t}\n\n\t\t\t\tlet cachedMaterial = materialsForVariant[keyB];\n\n\t\t\t\tif (cachedMaterial === undefined) {\n\t\t\t\t\tcachedMaterial = result.clone();\n\t\t\t\t\tmaterialsForVariant[keyB] = cachedMaterial;\n\t\t\t\t}\n\n\t\t\t\tresult = cachedMaterial;\n\t\t\t}\n\n\t\t\tresult.visible = material.visible;\n\t\t\tresult.wireframe = material.wireframe;\n\n\t\t\tif (type === VSMShadowMap) {\n\t\t\t\tresult.side = material.shadowSide !== null ? material.shadowSide : material.side;\n\t\t\t} else {\n\t\t\t\tresult.side = material.shadowSide !== null ? material.shadowSide : shadowSide[material.side];\n\t\t\t}\n\n\t\t\tresult.alphaMap = material.alphaMap;\n\t\t\tresult.alphaTest = material.alphaTest;\n\t\t\tresult.clipShadows = material.clipShadows;\n\t\t\tresult.clippingPlanes = material.clippingPlanes;\n\t\t\tresult.clipIntersection = material.clipIntersection;\n\t\t\tresult.displacementMap = material.displacementMap;\n\t\t\tresult.displacementScale = material.displacementScale;\n\t\t\tresult.displacementBias = material.displacementBias;\n\t\t\tresult.wireframeLinewidth = material.wireframeLinewidth;\n\t\t\tresult.linewidth = material.linewidth;\n\n\t\t\tif (light.isPointLight === true && result.isMeshDistanceMaterial === true) {\n\t\t\t\tresult.referencePosition.setFromMatrixPosition(light.matrixWorld);\n\t\t\t\tresult.nearDistance = shadowCameraNear;\n\t\t\t\tresult.farDistance = shadowCameraFar;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tfunction renderObject(object, camera, shadowCamera, light, type) {\n\t\t\tif (object.visible === false) return;\n\t\t\tconst visible = object.layers.test(camera.layers);\n\n\t\t\tif (visible && (object.isMesh || object.isLine || object.isPoints)) {\n\t\t\t\tif ((object.castShadow || object.receiveShadow && type === VSMShadowMap) && (!object.frustumCulled || _frustum.intersectsObject(object))) {\n\t\t\t\t\tobject.modelViewMatrix.multiplyMatrices(shadowCamera.matrixWorldInverse, object.matrixWorld);\n\n\t\t\t\t\tconst geometry = _objects.update(object);\n\n\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\tif (Array.isArray(material)) {\n\t\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\t\tfor (let k = 0, kl = groups.length; k < kl; k++) {\n\t\t\t\t\t\t\tconst group = groups[k];\n\t\t\t\t\t\t\tconst groupMaterial = material[group.materialIndex];\n\n\t\t\t\t\t\t\tif (groupMaterial && groupMaterial.visible) {\n\t\t\t\t\t\t\t\tconst depthMaterial = getDepthMaterial(object, groupMaterial, light, shadowCamera.near, shadowCamera.far, type);\n\n\t\t\t\t\t\t\t\t_renderer.renderBufferDirect(shadowCamera, null, geometry, depthMaterial, object, group);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (material.visible) {\n\t\t\t\t\t\tconst depthMaterial = getDepthMaterial(object, material, light, shadowCamera.near, shadowCamera.far, type);\n\n\t\t\t\t\t\t_renderer.renderBufferDirect(shadowCamera, null, geometry, depthMaterial, object, null);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst children = object.children;\n\n\t\t\tfor (let i = 0, l = children.length; i < l; i++) {\n\t\t\t\trenderObject(children[i], camera, shadowCamera, light, type);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction WebGLState(gl, extensions, capabilities) {\n\t\tconst isWebGL2 = capabilities.isWebGL2;\n\n\t\tfunction ColorBuffer() {\n\t\t\tlet locked = false;\n\t\t\tconst color = new Vector4();\n\t\t\tlet currentColorMask = null;\n\t\t\tconst currentColorClear = new Vector4(0, 0, 0, 0);\n\t\t\treturn {\n\t\t\t\tsetMask: function (colorMask) {\n\t\t\t\t\tif (currentColorMask !== colorMask && !locked) {\n\t\t\t\t\t\tgl.colorMask(colorMask, colorMask, colorMask, colorMask);\n\t\t\t\t\t\tcurrentColorMask = colorMask;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsetLocked: function (lock) {\n\t\t\t\t\tlocked = lock;\n\t\t\t\t},\n\t\t\t\tsetClear: function (r, g, b, a, premultipliedAlpha) {\n\t\t\t\t\tif (premultipliedAlpha === true) {\n\t\t\t\t\t\tr *= a;\n\t\t\t\t\t\tg *= a;\n\t\t\t\t\t\tb *= a;\n\t\t\t\t\t}\n\n\t\t\t\t\tcolor.set(r, g, b, a);\n\n\t\t\t\t\tif (currentColorClear.equals(color) === false) {\n\t\t\t\t\t\tgl.clearColor(r, g, b, a);\n\t\t\t\t\t\tcurrentColorClear.copy(color);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\treset: function () {\n\t\t\t\t\tlocked = false;\n\t\t\t\t\tcurrentColorMask = null;\n\t\t\t\t\tcurrentColorClear.set(-1, 0, 0, 0); // set to invalid state\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tfunction DepthBuffer() {\n\t\t\tlet locked = false;\n\t\t\tlet currentDepthMask = null;\n\t\t\tlet currentDepthFunc = null;\n\t\t\tlet currentDepthClear = null;\n\t\t\treturn {\n\t\t\t\tsetTest: function (depthTest) {\n\t\t\t\t\tif (depthTest) {\n\t\t\t\t\t\tenable(gl.DEPTH_TEST);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdisable(gl.DEPTH_TEST);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsetMask: function (depthMask) {\n\t\t\t\t\tif (currentDepthMask !== depthMask && !locked) {\n\t\t\t\t\t\tgl.depthMask(depthMask);\n\t\t\t\t\t\tcurrentDepthMask = depthMask;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsetFunc: function (depthFunc) {\n\t\t\t\t\tif (currentDepthFunc !== depthFunc) {\n\t\t\t\t\t\tif (depthFunc) {\n\t\t\t\t\t\t\tswitch (depthFunc) {\n\t\t\t\t\t\t\t\tcase NeverDepth:\n\t\t\t\t\t\t\t\t\tgl.depthFunc(gl.NEVER);\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase AlwaysDepth:\n\t\t\t\t\t\t\t\t\tgl.depthFunc(gl.ALWAYS);\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase LessDepth:\n\t\t\t\t\t\t\t\t\tgl.depthFunc(gl.LESS);\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase LessEqualDepth:\n\t\t\t\t\t\t\t\t\tgl.depthFunc(gl.LEQUAL);\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase EqualDepth:\n\t\t\t\t\t\t\t\t\tgl.depthFunc(gl.EQUAL);\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase GreaterEqualDepth:\n\t\t\t\t\t\t\t\t\tgl.depthFunc(gl.GEQUAL);\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase GreaterDepth:\n\t\t\t\t\t\t\t\t\tgl.depthFunc(gl.GREATER);\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase NotEqualDepth:\n\t\t\t\t\t\t\t\t\tgl.depthFunc(gl.NOTEQUAL);\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\tgl.depthFunc(gl.LEQUAL);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tgl.depthFunc(gl.LEQUAL);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcurrentDepthFunc = depthFunc;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsetLocked: function (lock) {\n\t\t\t\t\tlocked = lock;\n\t\t\t\t},\n\t\t\t\tsetClear: function (depth) {\n\t\t\t\t\tif (currentDepthClear !== depth) {\n\t\t\t\t\t\tgl.clearDepth(depth);\n\t\t\t\t\t\tcurrentDepthClear = depth;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\treset: function () {\n\t\t\t\t\tlocked = false;\n\t\t\t\t\tcurrentDepthMask = null;\n\t\t\t\t\tcurrentDepthFunc = null;\n\t\t\t\t\tcurrentDepthClear = null;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tfunction StencilBuffer() {\n\t\t\tlet locked = false;\n\t\t\tlet currentStencilMask = null;\n\t\t\tlet currentStencilFunc = null;\n\t\t\tlet currentStencilRef = null;\n\t\t\tlet currentStencilFuncMask = null;\n\t\t\tlet currentStencilFail = null;\n\t\t\tlet currentStencilZFail = null;\n\t\t\tlet currentStencilZPass = null;\n\t\t\tlet currentStencilClear = null;\n\t\t\treturn {\n\t\t\t\tsetTest: function (stencilTest) {\n\t\t\t\t\tif (!locked) {\n\t\t\t\t\t\tif (stencilTest) {\n\t\t\t\t\t\t\tenable(gl.STENCIL_TEST);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdisable(gl.STENCIL_TEST);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsetMask: function (stencilMask) {\n\t\t\t\t\tif (currentStencilMask !== stencilMask && !locked) {\n\t\t\t\t\t\tgl.stencilMask(stencilMask);\n\t\t\t\t\t\tcurrentStencilMask = stencilMask;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsetFunc: function (stencilFunc, stencilRef, stencilMask) {\n\t\t\t\t\tif (currentStencilFunc !== stencilFunc || currentStencilRef !== stencilRef || currentStencilFuncMask !== stencilMask) {\n\t\t\t\t\t\tgl.stencilFunc(stencilFunc, stencilRef, stencilMask);\n\t\t\t\t\t\tcurrentStencilFunc = stencilFunc;\n\t\t\t\t\t\tcurrentStencilRef = stencilRef;\n\t\t\t\t\t\tcurrentStencilFuncMask = stencilMask;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsetOp: function (stencilFail, stencilZFail, stencilZPass) {\n\t\t\t\t\tif (currentStencilFail !== stencilFail || currentStencilZFail !== stencilZFail || currentStencilZPass !== stencilZPass) {\n\t\t\t\t\t\tgl.stencilOp(stencilFail, stencilZFail, stencilZPass);\n\t\t\t\t\t\tcurrentStencilFail = stencilFail;\n\t\t\t\t\t\tcurrentStencilZFail = stencilZFail;\n\t\t\t\t\t\tcurrentStencilZPass = stencilZPass;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsetLocked: function (lock) {\n\t\t\t\t\tlocked = lock;\n\t\t\t\t},\n\t\t\t\tsetClear: function (stencil) {\n\t\t\t\t\tif (currentStencilClear !== stencil) {\n\t\t\t\t\t\tgl.clearStencil(stencil);\n\t\t\t\t\t\tcurrentStencilClear = stencil;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\treset: function () {\n\t\t\t\t\tlocked = false;\n\t\t\t\t\tcurrentStencilMask = null;\n\t\t\t\t\tcurrentStencilFunc = null;\n\t\t\t\t\tcurrentStencilRef = null;\n\t\t\t\t\tcurrentStencilFuncMask = null;\n\t\t\t\t\tcurrentStencilFail = null;\n\t\t\t\t\tcurrentStencilZFail = null;\n\t\t\t\t\tcurrentStencilZPass = null;\n\t\t\t\t\tcurrentStencilClear = null;\n\t\t\t\t}\n\t\t\t};\n\t\t} //\n\n\n\t\tconst colorBuffer = new ColorBuffer();\n\t\tconst depthBuffer = new DepthBuffer();\n\t\tconst stencilBuffer = new StencilBuffer();\n\t\tlet enabledCapabilities = {};\n\t\tlet currentBoundFramebuffers = {};\n\t\tlet currentDrawbuffers = new WeakMap();\n\t\tlet defaultDrawbuffers = [];\n\t\tlet currentProgram = null;\n\t\tlet currentBlendingEnabled = false;\n\t\tlet currentBlending = null;\n\t\tlet currentBlendEquation = null;\n\t\tlet currentBlendSrc = null;\n\t\tlet currentBlendDst = null;\n\t\tlet currentBlendEquationAlpha = null;\n\t\tlet currentBlendSrcAlpha = null;\n\t\tlet currentBlendDstAlpha = null;\n\t\tlet currentPremultipledAlpha = false;\n\t\tlet currentFlipSided = null;\n\t\tlet currentCullFace = null;\n\t\tlet currentLineWidth = null;\n\t\tlet currentPolygonOffsetFactor = null;\n\t\tlet currentPolygonOffsetUnits = null;\n\t\tconst maxTextures = gl.getParameter(gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS);\n\t\tlet lineWidthAvailable = false;\n\t\tlet version = 0;\n\t\tconst glVersion = gl.getParameter(gl.VERSION);\n\n\t\tif (glVersion.indexOf('WebGL') !== -1) {\n\t\t\tversion = parseFloat(/^WebGL (\\d)/.exec(glVersion)[1]);\n\t\t\tlineWidthAvailable = version >= 1.0;\n\t\t} else if (glVersion.indexOf('OpenGL ES') !== -1) {\n\t\t\tversion = parseFloat(/^OpenGL ES (\\d)/.exec(glVersion)[1]);\n\t\t\tlineWidthAvailable = version >= 2.0;\n\t\t}\n\n\t\tlet currentTextureSlot = null;\n\t\tlet currentBoundTextures = {};\n\t\tconst scissorParam = gl.getParameter(gl.SCISSOR_BOX);\n\t\tconst viewportParam = gl.getParameter(gl.VIEWPORT);\n\t\tconst currentScissor = new Vector4().fromArray(scissorParam);\n\t\tconst currentViewport = new Vector4().fromArray(viewportParam);\n\n\t\tfunction createTexture(type, target, count) {\n\t\t\tconst data = new Uint8Array(4); // 4 is required to match default unpack alignment of 4.\n\n\t\t\tconst texture = gl.createTexture();\n\t\t\tgl.bindTexture(type, texture);\n\t\t\tgl.texParameteri(type, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n\t\t\tgl.texParameteri(type, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\n\t\t\tfor (let i = 0; i < count; i++) {\n\t\t\t\tgl.texImage2D(target + i, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, data);\n\t\t\t}\n\n\t\t\treturn texture;\n\t\t}\n\n\t\tconst emptyTextures = {};\n\t\temptyTextures[gl.TEXTURE_2D] = createTexture(gl.TEXTURE_2D, gl.TEXTURE_2D, 1);\n\t\temptyTextures[gl.TEXTURE_CUBE_MAP] = createTexture(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_CUBE_MAP_POSITIVE_X, 6); // init\n\n\t\tcolorBuffer.setClear(0, 0, 0, 1);\n\t\tdepthBuffer.setClear(1);\n\t\tstencilBuffer.setClear(0);\n\t\tenable(gl.DEPTH_TEST);\n\t\tdepthBuffer.setFunc(LessEqualDepth);\n\t\tsetFlipSided(false);\n\t\tsetCullFace(CullFaceBack);\n\t\tenable(gl.CULL_FACE);\n\t\tsetBlending(NoBlending); //\n\n\t\tfunction enable(id) {\n\t\t\tif (enabledCapabilities[id] !== true) {\n\t\t\t\tgl.enable(id);\n\t\t\t\tenabledCapabilities[id] = true;\n\t\t\t}\n\t\t}\n\n\t\tfunction disable(id) {\n\t\t\tif (enabledCapabilities[id] !== false) {\n\t\t\t\tgl.disable(id);\n\t\t\t\tenabledCapabilities[id] = false;\n\t\t\t}\n\t\t}\n\n\t\tfunction bindFramebuffer(target, framebuffer) {\n\t\t\tif (currentBoundFramebuffers[target] !== framebuffer) {\n\t\t\t\tgl.bindFramebuffer(target, framebuffer);\n\t\t\t\tcurrentBoundFramebuffers[target] = framebuffer;\n\n\t\t\t\tif (isWebGL2) {\n\t\t\t\t\t// gl.DRAW_FRAMEBUFFER is equivalent to gl.FRAMEBUFFER\n\t\t\t\t\tif (target === gl.DRAW_FRAMEBUFFER) {\n\t\t\t\t\t\tcurrentBoundFramebuffers[gl.FRAMEBUFFER] = framebuffer;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (target === gl.FRAMEBUFFER) {\n\t\t\t\t\t\tcurrentBoundFramebuffers[gl.DRAW_FRAMEBUFFER] = framebuffer;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction drawBuffers(renderTarget, framebuffer) {\n\t\t\tlet drawBuffers = defaultDrawbuffers;\n\t\t\tlet needsUpdate = false;\n\n\t\t\tif (renderTarget) {\n\t\t\t\tdrawBuffers = currentDrawbuffers.get(framebuffer);\n\n\t\t\t\tif (drawBuffers === undefined) {\n\t\t\t\t\tdrawBuffers = [];\n\t\t\t\t\tcurrentDrawbuffers.set(framebuffer, drawBuffers);\n\t\t\t\t}\n\n\t\t\t\tif (renderTarget.isWebGLMultipleRenderTargets) {\n\t\t\t\t\tconst textures = renderTarget.texture;\n\n\t\t\t\t\tif (drawBuffers.length !== textures.length || drawBuffers[0] !== gl.COLOR_ATTACHMENT0) {\n\t\t\t\t\t\tfor (let i = 0, il = textures.length; i < il; i++) {\n\t\t\t\t\t\t\tdrawBuffers[i] = gl.COLOR_ATTACHMENT0 + i;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdrawBuffers.length = textures.length;\n\t\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (drawBuffers[0] !== gl.COLOR_ATTACHMENT0) {\n\t\t\t\t\t\tdrawBuffers[0] = gl.COLOR_ATTACHMENT0;\n\t\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (drawBuffers[0] !== gl.BACK) {\n\t\t\t\t\tdrawBuffers[0] = gl.BACK;\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (needsUpdate) {\n\t\t\t\tif (capabilities.isWebGL2) {\n\t\t\t\t\tgl.drawBuffers(drawBuffers);\n\t\t\t\t} else {\n\t\t\t\t\textensions.get('WEBGL_draw_buffers').drawBuffersWEBGL(drawBuffers);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction useProgram(program) {\n\t\t\tif (currentProgram !== program) {\n\t\t\t\tgl.useProgram(program);\n\t\t\t\tcurrentProgram = program;\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\tconst equationToGL = {\n\t\t\t[AddEquation]: gl.FUNC_ADD,\n\t\t\t[SubtractEquation]: gl.FUNC_SUBTRACT,\n\t\t\t[ReverseSubtractEquation]: gl.FUNC_REVERSE_SUBTRACT\n\t\t};\n\n\t\tif (isWebGL2) {\n\t\t\tequationToGL[MinEquation] = gl.MIN;\n\t\t\tequationToGL[MaxEquation] = gl.MAX;\n\t\t} else {\n\t\t\tconst extension = extensions.get('EXT_blend_minmax');\n\n\t\t\tif (extension !== null) {\n\t\t\t\tequationToGL[MinEquation] = extension.MIN_EXT;\n\t\t\t\tequationToGL[MaxEquation] = extension.MAX_EXT;\n\t\t\t}\n\t\t}\n\n\t\tconst factorToGL = {\n\t\t\t[ZeroFactor]: gl.ZERO,\n\t\t\t[OneFactor]: gl.ONE,\n\t\t\t[SrcColorFactor]: gl.SRC_COLOR,\n\t\t\t[SrcAlphaFactor]: gl.SRC_ALPHA,\n\t\t\t[SrcAlphaSaturateFactor]: gl.SRC_ALPHA_SATURATE,\n\t\t\t[DstColorFactor]: gl.DST_COLOR,\n\t\t\t[DstAlphaFactor]: gl.DST_ALPHA,\n\t\t\t[OneMinusSrcColorFactor]: gl.ONE_MINUS_SRC_COLOR,\n\t\t\t[OneMinusSrcAlphaFactor]: gl.ONE_MINUS_SRC_ALPHA,\n\t\t\t[OneMinusDstColorFactor]: gl.ONE_MINUS_DST_COLOR,\n\t\t\t[OneMinusDstAlphaFactor]: gl.ONE_MINUS_DST_ALPHA\n\t\t};\n\n\t\tfunction setBlending(blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha) {\n\t\t\tif (blending === NoBlending) {\n\t\t\t\tif (currentBlendingEnabled === true) {\n\t\t\t\t\tdisable(gl.BLEND);\n\t\t\t\t\tcurrentBlendingEnabled = false;\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (currentBlendingEnabled === false) {\n\t\t\t\tenable(gl.BLEND);\n\t\t\t\tcurrentBlendingEnabled = true;\n\t\t\t}\n\n\t\t\tif (blending !== CustomBlending) {\n\t\t\t\tif (blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha) {\n\t\t\t\t\tif (currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation) {\n\t\t\t\t\t\tgl.blendEquation(gl.FUNC_ADD);\n\t\t\t\t\t\tcurrentBlendEquation = AddEquation;\n\t\t\t\t\t\tcurrentBlendEquationAlpha = AddEquation;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (premultipliedAlpha) {\n\t\t\t\t\t\tswitch (blending) {\n\t\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\t\tgl.blendFuncSeparate(gl.ONE, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\t\tgl.blendFunc(gl.ONE, gl.ONE);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\t\tgl.blendFuncSeparate(gl.ZERO, gl.ONE_MINUS_SRC_COLOR, gl.ZERO, gl.ONE);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\t\tgl.blendFuncSeparate(gl.ZERO, gl.SRC_COLOR, gl.ZERO, gl.SRC_ALPHA);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tconsole.error('THREE.WebGLState: Invalid blending: ', blending);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tswitch (blending) {\n\t\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\t\tgl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\t\tgl.blendFunc(gl.SRC_ALPHA, gl.ONE);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\t\tgl.blendFuncSeparate(gl.ZERO, gl.ONE_MINUS_SRC_COLOR, gl.ZERO, gl.ONE);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\t\tgl.blendFunc(gl.ZERO, gl.SRC_COLOR);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tconsole.error('THREE.WebGLState: Invalid blending: ', blending);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tcurrentBlendSrc = null;\n\t\t\t\t\tcurrentBlendDst = null;\n\t\t\t\t\tcurrentBlendSrcAlpha = null;\n\t\t\t\t\tcurrentBlendDstAlpha = null;\n\t\t\t\t\tcurrentBlending = blending;\n\t\t\t\t\tcurrentPremultipledAlpha = premultipliedAlpha;\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t} // custom blending\n\n\n\t\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\n\t\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\n\t\t\tblendDstAlpha = blendDstAlpha || blendDst;\n\n\t\t\tif (blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha) {\n\t\t\t\tgl.blendEquationSeparate(equationToGL[blendEquation], equationToGL[blendEquationAlpha]);\n\t\t\t\tcurrentBlendEquation = blendEquation;\n\t\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\n\t\t\t}\n\n\t\t\tif (blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha) {\n\t\t\t\tgl.blendFuncSeparate(factorToGL[blendSrc], factorToGL[blendDst], factorToGL[blendSrcAlpha], factorToGL[blendDstAlpha]);\n\t\t\t\tcurrentBlendSrc = blendSrc;\n\t\t\t\tcurrentBlendDst = blendDst;\n\t\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\n\t\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\n\t\t\t}\n\n\t\t\tcurrentBlending = blending;\n\t\t\tcurrentPremultipledAlpha = null;\n\t\t}\n\n\t\tfunction setMaterial(material, frontFaceCW) {\n\t\t\tmaterial.side === DoubleSide ? disable(gl.CULL_FACE) : enable(gl.CULL_FACE);\n\t\t\tlet flipSided = material.side === BackSide;\n\t\t\tif (frontFaceCW) flipSided = !flipSided;\n\t\t\tsetFlipSided(flipSided);\n\t\t\tmaterial.blending === NormalBlending && material.transparent === false ? setBlending(NoBlending) : setBlending(material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha);\n\t\t\tdepthBuffer.setFunc(material.depthFunc);\n\t\t\tdepthBuffer.setTest(material.depthTest);\n\t\t\tdepthBuffer.setMask(material.depthWrite);\n\t\t\tcolorBuffer.setMask(material.colorWrite);\n\t\t\tconst stencilWrite = material.stencilWrite;\n\t\t\tstencilBuffer.setTest(stencilWrite);\n\n\t\t\tif (stencilWrite) {\n\t\t\t\tstencilBuffer.setMask(material.stencilWriteMask);\n\t\t\t\tstencilBuffer.setFunc(material.stencilFunc, material.stencilRef, material.stencilFuncMask);\n\t\t\t\tstencilBuffer.setOp(material.stencilFail, material.stencilZFail, material.stencilZPass);\n\t\t\t}\n\n\t\t\tsetPolygonOffset(material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits);\n\t\t\tmaterial.alphaToCoverage === true ? enable(gl.SAMPLE_ALPHA_TO_COVERAGE) : disable(gl.SAMPLE_ALPHA_TO_COVERAGE);\n\t\t} //\n\n\n\t\tfunction setFlipSided(flipSided) {\n\t\t\tif (currentFlipSided !== flipSided) {\n\t\t\t\tif (flipSided) {\n\t\t\t\t\tgl.frontFace(gl.CW);\n\t\t\t\t} else {\n\t\t\t\t\tgl.frontFace(gl.CCW);\n\t\t\t\t}\n\n\t\t\t\tcurrentFlipSided = flipSided;\n\t\t\t}\n\t\t}\n\n\t\tfunction setCullFace(cullFace) {\n\t\t\tif (cullFace !== CullFaceNone) {\n\t\t\t\tenable(gl.CULL_FACE);\n\n\t\t\t\tif (cullFace !== currentCullFace) {\n\t\t\t\t\tif (cullFace === CullFaceBack) {\n\t\t\t\t\t\tgl.cullFace(gl.BACK);\n\t\t\t\t\t} else if (cullFace === CullFaceFront) {\n\t\t\t\t\t\tgl.cullFace(gl.FRONT);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgl.cullFace(gl.FRONT_AND_BACK);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdisable(gl.CULL_FACE);\n\t\t\t}\n\n\t\t\tcurrentCullFace = cullFace;\n\t\t}\n\n\t\tfunction setLineWidth(width) {\n\t\t\tif (width !== currentLineWidth) {\n\t\t\t\tif (lineWidthAvailable) gl.lineWidth(width);\n\t\t\t\tcurrentLineWidth = width;\n\t\t\t}\n\t\t}\n\n\t\tfunction setPolygonOffset(polygonOffset, factor, units) {\n\t\t\tif (polygonOffset) {\n\t\t\t\tenable(gl.POLYGON_OFFSET_FILL);\n\n\t\t\t\tif (currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units) {\n\t\t\t\t\tgl.polygonOffset(factor, units);\n\t\t\t\t\tcurrentPolygonOffsetFactor = factor;\n\t\t\t\t\tcurrentPolygonOffsetUnits = units;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdisable(gl.POLYGON_OFFSET_FILL);\n\t\t\t}\n\t\t}\n\n\t\tfunction setScissorTest(scissorTest) {\n\t\t\tif (scissorTest) {\n\t\t\t\tenable(gl.SCISSOR_TEST);\n\t\t\t} else {\n\t\t\t\tdisable(gl.SCISSOR_TEST);\n\t\t\t}\n\t\t} // texture\n\n\n\t\tfunction activeTexture(webglSlot) {\n\t\t\tif (webglSlot === undefined) webglSlot = gl.TEXTURE0 + maxTextures - 1;\n\n\t\t\tif (currentTextureSlot !== webglSlot) {\n\t\t\t\tgl.activeTexture(webglSlot);\n\t\t\t\tcurrentTextureSlot = webglSlot;\n\t\t\t}\n\t\t}\n\n\t\tfunction bindTexture(webglType, webglTexture) {\n\t\t\tif (currentTextureSlot === null) {\n\t\t\t\tactiveTexture();\n\t\t\t}\n\n\t\t\tlet boundTexture = currentBoundTextures[currentTextureSlot];\n\n\t\t\tif (boundTexture === undefined) {\n\t\t\t\tboundTexture = {\n\t\t\t\t\ttype: undefined,\n\t\t\t\t\ttexture: undefined\n\t\t\t\t};\n\t\t\t\tcurrentBoundTextures[currentTextureSlot] = boundTexture;\n\t\t\t}\n\n\t\t\tif (boundTexture.type !== webglType || boundTexture.texture !== webglTexture) {\n\t\t\t\tgl.bindTexture(webglType, webglTexture || emptyTextures[webglType]);\n\t\t\t\tboundTexture.type = webglType;\n\t\t\t\tboundTexture.texture = webglTexture;\n\t\t\t}\n\t\t}\n\n\t\tfunction unbindTexture() {\n\t\t\tconst boundTexture = currentBoundTextures[currentTextureSlot];\n\n\t\t\tif (boundTexture !== undefined && boundTexture.type !== undefined) {\n\t\t\t\tgl.bindTexture(boundTexture.type, null);\n\t\t\t\tboundTexture.type = undefined;\n\t\t\t\tboundTexture.texture = undefined;\n\t\t\t}\n\t\t}\n\n\t\tfunction compressedTexImage2D() {\n\t\t\ttry {\n\t\t\t\tgl.compressedTexImage2D.apply(gl, arguments);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('THREE.WebGLState:', error);\n\t\t\t}\n\t\t}\n\n\t\tfunction texSubImage2D() {\n\t\t\ttry {\n\t\t\t\tgl.texSubImage2D.apply(gl, arguments);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('THREE.WebGLState:', error);\n\t\t\t}\n\t\t}\n\n\t\tfunction texSubImage3D() {\n\t\t\ttry {\n\t\t\t\tgl.texSubImage3D.apply(gl, arguments);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('THREE.WebGLState:', error);\n\t\t\t}\n\t\t}\n\n\t\tfunction compressedTexSubImage2D() {\n\t\t\ttry {\n\t\t\t\tgl.compressedTexSubImage2D.apply(gl, arguments);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('THREE.WebGLState:', error);\n\t\t\t}\n\t\t}\n\n\t\tfunction texStorage2D() {\n\t\t\ttry {\n\t\t\t\tgl.texStorage2D.apply(gl, arguments);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('THREE.WebGLState:', error);\n\t\t\t}\n\t\t}\n\n\t\tfunction texStorage3D() {\n\t\t\ttry {\n\t\t\t\tgl.texStorage3D.apply(gl, arguments);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('THREE.WebGLState:', error);\n\t\t\t}\n\t\t}\n\n\t\tfunction texImage2D() {\n\t\t\ttry {\n\t\t\t\tgl.texImage2D.apply(gl, arguments);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('THREE.WebGLState:', error);\n\t\t\t}\n\t\t}\n\n\t\tfunction texImage3D() {\n\t\t\ttry {\n\t\t\t\tgl.texImage3D.apply(gl, arguments);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('THREE.WebGLState:', error);\n\t\t\t}\n\t\t} //\n\n\n\t\tfunction scissor(scissor) {\n\t\t\tif (currentScissor.equals(scissor) === false) {\n\t\t\t\tgl.scissor(scissor.x, scissor.y, scissor.z, scissor.w);\n\t\t\t\tcurrentScissor.copy(scissor);\n\t\t\t}\n\t\t}\n\n\t\tfunction viewport(viewport) {\n\t\t\tif (currentViewport.equals(viewport) === false) {\n\t\t\t\tgl.viewport(viewport.x, viewport.y, viewport.z, viewport.w);\n\t\t\t\tcurrentViewport.copy(viewport);\n\t\t\t}\n\t\t} //\n\n\n\t\tfunction reset() {\n\t\t\t// reset state\n\t\t\tgl.disable(gl.BLEND);\n\t\t\tgl.disable(gl.CULL_FACE);\n\t\t\tgl.disable(gl.DEPTH_TEST);\n\t\t\tgl.disable(gl.POLYGON_OFFSET_FILL);\n\t\t\tgl.disable(gl.SCISSOR_TEST);\n\t\t\tgl.disable(gl.STENCIL_TEST);\n\t\t\tgl.disable(gl.SAMPLE_ALPHA_TO_COVERAGE);\n\t\t\tgl.blendEquation(gl.FUNC_ADD);\n\t\t\tgl.blendFunc(gl.ONE, gl.ZERO);\n\t\t\tgl.blendFuncSeparate(gl.ONE, gl.ZERO, gl.ONE, gl.ZERO);\n\t\t\tgl.colorMask(true, true, true, true);\n\t\t\tgl.clearColor(0, 0, 0, 0);\n\t\t\tgl.depthMask(true);\n\t\t\tgl.depthFunc(gl.LESS);\n\t\t\tgl.clearDepth(1);\n\t\t\tgl.stencilMask(0xffffffff);\n\t\t\tgl.stencilFunc(gl.ALWAYS, 0, 0xffffffff);\n\t\t\tgl.stencilOp(gl.KEEP, gl.KEEP, gl.KEEP);\n\t\t\tgl.clearStencil(0);\n\t\t\tgl.cullFace(gl.BACK);\n\t\t\tgl.frontFace(gl.CCW);\n\t\t\tgl.polygonOffset(0, 0);\n\t\t\tgl.activeTexture(gl.TEXTURE0);\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n\t\t\tif (isWebGL2 === true) {\n\t\t\t\tgl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);\n\t\t\t\tgl.bindFramebuffer(gl.READ_FRAMEBUFFER, null);\n\t\t\t}\n\n\t\t\tgl.useProgram(null);\n\t\t\tgl.lineWidth(1);\n\t\t\tgl.scissor(0, 0, gl.canvas.width, gl.canvas.height);\n\t\t\tgl.viewport(0, 0, gl.canvas.width, gl.canvas.height); // reset internals\n\n\t\t\tenabledCapabilities = {};\n\t\t\tcurrentTextureSlot = null;\n\t\t\tcurrentBoundTextures = {};\n\t\t\tcurrentBoundFramebuffers = {};\n\t\t\tcurrentDrawbuffers = new WeakMap();\n\t\t\tdefaultDrawbuffers = [];\n\t\t\tcurrentProgram = null;\n\t\t\tcurrentBlendingEnabled = false;\n\t\t\tcurrentBlending = null;\n\t\t\tcurrentBlendEquation = null;\n\t\t\tcurrentBlendSrc = null;\n\t\t\tcurrentBlendDst = null;\n\t\t\tcurrentBlendEquationAlpha = null;\n\t\t\tcurrentBlendSrcAlpha = null;\n\t\t\tcurrentBlendDstAlpha = null;\n\t\t\tcurrentPremultipledAlpha = false;\n\t\t\tcurrentFlipSided = null;\n\t\t\tcurrentCullFace = null;\n\t\t\tcurrentLineWidth = null;\n\t\t\tcurrentPolygonOffsetFactor = null;\n\t\t\tcurrentPolygonOffsetUnits = null;\n\t\t\tcurrentScissor.set(0, 0, gl.canvas.width, gl.canvas.height);\n\t\t\tcurrentViewport.set(0, 0, gl.canvas.width, gl.canvas.height);\n\t\t\tcolorBuffer.reset();\n\t\t\tdepthBuffer.reset();\n\t\t\tstencilBuffer.reset();\n\t\t}\n\n\t\treturn {\n\t\t\tbuffers: {\n\t\t\t\tcolor: colorBuffer,\n\t\t\t\tdepth: depthBuffer,\n\t\t\t\tstencil: stencilBuffer\n\t\t\t},\n\t\t\tenable: enable,\n\t\t\tdisable: disable,\n\t\t\tbindFramebuffer: bindFramebuffer,\n\t\t\tdrawBuffers: drawBuffers,\n\t\t\tuseProgram: useProgram,\n\t\t\tsetBlending: setBlending,\n\t\t\tsetMaterial: setMaterial,\n\t\t\tsetFlipSided: setFlipSided,\n\t\t\tsetCullFace: setCullFace,\n\t\t\tsetLineWidth: setLineWidth,\n\t\t\tsetPolygonOffset: setPolygonOffset,\n\t\t\tsetScissorTest: setScissorTest,\n\t\t\tactiveTexture: activeTexture,\n\t\t\tbindTexture: bindTexture,\n\t\t\tunbindTexture: unbindTexture,\n\t\t\tcompressedTexImage2D: compressedTexImage2D,\n\t\t\ttexImage2D: texImage2D,\n\t\t\ttexImage3D: texImage3D,\n\t\t\ttexStorage2D: texStorage2D,\n\t\t\ttexStorage3D: texStorage3D,\n\t\t\ttexSubImage2D: texSubImage2D,\n\t\t\ttexSubImage3D: texSubImage3D,\n\t\t\tcompressedTexSubImage2D: compressedTexSubImage2D,\n\t\t\tscissor: scissor,\n\t\t\tviewport: viewport,\n\t\t\treset: reset\n\t\t};\n\t}\n\n\tfunction WebGLTextures(_gl, extensions, state, properties, capabilities, utils, info) {\n\t\tconst isWebGL2 = capabilities.isWebGL2;\n\t\tconst maxTextures = capabilities.maxTextures;\n\t\tconst maxCubemapSize = capabilities.maxCubemapSize;\n\t\tconst maxTextureSize = capabilities.maxTextureSize;\n\t\tconst maxSamples = capabilities.maxSamples;\n\t\tconst multisampledRTTExt = extensions.has('WEBGL_multisampled_render_to_texture') ? extensions.get('WEBGL_multisampled_render_to_texture') : null;\n\t\tconst supportsInvalidateFramebuffer = /OculusBrowser/g.test(navigator.userAgent);\n\n\t\tconst _videoTextures = new WeakMap();\n\n\t\tlet _canvas;\n\n\t\tconst _sources = new WeakMap(); // maps WebglTexture objects to instances of Source\n\t\t// cordova iOS (as of 5.0) still uses UIWebView, which provides OffscreenCanvas,\n\t\t// also OffscreenCanvas.getContext(\"webgl\"), but not OffscreenCanvas.getContext(\"2d\")!\n\t\t// Some implementations may only implement OffscreenCanvas partially (e.g. lacking 2d).\n\n\n\t\tlet useOffscreenCanvas = false;\n\n\t\ttry {\n\t\t\tuseOffscreenCanvas = typeof OffscreenCanvas !== 'undefined' // eslint-disable-next-line compat/compat\n\t\t\t&& new OffscreenCanvas(1, 1).getContext('2d') !== null;\n\t\t} catch (err) {// Ignore any errors\n\t\t}\n\n\t\tfunction createCanvas(width, height) {\n\t\t\t// Use OffscreenCanvas when available. Specially needed in web workers\n\t\t\treturn useOffscreenCanvas ? // eslint-disable-next-line compat/compat\n\t\t\tnew OffscreenCanvas(width, height) : createElementNS('canvas');\n\t\t}\n\n\t\tfunction resizeImage(image, needsPowerOfTwo, needsNewCanvas, maxSize) {\n\t\t\tlet scale = 1; // handle case if texture exceeds max size\n\n\t\t\tif (image.width > maxSize || image.height > maxSize) {\n\t\t\t\tscale = maxSize / Math.max(image.width, image.height);\n\t\t\t} // only perform resize if necessary\n\n\n\t\t\tif (scale < 1 || needsPowerOfTwo === true) {\n\t\t\t\t// only perform resize for certain image types\n\t\t\t\tif (typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement || typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement || typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap) {\n\t\t\t\t\tconst floor = needsPowerOfTwo ? floorPowerOfTwo : Math.floor;\n\t\t\t\t\tconst width = floor(scale * image.width);\n\t\t\t\t\tconst height = floor(scale * image.height);\n\t\t\t\t\tif (_canvas === undefined) _canvas = createCanvas(width, height); // cube textures can't reuse the same canvas\n\n\t\t\t\t\tconst canvas = needsNewCanvas ? createCanvas(width, height) : _canvas;\n\t\t\t\t\tcanvas.width = width;\n\t\t\t\t\tcanvas.height = height;\n\t\t\t\t\tconst context = canvas.getContext('2d');\n\t\t\t\t\tcontext.drawImage(image, 0, 0, width, height);\n\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + width + 'x' + height + ').');\n\t\t\t\t\treturn canvas;\n\t\t\t\t} else {\n\t\t\t\t\tif ('data' in image) {\n\t\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').');\n\t\t\t\t\t}\n\n\t\t\t\t\treturn image;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn image;\n\t\t}\n\n\t\tfunction isPowerOfTwo$1(image) {\n\t\t\treturn isPowerOfTwo(image.width) && isPowerOfTwo(image.height);\n\t\t}\n\n\t\tfunction textureNeedsPowerOfTwo(texture) {\n\t\t\tif (isWebGL2) return false;\n\t\t\treturn texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping || texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\t\t}\n\n\t\tfunction textureNeedsGenerateMipmaps(texture, supportsMips) {\n\t\t\treturn texture.generateMipmaps && supportsMips && texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\t\t}\n\n\t\tfunction generateMipmap(target) {\n\t\t\t_gl.generateMipmap(target);\n\t\t}\n\n\t\tfunction getInternalFormat(internalFormatName, glFormat, glType, encoding, isVideoTexture = false) {\n\t\t\tif (isWebGL2 === false) return glFormat;\n\n\t\t\tif (internalFormatName !== null) {\n\t\t\t\tif (_gl[internalFormatName] !== undefined) return _gl[internalFormatName];\n\t\t\t\tconsole.warn('THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format \\'' + internalFormatName + '\\'');\n\t\t\t}\n\n\t\t\tlet internalFormat = glFormat;\n\n\t\t\tif (glFormat === _gl.RED) {\n\t\t\t\tif (glType === _gl.FLOAT) internalFormat = _gl.R32F;\n\t\t\t\tif (glType === _gl.HALF_FLOAT) internalFormat = _gl.R16F;\n\t\t\t\tif (glType === _gl.UNSIGNED_BYTE) internalFormat = _gl.R8;\n\t\t\t}\n\n\t\t\tif (glFormat === _gl.RG) {\n\t\t\t\tif (glType === _gl.FLOAT) internalFormat = _gl.RG32F;\n\t\t\t\tif (glType === _gl.HALF_FLOAT) internalFormat = _gl.RG16F;\n\t\t\t\tif (glType === _gl.UNSIGNED_BYTE) internalFormat = _gl.RG8;\n\t\t\t}\n\n\t\t\tif (glFormat === _gl.RGBA) {\n\t\t\t\tif (glType === _gl.FLOAT) internalFormat = _gl.RGBA32F;\n\t\t\t\tif (glType === _gl.HALF_FLOAT) internalFormat = _gl.RGBA16F;\n\t\t\t\tif (glType === _gl.UNSIGNED_BYTE) internalFormat = encoding === sRGBEncoding && isVideoTexture === false ? _gl.SRGB8_ALPHA8 : _gl.RGBA8;\n\t\t\t\tif (glType === _gl.UNSIGNED_SHORT_4_4_4_4) internalFormat = _gl.RGBA4;\n\t\t\t\tif (glType === _gl.UNSIGNED_SHORT_5_5_5_1) internalFormat = _gl.RGB5_A1;\n\t\t\t}\n\n\t\t\tif (internalFormat === _gl.R16F || internalFormat === _gl.R32F || internalFormat === _gl.RG16F || internalFormat === _gl.RG32F || internalFormat === _gl.RGBA16F || internalFormat === _gl.RGBA32F) {\n\t\t\t\textensions.get('EXT_color_buffer_float');\n\t\t\t}\n\n\t\t\treturn internalFormat;\n\t\t}\n\n\t\tfunction getMipLevels(texture, image, supportsMips) {\n\t\t\tif (textureNeedsGenerateMipmaps(texture, supportsMips) === true || texture.isFramebufferTexture && texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter) {\n\t\t\t\treturn Math.log2(Math.max(image.width, image.height)) + 1;\n\t\t\t} else if (texture.mipmaps !== undefined && texture.mipmaps.length > 0) {\n\t\t\t\t// user-defined mipmaps\n\t\t\t\treturn texture.mipmaps.length;\n\t\t\t} else if (texture.isCompressedTexture && Array.isArray(texture.image)) {\n\t\t\t\treturn image.mipmaps.length;\n\t\t\t} else {\n\t\t\t\t// texture without mipmaps (only base level)\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t} // Fallback filters for non-power-of-2 textures\n\n\n\t\tfunction filterFallback(f) {\n\t\t\tif (f === NearestFilter || f === NearestMipmapNearestFilter || f === NearestMipmapLinearFilter) {\n\t\t\t\treturn _gl.NEAREST;\n\t\t\t}\n\n\t\t\treturn _gl.LINEAR;\n\t\t} //\n\n\n\t\tfunction onTextureDispose(event) {\n\t\t\tconst texture = event.target;\n\t\t\ttexture.removeEventListener('dispose', onTextureDispose);\n\t\t\tdeallocateTexture(texture);\n\n\t\t\tif (texture.isVideoTexture) {\n\t\t\t\t_videoTextures.delete(texture);\n\t\t\t}\n\t\t}\n\n\t\tfunction onRenderTargetDispose(event) {\n\t\t\tconst renderTarget = event.target;\n\t\t\trenderTarget.removeEventListener('dispose', onRenderTargetDispose);\n\t\t\tdeallocateRenderTarget(renderTarget);\n\t\t} //\n\n\n\t\tfunction deallocateTexture(texture) {\n\t\t\tconst textureProperties = properties.get(texture);\n\t\t\tif (textureProperties.__webglInit === undefined) return; // check if it's necessary to remove the WebGLTexture object\n\n\t\t\tconst source = texture.source;\n\n\t\t\tconst webglTextures = _sources.get(source);\n\n\t\t\tif (webglTextures) {\n\t\t\t\tconst webglTexture = webglTextures[textureProperties.__cacheKey];\n\t\t\t\twebglTexture.usedTimes--; // the WebGLTexture object is not used anymore, remove it\n\n\t\t\t\tif (webglTexture.usedTimes === 0) {\n\t\t\t\t\tdeleteTexture(texture);\n\t\t\t\t} // remove the weak map entry if no WebGLTexture uses the source anymore\n\n\n\t\t\t\tif (Object.keys(webglTextures).length === 0) {\n\t\t\t\t\t_sources.delete(source);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tproperties.remove(texture);\n\t\t}\n\n\t\tfunction deleteTexture(texture) {\n\t\t\tconst textureProperties = properties.get(texture);\n\n\t\t\t_gl.deleteTexture(textureProperties.__webglTexture);\n\n\t\t\tconst source = texture.source;\n\n\t\t\tconst webglTextures = _sources.get(source);\n\n\t\t\tdelete webglTextures[textureProperties.__cacheKey];\n\t\t\tinfo.memory.textures--;\n\t\t}\n\n\t\tfunction deallocateRenderTarget(renderTarget) {\n\t\t\tconst texture = renderTarget.texture;\n\t\t\tconst renderTargetProperties = properties.get(renderTarget);\n\t\t\tconst textureProperties = properties.get(texture);\n\n\t\t\tif (textureProperties.__webglTexture !== undefined) {\n\t\t\t\t_gl.deleteTexture(textureProperties.__webglTexture);\n\n\t\t\t\tinfo.memory.textures--;\n\t\t\t}\n\n\t\t\tif (renderTarget.depthTexture) {\n\t\t\t\trenderTarget.depthTexture.dispose();\n\t\t\t}\n\n\t\t\tif (renderTarget.isWebGLCubeRenderTarget) {\n\t\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\t\t_gl.deleteFramebuffer(renderTargetProperties.__webglFramebuffer[i]);\n\n\t\t\t\t\tif (renderTargetProperties.__webglDepthbuffer) _gl.deleteRenderbuffer(renderTargetProperties.__webglDepthbuffer[i]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t_gl.deleteFramebuffer(renderTargetProperties.__webglFramebuffer);\n\n\t\t\t\tif (renderTargetProperties.__webglDepthbuffer) _gl.deleteRenderbuffer(renderTargetProperties.__webglDepthbuffer);\n\t\t\t\tif (renderTargetProperties.__webglMultisampledFramebuffer) _gl.deleteFramebuffer(renderTargetProperties.__webglMultisampledFramebuffer);\n\n\t\t\t\tif (renderTargetProperties.__webglColorRenderbuffer) {\n\t\t\t\t\tfor (let i = 0; i < renderTargetProperties.__webglColorRenderbuffer.length; i++) {\n\t\t\t\t\t\tif (renderTargetProperties.__webglColorRenderbuffer[i]) _gl.deleteRenderbuffer(renderTargetProperties.__webglColorRenderbuffer[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (renderTargetProperties.__webglDepthRenderbuffer) _gl.deleteRenderbuffer(renderTargetProperties.__webglDepthRenderbuffer);\n\t\t\t}\n\n\t\t\tif (renderTarget.isWebGLMultipleRenderTargets) {\n\t\t\t\tfor (let i = 0, il = texture.length; i < il; i++) {\n\t\t\t\t\tconst attachmentProperties = properties.get(texture[i]);\n\n\t\t\t\t\tif (attachmentProperties.__webglTexture) {\n\t\t\t\t\t\t_gl.deleteTexture(attachmentProperties.__webglTexture);\n\n\t\t\t\t\t\tinfo.memory.textures--;\n\t\t\t\t\t}\n\n\t\t\t\t\tproperties.remove(texture[i]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tproperties.remove(texture);\n\t\t\tproperties.remove(renderTarget);\n\t\t} //\n\n\n\t\tlet textureUnits = 0;\n\n\t\tfunction resetTextureUnits() {\n\t\t\ttextureUnits = 0;\n\t\t}\n\n\t\tfunction allocateTextureUnit() {\n\t\t\tconst textureUnit = textureUnits;\n\n\t\t\tif (textureUnit >= maxTextures) {\n\t\t\t\tconsole.warn('THREE.WebGLTextures: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + maxTextures);\n\t\t\t}\n\n\t\t\ttextureUnits += 1;\n\t\t\treturn textureUnit;\n\t\t}\n\n\t\tfunction getTextureCacheKey(texture) {\n\t\t\tconst array = [];\n\t\t\tarray.push(texture.wrapS);\n\t\t\tarray.push(texture.wrapT);\n\t\t\tarray.push(texture.magFilter);\n\t\t\tarray.push(texture.minFilter);\n\t\t\tarray.push(texture.anisotropy);\n\t\t\tarray.push(texture.internalFormat);\n\t\t\tarray.push(texture.format);\n\t\t\tarray.push(texture.type);\n\t\t\tarray.push(texture.generateMipmaps);\n\t\t\tarray.push(texture.premultiplyAlpha);\n\t\t\tarray.push(texture.flipY);\n\t\t\tarray.push(texture.unpackAlignment);\n\t\t\tarray.push(texture.encoding);\n\t\t\treturn array.join();\n\t\t} //\n\n\n\t\tfunction setTexture2D(texture, slot) {\n\t\t\tconst textureProperties = properties.get(texture);\n\t\t\tif (texture.isVideoTexture) updateVideoTexture(texture);\n\n\t\t\tif (texture.isRenderTargetTexture === false && texture.version > 0 && textureProperties.__version !== texture.version) {\n\t\t\t\tconst image = texture.image;\n\n\t\t\t\tif (image === null) {\n\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: Texture marked for update but no image data found.');\n\t\t\t\t} else if (image.complete === false) {\n\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: Texture marked for update but image is incomplete');\n\t\t\t\t} else {\n\t\t\t\t\tuploadTexture(textureProperties, texture, slot);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tstate.activeTexture(_gl.TEXTURE0 + slot);\n\t\t\tstate.bindTexture(_gl.TEXTURE_2D, textureProperties.__webglTexture);\n\t\t}\n\n\t\tfunction setTexture2DArray(texture, slot) {\n\t\t\tconst textureProperties = properties.get(texture);\n\n\t\t\tif (texture.version > 0 && textureProperties.__version !== texture.version) {\n\t\t\t\tuploadTexture(textureProperties, texture, slot);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tstate.activeTexture(_gl.TEXTURE0 + slot);\n\t\t\tstate.bindTexture(_gl.TEXTURE_2D_ARRAY, textureProperties.__webglTexture);\n\t\t}\n\n\t\tfunction setTexture3D(texture, slot) {\n\t\t\tconst textureProperties = properties.get(texture);\n\n\t\t\tif (texture.version > 0 && textureProperties.__version !== texture.version) {\n\t\t\t\tuploadTexture(textureProperties, texture, slot);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tstate.activeTexture(_gl.TEXTURE0 + slot);\n\t\t\tstate.bindTexture(_gl.TEXTURE_3D, textureProperties.__webglTexture);\n\t\t}\n\n\t\tfunction setTextureCube(texture, slot) {\n\t\t\tconst textureProperties = properties.get(texture);\n\n\t\t\tif (texture.version > 0 && textureProperties.__version !== texture.version) {\n\t\t\t\tuploadCubeTexture(textureProperties, texture, slot);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tstate.activeTexture(_gl.TEXTURE0 + slot);\n\t\t\tstate.bindTexture(_gl.TEXTURE_CUBE_MAP, textureProperties.__webglTexture);\n\t\t}\n\n\t\tconst wrappingToGL = {\n\t\t\t[RepeatWrapping]: _gl.REPEAT,\n\t\t\t[ClampToEdgeWrapping]: _gl.CLAMP_TO_EDGE,\n\t\t\t[MirroredRepeatWrapping]: _gl.MIRRORED_REPEAT\n\t\t};\n\t\tconst filterToGL = {\n\t\t\t[NearestFilter]: _gl.NEAREST,\n\t\t\t[NearestMipmapNearestFilter]: _gl.NEAREST_MIPMAP_NEAREST,\n\t\t\t[NearestMipmapLinearFilter]: _gl.NEAREST_MIPMAP_LINEAR,\n\t\t\t[LinearFilter]: _gl.LINEAR,\n\t\t\t[LinearMipmapNearestFilter]: _gl.LINEAR_MIPMAP_NEAREST,\n\t\t\t[LinearMipmapLinearFilter]: _gl.LINEAR_MIPMAP_LINEAR\n\t\t};\n\n\t\tfunction setTextureParameters(textureType, texture, supportsMips) {\n\t\t\tif (supportsMips) {\n\t\t\t\t_gl.texParameteri(textureType, _gl.TEXTURE_WRAP_S, wrappingToGL[texture.wrapS]);\n\n\t\t\t\t_gl.texParameteri(textureType, _gl.TEXTURE_WRAP_T, wrappingToGL[texture.wrapT]);\n\n\t\t\t\tif (textureType === _gl.TEXTURE_3D || textureType === _gl.TEXTURE_2D_ARRAY) {\n\t\t\t\t\t_gl.texParameteri(textureType, _gl.TEXTURE_WRAP_R, wrappingToGL[texture.wrapR]);\n\t\t\t\t}\n\n\t\t\t\t_gl.texParameteri(textureType, _gl.TEXTURE_MAG_FILTER, filterToGL[texture.magFilter]);\n\n\t\t\t\t_gl.texParameteri(textureType, _gl.TEXTURE_MIN_FILTER, filterToGL[texture.minFilter]);\n\t\t\t} else {\n\t\t\t\t_gl.texParameteri(textureType, _gl.TEXTURE_WRAP_S, _gl.CLAMP_TO_EDGE);\n\n\t\t\t\t_gl.texParameteri(textureType, _gl.TEXTURE_WRAP_T, _gl.CLAMP_TO_EDGE);\n\n\t\t\t\tif (textureType === _gl.TEXTURE_3D || textureType === _gl.TEXTURE_2D_ARRAY) {\n\t\t\t\t\t_gl.texParameteri(textureType, _gl.TEXTURE_WRAP_R, _gl.CLAMP_TO_EDGE);\n\t\t\t\t}\n\n\t\t\t\tif (texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping) {\n\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.');\n\t\t\t\t}\n\n\t\t\t\t_gl.texParameteri(textureType, _gl.TEXTURE_MAG_FILTER, filterFallback(texture.magFilter));\n\n\t\t\t\t_gl.texParameteri(textureType, _gl.TEXTURE_MIN_FILTER, filterFallback(texture.minFilter));\n\n\t\t\t\tif (texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter) {\n\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (extensions.has('EXT_texture_filter_anisotropic') === true) {\n\t\t\t\tconst extension = extensions.get('EXT_texture_filter_anisotropic');\n\t\t\t\tif (texture.type === FloatType && extensions.has('OES_texture_float_linear') === false) return; // verify extension for WebGL 1 and WebGL 2\n\n\t\t\t\tif (isWebGL2 === false && texture.type === HalfFloatType && extensions.has('OES_texture_half_float_linear') === false) return; // verify extension for WebGL 1 only\n\n\t\t\t\tif (texture.anisotropy > 1 || properties.get(texture).__currentAnisotropy) {\n\t\t\t\t\t_gl.texParameterf(textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(texture.anisotropy, capabilities.getMaxAnisotropy()));\n\n\t\t\t\t\tproperties.get(texture).__currentAnisotropy = texture.anisotropy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction initTexture(textureProperties, texture) {\n\t\t\tlet forceUpload = false;\n\n\t\t\tif (textureProperties.__webglInit === undefined) {\n\t\t\t\ttextureProperties.__webglInit = true;\n\t\t\t\ttexture.addEventListener('dispose', onTextureDispose);\n\t\t\t} // create Source <-> WebGLTextures mapping if necessary\n\n\n\t\t\tconst source = texture.source;\n\n\t\t\tlet webglTextures = _sources.get(source);\n\n\t\t\tif (webglTextures === undefined) {\n\t\t\t\twebglTextures = {};\n\n\t\t\t\t_sources.set(source, webglTextures);\n\t\t\t} // check if there is already a WebGLTexture object for the given texture parameters\n\n\n\t\t\tconst textureCacheKey = getTextureCacheKey(texture);\n\n\t\t\tif (textureCacheKey !== textureProperties.__cacheKey) {\n\t\t\t\t// if not, create a new instance of WebGLTexture\n\t\t\t\tif (webglTextures[textureCacheKey] === undefined) {\n\t\t\t\t\t// create new entry\n\t\t\t\t\twebglTextures[textureCacheKey] = {\n\t\t\t\t\t\ttexture: _gl.createTexture(),\n\t\t\t\t\t\tusedTimes: 0\n\t\t\t\t\t};\n\t\t\t\t\tinfo.memory.textures++; // when a new instance of WebGLTexture was created, a texture upload is required\n\t\t\t\t\t// even if the image contents are identical\n\n\t\t\t\t\tforceUpload = true;\n\t\t\t\t}\n\n\t\t\t\twebglTextures[textureCacheKey].usedTimes++; // every time the texture cache key changes, it's necessary to check if an instance of\n\t\t\t\t// WebGLTexture can be deleted in order to avoid a memory leak.\n\n\t\t\t\tconst webglTexture = webglTextures[textureProperties.__cacheKey];\n\n\t\t\t\tif (webglTexture !== undefined) {\n\t\t\t\t\twebglTextures[textureProperties.__cacheKey].usedTimes--;\n\n\t\t\t\t\tif (webglTexture.usedTimes === 0) {\n\t\t\t\t\t\tdeleteTexture(texture);\n\t\t\t\t\t}\n\t\t\t\t} // store references to cache key and WebGLTexture object\n\n\n\t\t\t\ttextureProperties.__cacheKey = textureCacheKey;\n\t\t\t\ttextureProperties.__webglTexture = webglTextures[textureCacheKey].texture;\n\t\t\t}\n\n\t\t\treturn forceUpload;\n\t\t}\n\n\t\tfunction uploadTexture(textureProperties, texture, slot) {\n\t\t\tlet textureType = _gl.TEXTURE_2D;\n\t\t\tif (texture.isDataArrayTexture) textureType = _gl.TEXTURE_2D_ARRAY;\n\t\t\tif (texture.isData3DTexture) textureType = _gl.TEXTURE_3D;\n\t\t\tconst forceUpload = initTexture(textureProperties, texture);\n\t\t\tconst source = texture.source;\n\t\t\tstate.activeTexture(_gl.TEXTURE0 + slot);\n\t\t\tstate.bindTexture(textureType, textureProperties.__webglTexture);\n\n\t\t\tif (source.version !== source.__currentVersion || forceUpload === true) {\n\t\t\t\t_gl.pixelStorei(_gl.UNPACK_FLIP_Y_WEBGL, texture.flipY);\n\n\t\t\t\t_gl.pixelStorei(_gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, texture.premultiplyAlpha);\n\n\t\t\t\t_gl.pixelStorei(_gl.UNPACK_ALIGNMENT, texture.unpackAlignment);\n\n\t\t\t\t_gl.pixelStorei(_gl.UNPACK_COLORSPACE_CONVERSION_WEBGL, _gl.NONE);\n\n\t\t\t\tconst needsPowerOfTwo = textureNeedsPowerOfTwo(texture) && isPowerOfTwo$1(texture.image) === false;\n\t\t\t\tlet image = resizeImage(texture.image, needsPowerOfTwo, false, maxTextureSize);\n\t\t\t\timage = verifyColorSpace(texture, image);\n\t\t\t\tconst supportsMips = isPowerOfTwo$1(image) || isWebGL2,\n\t\t\t\t\t\t\tglFormat = utils.convert(texture.format, texture.encoding);\n\t\t\t\tlet glType = utils.convert(texture.type),\n\t\t\t\t\t\tglInternalFormat = getInternalFormat(texture.internalFormat, glFormat, glType, texture.encoding, texture.isVideoTexture);\n\t\t\t\tsetTextureParameters(textureType, texture, supportsMips);\n\t\t\t\tlet mipmap;\n\t\t\t\tconst mipmaps = texture.mipmaps;\n\t\t\t\tconst useTexStorage = isWebGL2 && texture.isVideoTexture !== true;\n\t\t\t\tconst allocateMemory = source.__currentVersion === undefined || forceUpload === true;\n\t\t\t\tconst levels = getMipLevels(texture, image, supportsMips);\n\n\t\t\t\tif (texture.isDepthTexture) {\n\t\t\t\t\t// populate depth texture with dummy data\n\t\t\t\t\tglInternalFormat = _gl.DEPTH_COMPONENT;\n\n\t\t\t\t\tif (isWebGL2) {\n\t\t\t\t\t\tif (texture.type === FloatType) {\n\t\t\t\t\t\t\tglInternalFormat = _gl.DEPTH_COMPONENT32F;\n\t\t\t\t\t\t} else if (texture.type === UnsignedIntType) {\n\t\t\t\t\t\t\tglInternalFormat = _gl.DEPTH_COMPONENT24;\n\t\t\t\t\t\t} else if (texture.type === UnsignedInt248Type) {\n\t\t\t\t\t\t\tglInternalFormat = _gl.DEPTH24_STENCIL8;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tglInternalFormat = _gl.DEPTH_COMPONENT16; // WebGL2 requires sized internalformat for glTexImage2D\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (texture.type === FloatType) {\n\t\t\t\t\t\t\tconsole.error('WebGLRenderer: Floating point depth texture requires WebGL2.');\n\t\t\t\t\t\t}\n\t\t\t\t\t} // validation checks for WebGL 1\n\n\n\t\t\t\t\tif (texture.format === DepthFormat && glInternalFormat === _gl.DEPTH_COMPONENT) {\n\t\t\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t\t\t// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n\t\t\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\t\t\tif (texture.type !== UnsignedShortType && texture.type !== UnsignedIntType) {\n\t\t\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.');\n\t\t\t\t\t\t\ttexture.type = UnsignedIntType;\n\t\t\t\t\t\t\tglType = utils.convert(texture.type);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (texture.format === DepthStencilFormat && glInternalFormat === _gl.DEPTH_COMPONENT) {\n\t\t\t\t\t\t// Depth stencil textures need the DEPTH_STENCIL internal format\n\t\t\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\t\t\tglInternalFormat = _gl.DEPTH_STENCIL; // The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t\t\t// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n\t\t\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\n\t\t\t\t\t\tif (texture.type !== UnsignedInt248Type) {\n\t\t\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.');\n\t\t\t\t\t\t\ttexture.type = UnsignedInt248Type;\n\t\t\t\t\t\t\tglType = utils.convert(texture.type);\n\t\t\t\t\t\t}\n\t\t\t\t\t} //\n\n\n\t\t\t\t\tif (allocateMemory) {\n\t\t\t\t\t\tif (useTexStorage) {\n\t\t\t\t\t\t\tstate.texStorage2D(_gl.TEXTURE_2D, 1, glInternalFormat, image.width, image.height);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstate.texImage2D(_gl.TEXTURE_2D, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (texture.isDataTexture) {\n\t\t\t\t\t// use manually created mipmaps if available\n\t\t\t\t\t// if there are no manual mipmaps\n\t\t\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\t\t\t\t\tif (mipmaps.length > 0 && supportsMips) {\n\t\t\t\t\t\tif (useTexStorage && allocateMemory) {\n\t\t\t\t\t\t\tstate.texStorage2D(_gl.TEXTURE_2D, levels, glInternalFormat, mipmaps[0].width, mipmaps[0].height);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (let i = 0, il = mipmaps.length; i < il; i++) {\n\t\t\t\t\t\t\tmipmap = mipmaps[i];\n\n\t\t\t\t\t\t\tif (useTexStorage) {\n\t\t\t\t\t\t\t\tstate.texSubImage2D(_gl.TEXTURE_2D, i, 0, 0, mipmap.width, mipmap.height, glFormat, glType, mipmap.data);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tstate.texImage2D(_gl.TEXTURE_2D, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (useTexStorage) {\n\t\t\t\t\t\t\tif (allocateMemory) {\n\t\t\t\t\t\t\t\tstate.texStorage2D(_gl.TEXTURE_2D, levels, glInternalFormat, image.width, image.height);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tstate.texSubImage2D(_gl.TEXTURE_2D, 0, 0, 0, image.width, image.height, glFormat, glType, image.data);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstate.texImage2D(_gl.TEXTURE_2D, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (texture.isCompressedTexture) {\n\t\t\t\t\tif (useTexStorage && allocateMemory) {\n\t\t\t\t\t\tstate.texStorage2D(_gl.TEXTURE_2D, levels, glInternalFormat, mipmaps[0].width, mipmaps[0].height);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (let i = 0, il = mipmaps.length; i < il; i++) {\n\t\t\t\t\t\tmipmap = mipmaps[i];\n\n\t\t\t\t\t\tif (texture.format !== RGBAFormat) {\n\t\t\t\t\t\t\tif (glFormat !== null) {\n\t\t\t\t\t\t\t\tif (useTexStorage) {\n\t\t\t\t\t\t\t\t\tstate.compressedTexSubImage2D(_gl.TEXTURE_2D, i, 0, 0, mipmap.width, mipmap.height, glFormat, mipmap.data);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tstate.compressedTexImage2D(_gl.TEXTURE_2D, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (useTexStorage) {\n\t\t\t\t\t\t\t\tstate.texSubImage2D(_gl.TEXTURE_2D, i, 0, 0, mipmap.width, mipmap.height, glFormat, glType, mipmap.data);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tstate.texImage2D(_gl.TEXTURE_2D, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (texture.isDataArrayTexture) {\n\t\t\t\t\tif (useTexStorage) {\n\t\t\t\t\t\tif (allocateMemory) {\n\t\t\t\t\t\t\tstate.texStorage3D(_gl.TEXTURE_2D_ARRAY, levels, glInternalFormat, image.width, image.height, image.depth);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstate.texSubImage3D(_gl.TEXTURE_2D_ARRAY, 0, 0, 0, 0, image.width, image.height, image.depth, glFormat, glType, image.data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstate.texImage3D(_gl.TEXTURE_2D_ARRAY, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data);\n\t\t\t\t\t}\n\t\t\t\t} else if (texture.isData3DTexture) {\n\t\t\t\t\tif (useTexStorage) {\n\t\t\t\t\t\tif (allocateMemory) {\n\t\t\t\t\t\t\tstate.texStorage3D(_gl.TEXTURE_3D, levels, glInternalFormat, image.width, image.height, image.depth);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstate.texSubImage3D(_gl.TEXTURE_3D, 0, 0, 0, 0, image.width, image.height, image.depth, glFormat, glType, image.data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstate.texImage3D(_gl.TEXTURE_3D, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data);\n\t\t\t\t\t}\n\t\t\t\t} else if (texture.isFramebufferTexture) {\n\t\t\t\t\tif (allocateMemory) {\n\t\t\t\t\t\tif (useTexStorage) {\n\t\t\t\t\t\t\tstate.texStorage2D(_gl.TEXTURE_2D, levels, glInternalFormat, image.width, image.height);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet width = image.width,\n\t\t\t\t\t\t\t\t\theight = image.height;\n\n\t\t\t\t\t\t\tfor (let i = 0; i < levels; i++) {\n\t\t\t\t\t\t\t\tstate.texImage2D(_gl.TEXTURE_2D, i, glInternalFormat, width, height, 0, glFormat, glType, null);\n\t\t\t\t\t\t\t\twidth >>= 1;\n\t\t\t\t\t\t\t\theight >>= 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// regular Texture (image, video, canvas)\n\t\t\t\t\t// use manually created mipmaps if available\n\t\t\t\t\t// if there are no manual mipmaps\n\t\t\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\t\t\t\t\tif (mipmaps.length > 0 && supportsMips) {\n\t\t\t\t\t\tif (useTexStorage && allocateMemory) {\n\t\t\t\t\t\t\tstate.texStorage2D(_gl.TEXTURE_2D, levels, glInternalFormat, mipmaps[0].width, mipmaps[0].height);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (let i = 0, il = mipmaps.length; i < il; i++) {\n\t\t\t\t\t\t\tmipmap = mipmaps[i];\n\n\t\t\t\t\t\t\tif (useTexStorage) {\n\t\t\t\t\t\t\t\tstate.texSubImage2D(_gl.TEXTURE_2D, i, 0, 0, glFormat, glType, mipmap);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tstate.texImage2D(_gl.TEXTURE_2D, i, glInternalFormat, glFormat, glType, mipmap);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (useTexStorage) {\n\t\t\t\t\t\t\tif (allocateMemory) {\n\t\t\t\t\t\t\t\tstate.texStorage2D(_gl.TEXTURE_2D, levels, glInternalFormat, image.width, image.height);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tstate.texSubImage2D(_gl.TEXTURE_2D, 0, 0, 0, glFormat, glType, image);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstate.texImage2D(_gl.TEXTURE_2D, 0, glInternalFormat, glFormat, glType, image);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (textureNeedsGenerateMipmaps(texture, supportsMips)) {\n\t\t\t\t\tgenerateMipmap(textureType);\n\t\t\t\t}\n\n\t\t\t\tsource.__currentVersion = source.version;\n\t\t\t\tif (texture.onUpdate) texture.onUpdate(texture);\n\t\t\t}\n\n\t\t\ttextureProperties.__version = texture.version;\n\t\t}\n\n\t\tfunction uploadCubeTexture(textureProperties, texture, slot) {\n\t\t\tif (texture.image.length !== 6) return;\n\t\t\tconst forceUpload = initTexture(textureProperties, texture);\n\t\t\tconst source = texture.source;\n\t\t\tstate.activeTexture(_gl.TEXTURE0 + slot);\n\t\t\tstate.bindTexture(_gl.TEXTURE_CUBE_MAP, textureProperties.__webglTexture);\n\n\t\t\tif (source.version !== source.__currentVersion || forceUpload === true) {\n\t\t\t\t_gl.pixelStorei(_gl.UNPACK_FLIP_Y_WEBGL, texture.flipY);\n\n\t\t\t\t_gl.pixelStorei(_gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, texture.premultiplyAlpha);\n\n\t\t\t\t_gl.pixelStorei(_gl.UNPACK_ALIGNMENT, texture.unpackAlignment);\n\n\t\t\t\t_gl.pixelStorei(_gl.UNPACK_COLORSPACE_CONVERSION_WEBGL, _gl.NONE);\n\n\t\t\t\tconst isCompressed = texture.isCompressedTexture || texture.image[0].isCompressedTexture;\n\t\t\t\tconst isDataTexture = texture.image[0] && texture.image[0].isDataTexture;\n\t\t\t\tconst cubeImage = [];\n\n\t\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\t\tif (!isCompressed && !isDataTexture) {\n\t\t\t\t\t\tcubeImage[i] = resizeImage(texture.image[i], false, true, maxCubemapSize);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcubeImage[i] = isDataTexture ? texture.image[i].image : texture.image[i];\n\t\t\t\t\t}\n\n\t\t\t\t\tcubeImage[i] = verifyColorSpace(texture, cubeImage[i]);\n\t\t\t\t}\n\n\t\t\t\tconst image = cubeImage[0],\n\t\t\t\t\t\t\tsupportsMips = isPowerOfTwo$1(image) || isWebGL2,\n\t\t\t\t\t\t\tglFormat = utils.convert(texture.format, texture.encoding),\n\t\t\t\t\t\t\tglType = utils.convert(texture.type),\n\t\t\t\t\t\t\tglInternalFormat = getInternalFormat(texture.internalFormat, glFormat, glType, texture.encoding);\n\t\t\t\tconst useTexStorage = isWebGL2 && texture.isVideoTexture !== true;\n\t\t\t\tconst allocateMemory = source.__currentVersion === undefined || forceUpload === true;\n\t\t\t\tlet levels = getMipLevels(texture, image, supportsMips);\n\t\t\t\tsetTextureParameters(_gl.TEXTURE_CUBE_MAP, texture, supportsMips);\n\t\t\t\tlet mipmaps;\n\n\t\t\t\tif (isCompressed) {\n\t\t\t\t\tif (useTexStorage && allocateMemory) {\n\t\t\t\t\t\tstate.texStorage2D(_gl.TEXTURE_CUBE_MAP, levels, glInternalFormat, image.width, image.height);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\t\t\tmipmaps = cubeImage[i].mipmaps;\n\n\t\t\t\t\t\tfor (let j = 0; j < mipmaps.length; j++) {\n\t\t\t\t\t\t\tconst mipmap = mipmaps[j];\n\n\t\t\t\t\t\t\tif (texture.format !== RGBAFormat) {\n\t\t\t\t\t\t\t\tif (glFormat !== null) {\n\t\t\t\t\t\t\t\t\tif (useTexStorage) {\n\t\t\t\t\t\t\t\t\t\tstate.compressedTexSubImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, 0, 0, mipmap.width, mipmap.height, glFormat, mipmap.data);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tstate.compressedTexImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (useTexStorage) {\n\t\t\t\t\t\t\t\t\tstate.texSubImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, 0, 0, mipmap.width, mipmap.height, glFormat, glType, mipmap.data);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tstate.texImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tmipmaps = texture.mipmaps;\n\n\t\t\t\t\tif (useTexStorage && allocateMemory) {\n\t\t\t\t\t\t// TODO: Uniformly handle mipmap definitions\n\t\t\t\t\t\t// Normal textures and compressed cube textures define base level + mips with their mipmap array\n\t\t\t\t\t\t// Uncompressed cube textures use their mipmap array only for mips (no base level)\n\t\t\t\t\t\tif (mipmaps.length > 0) levels++;\n\t\t\t\t\t\tstate.texStorage2D(_gl.TEXTURE_CUBE_MAP, levels, glInternalFormat, cubeImage[0].width, cubeImage[0].height);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\t\t\tif (isDataTexture) {\n\t\t\t\t\t\t\tif (useTexStorage) {\n\t\t\t\t\t\t\t\tstate.texSubImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, 0, 0, cubeImage[i].width, cubeImage[i].height, glFormat, glType, cubeImage[i].data);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tstate.texImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glInternalFormat, cubeImage[i].width, cubeImage[i].height, 0, glFormat, glType, cubeImage[i].data);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tfor (let j = 0; j < mipmaps.length; j++) {\n\t\t\t\t\t\t\t\tconst mipmap = mipmaps[j];\n\t\t\t\t\t\t\t\tconst mipmapImage = mipmap.image[i].image;\n\n\t\t\t\t\t\t\t\tif (useTexStorage) {\n\t\t\t\t\t\t\t\t\tstate.texSubImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j + 1, 0, 0, mipmapImage.width, mipmapImage.height, glFormat, glType, mipmapImage.data);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tstate.texImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j + 1, glInternalFormat, mipmapImage.width, mipmapImage.height, 0, glFormat, glType, mipmapImage.data);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (useTexStorage) {\n\t\t\t\t\t\t\t\tstate.texSubImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, 0, 0, glFormat, glType, cubeImage[i]);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tstate.texImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glInternalFormat, glFormat, glType, cubeImage[i]);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tfor (let j = 0; j < mipmaps.length; j++) {\n\t\t\t\t\t\t\t\tconst mipmap = mipmaps[j];\n\n\t\t\t\t\t\t\t\tif (useTexStorage) {\n\t\t\t\t\t\t\t\t\tstate.texSubImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j + 1, 0, 0, glFormat, glType, mipmap.image[i]);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tstate.texImage2D(_gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j + 1, glInternalFormat, glFormat, glType, mipmap.image[i]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (textureNeedsGenerateMipmaps(texture, supportsMips)) {\n\t\t\t\t\t// We assume images for cube map have the same size.\n\t\t\t\t\tgenerateMipmap(_gl.TEXTURE_CUBE_MAP);\n\t\t\t\t}\n\n\t\t\t\tsource.__currentVersion = source.version;\n\t\t\t\tif (texture.onUpdate) texture.onUpdate(texture);\n\t\t\t}\n\n\t\t\ttextureProperties.__version = texture.version;\n\t\t} // Render targets\n\t\t// Setup storage for target texture and bind it to correct framebuffer\n\n\n\t\tfunction setupFrameBufferTexture(framebuffer, renderTarget, texture, attachment, textureTarget) {\n\t\t\tconst glFormat = utils.convert(texture.format, texture.encoding);\n\t\t\tconst glType = utils.convert(texture.type);\n\t\t\tconst glInternalFormat = getInternalFormat(texture.internalFormat, glFormat, glType, texture.encoding);\n\t\t\tconst renderTargetProperties = properties.get(renderTarget);\n\n\t\t\tif (!renderTargetProperties.__hasExternalTextures) {\n\t\t\t\tif (textureTarget === _gl.TEXTURE_3D || textureTarget === _gl.TEXTURE_2D_ARRAY) {\n\t\t\t\t\tstate.texImage3D(textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, renderTarget.depth, 0, glFormat, glType, null);\n\t\t\t\t} else {\n\t\t\t\t\tstate.texImage2D(textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tstate.bindFramebuffer(_gl.FRAMEBUFFER, framebuffer);\n\n\t\t\tif (useMultisampledRTT(renderTarget)) {\n\t\t\t\tmultisampledRTTExt.framebufferTexture2DMultisampleEXT(_gl.FRAMEBUFFER, attachment, textureTarget, properties.get(texture).__webglTexture, 0, getRenderTargetSamples(renderTarget));\n\t\t\t} else {\n\t\t\t\t_gl.framebufferTexture2D(_gl.FRAMEBUFFER, attachment, textureTarget, properties.get(texture).__webglTexture, 0);\n\t\t\t}\n\n\t\t\tstate.bindFramebuffer(_gl.FRAMEBUFFER, null);\n\t\t} // Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n\n\n\t\tfunction setupRenderBufferStorage(renderbuffer, renderTarget, isMultisample) {\n\t\t\t_gl.bindRenderbuffer(_gl.RENDERBUFFER, renderbuffer);\n\n\t\t\tif (renderTarget.depthBuffer && !renderTarget.stencilBuffer) {\n\t\t\t\tlet glInternalFormat = _gl.DEPTH_COMPONENT16;\n\n\t\t\t\tif (isMultisample || useMultisampledRTT(renderTarget)) {\n\t\t\t\t\tconst depthTexture = renderTarget.depthTexture;\n\n\t\t\t\t\tif (depthTexture && depthTexture.isDepthTexture) {\n\t\t\t\t\t\tif (depthTexture.type === FloatType) {\n\t\t\t\t\t\t\tglInternalFormat = _gl.DEPTH_COMPONENT32F;\n\t\t\t\t\t\t} else if (depthTexture.type === UnsignedIntType) {\n\t\t\t\t\t\t\tglInternalFormat = _gl.DEPTH_COMPONENT24;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tconst samples = getRenderTargetSamples(renderTarget);\n\n\t\t\t\t\tif (useMultisampledRTT(renderTarget)) {\n\t\t\t\t\t\tmultisampledRTTExt.renderbufferStorageMultisampleEXT(_gl.RENDERBUFFER, samples, glInternalFormat, renderTarget.width, renderTarget.height);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_gl.renderbufferStorageMultisample(_gl.RENDERBUFFER, samples, glInternalFormat, renderTarget.width, renderTarget.height);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t_gl.renderbufferStorage(_gl.RENDERBUFFER, glInternalFormat, renderTarget.width, renderTarget.height);\n\t\t\t\t}\n\n\t\t\t\t_gl.framebufferRenderbuffer(_gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer);\n\t\t\t} else if (renderTarget.depthBuffer && renderTarget.stencilBuffer) {\n\t\t\t\tconst samples = getRenderTargetSamples(renderTarget);\n\n\t\t\t\tif (isMultisample && useMultisampledRTT(renderTarget) === false) {\n\t\t\t\t\t_gl.renderbufferStorageMultisample(_gl.RENDERBUFFER, samples, _gl.DEPTH24_STENCIL8, renderTarget.width, renderTarget.height);\n\t\t\t\t} else if (useMultisampledRTT(renderTarget)) {\n\t\t\t\t\tmultisampledRTTExt.renderbufferStorageMultisampleEXT(_gl.RENDERBUFFER, samples, _gl.DEPTH24_STENCIL8, renderTarget.width, renderTarget.height);\n\t\t\t\t} else {\n\t\t\t\t\t_gl.renderbufferStorage(_gl.RENDERBUFFER, _gl.DEPTH_STENCIL, renderTarget.width, renderTarget.height);\n\t\t\t\t}\n\n\t\t\t\t_gl.framebufferRenderbuffer(_gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer);\n\t\t\t} else {\n\t\t\t\tconst textures = renderTarget.isWebGLMultipleRenderTargets === true ? renderTarget.texture : [renderTarget.texture];\n\n\t\t\t\tfor (let i = 0; i < textures.length; i++) {\n\t\t\t\t\tconst texture = textures[i];\n\t\t\t\t\tconst glFormat = utils.convert(texture.format, texture.encoding);\n\t\t\t\t\tconst glType = utils.convert(texture.type);\n\t\t\t\t\tconst glInternalFormat = getInternalFormat(texture.internalFormat, glFormat, glType, texture.encoding);\n\t\t\t\t\tconst samples = getRenderTargetSamples(renderTarget);\n\n\t\t\t\t\tif (isMultisample && useMultisampledRTT(renderTarget) === false) {\n\t\t\t\t\t\t_gl.renderbufferStorageMultisample(_gl.RENDERBUFFER, samples, glInternalFormat, renderTarget.width, renderTarget.height);\n\t\t\t\t\t} else if (useMultisampledRTT(renderTarget)) {\n\t\t\t\t\t\tmultisampledRTTExt.renderbufferStorageMultisampleEXT(_gl.RENDERBUFFER, samples, glInternalFormat, renderTarget.width, renderTarget.height);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_gl.renderbufferStorage(_gl.RENDERBUFFER, glInternalFormat, renderTarget.width, renderTarget.height);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_gl.bindRenderbuffer(_gl.RENDERBUFFER, null);\n\t\t} // Setup resources for a Depth Texture for a FBO (needs an extension)\n\n\n\t\tfunction setupDepthTexture(framebuffer, renderTarget) {\n\t\t\tconst isCube = renderTarget && renderTarget.isWebGLCubeRenderTarget;\n\t\t\tif (isCube) throw new Error('Depth Texture with cube render targets is not supported');\n\t\t\tstate.bindFramebuffer(_gl.FRAMEBUFFER, framebuffer);\n\n\t\t\tif (!(renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture)) {\n\t\t\t\tthrow new Error('renderTarget.depthTexture must be an instance of THREE.DepthTexture');\n\t\t\t} // upload an empty depth texture with framebuffer size\n\n\n\t\t\tif (!properties.get(renderTarget.depthTexture).__webglTexture || renderTarget.depthTexture.image.width !== renderTarget.width || renderTarget.depthTexture.image.height !== renderTarget.height) {\n\t\t\t\trenderTarget.depthTexture.image.width = renderTarget.width;\n\t\t\t\trenderTarget.depthTexture.image.height = renderTarget.height;\n\t\t\t\trenderTarget.depthTexture.needsUpdate = true;\n\t\t\t}\n\n\t\t\tsetTexture2D(renderTarget.depthTexture, 0);\n\n\t\t\tconst webglDepthTexture = properties.get(renderTarget.depthTexture).__webglTexture;\n\n\t\t\tconst samples = getRenderTargetSamples(renderTarget);\n\n\t\t\tif (renderTarget.depthTexture.format === DepthFormat) {\n\t\t\t\tif (useMultisampledRTT(renderTarget)) {\n\t\t\t\t\tmultisampledRTTExt.framebufferTexture2DMultisampleEXT(_gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.TEXTURE_2D, webglDepthTexture, 0, samples);\n\t\t\t\t} else {\n\t\t\t\t\t_gl.framebufferTexture2D(_gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.TEXTURE_2D, webglDepthTexture, 0);\n\t\t\t\t}\n\t\t\t} else if (renderTarget.depthTexture.format === DepthStencilFormat) {\n\t\t\t\tif (useMultisampledRTT(renderTarget)) {\n\t\t\t\t\tmultisampledRTTExt.framebufferTexture2DMultisampleEXT(_gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.TEXTURE_2D, webglDepthTexture, 0, samples);\n\t\t\t\t} else {\n\t\t\t\t\t_gl.framebufferTexture2D(_gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.TEXTURE_2D, webglDepthTexture, 0);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow new Error('Unknown depthTexture format');\n\t\t\t}\n\t\t} // Setup GL resources for a non-texture depth buffer\n\n\n\t\tfunction setupDepthRenderbuffer(renderTarget) {\n\t\t\tconst renderTargetProperties = properties.get(renderTarget);\n\t\t\tconst isCube = renderTarget.isWebGLCubeRenderTarget === true;\n\n\t\t\tif (renderTarget.depthTexture && !renderTargetProperties.__autoAllocateDepthBuffer) {\n\t\t\t\tif (isCube) throw new Error('target.depthTexture not supported in Cube render targets');\n\t\t\t\tsetupDepthTexture(renderTargetProperties.__webglFramebuffer, renderTarget);\n\t\t\t} else {\n\t\t\t\tif (isCube) {\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer = [];\n\n\t\t\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\t\t\tstate.bindFramebuffer(_gl.FRAMEBUFFER, renderTargetProperties.__webglFramebuffer[i]);\n\t\t\t\t\t\trenderTargetProperties.__webglDepthbuffer[i] = _gl.createRenderbuffer();\n\t\t\t\t\t\tsetupRenderBufferStorage(renderTargetProperties.__webglDepthbuffer[i], renderTarget, false);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tstate.bindFramebuffer(_gl.FRAMEBUFFER, renderTargetProperties.__webglFramebuffer);\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage(renderTargetProperties.__webglDepthbuffer, renderTarget, false);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tstate.bindFramebuffer(_gl.FRAMEBUFFER, null);\n\t\t} // rebind framebuffer with external textures\n\n\n\t\tfunction rebindTextures(renderTarget, colorTexture, depthTexture) {\n\t\t\tconst renderTargetProperties = properties.get(renderTarget);\n\n\t\t\tif (colorTexture !== undefined) {\n\t\t\t\tsetupFrameBufferTexture(renderTargetProperties.__webglFramebuffer, renderTarget, renderTarget.texture, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_2D);\n\t\t\t}\n\n\t\t\tif (depthTexture !== undefined) {\n\t\t\t\tsetupDepthRenderbuffer(renderTarget);\n\t\t\t}\n\t\t} // Set up GL resources for the render target\n\n\n\t\tfunction setupRenderTarget(renderTarget) {\n\t\t\tconst texture = renderTarget.texture;\n\t\t\tconst renderTargetProperties = properties.get(renderTarget);\n\t\t\tconst textureProperties = properties.get(texture);\n\t\t\trenderTarget.addEventListener('dispose', onRenderTargetDispose);\n\n\t\t\tif (renderTarget.isWebGLMultipleRenderTargets !== true) {\n\t\t\t\tif (textureProperties.__webglTexture === undefined) {\n\t\t\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\t\t\t\t}\n\n\t\t\t\ttextureProperties.__version = texture.version;\n\t\t\t\tinfo.memory.textures++;\n\t\t\t}\n\n\t\t\tconst isCube = renderTarget.isWebGLCubeRenderTarget === true;\n\t\t\tconst isMultipleRenderTargets = renderTarget.isWebGLMultipleRenderTargets === true;\n\t\t\tconst supportsMips = isPowerOfTwo$1(renderTarget) || isWebGL2; // Setup framebuffer\n\n\t\t\tif (isCube) {\n\t\t\t\trenderTargetProperties.__webglFramebuffer = [];\n\n\t\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\t\trenderTargetProperties.__webglFramebuffer[i] = _gl.createFramebuffer();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n\t\t\t\tif (isMultipleRenderTargets) {\n\t\t\t\t\tif (capabilities.drawBuffers) {\n\t\t\t\t\t\tconst textures = renderTarget.texture;\n\n\t\t\t\t\t\tfor (let i = 0, il = textures.length; i < il; i++) {\n\t\t\t\t\t\t\tconst attachmentProperties = properties.get(textures[i]);\n\n\t\t\t\t\t\t\tif (attachmentProperties.__webglTexture === undefined) {\n\t\t\t\t\t\t\t\tattachmentProperties.__webglTexture = _gl.createTexture();\n\t\t\t\t\t\t\t\tinfo.memory.textures++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (isWebGL2 && renderTarget.samples > 0 && useMultisampledRTT(renderTarget) === false) {\n\t\t\t\t\tconst textures = isMultipleRenderTargets ? texture : [texture];\n\t\t\t\t\trenderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();\n\t\t\t\t\trenderTargetProperties.__webglColorRenderbuffer = [];\n\t\t\t\t\tstate.bindFramebuffer(_gl.FRAMEBUFFER, renderTargetProperties.__webglMultisampledFramebuffer);\n\n\t\t\t\t\tfor (let i = 0; i < textures.length; i++) {\n\t\t\t\t\t\tconst texture = textures[i];\n\t\t\t\t\t\trenderTargetProperties.__webglColorRenderbuffer[i] = _gl.createRenderbuffer();\n\n\t\t\t\t\t\t_gl.bindRenderbuffer(_gl.RENDERBUFFER, renderTargetProperties.__webglColorRenderbuffer[i]);\n\n\t\t\t\t\t\tconst glFormat = utils.convert(texture.format, texture.encoding);\n\t\t\t\t\t\tconst glType = utils.convert(texture.type);\n\t\t\t\t\t\tconst glInternalFormat = getInternalFormat(texture.internalFormat, glFormat, glType, texture.encoding);\n\t\t\t\t\t\tconst samples = getRenderTargetSamples(renderTarget);\n\n\t\t\t\t\t\t_gl.renderbufferStorageMultisample(_gl.RENDERBUFFER, samples, glInternalFormat, renderTarget.width, renderTarget.height);\n\n\t\t\t\t\t\t_gl.framebufferRenderbuffer(_gl.FRAMEBUFFER, _gl.COLOR_ATTACHMENT0 + i, _gl.RENDERBUFFER, renderTargetProperties.__webglColorRenderbuffer[i]);\n\t\t\t\t\t}\n\n\t\t\t\t\t_gl.bindRenderbuffer(_gl.RENDERBUFFER, null);\n\n\t\t\t\t\tif (renderTarget.depthBuffer) {\n\t\t\t\t\t\trenderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();\n\t\t\t\t\t\tsetupRenderBufferStorage(renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true);\n\t\t\t\t\t}\n\n\t\t\t\t\tstate.bindFramebuffer(_gl.FRAMEBUFFER, null);\n\t\t\t\t}\n\t\t\t} // Setup color buffer\n\n\n\t\t\tif (isCube) {\n\t\t\t\tstate.bindTexture(_gl.TEXTURE_CUBE_MAP, textureProperties.__webglTexture);\n\t\t\t\tsetTextureParameters(_gl.TEXTURE_CUBE_MAP, texture, supportsMips);\n\n\t\t\t\tfor (let i = 0; i < 6; i++) {\n\t\t\t\t\tsetupFrameBufferTexture(renderTargetProperties.__webglFramebuffer[i], renderTarget, texture, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i);\n\t\t\t\t}\n\n\t\t\t\tif (textureNeedsGenerateMipmaps(texture, supportsMips)) {\n\t\t\t\t\tgenerateMipmap(_gl.TEXTURE_CUBE_MAP);\n\t\t\t\t}\n\n\t\t\t\tstate.unbindTexture();\n\t\t\t} else if (isMultipleRenderTargets) {\n\t\t\t\tconst textures = renderTarget.texture;\n\n\t\t\t\tfor (let i = 0, il = textures.length; i < il; i++) {\n\t\t\t\t\tconst attachment = textures[i];\n\t\t\t\t\tconst attachmentProperties = properties.get(attachment);\n\t\t\t\t\tstate.bindTexture(_gl.TEXTURE_2D, attachmentProperties.__webglTexture);\n\t\t\t\t\tsetTextureParameters(_gl.TEXTURE_2D, attachment, supportsMips);\n\t\t\t\t\tsetupFrameBufferTexture(renderTargetProperties.__webglFramebuffer, renderTarget, attachment, _gl.COLOR_ATTACHMENT0 + i, _gl.TEXTURE_2D);\n\n\t\t\t\t\tif (textureNeedsGenerateMipmaps(attachment, supportsMips)) {\n\t\t\t\t\t\tgenerateMipmap(_gl.TEXTURE_2D);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstate.unbindTexture();\n\t\t\t} else {\n\t\t\t\tlet glTextureType = _gl.TEXTURE_2D;\n\n\t\t\t\tif (renderTarget.isWebGL3DRenderTarget || renderTarget.isWebGLArrayRenderTarget) {\n\t\t\t\t\tif (isWebGL2) {\n\t\t\t\t\t\tglTextureType = renderTarget.isWebGL3DRenderTarget ? _gl.TEXTURE_3D : _gl.TEXTURE_2D_ARRAY;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error('THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstate.bindTexture(glTextureType, textureProperties.__webglTexture);\n\t\t\t\tsetTextureParameters(glTextureType, texture, supportsMips);\n\t\t\t\tsetupFrameBufferTexture(renderTargetProperties.__webglFramebuffer, renderTarget, texture, _gl.COLOR_ATTACHMENT0, glTextureType);\n\n\t\t\t\tif (textureNeedsGenerateMipmaps(texture, supportsMips)) {\n\t\t\t\t\tgenerateMipmap(glTextureType);\n\t\t\t\t}\n\n\t\t\t\tstate.unbindTexture();\n\t\t\t} // Setup depth and stencil buffers\n\n\n\t\t\tif (renderTarget.depthBuffer) {\n\t\t\t\tsetupDepthRenderbuffer(renderTarget);\n\t\t\t}\n\t\t}\n\n\t\tfunction updateRenderTargetMipmap(renderTarget) {\n\t\t\tconst supportsMips = isPowerOfTwo$1(renderTarget) || isWebGL2;\n\t\t\tconst textures = renderTarget.isWebGLMultipleRenderTargets === true ? renderTarget.texture : [renderTarget.texture];\n\n\t\t\tfor (let i = 0, il = textures.length; i < il; i++) {\n\t\t\t\tconst texture = textures[i];\n\n\t\t\t\tif (textureNeedsGenerateMipmaps(texture, supportsMips)) {\n\t\t\t\t\tconst target = renderTarget.isWebGLCubeRenderTarget ? _gl.TEXTURE_CUBE_MAP : _gl.TEXTURE_2D;\n\n\t\t\t\t\tconst webglTexture = properties.get(texture).__webglTexture;\n\n\t\t\t\t\tstate.bindTexture(target, webglTexture);\n\t\t\t\t\tgenerateMipmap(target);\n\t\t\t\t\tstate.unbindTexture();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction updateMultisampleRenderTarget(renderTarget) {\n\t\t\tif (isWebGL2 && renderTarget.samples > 0 && useMultisampledRTT(renderTarget) === false) {\n\t\t\t\tconst textures = renderTarget.isWebGLMultipleRenderTargets ? renderTarget.texture : [renderTarget.texture];\n\t\t\t\tconst width = renderTarget.width;\n\t\t\t\tconst height = renderTarget.height;\n\t\t\t\tlet mask = _gl.COLOR_BUFFER_BIT;\n\t\t\t\tconst invalidationArray = [];\n\t\t\t\tconst depthStyle = renderTarget.stencilBuffer ? _gl.DEPTH_STENCIL_ATTACHMENT : _gl.DEPTH_ATTACHMENT;\n\t\t\t\tconst renderTargetProperties = properties.get(renderTarget);\n\t\t\t\tconst isMultipleRenderTargets = renderTarget.isWebGLMultipleRenderTargets === true; // If MRT we need to remove FBO attachments\n\n\t\t\t\tif (isMultipleRenderTargets) {\n\t\t\t\t\tfor (let i = 0; i < textures.length; i++) {\n\t\t\t\t\t\tstate.bindFramebuffer(_gl.FRAMEBUFFER, renderTargetProperties.__webglMultisampledFramebuffer);\n\n\t\t\t\t\t\t_gl.framebufferRenderbuffer(_gl.FRAMEBUFFER, _gl.COLOR_ATTACHMENT0 + i, _gl.RENDERBUFFER, null);\n\n\t\t\t\t\t\tstate.bindFramebuffer(_gl.FRAMEBUFFER, renderTargetProperties.__webglFramebuffer);\n\n\t\t\t\t\t\t_gl.framebufferTexture2D(_gl.DRAW_FRAMEBUFFER, _gl.COLOR_ATTACHMENT0 + i, _gl.TEXTURE_2D, null, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstate.bindFramebuffer(_gl.READ_FRAMEBUFFER, renderTargetProperties.__webglMultisampledFramebuffer);\n\t\t\t\tstate.bindFramebuffer(_gl.DRAW_FRAMEBUFFER, renderTargetProperties.__webglFramebuffer);\n\n\t\t\t\tfor (let i = 0; i < textures.length; i++) {\n\t\t\t\t\tinvalidationArray.push(_gl.COLOR_ATTACHMENT0 + i);\n\n\t\t\t\t\tif (renderTarget.depthBuffer) {\n\t\t\t\t\t\tinvalidationArray.push(depthStyle);\n\t\t\t\t\t}\n\n\t\t\t\t\tconst ignoreDepthValues = renderTargetProperties.__ignoreDepthValues !== undefined ? renderTargetProperties.__ignoreDepthValues : false;\n\n\t\t\t\t\tif (ignoreDepthValues === false) {\n\t\t\t\t\t\tif (renderTarget.depthBuffer) mask |= _gl.DEPTH_BUFFER_BIT;\n\t\t\t\t\t\tif (renderTarget.stencilBuffer) mask |= _gl.STENCIL_BUFFER_BIT;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (isMultipleRenderTargets) {\n\t\t\t\t\t\t_gl.framebufferRenderbuffer(_gl.READ_FRAMEBUFFER, _gl.COLOR_ATTACHMENT0, _gl.RENDERBUFFER, renderTargetProperties.__webglColorRenderbuffer[i]);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (ignoreDepthValues === true) {\n\t\t\t\t\t\t_gl.invalidateFramebuffer(_gl.READ_FRAMEBUFFER, [depthStyle]);\n\n\t\t\t\t\t\t_gl.invalidateFramebuffer(_gl.DRAW_FRAMEBUFFER, [depthStyle]);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (isMultipleRenderTargets) {\n\t\t\t\t\t\tconst webglTexture = properties.get(textures[i]).__webglTexture;\n\n\t\t\t\t\t\t_gl.framebufferTexture2D(_gl.DRAW_FRAMEBUFFER, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_2D, webglTexture, 0);\n\t\t\t\t\t}\n\n\t\t\t\t\t_gl.blitFramebuffer(0, 0, width, height, 0, 0, width, height, mask, _gl.NEAREST);\n\n\t\t\t\t\tif (supportsInvalidateFramebuffer) {\n\t\t\t\t\t\t_gl.invalidateFramebuffer(_gl.READ_FRAMEBUFFER, invalidationArray);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstate.bindFramebuffer(_gl.READ_FRAMEBUFFER, null);\n\t\t\t\tstate.bindFramebuffer(_gl.DRAW_FRAMEBUFFER, null); // If MRT since pre-blit we removed the FBO we need to reconstruct the attachments\n\n\t\t\t\tif (isMultipleRenderTargets) {\n\t\t\t\t\tfor (let i = 0; i < textures.length; i++) {\n\t\t\t\t\t\tstate.bindFramebuffer(_gl.FRAMEBUFFER, renderTargetProperties.__webglMultisampledFramebuffer);\n\n\t\t\t\t\t\t_gl.framebufferRenderbuffer(_gl.FRAMEBUFFER, _gl.COLOR_ATTACHMENT0 + i, _gl.RENDERBUFFER, renderTargetProperties.__webglColorRenderbuffer[i]);\n\n\t\t\t\t\t\tconst webglTexture = properties.get(textures[i]).__webglTexture;\n\n\t\t\t\t\t\tstate.bindFramebuffer(_gl.FRAMEBUFFER, renderTargetProperties.__webglFramebuffer);\n\n\t\t\t\t\t\t_gl.framebufferTexture2D(_gl.DRAW_FRAMEBUFFER, _gl.COLOR_ATTACHMENT0 + i, _gl.TEXTURE_2D, webglTexture, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstate.bindFramebuffer(_gl.DRAW_FRAMEBUFFER, renderTargetProperties.__webglMultisampledFramebuffer);\n\t\t\t}\n\t\t}\n\n\t\tfunction getRenderTargetSamples(renderTarget) {\n\t\t\treturn Math.min(maxSamples, renderTarget.samples);\n\t\t}\n\n\t\tfunction useMultisampledRTT(renderTarget) {\n\t\t\tconst renderTargetProperties = properties.get(renderTarget);\n\t\t\treturn isWebGL2 && renderTarget.samples > 0 && extensions.has('WEBGL_multisampled_render_to_texture') === true && renderTargetProperties.__useRenderToTexture !== false;\n\t\t}\n\n\t\tfunction updateVideoTexture(texture) {\n\t\t\tconst frame = info.render.frame; // Check the last frame we updated the VideoTexture\n\n\t\t\tif (_videoTextures.get(texture) !== frame) {\n\t\t\t\t_videoTextures.set(texture, frame);\n\n\t\t\t\ttexture.update();\n\t\t\t}\n\t\t}\n\n\t\tfunction verifyColorSpace(texture, image) {\n\t\t\tconst encoding = texture.encoding;\n\t\t\tconst format = texture.format;\n\t\t\tconst type = texture.type;\n\t\t\tif (texture.isCompressedTexture === true || texture.isVideoTexture === true || texture.format === _SRGBAFormat) return image;\n\n\t\t\tif (encoding !== LinearEncoding) {\n\t\t\t\t// sRGB\n\t\t\t\tif (encoding === sRGBEncoding) {\n\t\t\t\t\tif (isWebGL2 === false) {\n\t\t\t\t\t\t// in WebGL 1, try to use EXT_sRGB extension and unsized formats\n\t\t\t\t\t\tif (extensions.has('EXT_sRGB') === true && format === RGBAFormat) {\n\t\t\t\t\t\t\ttexture.format = _SRGBAFormat; // it's not possible to generate mips in WebGL 1 with this extension\n\n\t\t\t\t\t\t\ttexture.minFilter = LinearFilter;\n\t\t\t\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// slow fallback (CPU decode)\n\t\t\t\t\t\t\timage = ImageUtils.sRGBToLinear(image);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// in WebGL 2 uncompressed textures can only be sRGB encoded if they have the RGBA8 format\n\t\t\t\t\t\tif (format !== RGBAFormat || type !== UnsignedByteType) {\n\t\t\t\t\t\t\tconsole.warn('THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType.');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error('THREE.WebGLTextures: Unsupported texture encoding:', encoding);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn image;\n\t\t} //\n\n\n\t\tthis.allocateTextureUnit = allocateTextureUnit;\n\t\tthis.resetTextureUnits = resetTextureUnits;\n\t\tthis.setTexture2D = setTexture2D;\n\t\tthis.setTexture2DArray = setTexture2DArray;\n\t\tthis.setTexture3D = setTexture3D;\n\t\tthis.setTextureCube = setTextureCube;\n\t\tthis.rebindTextures = rebindTextures;\n\t\tthis.setupRenderTarget = setupRenderTarget;\n\t\tthis.updateRenderTargetMipmap = updateRenderTargetMipmap;\n\t\tthis.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\n\t\tthis.setupDepthRenderbuffer = setupDepthRenderbuffer;\n\t\tthis.setupFrameBufferTexture = setupFrameBufferTexture;\n\t\tthis.useMultisampledRTT = useMultisampledRTT;\n\t}\n\n\tfunction WebGLUtils(gl, extensions, capabilities) {\n\t\tconst isWebGL2 = capabilities.isWebGL2;\n\n\t\tfunction convert(p, encoding = null) {\n\t\t\tlet extension;\n\t\t\tif (p === UnsignedByteType) return gl.UNSIGNED_BYTE;\n\t\t\tif (p === UnsignedShort4444Type) return gl.UNSIGNED_SHORT_4_4_4_4;\n\t\t\tif (p === UnsignedShort5551Type) return gl.UNSIGNED_SHORT_5_5_5_1;\n\t\t\tif (p === ByteType) return gl.BYTE;\n\t\t\tif (p === ShortType) return gl.SHORT;\n\t\t\tif (p === UnsignedShortType) return gl.UNSIGNED_SHORT;\n\t\t\tif (p === IntType) return gl.INT;\n\t\t\tif (p === UnsignedIntType) return gl.UNSIGNED_INT;\n\t\t\tif (p === FloatType) return gl.FLOAT;\n\n\t\t\tif (p === HalfFloatType) {\n\t\t\t\tif (isWebGL2) return gl.HALF_FLOAT;\n\t\t\t\textension = extensions.get('OES_texture_half_float');\n\n\t\t\t\tif (extension !== null) {\n\t\t\t\t\treturn extension.HALF_FLOAT_OES;\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (p === AlphaFormat) return gl.ALPHA;\n\t\t\tif (p === RGBAFormat) return gl.RGBA;\n\t\t\tif (p === LuminanceFormat) return gl.LUMINANCE;\n\t\t\tif (p === LuminanceAlphaFormat) return gl.LUMINANCE_ALPHA;\n\t\t\tif (p === DepthFormat) return gl.DEPTH_COMPONENT;\n\t\t\tif (p === DepthStencilFormat) return gl.DEPTH_STENCIL;\n\t\t\tif (p === RedFormat) return gl.RED;\n\n\t\t\tif (p === RGBFormat) {\n\t\t\t\tconsole.warn('THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228');\n\t\t\t\treturn gl.RGBA;\n\t\t\t} // WebGL 1 sRGB fallback\n\n\n\t\t\tif (p === _SRGBAFormat) {\n\t\t\t\textension = extensions.get('EXT_sRGB');\n\n\t\t\t\tif (extension !== null) {\n\t\t\t\t\treturn extension.SRGB_ALPHA_EXT;\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t} // WebGL2 formats.\n\n\n\t\t\tif (p === RedIntegerFormat) return gl.RED_INTEGER;\n\t\t\tif (p === RGFormat) return gl.RG;\n\t\t\tif (p === RGIntegerFormat) return gl.RG_INTEGER;\n\t\t\tif (p === RGBAIntegerFormat) return gl.RGBA_INTEGER; // S3TC\n\n\t\t\tif (p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format || p === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format) {\n\t\t\t\tif (encoding === sRGBEncoding) {\n\t\t\t\t\textension = extensions.get('WEBGL_compressed_texture_s3tc_srgb');\n\n\t\t\t\t\tif (extension !== null) {\n\t\t\t\t\t\tif (p === RGB_S3TC_DXT1_Format) return extension.COMPRESSED_SRGB_S3TC_DXT1_EXT;\n\t\t\t\t\t\tif (p === RGBA_S3TC_DXT1_Format) return extension.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;\n\t\t\t\t\t\tif (p === RGBA_S3TC_DXT3_Format) return extension.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;\n\t\t\t\t\t\tif (p === RGBA_S3TC_DXT5_Format) return extension.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\textension = extensions.get('WEBGL_compressed_texture_s3tc');\n\n\t\t\t\t\tif (extension !== null) {\n\t\t\t\t\t\tif (p === RGB_S3TC_DXT1_Format) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n\t\t\t\t\t\tif (p === RGBA_S3TC_DXT1_Format) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n\t\t\t\t\t\tif (p === RGBA_S3TC_DXT3_Format) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n\t\t\t\t\t\tif (p === RGBA_S3TC_DXT5_Format) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} // PVRTC\n\n\n\t\t\tif (p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format || p === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format) {\n\t\t\t\textension = extensions.get('WEBGL_compressed_texture_pvrtc');\n\n\t\t\t\tif (extension !== null) {\n\t\t\t\t\tif (p === RGB_PVRTC_4BPPV1_Format) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n\t\t\t\t\tif (p === RGB_PVRTC_2BPPV1_Format) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n\t\t\t\t\tif (p === RGBA_PVRTC_4BPPV1_Format) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n\t\t\t\t\tif (p === RGBA_PVRTC_2BPPV1_Format) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t} // ETC1\n\n\n\t\t\tif (p === RGB_ETC1_Format) {\n\t\t\t\textension = extensions.get('WEBGL_compressed_texture_etc1');\n\n\t\t\t\tif (extension !== null) {\n\t\t\t\t\treturn extension.COMPRESSED_RGB_ETC1_WEBGL;\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t} // ETC2\n\n\n\t\t\tif (p === RGB_ETC2_Format || p === RGBA_ETC2_EAC_Format) {\n\t\t\t\textension = extensions.get('WEBGL_compressed_texture_etc');\n\n\t\t\t\tif (extension !== null) {\n\t\t\t\t\tif (p === RGB_ETC2_Format) return encoding === sRGBEncoding ? extension.COMPRESSED_SRGB8_ETC2 : extension.COMPRESSED_RGB8_ETC2;\n\t\t\t\t\tif (p === RGBA_ETC2_EAC_Format) return encoding === sRGBEncoding ? extension.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC : extension.COMPRESSED_RGBA8_ETC2_EAC;\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t} // ASTC\n\n\n\t\t\tif (p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format || p === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format || p === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format || p === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format || p === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format) {\n\t\t\t\textension = extensions.get('WEBGL_compressed_texture_astc');\n\n\t\t\t\tif (extension !== null) {\n\t\t\t\t\tif (p === RGBA_ASTC_4x4_Format) return encoding === sRGBEncoding ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR : extension.COMPRESSED_RGBA_ASTC_4x4_KHR;\n\t\t\t\t\tif (p === RGBA_ASTC_5x4_Format) return encoding === sRGBEncoding ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR : extension.COMPRESSED_RGBA_ASTC_5x4_KHR;\n\t\t\t\t\tif (p === RGBA_ASTC_5x5_Format) return encoding === sRGBEncoding ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR : extension.COMPRESSED_RGBA_ASTC_5x5_KHR;\n\t\t\t\t\tif (p === RGBA_ASTC_6x5_Format) return encoding === sRGBEncoding ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR : extension.COMPRESSED_RGBA_ASTC_6x5_KHR;\n\t\t\t\t\tif (p === RGBA_ASTC_6x6_Format) return encoding === sRGBEncoding ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR : extension.COMPRESSED_RGBA_ASTC_6x6_KHR;\n\t\t\t\t\tif (p === RGBA_ASTC_8x5_Format) return encoding === sRGBEncoding ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR : extension.COMPRESSED_RGBA_ASTC_8x5_KHR;\n\t\t\t\t\tif (p === RGBA_ASTC_8x6_Format) return encoding === sRGBEncoding ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR : extension.COMPRESSED_RGBA_ASTC_8x6_KHR;\n\t\t\t\t\tif (p === RGBA_ASTC_8x8_Format) return encoding === sRGBEncoding ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR : extension.COMPRESSED_RGBA_ASTC_8x8_KHR;\n\t\t\t\t\tif (p === RGBA_ASTC_10x5_Format) return encoding === sRGBEncoding ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR : extension.COMPRESSED_RGBA_ASTC_10x5_KHR;\n\t\t\t\t\tif (p === RGBA_ASTC_10x6_Format) return encoding === sRGBEncoding ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR : extension.COMPRESSED_RGBA_ASTC_10x6_KHR;\n\t\t\t\t\tif (p === RGBA_ASTC_10x8_Format) return encoding === sRGBEncoding ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR : extension.COMPRESSED_RGBA_ASTC_10x8_KHR;\n\t\t\t\t\tif (p === RGBA_ASTC_10x10_Format) return encoding === sRGBEncoding ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR : extension.COMPRESSED_RGBA_ASTC_10x10_KHR;\n\t\t\t\t\tif (p === RGBA_ASTC_12x10_Format) return encoding === sRGBEncoding ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR : extension.COMPRESSED_RGBA_ASTC_12x10_KHR;\n\t\t\t\t\tif (p === RGBA_ASTC_12x12_Format) return encoding === sRGBEncoding ? extension.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR : extension.COMPRESSED_RGBA_ASTC_12x12_KHR;\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t} // BPTC\n\n\n\t\t\tif (p === RGBA_BPTC_Format) {\n\t\t\t\textension = extensions.get('EXT_texture_compression_bptc');\n\n\t\t\t\tif (extension !== null) {\n\t\t\t\t\tif (p === RGBA_BPTC_Format) return encoding === sRGBEncoding ? extension.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT : extension.COMPRESSED_RGBA_BPTC_UNORM_EXT;\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t} //\n\n\n\t\t\tif (p === UnsignedInt248Type) {\n\t\t\t\tif (isWebGL2) return gl.UNSIGNED_INT_24_8;\n\t\t\t\textension = extensions.get('WEBGL_depth_texture');\n\n\t\t\t\tif (extension !== null) {\n\t\t\t\t\treturn extension.UNSIGNED_INT_24_8_WEBGL;\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t} // if \"p\" can't be resolved, assume the user defines a WebGL constant as a string (fallback/workaround for packed RGB formats)\n\n\n\t\t\treturn gl[p] !== undefined ? gl[p] : null;\n\t\t}\n\n\t\treturn {\n\t\t\tconvert: convert\n\t\t};\n\t}\n\n\tclass ArrayCamera extends PerspectiveCamera {\n\t\tconstructor(array = []) {\n\t\t\tsuper();\n\t\t\tthis.isArrayCamera = true;\n\t\t\tthis.cameras = array;\n\t\t}\n\n\t}\n\n\tclass Group extends Object3D {\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tthis.isGroup = true;\n\t\t\tthis.type = 'Group';\n\t\t}\n\n\t}\n\n\tconst _moveEvent = {\n\t\ttype: 'move'\n\t};\n\n\tclass WebXRController {\n\t\tconstructor() {\n\t\t\tthis._targetRay = null;\n\t\t\tthis._grip = null;\n\t\t\tthis._hand = null;\n\t\t}\n\n\t\tgetHandSpace() {\n\t\t\tif (this._hand === null) {\n\t\t\t\tthis._hand = new Group();\n\t\t\t\tthis._hand.matrixAutoUpdate = false;\n\t\t\t\tthis._hand.visible = false;\n\t\t\t\tthis._hand.joints = {};\n\t\t\t\tthis._hand.inputState = {\n\t\t\t\t\tpinching: false\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn this._hand;\n\t\t}\n\n\t\tgetTargetRaySpace() {\n\t\t\tif (this._targetRay === null) {\n\t\t\t\tthis._targetRay = new Group();\n\t\t\t\tthis._targetRay.matrixAutoUpdate = false;\n\t\t\t\tthis._targetRay.visible = false;\n\t\t\t\tthis._targetRay.hasLinearVelocity = false;\n\t\t\t\tthis._targetRay.linearVelocity = new Vector3();\n\t\t\t\tthis._targetRay.hasAngularVelocity = false;\n\t\t\t\tthis._targetRay.angularVelocity = new Vector3();\n\t\t\t}\n\n\t\t\treturn this._targetRay;\n\t\t}\n\n\t\tgetGripSpace() {\n\t\t\tif (this._grip === null) {\n\t\t\t\tthis._grip = new Group();\n\t\t\t\tthis._grip.matrixAutoUpdate = false;\n\t\t\t\tthis._grip.visible = false;\n\t\t\t\tthis._grip.hasLinearVelocity = false;\n\t\t\t\tthis._grip.linearVelocity = new Vector3();\n\t\t\t\tthis._grip.hasAngularVelocity = false;\n\t\t\t\tthis._grip.angularVelocity = new Vector3();\n\t\t\t}\n\n\t\t\treturn this._grip;\n\t\t}\n\n\t\tdispatchEvent(event) {\n\t\t\tif (this._targetRay !== null) {\n\t\t\t\tthis._targetRay.dispatchEvent(event);\n\t\t\t}\n\n\t\t\tif (this._grip !== null) {\n\t\t\t\tthis._grip.dispatchEvent(event);\n\t\t\t}\n\n\t\t\tif (this._hand !== null) {\n\t\t\t\tthis._hand.dispatchEvent(event);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tdisconnect(inputSource) {\n\t\t\tthis.dispatchEvent({\n\t\t\t\ttype: 'disconnected',\n\t\t\t\tdata: inputSource\n\t\t\t});\n\n\t\t\tif (this._targetRay !== null) {\n\t\t\t\tthis._targetRay.visible = false;\n\t\t\t}\n\n\t\t\tif (this._grip !== null) {\n\t\t\t\tthis._grip.visible = false;\n\t\t\t}\n\n\t\t\tif (this._hand !== null) {\n\t\t\t\tthis._hand.visible = false;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tupdate(inputSource, frame, referenceSpace) {\n\t\t\tlet inputPose = null;\n\t\t\tlet gripPose = null;\n\t\t\tlet handPose = null;\n\t\t\tconst targetRay = this._targetRay;\n\t\t\tconst grip = this._grip;\n\t\t\tconst hand = this._hand;\n\n\t\t\tif (inputSource && frame.session.visibilityState !== 'visible-blurred') {\n\t\t\t\tif (targetRay !== null) {\n\t\t\t\t\tinputPose = frame.getPose(inputSource.targetRaySpace, referenceSpace);\n\n\t\t\t\t\tif (inputPose !== null) {\n\t\t\t\t\t\ttargetRay.matrix.fromArray(inputPose.transform.matrix);\n\t\t\t\t\t\ttargetRay.matrix.decompose(targetRay.position, targetRay.rotation, targetRay.scale);\n\n\t\t\t\t\t\tif (inputPose.linearVelocity) {\n\t\t\t\t\t\t\ttargetRay.hasLinearVelocity = true;\n\t\t\t\t\t\t\ttargetRay.linearVelocity.copy(inputPose.linearVelocity);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttargetRay.hasLinearVelocity = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (inputPose.angularVelocity) {\n\t\t\t\t\t\t\ttargetRay.hasAngularVelocity = true;\n\t\t\t\t\t\t\ttargetRay.angularVelocity.copy(inputPose.angularVelocity);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttargetRay.hasAngularVelocity = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.dispatchEvent(_moveEvent);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (hand && inputSource.hand) {\n\t\t\t\t\thandPose = true;\n\n\t\t\t\t\tfor (const inputjoint of inputSource.hand.values()) {\n\t\t\t\t\t\t// Update the joints groups with the XRJoint poses\n\t\t\t\t\t\tconst jointPose = frame.getJointPose(inputjoint, referenceSpace);\n\n\t\t\t\t\t\tif (hand.joints[inputjoint.jointName] === undefined) {\n\t\t\t\t\t\t\t// The transform of this joint will be updated with the joint pose on each frame\n\t\t\t\t\t\t\tconst joint = new Group();\n\t\t\t\t\t\t\tjoint.matrixAutoUpdate = false;\n\t\t\t\t\t\t\tjoint.visible = false;\n\t\t\t\t\t\t\thand.joints[inputjoint.jointName] = joint; // ??\n\n\t\t\t\t\t\t\thand.add(joint);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst joint = hand.joints[inputjoint.jointName];\n\n\t\t\t\t\t\tif (jointPose !== null) {\n\t\t\t\t\t\t\tjoint.matrix.fromArray(jointPose.transform.matrix);\n\t\t\t\t\t\t\tjoint.matrix.decompose(joint.position, joint.rotation, joint.scale);\n\t\t\t\t\t\t\tjoint.jointRadius = jointPose.radius;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tjoint.visible = jointPose !== null;\n\t\t\t\t\t} // Custom events\n\t\t\t\t\t// Check pinchz\n\n\n\t\t\t\t\tconst indexTip = hand.joints['index-finger-tip'];\n\t\t\t\t\tconst thumbTip = hand.joints['thumb-tip'];\n\t\t\t\t\tconst distance = indexTip.position.distanceTo(thumbTip.position);\n\t\t\t\t\tconst distanceToPinch = 0.02;\n\t\t\t\t\tconst threshold = 0.005;\n\n\t\t\t\t\tif (hand.inputState.pinching && distance > distanceToPinch + threshold) {\n\t\t\t\t\t\thand.inputState.pinching = false;\n\t\t\t\t\t\tthis.dispatchEvent({\n\t\t\t\t\t\t\ttype: 'pinchend',\n\t\t\t\t\t\t\thandedness: inputSource.handedness,\n\t\t\t\t\t\t\ttarget: this\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (!hand.inputState.pinching && distance <= distanceToPinch - threshold) {\n\t\t\t\t\t\thand.inputState.pinching = true;\n\t\t\t\t\t\tthis.dispatchEvent({\n\t\t\t\t\t\t\ttype: 'pinchstart',\n\t\t\t\t\t\t\thandedness: inputSource.handedness,\n\t\t\t\t\t\t\ttarget: this\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (grip !== null && inputSource.gripSpace) {\n\t\t\t\t\t\tgripPose = frame.getPose(inputSource.gripSpace, referenceSpace);\n\n\t\t\t\t\t\tif (gripPose !== null) {\n\t\t\t\t\t\t\tgrip.matrix.fromArray(gripPose.transform.matrix);\n\t\t\t\t\t\t\tgrip.matrix.decompose(grip.position, grip.rotation, grip.scale);\n\n\t\t\t\t\t\t\tif (gripPose.linearVelocity) {\n\t\t\t\t\t\t\t\tgrip.hasLinearVelocity = true;\n\t\t\t\t\t\t\t\tgrip.linearVelocity.copy(gripPose.linearVelocity);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tgrip.hasLinearVelocity = false;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (gripPose.angularVelocity) {\n\t\t\t\t\t\t\t\tgrip.hasAngularVelocity = true;\n\t\t\t\t\t\t\t\tgrip.angularVelocity.copy(gripPose.angularVelocity);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tgrip.hasAngularVelocity = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (targetRay !== null) {\n\t\t\t\ttargetRay.visible = inputPose !== null;\n\t\t\t}\n\n\t\t\tif (grip !== null) {\n\t\t\t\tgrip.visible = gripPose !== null;\n\t\t\t}\n\n\t\t\tif (hand !== null) {\n\t\t\t\thand.visible = handPose !== null;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass DepthTexture extends Texture {\n\t\tconstructor(width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format) {\n\t\t\tformat = format !== undefined ? format : DepthFormat;\n\n\t\t\tif (format !== DepthFormat && format !== DepthStencilFormat) {\n\t\t\t\tthrow new Error('DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat');\n\t\t\t}\n\n\t\t\tif (type === undefined && format === DepthFormat) type = UnsignedIntType;\n\t\t\tif (type === undefined && format === DepthStencilFormat) type = UnsignedInt248Type;\n\t\t\tsuper(null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy);\n\t\t\tthis.isDepthTexture = true;\n\t\t\tthis.image = {\n\t\t\t\twidth: width,\n\t\t\t\theight: height\n\t\t\t};\n\t\t\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\t\t\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\t\t\tthis.flipY = false;\n\t\t\tthis.generateMipmaps = false;\n\t\t}\n\n\t}\n\n\tclass WebXRManager extends EventDispatcher {\n\t\tconstructor(renderer, gl) {\n\t\t\tsuper();\n\t\t\tconst scope = this;\n\t\t\tlet session = null;\n\t\t\tlet framebufferScaleFactor = 1.0;\n\t\t\tlet referenceSpace = null;\n\t\t\tlet referenceSpaceType = 'local-floor';\n\t\t\tlet customReferenceSpace = null;\n\t\t\tlet pose = null;\n\t\t\tlet glBinding = null;\n\t\t\tlet glProjLayer = null;\n\t\t\tlet glBaseLayer = null;\n\t\t\tlet xrFrame = null;\n\t\t\tconst attributes = gl.getContextAttributes();\n\t\t\tlet initialRenderTarget = null;\n\t\t\tlet newRenderTarget = null;\n\t\t\tconst controllers = [];\n\t\t\tconst inputSourcesMap = new Map(); //\n\n\t\t\tconst cameraL = new PerspectiveCamera();\n\t\t\tcameraL.layers.enable(1);\n\t\t\tcameraL.viewport = new Vector4();\n\t\t\tconst cameraR = new PerspectiveCamera();\n\t\t\tcameraR.layers.enable(2);\n\t\t\tcameraR.viewport = new Vector4();\n\t\t\tconst cameras = [cameraL, cameraR];\n\t\t\tconst cameraVR = new ArrayCamera();\n\t\t\tcameraVR.layers.enable(1);\n\t\t\tcameraVR.layers.enable(2);\n\t\t\tlet _currentDepthNear = null;\n\t\t\tlet _currentDepthFar = null; //\n\n\t\t\tthis.cameraAutoUpdate = true;\n\t\t\tthis.enabled = false;\n\t\t\tthis.isPresenting = false;\n\n\t\t\tthis.getController = function (index) {\n\t\t\t\tlet controller = controllers[index];\n\n\t\t\t\tif (controller === undefined) {\n\t\t\t\t\tcontroller = new WebXRController();\n\t\t\t\t\tcontrollers[index] = controller;\n\t\t\t\t}\n\n\t\t\t\treturn controller.getTargetRaySpace();\n\t\t\t};\n\n\t\t\tthis.getControllerGrip = function (index) {\n\t\t\t\tlet controller = controllers[index];\n\n\t\t\t\tif (controller === undefined) {\n\t\t\t\t\tcontroller = new WebXRController();\n\t\t\t\t\tcontrollers[index] = controller;\n\t\t\t\t}\n\n\t\t\t\treturn controller.getGripSpace();\n\t\t\t};\n\n\t\t\tthis.getHand = function (index) {\n\t\t\t\tlet controller = controllers[index];\n\n\t\t\t\tif (controller === undefined) {\n\t\t\t\t\tcontroller = new WebXRController();\n\t\t\t\t\tcontrollers[index] = controller;\n\t\t\t\t}\n\n\t\t\t\treturn controller.getHandSpace();\n\t\t\t}; //\n\n\n\t\t\tfunction onSessionEvent(event) {\n\t\t\t\tconst controller = inputSourcesMap.get(event.inputSource);\n\n\t\t\t\tif (controller !== undefined) {\n\t\t\t\t\tcontroller.dispatchEvent({\n\t\t\t\t\t\ttype: event.type,\n\t\t\t\t\t\tdata: event.inputSource\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction onSessionEnd() {\n\t\t\t\tsession.removeEventListener('select', onSessionEvent);\n\t\t\t\tsession.removeEventListener('selectstart', onSessionEvent);\n\t\t\t\tsession.removeEventListener('selectend', onSessionEvent);\n\t\t\t\tsession.removeEventListener('squeeze', onSessionEvent);\n\t\t\t\tsession.removeEventListener('squeezestart', onSessionEvent);\n\t\t\t\tsession.removeEventListener('squeezeend', onSessionEvent);\n\t\t\t\tsession.removeEventListener('end', onSessionEnd);\n\t\t\t\tsession.removeEventListener('inputsourceschange', onInputSourcesChange);\n\t\t\t\tinputSourcesMap.forEach(function (controller, inputSource) {\n\t\t\t\t\tif (controller !== undefined) {\n\t\t\t\t\t\tcontroller.disconnect(inputSource);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tinputSourcesMap.clear();\n\t\t\t\t_currentDepthNear = null;\n\t\t\t\t_currentDepthFar = null; // restore framebuffer/rendering state\n\n\t\t\t\trenderer.setRenderTarget(initialRenderTarget);\n\t\t\t\tglBaseLayer = null;\n\t\t\t\tglProjLayer = null;\n\t\t\t\tglBinding = null;\n\t\t\t\tsession = null;\n\t\t\t\tnewRenderTarget = null; //\n\n\t\t\t\tanimation.stop();\n\t\t\t\tscope.isPresenting = false;\n\t\t\t\tscope.dispatchEvent({\n\t\t\t\t\ttype: 'sessionend'\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.setFramebufferScaleFactor = function (value) {\n\t\t\t\tframebufferScaleFactor = value;\n\n\t\t\t\tif (scope.isPresenting === true) {\n\t\t\t\t\tconsole.warn('THREE.WebXRManager: Cannot change framebuffer scale while presenting.');\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.setReferenceSpaceType = function (value) {\n\t\t\t\treferenceSpaceType = value;\n\n\t\t\t\tif (scope.isPresenting === true) {\n\t\t\t\t\tconsole.warn('THREE.WebXRManager: Cannot change reference space type while presenting.');\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.getReferenceSpace = function () {\n\t\t\t\treturn customReferenceSpace || referenceSpace;\n\t\t\t};\n\n\t\t\tthis.setReferenceSpace = function (space) {\n\t\t\t\tcustomReferenceSpace = space;\n\t\t\t};\n\n\t\t\tthis.getBaseLayer = function () {\n\t\t\t\treturn glProjLayer !== null ? glProjLayer : glBaseLayer;\n\t\t\t};\n\n\t\t\tthis.getBinding = function () {\n\t\t\t\treturn glBinding;\n\t\t\t};\n\n\t\t\tthis.getFrame = function () {\n\t\t\t\treturn xrFrame;\n\t\t\t};\n\n\t\t\tthis.getSession = function () {\n\t\t\t\treturn session;\n\t\t\t};\n\n\t\t\tthis.setSession = async function (value) {\n\t\t\t\tsession = value;\n\n\t\t\t\tif (session !== null) {\n\t\t\t\t\tinitialRenderTarget = renderer.getRenderTarget();\n\t\t\t\t\tsession.addEventListener('select', onSessionEvent);\n\t\t\t\t\tsession.addEventListener('selectstart', onSessionEvent);\n\t\t\t\t\tsession.addEventListener('selectend', onSessionEvent);\n\t\t\t\t\tsession.addEventListener('squeeze', onSessionEvent);\n\t\t\t\t\tsession.addEventListener('squeezestart', onSessionEvent);\n\t\t\t\t\tsession.addEventListener('squeezeend', onSessionEvent);\n\t\t\t\t\tsession.addEventListener('end', onSessionEnd);\n\t\t\t\t\tsession.addEventListener('inputsourceschange', onInputSourcesChange);\n\n\t\t\t\t\tif (attributes.xrCompatible !== true) {\n\t\t\t\t\t\tawait gl.makeXRCompatible();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (session.renderState.layers === undefined || renderer.capabilities.isWebGL2 === false) {\n\t\t\t\t\t\tconst layerInit = {\n\t\t\t\t\t\t\tantialias: session.renderState.layers === undefined ? attributes.antialias : true,\n\t\t\t\t\t\t\talpha: attributes.alpha,\n\t\t\t\t\t\t\tdepth: attributes.depth,\n\t\t\t\t\t\t\tstencil: attributes.stencil,\n\t\t\t\t\t\t\tframebufferScaleFactor: framebufferScaleFactor\n\t\t\t\t\t\t};\n\t\t\t\t\t\tglBaseLayer = new XRWebGLLayer(session, gl, layerInit);\n\t\t\t\t\t\tsession.updateRenderState({\n\t\t\t\t\t\t\tbaseLayer: glBaseLayer\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnewRenderTarget = new WebGLRenderTarget(glBaseLayer.framebufferWidth, glBaseLayer.framebufferHeight, {\n\t\t\t\t\t\t\tformat: RGBAFormat,\n\t\t\t\t\t\t\ttype: UnsignedByteType,\n\t\t\t\t\t\t\tencoding: renderer.outputEncoding\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet depthFormat = null;\n\t\t\t\t\t\tlet depthType = null;\n\t\t\t\t\t\tlet glDepthFormat = null;\n\n\t\t\t\t\t\tif (attributes.depth) {\n\t\t\t\t\t\t\tglDepthFormat = attributes.stencil ? gl.DEPTH24_STENCIL8 : gl.DEPTH_COMPONENT24;\n\t\t\t\t\t\t\tdepthFormat = attributes.stencil ? DepthStencilFormat : DepthFormat;\n\t\t\t\t\t\t\tdepthType = attributes.stencil ? UnsignedInt248Type : UnsignedIntType;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst projectionlayerInit = {\n\t\t\t\t\t\t\tcolorFormat: renderer.outputEncoding === sRGBEncoding ? gl.SRGB8_ALPHA8 : gl.RGBA8,\n\t\t\t\t\t\t\tdepthFormat: glDepthFormat,\n\t\t\t\t\t\t\tscaleFactor: framebufferScaleFactor\n\t\t\t\t\t\t};\n\t\t\t\t\t\tglBinding = new XRWebGLBinding(session, gl);\n\t\t\t\t\t\tglProjLayer = glBinding.createProjectionLayer(projectionlayerInit);\n\t\t\t\t\t\tsession.updateRenderState({\n\t\t\t\t\t\t\tlayers: [glProjLayer]\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnewRenderTarget = new WebGLRenderTarget(glProjLayer.textureWidth, glProjLayer.textureHeight, {\n\t\t\t\t\t\t\tformat: RGBAFormat,\n\t\t\t\t\t\t\ttype: UnsignedByteType,\n\t\t\t\t\t\t\tdepthTexture: new DepthTexture(glProjLayer.textureWidth, glProjLayer.textureHeight, depthType, undefined, undefined, undefined, undefined, undefined, undefined, depthFormat),\n\t\t\t\t\t\t\tstencilBuffer: attributes.stencil,\n\t\t\t\t\t\t\tencoding: renderer.outputEncoding,\n\t\t\t\t\t\t\tsamples: attributes.antialias ? 4 : 0\n\t\t\t\t\t\t});\n\t\t\t\t\t\tconst renderTargetProperties = renderer.properties.get(newRenderTarget);\n\t\t\t\t\t\trenderTargetProperties.__ignoreDepthValues = glProjLayer.ignoreDepthValues;\n\t\t\t\t\t}\n\n\t\t\t\t\tnewRenderTarget.isXRRenderTarget = true; // TODO Remove this when possible, see #23278\n\t\t\t\t\t// Set foveation to maximum.\n\n\t\t\t\t\tthis.setFoveation(1.0);\n\t\t\t\t\tcustomReferenceSpace = null;\n\t\t\t\t\treferenceSpace = await session.requestReferenceSpace(referenceSpaceType);\n\t\t\t\t\tanimation.setContext(session);\n\t\t\t\t\tanimation.start();\n\t\t\t\t\tscope.isPresenting = true;\n\t\t\t\t\tscope.dispatchEvent({\n\t\t\t\t\t\ttype: 'sessionstart'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfunction onInputSourcesChange(event) {\n\t\t\t\tconst inputSources = session.inputSources; // Assign controllers to available inputSources\n\n\t\t\t\tfor (let i = 0; i < inputSources.length; i++) {\n\t\t\t\t\tconst index = inputSources[i].handedness === 'right' ? 1 : 0;\n\t\t\t\t\tinputSourcesMap.set(inputSources[i], controllers[index]);\n\t\t\t\t} // Notify disconnected\n\n\n\t\t\t\tfor (let i = 0; i < event.removed.length; i++) {\n\t\t\t\t\tconst inputSource = event.removed[i];\n\t\t\t\t\tconst controller = inputSourcesMap.get(inputSource);\n\n\t\t\t\t\tif (controller) {\n\t\t\t\t\t\tcontroller.dispatchEvent({\n\t\t\t\t\t\t\ttype: 'disconnected',\n\t\t\t\t\t\t\tdata: inputSource\n\t\t\t\t\t\t});\n\t\t\t\t\t\tinputSourcesMap.delete(inputSource);\n\t\t\t\t\t}\n\t\t\t\t} // Notify connected\n\n\n\t\t\t\tfor (let i = 0; i < event.added.length; i++) {\n\t\t\t\t\tconst inputSource = event.added[i];\n\t\t\t\t\tconst controller = inputSourcesMap.get(inputSource);\n\n\t\t\t\t\tif (controller) {\n\t\t\t\t\t\tcontroller.dispatchEvent({\n\t\t\t\t\t\t\ttype: 'connected',\n\t\t\t\t\t\t\tdata: inputSource\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} //\n\n\n\t\t\tconst cameraLPos = new Vector3();\n\t\t\tconst cameraRPos = new Vector3();\n\t\t\t/**\n\t\t\t * Assumes 2 cameras that are parallel and share an X-axis, and that\n\t\t\t * the cameras' projection and world matrices have already been set.\n\t\t\t * And that near and far planes are identical for both cameras.\n\t\t\t * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\n\t\t\t */\n\n\t\t\tfunction setProjectionFromUnion(camera, cameraL, cameraR) {\n\t\t\t\tcameraLPos.setFromMatrixPosition(cameraL.matrixWorld);\n\t\t\t\tcameraRPos.setFromMatrixPosition(cameraR.matrixWorld);\n\t\t\t\tconst ipd = cameraLPos.distanceTo(cameraRPos);\n\t\t\t\tconst projL = cameraL.projectionMatrix.elements;\n\t\t\t\tconst projR = cameraR.projectionMatrix.elements; // VR systems will have identical far and near planes, and\n\t\t\t\t// most likely identical top and bottom frustum extents.\n\t\t\t\t// Use the left camera for these values.\n\n\t\t\t\tconst near = projL[14] / (projL[10] - 1);\n\t\t\t\tconst far = projL[14] / (projL[10] + 1);\n\t\t\t\tconst topFov = (projL[9] + 1) / projL[5];\n\t\t\t\tconst bottomFov = (projL[9] - 1) / projL[5];\n\t\t\t\tconst leftFov = (projL[8] - 1) / projL[0];\n\t\t\t\tconst rightFov = (projR[8] + 1) / projR[0];\n\t\t\t\tconst left = near * leftFov;\n\t\t\t\tconst right = near * rightFov; // Calculate the new camera's position offset from the\n\t\t\t\t// left camera. xOffset should be roughly half `ipd`.\n\n\t\t\t\tconst zOffset = ipd / (-leftFov + rightFov);\n\t\t\t\tconst xOffset = zOffset * -leftFov; // TODO: Better way to apply this offset?\n\n\t\t\t\tcameraL.matrixWorld.decompose(camera.position, camera.quaternion, camera.scale);\n\t\t\t\tcamera.translateX(xOffset);\n\t\t\t\tcamera.translateZ(zOffset);\n\t\t\t\tcamera.matrixWorld.compose(camera.position, camera.quaternion, camera.scale);\n\t\t\t\tcamera.matrixWorldInverse.copy(camera.matrixWorld).invert(); // Find the union of the frustum values of the cameras and scale\n\t\t\t\t// the values so that the near plane's position does not change in world space,\n\t\t\t\t// although must now be relative to the new union camera.\n\n\t\t\t\tconst near2 = near + zOffset;\n\t\t\t\tconst far2 = far + zOffset;\n\t\t\t\tconst left2 = left - xOffset;\n\t\t\t\tconst right2 = right + (ipd - xOffset);\n\t\t\t\tconst top2 = topFov * far / far2 * near2;\n\t\t\t\tconst bottom2 = bottomFov * far / far2 * near2;\n\t\t\t\tcamera.projectionMatrix.makePerspective(left2, right2, top2, bottom2, near2, far2);\n\t\t\t}\n\n\t\t\tfunction updateCamera(camera, parent) {\n\t\t\t\tif (parent === null) {\n\t\t\t\t\tcamera.matrixWorld.copy(camera.matrix);\n\t\t\t\t} else {\n\t\t\t\t\tcamera.matrixWorld.multiplyMatrices(parent.matrixWorld, camera.matrix);\n\t\t\t\t}\n\n\t\t\t\tcamera.matrixWorldInverse.copy(camera.matrixWorld).invert();\n\t\t\t}\n\n\t\t\tthis.updateCamera = function (camera) {\n\t\t\t\tif (session === null) return;\n\t\t\t\tcameraVR.near = cameraR.near = cameraL.near = camera.near;\n\t\t\t\tcameraVR.far = cameraR.far = cameraL.far = camera.far;\n\n\t\t\t\tif (_currentDepthNear !== cameraVR.near || _currentDepthFar !== cameraVR.far) {\n\t\t\t\t\t// Note that the new renderState won't apply until the next frame. See #18320\n\t\t\t\t\tsession.updateRenderState({\n\t\t\t\t\t\tdepthNear: cameraVR.near,\n\t\t\t\t\t\tdepthFar: cameraVR.far\n\t\t\t\t\t});\n\t\t\t\t\t_currentDepthNear = cameraVR.near;\n\t\t\t\t\t_currentDepthFar = cameraVR.far;\n\t\t\t\t}\n\n\t\t\t\tconst parent = camera.parent;\n\t\t\t\tconst cameras = cameraVR.cameras;\n\t\t\t\tupdateCamera(cameraVR, parent);\n\n\t\t\t\tfor (let i = 0; i < cameras.length; i++) {\n\t\t\t\t\tupdateCamera(cameras[i], parent);\n\t\t\t\t}\n\n\t\t\t\tcameraVR.matrixWorld.decompose(cameraVR.position, cameraVR.quaternion, cameraVR.scale); // update user camera and its children\n\n\t\t\t\tcamera.position.copy(cameraVR.position);\n\t\t\t\tcamera.quaternion.copy(cameraVR.quaternion);\n\t\t\t\tcamera.scale.copy(cameraVR.scale);\n\t\t\t\tcamera.matrix.copy(cameraVR.matrix);\n\t\t\t\tcamera.matrixWorld.copy(cameraVR.matrixWorld);\n\t\t\t\tconst children = camera.children;\n\n\t\t\t\tfor (let i = 0, l = children.length; i < l; i++) {\n\t\t\t\t\tchildren[i].updateMatrixWorld(true);\n\t\t\t\t} // update projection matrix for proper view frustum culling\n\n\n\t\t\t\tif (cameras.length === 2) {\n\t\t\t\t\tsetProjectionFromUnion(cameraVR, cameraL, cameraR);\n\t\t\t\t} else {\n\t\t\t\t\t// assume single camera setup (AR)\n\t\t\t\t\tcameraVR.projectionMatrix.copy(cameraL.projectionMatrix);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.getCamera = function () {\n\t\t\t\treturn cameraVR;\n\t\t\t};\n\n\t\t\tthis.getFoveation = function () {\n\t\t\t\tif (glProjLayer !== null) {\n\t\t\t\t\treturn glProjLayer.fixedFoveation;\n\t\t\t\t}\n\n\t\t\t\tif (glBaseLayer !== null) {\n\t\t\t\t\treturn glBaseLayer.fixedFoveation;\n\t\t\t\t}\n\n\t\t\t\treturn undefined;\n\t\t\t};\n\n\t\t\tthis.setFoveation = function (foveation) {\n\t\t\t\t// 0 = no foveation = full resolution\n\t\t\t\t// 1 = maximum foveation = the edges render at lower resolution\n\t\t\t\tif (glProjLayer !== null) {\n\t\t\t\t\tglProjLayer.fixedFoveation = foveation;\n\t\t\t\t}\n\n\t\t\t\tif (glBaseLayer !== null && glBaseLayer.fixedFoveation !== undefined) {\n\t\t\t\t\tglBaseLayer.fixedFoveation = foveation;\n\t\t\t\t}\n\t\t\t}; // Animation Loop\n\n\n\t\t\tlet onAnimationFrameCallback = null;\n\n\t\t\tfunction onAnimationFrame(time, frame) {\n\t\t\t\tpose = frame.getViewerPose(customReferenceSpace || referenceSpace);\n\t\t\t\txrFrame = frame;\n\n\t\t\t\tif (pose !== null) {\n\t\t\t\t\tconst views = pose.views;\n\n\t\t\t\t\tif (glBaseLayer !== null) {\n\t\t\t\t\t\trenderer.setRenderTargetFramebuffer(newRenderTarget, glBaseLayer.framebuffer);\n\t\t\t\t\t\trenderer.setRenderTarget(newRenderTarget);\n\t\t\t\t\t}\n\n\t\t\t\t\tlet cameraVRNeedsUpdate = false; // check if it's necessary to rebuild cameraVR's camera list\n\n\t\t\t\t\tif (views.length !== cameraVR.cameras.length) {\n\t\t\t\t\t\tcameraVR.cameras.length = 0;\n\t\t\t\t\t\tcameraVRNeedsUpdate = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (let i = 0; i < views.length; i++) {\n\t\t\t\t\t\tconst view = views[i];\n\t\t\t\t\t\tlet viewport = null;\n\n\t\t\t\t\t\tif (glBaseLayer !== null) {\n\t\t\t\t\t\t\tviewport = glBaseLayer.getViewport(view);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst glSubImage = glBinding.getViewSubImage(glProjLayer, view);\n\t\t\t\t\t\t\tviewport = glSubImage.viewport; // For side-by-side projection, we only produce a single texture for both eyes.\n\n\t\t\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\t\t\trenderer.setRenderTargetTextures(newRenderTarget, glSubImage.colorTexture, glProjLayer.ignoreDepthValues ? undefined : glSubImage.depthStencilTexture);\n\t\t\t\t\t\t\t\trenderer.setRenderTarget(newRenderTarget);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet camera = cameras[i];\n\n\t\t\t\t\t\tif (camera === undefined) {\n\t\t\t\t\t\t\tcamera = new PerspectiveCamera();\n\t\t\t\t\t\t\tcamera.layers.enable(i);\n\t\t\t\t\t\t\tcamera.viewport = new Vector4();\n\t\t\t\t\t\t\tcameras[i] = camera;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcamera.matrix.fromArray(view.transform.matrix);\n\t\t\t\t\t\tcamera.projectionMatrix.fromArray(view.projectionMatrix);\n\t\t\t\t\t\tcamera.viewport.set(viewport.x, viewport.y, viewport.width, viewport.height);\n\n\t\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\t\tcameraVR.matrix.copy(camera.matrix);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (cameraVRNeedsUpdate === true) {\n\t\t\t\t\t\t\tcameraVR.cameras.push(camera);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} //\n\n\n\t\t\t\tconst inputSources = session.inputSources;\n\n\t\t\t\tfor (let i = 0; i < controllers.length; i++) {\n\t\t\t\t\tconst inputSource = inputSources[i];\n\t\t\t\t\tconst controller = inputSourcesMap.get(inputSource);\n\n\t\t\t\t\tif (controller !== undefined) {\n\t\t\t\t\t\tcontroller.update(inputSource, frame, customReferenceSpace || referenceSpace);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (onAnimationFrameCallback) onAnimationFrameCallback(time, frame);\n\t\t\t\txrFrame = null;\n\t\t\t}\n\n\t\t\tconst animation = new WebGLAnimation();\n\t\t\tanimation.setAnimationLoop(onAnimationFrame);\n\n\t\t\tthis.setAnimationLoop = function (callback) {\n\t\t\t\tonAnimationFrameCallback = callback;\n\t\t\t};\n\n\t\t\tthis.dispose = function () {};\n\t\t}\n\n\t}\n\n\tfunction WebGLMaterials(renderer, properties) {\n\t\tfunction refreshFogUniforms(uniforms, fog) {\n\t\t\tuniforms.fogColor.value.copy(fog.color);\n\n\t\t\tif (fog.isFog) {\n\t\t\t\tuniforms.fogNear.value = fog.near;\n\t\t\t\tuniforms.fogFar.value = fog.far;\n\t\t\t} else if (fog.isFogExp2) {\n\t\t\t\tuniforms.fogDensity.value = fog.density;\n\t\t\t}\n\t\t}\n\n\t\tfunction refreshMaterialUniforms(uniforms, material, pixelRatio, height, transmissionRenderTarget) {\n\t\t\tif (material.isMeshBasicMaterial) {\n\t\t\t\trefreshUniformsCommon(uniforms, material);\n\t\t\t} else if (material.isMeshLambertMaterial) {\n\t\t\t\trefreshUniformsCommon(uniforms, material);\n\t\t\t} else if (material.isMeshToonMaterial) {\n\t\t\t\trefreshUniformsCommon(uniforms, material);\n\t\t\t\trefreshUniformsToon(uniforms, material);\n\t\t\t} else if (material.isMeshPhongMaterial) {\n\t\t\t\trefreshUniformsCommon(uniforms, material);\n\t\t\t\trefreshUniformsPhong(uniforms, material);\n\t\t\t} else if (material.isMeshStandardMaterial) {\n\t\t\t\trefreshUniformsCommon(uniforms, material);\n\t\t\t\trefreshUniformsStandard(uniforms, material);\n\n\t\t\t\tif (material.isMeshPhysicalMaterial) {\n\t\t\t\t\trefreshUniformsPhysical(uniforms, material, transmissionRenderTarget);\n\t\t\t\t}\n\t\t\t} else if (material.isMeshMatcapMaterial) {\n\t\t\t\trefreshUniformsCommon(uniforms, material);\n\t\t\t\trefreshUniformsMatcap(uniforms, material);\n\t\t\t} else if (material.isMeshDepthMaterial) {\n\t\t\t\trefreshUniformsCommon(uniforms, material);\n\t\t\t} else if (material.isMeshDistanceMaterial) {\n\t\t\t\trefreshUniformsCommon(uniforms, material);\n\t\t\t\trefreshUniformsDistance(uniforms, material);\n\t\t\t} else if (material.isMeshNormalMaterial) {\n\t\t\t\trefreshUniformsCommon(uniforms, material);\n\t\t\t} else if (material.isLineBasicMaterial) {\n\t\t\t\trefreshUniformsLine(uniforms, material);\n\n\t\t\t\tif (material.isLineDashedMaterial) {\n\t\t\t\t\trefreshUniformsDash(uniforms, material);\n\t\t\t\t}\n\t\t\t} else if (material.isPointsMaterial) {\n\t\t\t\trefreshUniformsPoints(uniforms, material, pixelRatio, height);\n\t\t\t} else if (material.isSpriteMaterial) {\n\t\t\t\trefreshUniformsSprites(uniforms, material);\n\t\t\t} else if (material.isShadowMaterial) {\n\t\t\t\tuniforms.color.value.copy(material.color);\n\t\t\t\tuniforms.opacity.value = material.opacity;\n\t\t\t} else if (material.isShaderMaterial) {\n\t\t\t\tmaterial.uniformsNeedUpdate = false; // #15581\n\t\t\t}\n\t\t}\n\n\t\tfunction refreshUniformsCommon(uniforms, material) {\n\t\t\tuniforms.opacity.value = material.opacity;\n\n\t\t\tif (material.color) {\n\t\t\t\tuniforms.diffuse.value.copy(material.color);\n\t\t\t}\n\n\t\t\tif (material.emissive) {\n\t\t\t\tuniforms.emissive.value.copy(material.emissive).multiplyScalar(material.emissiveIntensity);\n\t\t\t}\n\n\t\t\tif (material.map) {\n\t\t\t\tuniforms.map.value = material.map;\n\t\t\t}\n\n\t\t\tif (material.alphaMap) {\n\t\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\t\t\t}\n\n\t\t\tif (material.bumpMap) {\n\t\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\t\tif (material.side === BackSide) uniforms.bumpScale.value *= -1;\n\t\t\t}\n\n\t\t\tif (material.displacementMap) {\n\t\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\t\t\t}\n\n\t\t\tif (material.emissiveMap) {\n\t\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\t\t\t}\n\n\t\t\tif (material.normalMap) {\n\t\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\t\tuniforms.normalScale.value.copy(material.normalScale);\n\t\t\t\tif (material.side === BackSide) uniforms.normalScale.value.negate();\n\t\t\t}\n\n\t\t\tif (material.specularMap) {\n\t\t\t\tuniforms.specularMap.value = material.specularMap;\n\t\t\t}\n\n\t\t\tif (material.alphaTest > 0) {\n\t\t\t\tuniforms.alphaTest.value = material.alphaTest;\n\t\t\t}\n\n\t\t\tconst envMap = properties.get(material).envMap;\n\n\t\t\tif (envMap) {\n\t\t\t\tuniforms.envMap.value = envMap;\n\t\t\t\tuniforms.flipEnvMap.value = envMap.isCubeTexture && envMap.isRenderTargetTexture === false ? -1 : 1;\n\t\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\t\tuniforms.ior.value = material.ior;\n\t\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\t\t\t}\n\n\t\t\tif (material.lightMap) {\n\t\t\t\tuniforms.lightMap.value = material.lightMap; // artist-friendly light intensity scaling factor\n\n\t\t\t\tconst scaleFactor = renderer.physicallyCorrectLights !== true ? Math.PI : 1;\n\t\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity * scaleFactor;\n\t\t\t}\n\n\t\t\tif (material.aoMap) {\n\t\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\t\t\t} // uv repeat and offset setting priorities\n\t\t\t// 1. color map\n\t\t\t// 2. specular map\n\t\t\t// 3. displacementMap map\n\t\t\t// 4. normal map\n\t\t\t// 5. bump map\n\t\t\t// 6. roughnessMap map\n\t\t\t// 7. metalnessMap map\n\t\t\t// 8. alphaMap map\n\t\t\t// 9. emissiveMap map\n\t\t\t// 10. clearcoat map\n\t\t\t// 11. clearcoat normal map\n\t\t\t// 12. clearcoat roughnessMap map\n\t\t\t// 13. iridescence map\n\t\t\t// 14. iridescence thickness map\n\t\t\t// 15. specular intensity map\n\t\t\t// 16. specular tint map\n\t\t\t// 17. transmission map\n\t\t\t// 18. thickness map\n\n\n\t\t\tlet uvScaleMap;\n\n\t\t\tif (material.map) {\n\t\t\t\tuvScaleMap = material.map;\n\t\t\t} else if (material.specularMap) {\n\t\t\t\tuvScaleMap = material.specularMap;\n\t\t\t} else if (material.displacementMap) {\n\t\t\t\tuvScaleMap = material.displacementMap;\n\t\t\t} else if (material.normalMap) {\n\t\t\t\tuvScaleMap = material.normalMap;\n\t\t\t} else if (material.bumpMap) {\n\t\t\t\tuvScaleMap = material.bumpMap;\n\t\t\t} else if (material.roughnessMap) {\n\t\t\t\tuvScaleMap = material.roughnessMap;\n\t\t\t} else if (material.metalnessMap) {\n\t\t\t\tuvScaleMap = material.metalnessMap;\n\t\t\t} else if (material.alphaMap) {\n\t\t\t\tuvScaleMap = material.alphaMap;\n\t\t\t} else if (material.emissiveMap) {\n\t\t\t\tuvScaleMap = material.emissiveMap;\n\t\t\t} else if (material.clearcoatMap) {\n\t\t\t\tuvScaleMap = material.clearcoatMap;\n\t\t\t} else if (material.clearcoatNormalMap) {\n\t\t\t\tuvScaleMap = material.clearcoatNormalMap;\n\t\t\t} else if (material.clearcoatRoughnessMap) {\n\t\t\t\tuvScaleMap = material.clearcoatRoughnessMap;\n\t\t\t} else if (material.iridescenceMap) {\n\t\t\t\tuvScaleMap = material.iridescenceMap;\n\t\t\t} else if (material.iridescenceThicknessMap) {\n\t\t\t\tuvScaleMap = material.iridescenceThicknessMap;\n\t\t\t} else if (material.specularIntensityMap) {\n\t\t\t\tuvScaleMap = material.specularIntensityMap;\n\t\t\t} else if (material.specularColorMap) {\n\t\t\t\tuvScaleMap = material.specularColorMap;\n\t\t\t} else if (material.transmissionMap) {\n\t\t\t\tuvScaleMap = material.transmissionMap;\n\t\t\t} else if (material.thicknessMap) {\n\t\t\t\tuvScaleMap = material.thicknessMap;\n\t\t\t} else if (material.sheenColorMap) {\n\t\t\t\tuvScaleMap = material.sheenColorMap;\n\t\t\t} else if (material.sheenRoughnessMap) {\n\t\t\t\tuvScaleMap = material.sheenRoughnessMap;\n\t\t\t}\n\n\t\t\tif (uvScaleMap !== undefined) {\n\t\t\t\t// backwards compatibility\n\t\t\t\tif (uvScaleMap.isWebGLRenderTarget) {\n\t\t\t\t\tuvScaleMap = uvScaleMap.texture;\n\t\t\t\t}\n\n\t\t\t\tif (uvScaleMap.matrixAutoUpdate === true) {\n\t\t\t\t\tuvScaleMap.updateMatrix();\n\t\t\t\t}\n\n\t\t\t\tuniforms.uvTransform.value.copy(uvScaleMap.matrix);\n\t\t\t} // uv repeat and offset setting priorities for uv2\n\t\t\t// 1. ao map\n\t\t\t// 2. light map\n\n\n\t\t\tlet uv2ScaleMap;\n\n\t\t\tif (material.aoMap) {\n\t\t\t\tuv2ScaleMap = material.aoMap;\n\t\t\t} else if (material.lightMap) {\n\t\t\t\tuv2ScaleMap = material.lightMap;\n\t\t\t}\n\n\t\t\tif (uv2ScaleMap !== undefined) {\n\t\t\t\t// backwards compatibility\n\t\t\t\tif (uv2ScaleMap.isWebGLRenderTarget) {\n\t\t\t\t\tuv2ScaleMap = uv2ScaleMap.texture;\n\t\t\t\t}\n\n\t\t\t\tif (uv2ScaleMap.matrixAutoUpdate === true) {\n\t\t\t\t\tuv2ScaleMap.updateMatrix();\n\t\t\t\t}\n\n\t\t\t\tuniforms.uv2Transform.value.copy(uv2ScaleMap.matrix);\n\t\t\t}\n\t\t}\n\n\t\tfunction refreshUniformsLine(uniforms, material) {\n\t\t\tuniforms.diffuse.value.copy(material.color);\n\t\t\tuniforms.opacity.value = material.opacity;\n\t\t}\n\n\t\tfunction refreshUniformsDash(uniforms, material) {\n\t\t\tuniforms.dashSize.value = material.dashSize;\n\t\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\n\t\t\tuniforms.scale.value = material.scale;\n\t\t}\n\n\t\tfunction refreshUniformsPoints(uniforms, material, pixelRatio, height) {\n\t\t\tuniforms.diffuse.value.copy(material.color);\n\t\t\tuniforms.opacity.value = material.opacity;\n\t\t\tuniforms.size.value = material.size * pixelRatio;\n\t\t\tuniforms.scale.value = height * 0.5;\n\n\t\t\tif (material.map) {\n\t\t\t\tuniforms.map.value = material.map;\n\t\t\t}\n\n\t\t\tif (material.alphaMap) {\n\t\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\t\t\t}\n\n\t\t\tif (material.alphaTest > 0) {\n\t\t\t\tuniforms.alphaTest.value = material.alphaTest;\n\t\t\t} // uv repeat and offset setting priorities\n\t\t\t// 1. color map\n\t\t\t// 2. alpha map\n\n\n\t\t\tlet uvScaleMap;\n\n\t\t\tif (material.map) {\n\t\t\t\tuvScaleMap = material.map;\n\t\t\t} else if (material.alphaMap) {\n\t\t\t\tuvScaleMap = material.alphaMap;\n\t\t\t}\n\n\t\t\tif (uvScaleMap !== undefined) {\n\t\t\t\tif (uvScaleMap.matrixAutoUpdate === true) {\n\t\t\t\t\tuvScaleMap.updateMatrix();\n\t\t\t\t}\n\n\t\t\t\tuniforms.uvTransform.value.copy(uvScaleMap.matrix);\n\t\t\t}\n\t\t}\n\n\t\tfunction refreshUniformsSprites(uniforms, material) {\n\t\t\tuniforms.diffuse.value.copy(material.color);\n\t\t\tuniforms.opacity.value = material.opacity;\n\t\t\tuniforms.rotation.value = material.rotation;\n\n\t\t\tif (material.map) {\n\t\t\t\tuniforms.map.value = material.map;\n\t\t\t}\n\n\t\t\tif (material.alphaMap) {\n\t\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\t\t\t}\n\n\t\t\tif (material.alphaTest > 0) {\n\t\t\t\tuniforms.alphaTest.value = material.alphaTest;\n\t\t\t} // uv repeat and offset setting priorities\n\t\t\t// 1. color map\n\t\t\t// 2. alpha map\n\n\n\t\t\tlet uvScaleMap;\n\n\t\t\tif (material.map) {\n\t\t\t\tuvScaleMap = material.map;\n\t\t\t} else if (material.alphaMap) {\n\t\t\t\tuvScaleMap = material.alphaMap;\n\t\t\t}\n\n\t\t\tif (uvScaleMap !== undefined) {\n\t\t\t\tif (uvScaleMap.matrixAutoUpdate === true) {\n\t\t\t\t\tuvScaleMap.updateMatrix();\n\t\t\t\t}\n\n\t\t\t\tuniforms.uvTransform.value.copy(uvScaleMap.matrix);\n\t\t\t}\n\t\t}\n\n\t\tfunction refreshUniformsPhong(uniforms, material) {\n\t\t\tuniforms.specular.value.copy(material.specular);\n\t\t\tuniforms.shininess.value = Math.max(material.shininess, 1e-4); // to prevent pow( 0.0, 0.0 )\n\t\t}\n\n\t\tfunction refreshUniformsToon(uniforms, material) {\n\t\t\tif (material.gradientMap) {\n\t\t\t\tuniforms.gradientMap.value = material.gradientMap;\n\t\t\t}\n\t\t}\n\n\t\tfunction refreshUniformsStandard(uniforms, material) {\n\t\t\tuniforms.roughness.value = material.roughness;\n\t\t\tuniforms.metalness.value = material.metalness;\n\n\t\t\tif (material.roughnessMap) {\n\t\t\t\tuniforms.roughnessMap.value = material.roughnessMap;\n\t\t\t}\n\n\t\t\tif (material.metalnessMap) {\n\t\t\t\tuniforms.metalnessMap.value = material.metalnessMap;\n\t\t\t}\n\n\t\t\tconst envMap = properties.get(material).envMap;\n\n\t\t\tif (envMap) {\n\t\t\t\t//uniforms.envMap.value = material.envMap; // part of uniforms common\n\t\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\t\t\t}\n\t\t}\n\n\t\tfunction refreshUniformsPhysical(uniforms, material, transmissionRenderTarget) {\n\t\t\tuniforms.ior.value = material.ior; // also part of uniforms common\n\n\t\t\tif (material.sheen > 0) {\n\t\t\t\tuniforms.sheenColor.value.copy(material.sheenColor).multiplyScalar(material.sheen);\n\t\t\t\tuniforms.sheenRoughness.value = material.sheenRoughness;\n\n\t\t\t\tif (material.sheenColorMap) {\n\t\t\t\t\tuniforms.sheenColorMap.value = material.sheenColorMap;\n\t\t\t\t}\n\n\t\t\t\tif (material.sheenRoughnessMap) {\n\t\t\t\t\tuniforms.sheenRoughnessMap.value = material.sheenRoughnessMap;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (material.clearcoat > 0) {\n\t\t\t\tuniforms.clearcoat.value = material.clearcoat;\n\t\t\t\tuniforms.clearcoatRoughness.value = material.clearcoatRoughness;\n\n\t\t\t\tif (material.clearcoatMap) {\n\t\t\t\t\tuniforms.clearcoatMap.value = material.clearcoatMap;\n\t\t\t\t}\n\n\t\t\t\tif (material.clearcoatRoughnessMap) {\n\t\t\t\t\tuniforms.clearcoatRoughnessMap.value = material.clearcoatRoughnessMap;\n\t\t\t\t}\n\n\t\t\t\tif (material.clearcoatNormalMap) {\n\t\t\t\t\tuniforms.clearcoatNormalScale.value.copy(material.clearcoatNormalScale);\n\t\t\t\t\tuniforms.clearcoatNormalMap.value = material.clearcoatNormalMap;\n\n\t\t\t\t\tif (material.side === BackSide) {\n\t\t\t\t\t\tuniforms.clearcoatNormalScale.value.negate();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (material.iridescence > 0) {\n\t\t\t\tuniforms.iridescence.value = material.iridescence;\n\t\t\t\tuniforms.iridescenceIOR.value = material.iridescenceIOR;\n\t\t\t\tuniforms.iridescenceThicknessMinimum.value = material.iridescenceThicknessRange[0];\n\t\t\t\tuniforms.iridescenceThicknessMaximum.value = material.iridescenceThicknessRange[1];\n\n\t\t\t\tif (material.iridescenceMap) {\n\t\t\t\t\tuniforms.iridescenceMap.value = material.iridescenceMap;\n\t\t\t\t}\n\n\t\t\t\tif (material.iridescenceThicknessMap) {\n\t\t\t\t\tuniforms.iridescenceThicknessMap.value = material.iridescenceThicknessMap;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (material.transmission > 0) {\n\t\t\t\tuniforms.transmission.value = material.transmission;\n\t\t\t\tuniforms.transmissionSamplerMap.value = transmissionRenderTarget.texture;\n\t\t\t\tuniforms.transmissionSamplerSize.value.set(transmissionRenderTarget.width, transmissionRenderTarget.height);\n\n\t\t\t\tif (material.transmissionMap) {\n\t\t\t\t\tuniforms.transmissionMap.value = material.transmissionMap;\n\t\t\t\t}\n\n\t\t\t\tuniforms.thickness.value = material.thickness;\n\n\t\t\t\tif (material.thicknessMap) {\n\t\t\t\t\tuniforms.thicknessMap.value = material.thicknessMap;\n\t\t\t\t}\n\n\t\t\t\tuniforms.attenuationDistance.value = material.attenuationDistance;\n\t\t\t\tuniforms.attenuationColor.value.copy(material.attenuationColor);\n\t\t\t}\n\n\t\t\tuniforms.specularIntensity.value = material.specularIntensity;\n\t\t\tuniforms.specularColor.value.copy(material.specularColor);\n\n\t\t\tif (material.specularIntensityMap) {\n\t\t\t\tuniforms.specularIntensityMap.value = material.specularIntensityMap;\n\t\t\t}\n\n\t\t\tif (material.specularColorMap) {\n\t\t\t\tuniforms.specularColorMap.value = material.specularColorMap;\n\t\t\t}\n\t\t}\n\n\t\tfunction refreshUniformsMatcap(uniforms, material) {\n\t\t\tif (material.matcap) {\n\t\t\t\tuniforms.matcap.value = material.matcap;\n\t\t\t}\n\t\t}\n\n\t\tfunction refreshUniformsDistance(uniforms, material) {\n\t\t\tuniforms.referencePosition.value.copy(material.referencePosition);\n\t\t\tuniforms.nearDistance.value = material.nearDistance;\n\t\t\tuniforms.farDistance.value = material.farDistance;\n\t\t}\n\n\t\treturn {\n\t\t\trefreshFogUniforms: refreshFogUniforms,\n\t\t\trefreshMaterialUniforms: refreshMaterialUniforms\n\t\t};\n\t}\n\n\tfunction createCanvasElement() {\n\t\tconst canvas = createElementNS('canvas');\n\t\tcanvas.style.display = 'block';\n\t\treturn canvas;\n\t}\n\n\tfunction WebGLRenderer(parameters = {}) {\n\t\tthis.isWebGLRenderer = true;\n\n\t\tconst _canvas = parameters.canvas !== undefined ? parameters.canvas : createCanvasElement(),\n\t\t\t\t\t_context = parameters.context !== undefined ? parameters.context : null,\n\t\t\t\t\t_depth = parameters.depth !== undefined ? parameters.depth : true,\n\t\t\t\t\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n\t\t\t\t\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n\t\t\t\t\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n\t\t\t\t\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\n\t\t\t\t\t_powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default',\n\t\t\t\t\t_failIfMajorPerformanceCaveat = parameters.failIfMajorPerformanceCaveat !== undefined ? parameters.failIfMajorPerformanceCaveat : false;\n\n\t\tlet _alpha;\n\n\t\tif (_context !== null) {\n\t\t\t_alpha = _context.getContextAttributes().alpha;\n\t\t} else {\n\t\t\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false;\n\t\t}\n\n\t\tlet currentRenderList = null;\n\t\tlet currentRenderState = null; // render() can be called from within a callback triggered by another render.\n\t\t// We track this so that the nested render call gets its list and state isolated from the parent render call.\n\n\t\tconst renderListStack = [];\n\t\tconst renderStateStack = []; // public properties\n\n\t\tthis.domElement = _canvas; // Debug configuration container\n\n\t\tthis.debug = {\n\t\t\t/**\n\t\t\t * Enables error checking and reporting when shader programs are being compiled\n\t\t\t * @type {boolean}\n\t\t\t */\n\t\t\tcheckShaderErrors: true\n\t\t}; // clearing\n\n\t\tthis.autoClear = true;\n\t\tthis.autoClearColor = true;\n\t\tthis.autoClearDepth = true;\n\t\tthis.autoClearStencil = true; // scene graph\n\n\t\tthis.sortObjects = true; // user-defined clipping\n\n\t\tthis.clippingPlanes = [];\n\t\tthis.localClippingEnabled = false; // physically based shading\n\n\t\tthis.outputEncoding = LinearEncoding; // physical lights\n\n\t\tthis.physicallyCorrectLights = false; // tone mapping\n\n\t\tthis.toneMapping = NoToneMapping;\n\t\tthis.toneMappingExposure = 1.0; //\n\n\t\tObject.defineProperties(this, {\n\t\t\t// @deprecated since r136, 0e21088102b4de7e0a0a33140620b7a3424b9e6d\n\t\t\tgammaFactor: {\n\t\t\t\tget: function () {\n\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: .gammaFactor has been removed.');\n\t\t\t\t\treturn 2;\n\t\t\t\t},\n\t\t\t\tset: function () {\n\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: .gammaFactor has been removed.');\n\t\t\t\t}\n\t\t\t}\n\t\t}); // internal properties\n\n\t\tconst _this = this;\n\n\t\tlet _isContextLost = false; // internal state cache\n\n\t\tlet _currentActiveCubeFace = 0;\n\t\tlet _currentActiveMipmapLevel = 0;\n\t\tlet _currentRenderTarget = null;\n\n\t\tlet _currentMaterialId = -1;\n\n\t\tlet _currentCamera = null;\n\n\t\tconst _currentViewport = new Vector4();\n\n\t\tconst _currentScissor = new Vector4();\n\n\t\tlet _currentScissorTest = null; //\n\n\t\tlet _width = _canvas.width;\n\t\tlet _height = _canvas.height;\n\t\tlet _pixelRatio = 1;\n\t\tlet _opaqueSort = null;\n\t\tlet _transparentSort = null;\n\n\t\tconst _viewport = new Vector4(0, 0, _width, _height);\n\n\t\tconst _scissor = new Vector4(0, 0, _width, _height);\n\n\t\tlet _scissorTest = false; // frustum\n\n\t\tconst _frustum = new Frustum(); // clipping\n\n\n\t\tlet _clippingEnabled = false;\n\t\tlet _localClippingEnabled = false; // transmission\n\n\t\tlet _transmissionRenderTarget = null; // camera matrices cache\n\n\t\tconst _projScreenMatrix = new Matrix4();\n\n\t\tconst _vector2 = new Vector2();\n\n\t\tconst _vector3 = new Vector3();\n\n\t\tconst _emptyScene = {\n\t\t\tbackground: null,\n\t\t\tfog: null,\n\t\t\tenvironment: null,\n\t\t\toverrideMaterial: null,\n\t\t\tisScene: true\n\t\t};\n\n\t\tfunction getTargetPixelRatio() {\n\t\t\treturn _currentRenderTarget === null ? _pixelRatio : 1;\n\t\t} // initialize\n\n\n\t\tlet _gl = _context;\n\n\t\tfunction getContext(contextNames, contextAttributes) {\n\t\t\tfor (let i = 0; i < contextNames.length; i++) {\n\t\t\t\tconst contextName = contextNames[i];\n\n\t\t\t\tconst context = _canvas.getContext(contextName, contextAttributes);\n\n\t\t\t\tif (context !== null) return context;\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\n\t\ttry {\n\t\t\tconst contextAttributes = {\n\t\t\t\talpha: true,\n\t\t\t\tdepth: _depth,\n\t\t\t\tstencil: _stencil,\n\t\t\t\tantialias: _antialias,\n\t\t\t\tpremultipliedAlpha: _premultipliedAlpha,\n\t\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer,\n\t\t\t\tpowerPreference: _powerPreference,\n\t\t\t\tfailIfMajorPerformanceCaveat: _failIfMajorPerformanceCaveat\n\t\t\t}; // OffscreenCanvas does not have setAttribute, see #22811\n\n\t\t\tif ('setAttribute' in _canvas) _canvas.setAttribute('data-engine', `three.js r${REVISION}`); // event listeners must be registered before WebGL context is created, see #12753\n\n\t\t\t_canvas.addEventListener('webglcontextlost', onContextLost, false);\n\n\t\t\t_canvas.addEventListener('webglcontextrestored', onContextRestore, false);\n\n\t\t\t_canvas.addEventListener('webglcontextcreationerror', onContextCreationError, false);\n\n\t\t\tif (_gl === null) {\n\t\t\t\tconst contextNames = ['webgl2', 'webgl', 'experimental-webgl'];\n\n\t\t\t\tif (_this.isWebGL1Renderer === true) {\n\t\t\t\t\tcontextNames.shift();\n\t\t\t\t}\n\n\t\t\t\t_gl = getContext(contextNames, contextAttributes);\n\n\t\t\t\tif (_gl === null) {\n\t\t\t\t\tif (getContext(contextNames)) {\n\t\t\t\t\t\tthrow new Error('Error creating WebGL context with your selected attributes.');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error('Error creating WebGL context.');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} // Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n\n\t\t\tif (_gl.getShaderPrecisionFormat === undefined) {\n\t\t\t\t_gl.getShaderPrecisionFormat = function () {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t'rangeMin': 1,\n\t\t\t\t\t\t'rangeMax': 1,\n\t\t\t\t\t\t'precision': 1\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('THREE.WebGLRenderer: ' + error.message);\n\t\t\tthrow error;\n\t\t}\n\n\t\tlet extensions, capabilities, state, info;\n\t\tlet properties, textures, cubemaps, cubeuvmaps, attributes, geometries, objects;\n\t\tlet programCache, materials, renderLists, renderStates, clipping, shadowMap;\n\t\tlet background, morphtargets, bufferRenderer, indexedBufferRenderer;\n\t\tlet utils, bindingStates;\n\n\t\tfunction initGLContext() {\n\t\t\textensions = new WebGLExtensions(_gl);\n\t\t\tcapabilities = new WebGLCapabilities(_gl, extensions, parameters);\n\t\t\textensions.init(capabilities);\n\t\t\tutils = new WebGLUtils(_gl, extensions, capabilities);\n\t\t\tstate = new WebGLState(_gl, extensions, capabilities);\n\t\t\tinfo = new WebGLInfo(_gl);\n\t\t\tproperties = new WebGLProperties();\n\t\t\ttextures = new WebGLTextures(_gl, extensions, state, properties, capabilities, utils, info);\n\t\t\tcubemaps = new WebGLCubeMaps(_this);\n\t\t\tcubeuvmaps = new WebGLCubeUVMaps(_this);\n\t\t\tattributes = new WebGLAttributes(_gl, capabilities);\n\t\t\tbindingStates = new WebGLBindingStates(_gl, extensions, attributes, capabilities);\n\t\t\tgeometries = new WebGLGeometries(_gl, attributes, info, bindingStates);\n\t\t\tobjects = new WebGLObjects(_gl, geometries, attributes, info);\n\t\t\tmorphtargets = new WebGLMorphtargets(_gl, capabilities, textures);\n\t\t\tclipping = new WebGLClipping(properties);\n\t\t\tprogramCache = new WebGLPrograms(_this, cubemaps, cubeuvmaps, extensions, capabilities, bindingStates, clipping);\n\t\t\tmaterials = new WebGLMaterials(_this, properties);\n\t\t\trenderLists = new WebGLRenderLists();\n\t\t\trenderStates = new WebGLRenderStates(extensions, capabilities);\n\t\t\tbackground = new WebGLBackground(_this, cubemaps, state, objects, _alpha, _premultipliedAlpha);\n\t\t\tshadowMap = new WebGLShadowMap(_this, objects, capabilities);\n\t\t\tbufferRenderer = new WebGLBufferRenderer(_gl, extensions, info, capabilities);\n\t\t\tindexedBufferRenderer = new WebGLIndexedBufferRenderer(_gl, extensions, info, capabilities);\n\t\t\tinfo.programs = programCache.programs;\n\t\t\t_this.capabilities = capabilities;\n\t\t\t_this.extensions = extensions;\n\t\t\t_this.properties = properties;\n\t\t\t_this.renderLists = renderLists;\n\t\t\t_this.shadowMap = shadowMap;\n\t\t\t_this.state = state;\n\t\t\t_this.info = info;\n\t\t}\n\n\t\tinitGLContext(); // xr\n\n\t\tconst xr = new WebXRManager(_this, _gl);\n\t\tthis.xr = xr; // API\n\n\t\tthis.getContext = function () {\n\t\t\treturn _gl;\n\t\t};\n\n\t\tthis.getContextAttributes = function () {\n\t\t\treturn _gl.getContextAttributes();\n\t\t};\n\n\t\tthis.forceContextLoss = function () {\n\t\t\tconst extension = extensions.get('WEBGL_lose_context');\n\t\t\tif (extension) extension.loseContext();\n\t\t};\n\n\t\tthis.forceContextRestore = function () {\n\t\t\tconst extension = extensions.get('WEBGL_lose_context');\n\t\t\tif (extension) extension.restoreContext();\n\t\t};\n\n\t\tthis.getPixelRatio = function () {\n\t\t\treturn _pixelRatio;\n\t\t};\n\n\t\tthis.setPixelRatio = function (value) {\n\t\t\tif (value === undefined) return;\n\t\t\t_pixelRatio = value;\n\t\t\tthis.setSize(_width, _height, false);\n\t\t};\n\n\t\tthis.getSize = function (target) {\n\t\t\treturn target.set(_width, _height);\n\t\t};\n\n\t\tthis.setSize = function (width, height, updateStyle) {\n\t\t\tif (xr.isPresenting) {\n\t\t\t\tconsole.warn('THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_width = width;\n\t\t\t_height = height;\n\t\t\t_canvas.width = Math.floor(width * _pixelRatio);\n\t\t\t_canvas.height = Math.floor(height * _pixelRatio);\n\n\t\t\tif (updateStyle !== false) {\n\t\t\t\t_canvas.style.width = width + 'px';\n\t\t\t\t_canvas.style.height = height + 'px';\n\t\t\t}\n\n\t\t\tthis.setViewport(0, 0, width, height);\n\t\t};\n\n\t\tthis.getDrawingBufferSize = function (target) {\n\t\t\treturn target.set(_width * _pixelRatio, _height * _pixelRatio).floor();\n\t\t};\n\n\t\tthis.setDrawingBufferSize = function (width, height, pixelRatio) {\n\t\t\t_width = width;\n\t\t\t_height = height;\n\t\t\t_pixelRatio = pixelRatio;\n\t\t\t_canvas.width = Math.floor(width * pixelRatio);\n\t\t\t_canvas.height = Math.floor(height * pixelRatio);\n\t\t\tthis.setViewport(0, 0, width, height);\n\t\t};\n\n\t\tthis.getCurrentViewport = function (target) {\n\t\t\treturn target.copy(_currentViewport);\n\t\t};\n\n\t\tthis.getViewport = function (target) {\n\t\t\treturn target.copy(_viewport);\n\t\t};\n\n\t\tthis.setViewport = function (x, y, width, height) {\n\t\t\tif (x.isVector4) {\n\t\t\t\t_viewport.set(x.x, x.y, x.z, x.w);\n\t\t\t} else {\n\t\t\t\t_viewport.set(x, y, width, height);\n\t\t\t}\n\n\t\t\tstate.viewport(_currentViewport.copy(_viewport).multiplyScalar(_pixelRatio).floor());\n\t\t};\n\n\t\tthis.getScissor = function (target) {\n\t\t\treturn target.copy(_scissor);\n\t\t};\n\n\t\tthis.setScissor = function (x, y, width, height) {\n\t\t\tif (x.isVector4) {\n\t\t\t\t_scissor.set(x.x, x.y, x.z, x.w);\n\t\t\t} else {\n\t\t\t\t_scissor.set(x, y, width, height);\n\t\t\t}\n\n\t\t\tstate.scissor(_currentScissor.copy(_scissor).multiplyScalar(_pixelRatio).floor());\n\t\t};\n\n\t\tthis.getScissorTest = function () {\n\t\t\treturn _scissorTest;\n\t\t};\n\n\t\tthis.setScissorTest = function (boolean) {\n\t\t\tstate.setScissorTest(_scissorTest = boolean);\n\t\t};\n\n\t\tthis.setOpaqueSort = function (method) {\n\t\t\t_opaqueSort = method;\n\t\t};\n\n\t\tthis.setTransparentSort = function (method) {\n\t\t\t_transparentSort = method;\n\t\t}; // Clearing\n\n\n\t\tthis.getClearColor = function (target) {\n\t\t\treturn target.copy(background.getClearColor());\n\t\t};\n\n\t\tthis.setClearColor = function () {\n\t\t\tbackground.setClearColor.apply(background, arguments);\n\t\t};\n\n\t\tthis.getClearAlpha = function () {\n\t\t\treturn background.getClearAlpha();\n\t\t};\n\n\t\tthis.setClearAlpha = function () {\n\t\t\tbackground.setClearAlpha.apply(background, arguments);\n\t\t};\n\n\t\tthis.clear = function (color = true, depth = true, stencil = true) {\n\t\t\tlet bits = 0;\n\t\t\tif (color) bits |= _gl.COLOR_BUFFER_BIT;\n\t\t\tif (depth) bits |= _gl.DEPTH_BUFFER_BIT;\n\t\t\tif (stencil) bits |= _gl.STENCIL_BUFFER_BIT;\n\n\t\t\t_gl.clear(bits);\n\t\t};\n\n\t\tthis.clearColor = function () {\n\t\t\tthis.clear(true, false, false);\n\t\t};\n\n\t\tthis.clearDepth = function () {\n\t\t\tthis.clear(false, true, false);\n\t\t};\n\n\t\tthis.clearStencil = function () {\n\t\t\tthis.clear(false, false, true);\n\t\t}; //\n\n\n\t\tthis.dispose = function () {\n\t\t\t_canvas.removeEventListener('webglcontextlost', onContextLost, false);\n\n\t\t\t_canvas.removeEventListener('webglcontextrestored', onContextRestore, false);\n\n\t\t\t_canvas.removeEventListener('webglcontextcreationerror', onContextCreationError, false);\n\n\t\t\trenderLists.dispose();\n\t\t\trenderStates.dispose();\n\t\t\tproperties.dispose();\n\t\t\tcubemaps.dispose();\n\t\t\tcubeuvmaps.dispose();\n\t\t\tobjects.dispose();\n\t\t\tbindingStates.dispose();\n\t\t\tprogramCache.dispose();\n\t\t\txr.dispose();\n\t\t\txr.removeEventListener('sessionstart', onXRSessionStart);\n\t\t\txr.removeEventListener('sessionend', onXRSessionEnd);\n\n\t\t\tif (_transmissionRenderTarget) {\n\t\t\t\t_transmissionRenderTarget.dispose();\n\n\t\t\t\t_transmissionRenderTarget = null;\n\t\t\t}\n\n\t\t\tanimation.stop();\n\t\t}; // Events\n\n\n\t\tfunction onContextLost(event) {\n\t\t\tevent.preventDefault();\n\t\t\tconsole.log('THREE.WebGLRenderer: Context Lost.');\n\t\t\t_isContextLost = true;\n\t\t}\n\n\t\tfunction\n\t\t\t/* event */\n\t\tonContextRestore() {\n\t\t\tconsole.log('THREE.WebGLRenderer: Context Restored.');\n\t\t\t_isContextLost = false;\n\t\t\tconst infoAutoReset = info.autoReset;\n\t\t\tconst shadowMapEnabled = shadowMap.enabled;\n\t\t\tconst shadowMapAutoUpdate = shadowMap.autoUpdate;\n\t\t\tconst shadowMapNeedsUpdate = shadowMap.needsUpdate;\n\t\t\tconst shadowMapType = shadowMap.type;\n\t\t\tinitGLContext();\n\t\t\tinfo.autoReset = infoAutoReset;\n\t\t\tshadowMap.enabled = shadowMapEnabled;\n\t\t\tshadowMap.autoUpdate = shadowMapAutoUpdate;\n\t\t\tshadowMap.needsUpdate = shadowMapNeedsUpdate;\n\t\t\tshadowMap.type = shadowMapType;\n\t\t}\n\n\t\tfunction onContextCreationError(event) {\n\t\t\tconsole.error('THREE.WebGLRenderer: A WebGL context could not be created. Reason: ', event.statusMessage);\n\t\t}\n\n\t\tfunction onMaterialDispose(event) {\n\t\t\tconst material = event.target;\n\t\t\tmaterial.removeEventListener('dispose', onMaterialDispose);\n\t\t\tdeallocateMaterial(material);\n\t\t} // Buffer deallocation\n\n\n\t\tfunction deallocateMaterial(material) {\n\t\t\treleaseMaterialProgramReferences(material);\n\t\t\tproperties.remove(material);\n\t\t}\n\n\t\tfunction releaseMaterialProgramReferences(material) {\n\t\t\tconst programs = properties.get(material).programs;\n\n\t\t\tif (programs !== undefined) {\n\t\t\t\tprograms.forEach(function (program) {\n\t\t\t\t\tprogramCache.releaseProgram(program);\n\t\t\t\t});\n\n\t\t\t\tif (material.isShaderMaterial) {\n\t\t\t\t\tprogramCache.releaseShaderCache(material);\n\t\t\t\t}\n\t\t\t}\n\t\t} // Buffer rendering\n\n\n\t\tthis.renderBufferDirect = function (camera, scene, geometry, material, object, group) {\n\t\t\tif (scene === null) scene = _emptyScene; // renderBufferDirect second parameter used to be fog (could be null)\n\n\t\t\tconst frontFaceCW = object.isMesh && object.matrixWorld.determinant() < 0;\n\t\t\tconst program = setProgram(camera, scene, geometry, material, object);\n\t\t\tstate.setMaterial(material, frontFaceCW); //\n\n\t\t\tlet index = geometry.index;\n\t\t\tconst position = geometry.attributes.position; //\n\n\t\t\tif (index === null) {\n\t\t\t\tif (position === undefined || position.count === 0) return;\n\t\t\t} else if (index.count === 0) {\n\t\t\t\treturn;\n\t\t\t} //\n\n\n\t\t\tlet rangeFactor = 1;\n\n\t\t\tif (material.wireframe === true) {\n\t\t\t\tindex = geometries.getWireframeAttribute(geometry);\n\t\t\t\trangeFactor = 2;\n\t\t\t}\n\n\t\t\tbindingStates.setup(object, material, program, geometry, index);\n\t\t\tlet attribute;\n\t\t\tlet renderer = bufferRenderer;\n\n\t\t\tif (index !== null) {\n\t\t\t\tattribute = attributes.get(index);\n\t\t\t\trenderer = indexedBufferRenderer;\n\t\t\t\trenderer.setIndex(attribute);\n\t\t\t} //\n\n\n\t\t\tconst dataCount = index !== null ? index.count : position.count;\n\t\t\tconst rangeStart = geometry.drawRange.start * rangeFactor;\n\t\t\tconst rangeCount = geometry.drawRange.count * rangeFactor;\n\t\t\tconst groupStart = group !== null ? group.start * rangeFactor : 0;\n\t\t\tconst groupCount = group !== null ? group.count * rangeFactor : Infinity;\n\t\t\tconst drawStart = Math.max(rangeStart, groupStart);\n\t\t\tconst drawEnd = Math.min(dataCount, rangeStart + rangeCount, groupStart + groupCount) - 1;\n\t\t\tconst drawCount = Math.max(0, drawEnd - drawStart + 1);\n\t\t\tif (drawCount === 0) return; //\n\n\t\t\tif (object.isMesh) {\n\t\t\t\tif (material.wireframe === true) {\n\t\t\t\t\tstate.setLineWidth(material.wireframeLinewidth * getTargetPixelRatio());\n\t\t\t\t\trenderer.setMode(_gl.LINES);\n\t\t\t\t} else {\n\t\t\t\t\trenderer.setMode(_gl.TRIANGLES);\n\t\t\t\t}\n\t\t\t} else if (object.isLine) {\n\t\t\t\tlet lineWidth = material.linewidth;\n\t\t\t\tif (lineWidth === undefined) lineWidth = 1; // Not using Line*Material\n\n\t\t\t\tstate.setLineWidth(lineWidth * getTargetPixelRatio());\n\n\t\t\t\tif (object.isLineSegments) {\n\t\t\t\t\trenderer.setMode(_gl.LINES);\n\t\t\t\t} else if (object.isLineLoop) {\n\t\t\t\t\trenderer.setMode(_gl.LINE_LOOP);\n\t\t\t\t} else {\n\t\t\t\t\trenderer.setMode(_gl.LINE_STRIP);\n\t\t\t\t}\n\t\t\t} else if (object.isPoints) {\n\t\t\t\trenderer.setMode(_gl.POINTS);\n\t\t\t} else if (object.isSprite) {\n\t\t\t\trenderer.setMode(_gl.TRIANGLES);\n\t\t\t}\n\n\t\t\tif (object.isInstancedMesh) {\n\t\t\t\trenderer.renderInstances(drawStart, drawCount, object.count);\n\t\t\t} else if (geometry.isInstancedBufferGeometry) {\n\t\t\t\tconst instanceCount = Math.min(geometry.instanceCount, geometry._maxInstanceCount);\n\t\t\t\trenderer.renderInstances(drawStart, drawCount, instanceCount);\n\t\t\t} else {\n\t\t\t\trenderer.render(drawStart, drawCount);\n\t\t\t}\n\t\t}; // Compile\n\n\n\t\tthis.compile = function (scene, camera) {\n\t\t\tcurrentRenderState = renderStates.get(scene);\n\t\t\tcurrentRenderState.init();\n\t\t\trenderStateStack.push(currentRenderState);\n\t\t\tscene.traverseVisible(function (object) {\n\t\t\t\tif (object.isLight && object.layers.test(camera.layers)) {\n\t\t\t\t\tcurrentRenderState.pushLight(object);\n\n\t\t\t\t\tif (object.castShadow) {\n\t\t\t\t\t\tcurrentRenderState.pushShadow(object);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tcurrentRenderState.setupLights(_this.physicallyCorrectLights);\n\t\t\tscene.traverse(function (object) {\n\t\t\t\tconst material = object.material;\n\n\t\t\t\tif (material) {\n\t\t\t\t\tif (Array.isArray(material)) {\n\t\t\t\t\t\tfor (let i = 0; i < material.length; i++) {\n\t\t\t\t\t\t\tconst material2 = material[i];\n\t\t\t\t\t\t\tgetProgram(material2, scene, object);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgetProgram(material, scene, object);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\trenderStateStack.pop();\n\t\t\tcurrentRenderState = null;\n\t\t}; // Animation Loop\n\n\n\t\tlet onAnimationFrameCallback = null;\n\n\t\tfunction onAnimationFrame(time) {\n\t\t\tif (onAnimationFrameCallback) onAnimationFrameCallback(time);\n\t\t}\n\n\t\tfunction onXRSessionStart() {\n\t\t\tanimation.stop();\n\t\t}\n\n\t\tfunction onXRSessionEnd() {\n\t\t\tanimation.start();\n\t\t}\n\n\t\tconst animation = new WebGLAnimation();\n\t\tanimation.setAnimationLoop(onAnimationFrame);\n\t\tif (typeof self !== 'undefined') animation.setContext(self);\n\n\t\tthis.setAnimationLoop = function (callback) {\n\t\t\tonAnimationFrameCallback = callback;\n\t\t\txr.setAnimationLoop(callback);\n\t\t\tcallback === null ? animation.stop() : animation.start();\n\t\t};\n\n\t\txr.addEventListener('sessionstart', onXRSessionStart);\n\t\txr.addEventListener('sessionend', onXRSessionEnd); // Rendering\n\n\t\tthis.render = function (scene, camera) {\n\t\t\tif (camera !== undefined && camera.isCamera !== true) {\n\t\t\t\tconsole.error('THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (_isContextLost === true) return; // update scene graph\n\n\t\t\tif (scene.autoUpdate === true) scene.updateMatrixWorld(); // update camera matrices and frustum\n\n\t\t\tif (camera.parent === null) camera.updateMatrixWorld();\n\n\t\t\tif (xr.enabled === true && xr.isPresenting === true) {\n\t\t\t\tif (xr.cameraAutoUpdate === true) xr.updateCamera(camera);\n\t\t\t\tcamera = xr.getCamera(); // use XR camera for rendering\n\t\t\t} //\n\n\n\t\t\tif (scene.isScene === true) scene.onBeforeRender(_this, scene, camera, _currentRenderTarget);\n\t\t\tcurrentRenderState = renderStates.get(scene, renderStateStack.length);\n\t\t\tcurrentRenderState.init();\n\t\t\trenderStateStack.push(currentRenderState);\n\n\t\t\t_projScreenMatrix.multiplyMatrices(camera.projectionMatrix, camera.matrixWorldInverse);\n\n\t\t\t_frustum.setFromProjectionMatrix(_projScreenMatrix);\n\n\t\t\t_localClippingEnabled = this.localClippingEnabled;\n\t\t\t_clippingEnabled = clipping.init(this.clippingPlanes, _localClippingEnabled, camera);\n\t\t\tcurrentRenderList = renderLists.get(scene, renderListStack.length);\n\t\t\tcurrentRenderList.init();\n\t\t\trenderListStack.push(currentRenderList);\n\t\t\tprojectObject(scene, camera, 0, _this.sortObjects);\n\t\t\tcurrentRenderList.finish();\n\n\t\t\tif (_this.sortObjects === true) {\n\t\t\t\tcurrentRenderList.sort(_opaqueSort, _transparentSort);\n\t\t\t} //\n\n\n\t\t\tif (_clippingEnabled === true) clipping.beginShadows();\n\t\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\t\t\tshadowMap.render(shadowsArray, scene, camera);\n\t\t\tif (_clippingEnabled === true) clipping.endShadows(); //\n\n\t\t\tif (this.info.autoReset === true) this.info.reset(); //\n\n\t\t\tbackground.render(currentRenderList, scene); // render scene\n\n\t\t\tcurrentRenderState.setupLights(_this.physicallyCorrectLights);\n\n\t\t\tif (camera.isArrayCamera) {\n\t\t\t\tconst cameras = camera.cameras;\n\n\t\t\t\tfor (let i = 0, l = cameras.length; i < l; i++) {\n\t\t\t\t\tconst camera2 = cameras[i];\n\t\t\t\t\trenderScene(currentRenderList, scene, camera2, camera2.viewport);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\trenderScene(currentRenderList, scene, camera);\n\t\t\t} //\n\n\n\t\t\tif (_currentRenderTarget !== null) {\n\t\t\t\t// resolve multisample renderbuffers to a single-sample texture if necessary\n\t\t\t\ttextures.updateMultisampleRenderTarget(_currentRenderTarget); // Generate mipmap if we're using any kind of mipmap filtering\n\n\t\t\t\ttextures.updateRenderTargetMipmap(_currentRenderTarget);\n\t\t\t} //\n\n\n\t\t\tif (scene.isScene === true) scene.onAfterRender(_this, scene, camera); // _gl.finish();\n\n\t\t\tbindingStates.resetDefaultState();\n\t\t\t_currentMaterialId = -1;\n\t\t\t_currentCamera = null;\n\t\t\trenderStateStack.pop();\n\n\t\t\tif (renderStateStack.length > 0) {\n\t\t\t\tcurrentRenderState = renderStateStack[renderStateStack.length - 1];\n\t\t\t} else {\n\t\t\t\tcurrentRenderState = null;\n\t\t\t}\n\n\t\t\trenderListStack.pop();\n\n\t\t\tif (renderListStack.length > 0) {\n\t\t\t\tcurrentRenderList = renderListStack[renderListStack.length - 1];\n\t\t\t} else {\n\t\t\t\tcurrentRenderList = null;\n\t\t\t}\n\t\t};\n\n\t\tfunction projectObject(object, camera, groupOrder, sortObjects) {\n\t\t\tif (object.visible === false) return;\n\t\t\tconst visible = object.layers.test(camera.layers);\n\n\t\t\tif (visible) {\n\t\t\t\tif (object.isGroup) {\n\t\t\t\t\tgroupOrder = object.renderOrder;\n\t\t\t\t} else if (object.isLOD) {\n\t\t\t\t\tif (object.autoUpdate === true) object.update(camera);\n\t\t\t\t} else if (object.isLight) {\n\t\t\t\t\tcurrentRenderState.pushLight(object);\n\n\t\t\t\t\tif (object.castShadow) {\n\t\t\t\t\t\tcurrentRenderState.pushShadow(object);\n\t\t\t\t\t}\n\t\t\t\t} else if (object.isSprite) {\n\t\t\t\t\tif (!object.frustumCulled || _frustum.intersectsSprite(object)) {\n\t\t\t\t\t\tif (sortObjects) {\n\t\t\t\t\t\t\t_vector3.setFromMatrixPosition(object.matrixWorld).applyMatrix4(_projScreenMatrix);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst geometry = objects.update(object);\n\t\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\t\tif (material.visible) {\n\t\t\t\t\t\t\tcurrentRenderList.push(object, geometry, material, groupOrder, _vector3.z, null);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (object.isMesh || object.isLine || object.isPoints) {\n\t\t\t\t\tif (object.isSkinnedMesh) {\n\t\t\t\t\t\t// update skeleton only once in a frame\n\t\t\t\t\t\tif (object.skeleton.frame !== info.render.frame) {\n\t\t\t\t\t\t\tobject.skeleton.update();\n\t\t\t\t\t\t\tobject.skeleton.frame = info.render.frame;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!object.frustumCulled || _frustum.intersectsObject(object)) {\n\t\t\t\t\t\tif (sortObjects) {\n\t\t\t\t\t\t\t_vector3.setFromMatrixPosition(object.matrixWorld).applyMatrix4(_projScreenMatrix);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst geometry = objects.update(object);\n\t\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\t\tif (Array.isArray(material)) {\n\t\t\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\t\t\tfor (let i = 0, l = groups.length; i < l; i++) {\n\t\t\t\t\t\t\t\tconst group = groups[i];\n\t\t\t\t\t\t\t\tconst groupMaterial = material[group.materialIndex];\n\n\t\t\t\t\t\t\t\tif (groupMaterial && groupMaterial.visible) {\n\t\t\t\t\t\t\t\t\tcurrentRenderList.push(object, geometry, groupMaterial, groupOrder, _vector3.z, group);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (material.visible) {\n\t\t\t\t\t\t\tcurrentRenderList.push(object, geometry, material, groupOrder, _vector3.z, null);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst children = object.children;\n\n\t\t\tfor (let i = 0, l = children.length; i < l; i++) {\n\t\t\t\tprojectObject(children[i], camera, groupOrder, sortObjects);\n\t\t\t}\n\t\t}\n\n\t\tfunction renderScene(currentRenderList, scene, camera, viewport) {\n\t\t\tconst opaqueObjects = currentRenderList.opaque;\n\t\t\tconst transmissiveObjects = currentRenderList.transmissive;\n\t\t\tconst transparentObjects = currentRenderList.transparent;\n\t\t\tcurrentRenderState.setupLightsView(camera);\n\t\t\tif (transmissiveObjects.length > 0) renderTransmissionPass(opaqueObjects, scene, camera);\n\t\t\tif (viewport) state.viewport(_currentViewport.copy(viewport));\n\t\t\tif (opaqueObjects.length > 0) renderObjects(opaqueObjects, scene, camera);\n\t\t\tif (transmissiveObjects.length > 0) renderObjects(transmissiveObjects, scene, camera);\n\t\t\tif (transparentObjects.length > 0) renderObjects(transparentObjects, scene, camera); // Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\t\t\tstate.buffers.depth.setTest(true);\n\t\t\tstate.buffers.depth.setMask(true);\n\t\t\tstate.buffers.color.setMask(true);\n\t\t\tstate.setPolygonOffset(false);\n\t\t}\n\n\t\tfunction renderTransmissionPass(opaqueObjects, scene, camera) {\n\t\t\tconst isWebGL2 = capabilities.isWebGL2;\n\n\t\t\tif (_transmissionRenderTarget === null) {\n\t\t\t\t_transmissionRenderTarget = new WebGLRenderTarget(1, 1, {\n\t\t\t\t\tgenerateMipmaps: true,\n\t\t\t\t\ttype: extensions.has('EXT_color_buffer_half_float') ? HalfFloatType : UnsignedByteType,\n\t\t\t\t\tminFilter: LinearMipmapLinearFilter,\n\t\t\t\t\tsamples: isWebGL2 && _antialias === true ? 4 : 0\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t_this.getDrawingBufferSize(_vector2);\n\n\t\t\tif (isWebGL2) {\n\t\t\t\t_transmissionRenderTarget.setSize(_vector2.x, _vector2.y);\n\t\t\t} else {\n\t\t\t\t_transmissionRenderTarget.setSize(floorPowerOfTwo(_vector2.x), floorPowerOfTwo(_vector2.y));\n\t\t\t} //\n\n\n\t\t\tconst currentRenderTarget = _this.getRenderTarget();\n\n\t\t\t_this.setRenderTarget(_transmissionRenderTarget);\n\n\t\t\t_this.clear(); // Turn off the features which can affect the frag color for opaque objects pass.\n\t\t\t// Otherwise they are applied twice in opaque objects pass and transmission objects pass.\n\n\n\t\t\tconst currentToneMapping = _this.toneMapping;\n\t\t\t_this.toneMapping = NoToneMapping;\n\t\t\trenderObjects(opaqueObjects, scene, camera);\n\t\t\t_this.toneMapping = currentToneMapping;\n\t\t\ttextures.updateMultisampleRenderTarget(_transmissionRenderTarget);\n\t\t\ttextures.updateRenderTargetMipmap(_transmissionRenderTarget);\n\n\t\t\t_this.setRenderTarget(currentRenderTarget);\n\t\t}\n\n\t\tfunction renderObjects(renderList, scene, camera) {\n\t\t\tconst overrideMaterial = scene.isScene === true ? scene.overrideMaterial : null;\n\n\t\t\tfor (let i = 0, l = renderList.length; i < l; i++) {\n\t\t\t\tconst renderItem = renderList[i];\n\t\t\t\tconst object = renderItem.object;\n\t\t\t\tconst geometry = renderItem.geometry;\n\t\t\t\tconst material = overrideMaterial === null ? renderItem.material : overrideMaterial;\n\t\t\t\tconst group = renderItem.group;\n\n\t\t\t\tif (object.layers.test(camera.layers)) {\n\t\t\t\t\trenderObject(object, scene, camera, geometry, material, group);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction renderObject(object, scene, camera, geometry, material, group) {\n\t\t\tobject.onBeforeRender(_this, scene, camera, geometry, material, group);\n\t\t\tobject.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse, object.matrixWorld);\n\t\t\tobject.normalMatrix.getNormalMatrix(object.modelViewMatrix);\n\t\t\tmaterial.onBeforeRender(_this, scene, camera, geometry, object, group);\n\n\t\t\tif (material.transparent === true && material.side === DoubleSide) {\n\t\t\t\tmaterial.side = BackSide;\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t\t_this.renderBufferDirect(camera, scene, geometry, material, object, group);\n\n\t\t\t\tmaterial.side = FrontSide;\n\t\t\t\tmaterial.needsUpdate = true;\n\n\t\t\t\t_this.renderBufferDirect(camera, scene, geometry, material, object, group);\n\n\t\t\t\tmaterial.side = DoubleSide;\n\t\t\t} else {\n\t\t\t\t_this.renderBufferDirect(camera, scene, geometry, material, object, group);\n\t\t\t}\n\n\t\t\tobject.onAfterRender(_this, scene, camera, geometry, material, group);\n\t\t}\n\n\t\tfunction getProgram(material, scene, object) {\n\t\t\tif (scene.isScene !== true) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\t\tconst materialProperties = properties.get(material);\n\t\t\tconst lights = currentRenderState.state.lights;\n\t\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\t\t\tconst lightsStateVersion = lights.state.version;\n\t\t\tconst parameters = programCache.getParameters(material, lights.state, shadowsArray, scene, object);\n\t\t\tconst programCacheKey = programCache.getProgramCacheKey(parameters);\n\t\t\tlet programs = materialProperties.programs; // always update environment and fog - changing these trigger an getProgram call, but it's possible that the program doesn't change\n\n\t\t\tmaterialProperties.environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\t\tmaterialProperties.fog = scene.fog;\n\t\t\tmaterialProperties.envMap = (material.isMeshStandardMaterial ? cubeuvmaps : cubemaps).get(material.envMap || materialProperties.environment);\n\n\t\t\tif (programs === undefined) {\n\t\t\t\t// new material\n\t\t\t\tmaterial.addEventListener('dispose', onMaterialDispose);\n\t\t\t\tprograms = new Map();\n\t\t\t\tmaterialProperties.programs = programs;\n\t\t\t}\n\n\t\t\tlet program = programs.get(programCacheKey);\n\n\t\t\tif (program !== undefined) {\n\t\t\t\t// early out if program and light state is identical\n\t\t\t\tif (materialProperties.currentProgram === program && materialProperties.lightsStateVersion === lightsStateVersion) {\n\t\t\t\t\tupdateCommonMaterialProperties(material, parameters);\n\t\t\t\t\treturn program;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tparameters.uniforms = programCache.getUniforms(material);\n\t\t\t\tmaterial.onBuild(object, parameters, _this);\n\t\t\t\tmaterial.onBeforeCompile(parameters, _this);\n\t\t\t\tprogram = programCache.acquireProgram(parameters, programCacheKey);\n\t\t\t\tprograms.set(programCacheKey, program);\n\t\t\t\tmaterialProperties.uniforms = parameters.uniforms;\n\t\t\t}\n\n\t\t\tconst uniforms = materialProperties.uniforms;\n\n\t\t\tif (!material.isShaderMaterial && !material.isRawShaderMaterial || material.clipping === true) {\n\t\t\t\tuniforms.clippingPlanes = clipping.uniform;\n\t\t\t}\n\n\t\t\tupdateCommonMaterialProperties(material, parameters); // store the light setup it was created for\n\n\t\t\tmaterialProperties.needsLights = materialNeedsLights(material);\n\t\t\tmaterialProperties.lightsStateVersion = lightsStateVersion;\n\n\t\t\tif (materialProperties.needsLights) {\n\t\t\t\t// wire up the material to this renderer's lighting state\n\t\t\t\tuniforms.ambientLightColor.value = lights.state.ambient;\n\t\t\t\tuniforms.lightProbe.value = lights.state.probe;\n\t\t\t\tuniforms.directionalLights.value = lights.state.directional;\n\t\t\t\tuniforms.directionalLightShadows.value = lights.state.directionalShadow;\n\t\t\t\tuniforms.spotLights.value = lights.state.spot;\n\t\t\t\tuniforms.spotLightShadows.value = lights.state.spotShadow;\n\t\t\t\tuniforms.rectAreaLights.value = lights.state.rectArea;\n\t\t\t\tuniforms.ltc_1.value = lights.state.rectAreaLTC1;\n\t\t\t\tuniforms.ltc_2.value = lights.state.rectAreaLTC2;\n\t\t\t\tuniforms.pointLights.value = lights.state.point;\n\t\t\t\tuniforms.pointLightShadows.value = lights.state.pointShadow;\n\t\t\t\tuniforms.hemisphereLights.value = lights.state.hemi;\n\t\t\t\tuniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n\t\t\t\tuniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n\t\t\t\tuniforms.spotShadowMap.value = lights.state.spotShadowMap;\n\t\t\t\tuniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n\t\t\t\tuniforms.pointShadowMap.value = lights.state.pointShadowMap;\n\t\t\t\tuniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix; // TODO (abelnation): add area lights shadow info to uniforms\n\t\t\t}\n\n\t\t\tconst progUniforms = program.getUniforms();\n\t\t\tconst uniformsList = WebGLUniforms.seqWithValue(progUniforms.seq, uniforms);\n\t\t\tmaterialProperties.currentProgram = program;\n\t\t\tmaterialProperties.uniformsList = uniformsList;\n\t\t\treturn program;\n\t\t}\n\n\t\tfunction updateCommonMaterialProperties(material, parameters) {\n\t\t\tconst materialProperties = properties.get(material);\n\t\t\tmaterialProperties.outputEncoding = parameters.outputEncoding;\n\t\t\tmaterialProperties.instancing = parameters.instancing;\n\t\t\tmaterialProperties.skinning = parameters.skinning;\n\t\t\tmaterialProperties.morphTargets = parameters.morphTargets;\n\t\t\tmaterialProperties.morphNormals = parameters.morphNormals;\n\t\t\tmaterialProperties.morphColors = parameters.morphColors;\n\t\t\tmaterialProperties.morphTargetsCount = parameters.morphTargetsCount;\n\t\t\tmaterialProperties.numClippingPlanes = parameters.numClippingPlanes;\n\t\t\tmaterialProperties.numIntersection = parameters.numClipIntersection;\n\t\t\tmaterialProperties.vertexAlphas = parameters.vertexAlphas;\n\t\t\tmaterialProperties.vertexTangents = parameters.vertexTangents;\n\t\t\tmaterialProperties.toneMapping = parameters.toneMapping;\n\t\t}\n\n\t\tfunction setProgram(camera, scene, geometry, material, object) {\n\t\t\tif (scene.isScene !== true) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\t\ttextures.resetTextureUnits();\n\t\t\tconst fog = scene.fog;\n\t\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\t\tconst encoding = _currentRenderTarget === null ? _this.outputEncoding : _currentRenderTarget.isXRRenderTarget === true ? _currentRenderTarget.texture.encoding : LinearEncoding;\n\t\t\tconst envMap = (material.isMeshStandardMaterial ? cubeuvmaps : cubemaps).get(material.envMap || environment);\n\t\t\tconst vertexAlphas = material.vertexColors === true && !!geometry.attributes.color && geometry.attributes.color.itemSize === 4;\n\t\t\tconst vertexTangents = !!material.normalMap && !!geometry.attributes.tangent;\n\t\t\tconst morphTargets = !!geometry.morphAttributes.position;\n\t\t\tconst morphNormals = !!geometry.morphAttributes.normal;\n\t\t\tconst morphColors = !!geometry.morphAttributes.color;\n\t\t\tconst toneMapping = material.toneMapped ? _this.toneMapping : NoToneMapping;\n\t\t\tconst morphAttribute = geometry.morphAttributes.position || geometry.morphAttributes.normal || geometry.morphAttributes.color;\n\t\t\tconst morphTargetsCount = morphAttribute !== undefined ? morphAttribute.length : 0;\n\t\t\tconst materialProperties = properties.get(material);\n\t\t\tconst lights = currentRenderState.state.lights;\n\n\t\t\tif (_clippingEnabled === true) {\n\t\t\t\tif (_localClippingEnabled === true || camera !== _currentCamera) {\n\t\t\t\t\tconst useCache = camera === _currentCamera && material.id === _currentMaterialId; // we might want to call this function with some ClippingGroup\n\t\t\t\t\t// object instead of the material, once it becomes feasible\n\t\t\t\t\t// (#8465, #8379)\n\n\t\t\t\t\tclipping.setState(material, camera, useCache);\n\t\t\t\t}\n\t\t\t} //\n\n\n\t\t\tlet needsProgramChange = false;\n\n\t\t\tif (material.version === materialProperties.__version) {\n\t\t\t\tif (materialProperties.needsLights && materialProperties.lightsStateVersion !== lights.state.version) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (materialProperties.outputEncoding !== encoding) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (object.isInstancedMesh && materialProperties.instancing === false) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (!object.isInstancedMesh && materialProperties.instancing === true) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (object.isSkinnedMesh && materialProperties.skinning === false) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (!object.isSkinnedMesh && materialProperties.skinning === true) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (materialProperties.envMap !== envMap) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (material.fog === true && materialProperties.fog !== fog) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (materialProperties.numClippingPlanes !== undefined && (materialProperties.numClippingPlanes !== clipping.numPlanes || materialProperties.numIntersection !== clipping.numIntersection)) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (materialProperties.vertexAlphas !== vertexAlphas) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (materialProperties.vertexTangents !== vertexTangents) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (materialProperties.morphTargets !== morphTargets) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (materialProperties.morphNormals !== morphNormals) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (materialProperties.morphColors !== morphColors) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (materialProperties.toneMapping !== toneMapping) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t} else if (capabilities.isWebGL2 === true && materialProperties.morphTargetsCount !== morphTargetsCount) {\n\t\t\t\t\tneedsProgramChange = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tneedsProgramChange = true;\n\t\t\t\tmaterialProperties.__version = material.version;\n\t\t\t} //\n\n\n\t\t\tlet program = materialProperties.currentProgram;\n\n\t\t\tif (needsProgramChange === true) {\n\t\t\t\tprogram = getProgram(material, scene, object);\n\t\t\t}\n\n\t\t\tlet refreshProgram = false;\n\t\t\tlet refreshMaterial = false;\n\t\t\tlet refreshLights = false;\n\t\t\tconst p_uniforms = program.getUniforms(),\n\t\t\t\t\t\tm_uniforms = materialProperties.uniforms;\n\n\t\t\tif (state.useProgram(program.program)) {\n\t\t\t\trefreshProgram = true;\n\t\t\t\trefreshMaterial = true;\n\t\t\t\trefreshLights = true;\n\t\t\t}\n\n\t\t\tif (material.id !== _currentMaterialId) {\n\t\t\t\t_currentMaterialId = material.id;\n\t\t\t\trefreshMaterial = true;\n\t\t\t}\n\n\t\t\tif (refreshProgram || _currentCamera !== camera) {\n\t\t\t\tp_uniforms.setValue(_gl, 'projectionMatrix', camera.projectionMatrix);\n\n\t\t\t\tif (capabilities.logarithmicDepthBuffer) {\n\t\t\t\t\tp_uniforms.setValue(_gl, 'logDepthBufFC', 2.0 / (Math.log(camera.far + 1.0) / Math.LN2));\n\t\t\t\t}\n\n\t\t\t\tif (_currentCamera !== camera) {\n\t\t\t\t\t_currentCamera = camera; // lighting uniforms depend on the camera so enforce an update\n\t\t\t\t\t// now, in case this material supports lights - or later, when\n\t\t\t\t\t// the next material that does gets activated:\n\n\t\t\t\t\trefreshMaterial = true; // set to true on material change\n\n\t\t\t\t\trefreshLights = true; // remains set until update done\n\t\t\t\t} // load material specific uniforms\n\t\t\t\t// (shader material also gets them for the sake of genericity)\n\n\n\t\t\t\tif (material.isShaderMaterial || material.isMeshPhongMaterial || material.isMeshToonMaterial || material.isMeshStandardMaterial || material.envMap) {\n\t\t\t\t\tconst uCamPos = p_uniforms.map.cameraPosition;\n\n\t\t\t\t\tif (uCamPos !== undefined) {\n\t\t\t\t\t\tuCamPos.setValue(_gl, _vector3.setFromMatrixPosition(camera.matrixWorld));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (material.isMeshPhongMaterial || material.isMeshToonMaterial || material.isMeshLambertMaterial || material.isMeshBasicMaterial || material.isMeshStandardMaterial || material.isShaderMaterial) {\n\t\t\t\t\tp_uniforms.setValue(_gl, 'isOrthographic', camera.isOrthographicCamera === true);\n\t\t\t\t}\n\n\t\t\t\tif (material.isMeshPhongMaterial || material.isMeshToonMaterial || material.isMeshLambertMaterial || material.isMeshBasicMaterial || material.isMeshStandardMaterial || material.isShaderMaterial || material.isShadowMaterial || object.isSkinnedMesh) {\n\t\t\t\t\tp_uniforms.setValue(_gl, 'viewMatrix', camera.matrixWorldInverse);\n\t\t\t\t}\n\t\t\t} // skinning and morph target uniforms must be set even if material didn't change\n\t\t\t// auto-setting of texture unit for bone and morph texture must go before other textures\n\t\t\t// otherwise textures used for skinning and morphing can take over texture units reserved for other material textures\n\n\n\t\t\tif (object.isSkinnedMesh) {\n\t\t\t\tp_uniforms.setOptional(_gl, object, 'bindMatrix');\n\t\t\t\tp_uniforms.setOptional(_gl, object, 'bindMatrixInverse');\n\t\t\t\tconst skeleton = object.skeleton;\n\n\t\t\t\tif (skeleton) {\n\t\t\t\t\tif (capabilities.floatVertexTextures) {\n\t\t\t\t\t\tif (skeleton.boneTexture === null) skeleton.computeBoneTexture();\n\t\t\t\t\t\tp_uniforms.setValue(_gl, 'boneTexture', skeleton.boneTexture, textures);\n\t\t\t\t\t\tp_uniforms.setValue(_gl, 'boneTextureSize', skeleton.boneTextureSize);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required.');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\n\t\t\tif (morphAttributes.position !== undefined || morphAttributes.normal !== undefined || morphAttributes.color !== undefined && capabilities.isWebGL2 === true) {\n\t\t\t\tmorphtargets.update(object, geometry, material, program);\n\t\t\t}\n\n\t\t\tif (refreshMaterial || materialProperties.receiveShadow !== object.receiveShadow) {\n\t\t\t\tmaterialProperties.receiveShadow = object.receiveShadow;\n\t\t\t\tp_uniforms.setValue(_gl, 'receiveShadow', object.receiveShadow);\n\t\t\t}\n\n\t\t\tif (refreshMaterial) {\n\t\t\t\tp_uniforms.setValue(_gl, 'toneMappingExposure', _this.toneMappingExposure);\n\n\t\t\t\tif (materialProperties.needsLights) {\n\t\t\t\t\t// the current material requires lighting info\n\t\t\t\t\t// note: all lighting uniforms are always set correctly\n\t\t\t\t\t// they simply reference the renderer's state for their\n\t\t\t\t\t// values\n\t\t\t\t\t//\n\t\t\t\t\t// use the current material's .needsUpdate flags to set\n\t\t\t\t\t// the GL state when required\n\t\t\t\t\tmarkUniformsLightsNeedsUpdate(m_uniforms, refreshLights);\n\t\t\t\t} // refresh uniforms common to several materials\n\n\n\t\t\t\tif (fog && material.fog === true) {\n\t\t\t\t\tmaterials.refreshFogUniforms(m_uniforms, fog);\n\t\t\t\t}\n\n\t\t\t\tmaterials.refreshMaterialUniforms(m_uniforms, material, _pixelRatio, _height, _transmissionRenderTarget);\n\t\t\t\tWebGLUniforms.upload(_gl, materialProperties.uniformsList, m_uniforms, textures);\n\t\t\t}\n\n\t\t\tif (material.isShaderMaterial && material.uniformsNeedUpdate === true) {\n\t\t\t\tWebGLUniforms.upload(_gl, materialProperties.uniformsList, m_uniforms, textures);\n\t\t\t\tmaterial.uniformsNeedUpdate = false;\n\t\t\t}\n\n\t\t\tif (material.isSpriteMaterial) {\n\t\t\t\tp_uniforms.setValue(_gl, 'center', object.center);\n\t\t\t} // common matrices\n\n\n\t\t\tp_uniforms.setValue(_gl, 'modelViewMatrix', object.modelViewMatrix);\n\t\t\tp_uniforms.setValue(_gl, 'normalMatrix', object.normalMatrix);\n\t\t\tp_uniforms.setValue(_gl, 'modelMatrix', object.matrixWorld);\n\t\t\treturn program;\n\t\t} // If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n\n\t\tfunction markUniformsLightsNeedsUpdate(uniforms, value) {\n\t\t\tuniforms.ambientLightColor.needsUpdate = value;\n\t\t\tuniforms.lightProbe.needsUpdate = value;\n\t\t\tuniforms.directionalLights.needsUpdate = value;\n\t\t\tuniforms.directionalLightShadows.needsUpdate = value;\n\t\t\tuniforms.pointLights.needsUpdate = value;\n\t\t\tuniforms.pointLightShadows.needsUpdate = value;\n\t\t\tuniforms.spotLights.needsUpdate = value;\n\t\t\tuniforms.spotLightShadows.needsUpdate = value;\n\t\t\tuniforms.rectAreaLights.needsUpdate = value;\n\t\t\tuniforms.hemisphereLights.needsUpdate = value;\n\t\t}\n\n\t\tfunction materialNeedsLights(material) {\n\t\t\treturn material.isMeshLambertMaterial || material.isMeshToonMaterial || material.isMeshPhongMaterial || material.isMeshStandardMaterial || material.isShadowMaterial || material.isShaderMaterial && material.lights === true;\n\t\t}\n\n\t\tthis.getActiveCubeFace = function () {\n\t\t\treturn _currentActiveCubeFace;\n\t\t};\n\n\t\tthis.getActiveMipmapLevel = function () {\n\t\t\treturn _currentActiveMipmapLevel;\n\t\t};\n\n\t\tthis.getRenderTarget = function () {\n\t\t\treturn _currentRenderTarget;\n\t\t};\n\n\t\tthis.setRenderTargetTextures = function (renderTarget, colorTexture, depthTexture) {\n\t\t\tproperties.get(renderTarget.texture).__webglTexture = colorTexture;\n\t\t\tproperties.get(renderTarget.depthTexture).__webglTexture = depthTexture;\n\t\t\tconst renderTargetProperties = properties.get(renderTarget);\n\t\t\trenderTargetProperties.__hasExternalTextures = true;\n\n\t\t\tif (renderTargetProperties.__hasExternalTextures) {\n\t\t\t\trenderTargetProperties.__autoAllocateDepthBuffer = depthTexture === undefined;\n\n\t\t\t\tif (!renderTargetProperties.__autoAllocateDepthBuffer) {\n\t\t\t\t\t// The multisample_render_to_texture extension doesn't work properly if there\n\t\t\t\t\t// are midframe flushes and an external depth buffer. Disable use of the extension.\n\t\t\t\t\tif (extensions.has('WEBGL_multisampled_render_to_texture') === true) {\n\t\t\t\t\t\tconsole.warn('THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided');\n\t\t\t\t\t\trenderTargetProperties.__useRenderToTexture = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis.setRenderTargetFramebuffer = function (renderTarget, defaultFramebuffer) {\n\t\t\tconst renderTargetProperties = properties.get(renderTarget);\n\t\t\trenderTargetProperties.__webglFramebuffer = defaultFramebuffer;\n\t\t\trenderTargetProperties.__useDefaultFramebuffer = defaultFramebuffer === undefined;\n\t\t};\n\n\t\tthis.setRenderTarget = function (renderTarget, activeCubeFace = 0, activeMipmapLevel = 0) {\n\t\t\t_currentRenderTarget = renderTarget;\n\t\t\t_currentActiveCubeFace = activeCubeFace;\n\t\t\t_currentActiveMipmapLevel = activeMipmapLevel;\n\t\t\tlet useDefaultFramebuffer = true;\n\n\t\t\tif (renderTarget) {\n\t\t\t\tconst renderTargetProperties = properties.get(renderTarget);\n\n\t\t\t\tif (renderTargetProperties.__useDefaultFramebuffer !== undefined) {\n\t\t\t\t\t// We need to make sure to rebind the framebuffer.\n\t\t\t\t\tstate.bindFramebuffer(_gl.FRAMEBUFFER, null);\n\t\t\t\t\tuseDefaultFramebuffer = false;\n\t\t\t\t} else if (renderTargetProperties.__webglFramebuffer === undefined) {\n\t\t\t\t\ttextures.setupRenderTarget(renderTarget);\n\t\t\t\t} else if (renderTargetProperties.__hasExternalTextures) {\n\t\t\t\t\t// Color and depth texture must be rebound in order for the swapchain to update.\n\t\t\t\t\ttextures.rebindTextures(renderTarget, properties.get(renderTarget.texture).__webglTexture, properties.get(renderTarget.depthTexture).__webglTexture);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet framebuffer = null;\n\t\t\tlet isCube = false;\n\t\t\tlet isRenderTarget3D = false;\n\n\t\t\tif (renderTarget) {\n\t\t\t\tconst texture = renderTarget.texture;\n\n\t\t\t\tif (texture.isData3DTexture || texture.isDataArrayTexture) {\n\t\t\t\t\tisRenderTarget3D = true;\n\t\t\t\t}\n\n\t\t\t\tconst __webglFramebuffer = properties.get(renderTarget).__webglFramebuffer;\n\n\t\t\t\tif (renderTarget.isWebGLCubeRenderTarget) {\n\t\t\t\t\tframebuffer = __webglFramebuffer[activeCubeFace];\n\t\t\t\t\tisCube = true;\n\t\t\t\t} else if (capabilities.isWebGL2 && renderTarget.samples > 0 && textures.useMultisampledRTT(renderTarget) === false) {\n\t\t\t\t\tframebuffer = properties.get(renderTarget).__webglMultisampledFramebuffer;\n\t\t\t\t} else {\n\t\t\t\t\tframebuffer = __webglFramebuffer;\n\t\t\t\t}\n\n\t\t\t\t_currentViewport.copy(renderTarget.viewport);\n\n\t\t\t\t_currentScissor.copy(renderTarget.scissor);\n\n\t\t\t\t_currentScissorTest = renderTarget.scissorTest;\n\t\t\t} else {\n\t\t\t\t_currentViewport.copy(_viewport).multiplyScalar(_pixelRatio).floor();\n\n\t\t\t\t_currentScissor.copy(_scissor).multiplyScalar(_pixelRatio).floor();\n\n\t\t\t\t_currentScissorTest = _scissorTest;\n\t\t\t}\n\n\t\t\tconst framebufferBound = state.bindFramebuffer(_gl.FRAMEBUFFER, framebuffer);\n\n\t\t\tif (framebufferBound && capabilities.drawBuffers && useDefaultFramebuffer) {\n\t\t\t\tstate.drawBuffers(renderTarget, framebuffer);\n\t\t\t}\n\n\t\t\tstate.viewport(_currentViewport);\n\t\t\tstate.scissor(_currentScissor);\n\t\t\tstate.setScissorTest(_currentScissorTest);\n\n\t\t\tif (isCube) {\n\t\t\t\tconst textureProperties = properties.get(renderTarget.texture);\n\n\t\t\t\t_gl.framebufferTexture2D(_gl.FRAMEBUFFER, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_CUBE_MAP_POSITIVE_X + activeCubeFace, textureProperties.__webglTexture, activeMipmapLevel);\n\t\t\t} else if (isRenderTarget3D) {\n\t\t\t\tconst textureProperties = properties.get(renderTarget.texture);\n\t\t\t\tconst layer = activeCubeFace || 0;\n\n\t\t\t\t_gl.framebufferTextureLayer(_gl.FRAMEBUFFER, _gl.COLOR_ATTACHMENT0, textureProperties.__webglTexture, activeMipmapLevel || 0, layer);\n\t\t\t}\n\n\t\t\t_currentMaterialId = -1; // reset current material to ensure correct uniform bindings\n\t\t};\n\n\t\tthis.readRenderTargetPixels = function (renderTarget, x, y, width, height, buffer, activeCubeFaceIndex) {\n\t\t\tif (!(renderTarget && renderTarget.isWebGLRenderTarget)) {\n\t\t\t\tconsole.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet framebuffer = properties.get(renderTarget).__webglFramebuffer;\n\n\t\t\tif (renderTarget.isWebGLCubeRenderTarget && activeCubeFaceIndex !== undefined) {\n\t\t\t\tframebuffer = framebuffer[activeCubeFaceIndex];\n\t\t\t}\n\n\t\t\tif (framebuffer) {\n\t\t\t\tstate.bindFramebuffer(_gl.FRAMEBUFFER, framebuffer);\n\n\t\t\t\ttry {\n\t\t\t\t\tconst texture = renderTarget.texture;\n\t\t\t\t\tconst textureFormat = texture.format;\n\t\t\t\t\tconst textureType = texture.type;\n\n\t\t\t\t\tif (textureFormat !== RGBAFormat && utils.convert(textureFormat) !== _gl.getParameter(_gl.IMPLEMENTATION_COLOR_READ_FORMAT)) {\n\t\t\t\t\t\tconsole.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst halfFloatSupportedByExt = textureType === HalfFloatType && (extensions.has('EXT_color_buffer_half_float') || capabilities.isWebGL2 && extensions.has('EXT_color_buffer_float'));\n\n\t\t\t\t\tif (textureType !== UnsignedByteType && utils.convert(textureType) !== _gl.getParameter(_gl.IMPLEMENTATION_COLOR_READ_TYPE) && // Edge and Chrome Mac < 52 (#9513)\n\t\t\t\t\t!(textureType === FloatType && (capabilities.isWebGL2 || extensions.has('OES_texture_float') || extensions.has('WEBGL_color_buffer_float'))) && // Chrome Mac >= 52 and Firefox\n\t\t\t\t\t!halfFloatSupportedByExt) {\n\t\t\t\t\t\tconsole.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} // the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\n\n\t\t\t\t\tif (x >= 0 && x <= renderTarget.width - width && y >= 0 && y <= renderTarget.height - height) {\n\t\t\t\t\t\t_gl.readPixels(x, y, width, height, utils.convert(textureFormat), utils.convert(textureType), buffer);\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\t// restore framebuffer of current render target if necessary\n\t\t\t\t\tconst framebuffer = _currentRenderTarget !== null ? properties.get(_currentRenderTarget).__webglFramebuffer : null;\n\t\t\t\t\tstate.bindFramebuffer(_gl.FRAMEBUFFER, framebuffer);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis.copyFramebufferToTexture = function (position, texture, level = 0) {\n\t\t\tconst levelScale = Math.pow(2, -level);\n\t\t\tconst width = Math.floor(texture.image.width * levelScale);\n\t\t\tconst height = Math.floor(texture.image.height * levelScale);\n\t\t\ttextures.setTexture2D(texture, 0);\n\n\t\t\t_gl.copyTexSubImage2D(_gl.TEXTURE_2D, level, 0, 0, position.x, position.y, width, height);\n\n\t\t\tstate.unbindTexture();\n\t\t};\n\n\t\tthis.copyTextureToTexture = function (position, srcTexture, dstTexture, level = 0) {\n\t\t\tconst width = srcTexture.image.width;\n\t\t\tconst height = srcTexture.image.height;\n\t\t\tconst glFormat = utils.convert(dstTexture.format);\n\t\t\tconst glType = utils.convert(dstTexture.type);\n\t\t\ttextures.setTexture2D(dstTexture, 0); // As another texture upload may have changed pixelStorei\n\t\t\t// parameters, make sure they are correct for the dstTexture\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_FLIP_Y_WEBGL, dstTexture.flipY);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, dstTexture.premultiplyAlpha);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_ALIGNMENT, dstTexture.unpackAlignment);\n\n\t\t\tif (srcTexture.isDataTexture) {\n\t\t\t\t_gl.texSubImage2D(_gl.TEXTURE_2D, level, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data);\n\t\t\t} else {\n\t\t\t\tif (srcTexture.isCompressedTexture) {\n\t\t\t\t\t_gl.compressedTexSubImage2D(_gl.TEXTURE_2D, level, position.x, position.y, srcTexture.mipmaps[0].width, srcTexture.mipmaps[0].height, glFormat, srcTexture.mipmaps[0].data);\n\t\t\t\t} else {\n\t\t\t\t\t_gl.texSubImage2D(_gl.TEXTURE_2D, level, position.x, position.y, glFormat, glType, srcTexture.image);\n\t\t\t\t}\n\t\t\t} // Generate mipmaps only when copying level 0\n\n\n\t\t\tif (level === 0 && dstTexture.generateMipmaps) _gl.generateMipmap(_gl.TEXTURE_2D);\n\t\t\tstate.unbindTexture();\n\t\t};\n\n\t\tthis.copyTextureToTexture3D = function (sourceBox, position, srcTexture, dstTexture, level = 0) {\n\t\t\tif (_this.isWebGL1Renderer) {\n\t\t\t\tconsole.warn('THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst width = sourceBox.max.x - sourceBox.min.x + 1;\n\t\t\tconst height = sourceBox.max.y - sourceBox.min.y + 1;\n\t\t\tconst depth = sourceBox.max.z - sourceBox.min.z + 1;\n\t\t\tconst glFormat = utils.convert(dstTexture.format);\n\t\t\tconst glType = utils.convert(dstTexture.type);\n\t\t\tlet glTarget;\n\n\t\t\tif (dstTexture.isData3DTexture) {\n\t\t\t\ttextures.setTexture3D(dstTexture, 0);\n\t\t\t\tglTarget = _gl.TEXTURE_3D;\n\t\t\t} else if (dstTexture.isDataArrayTexture) {\n\t\t\t\ttextures.setTexture2DArray(dstTexture, 0);\n\t\t\t\tglTarget = _gl.TEXTURE_2D_ARRAY;\n\t\t\t} else {\n\t\t\t\tconsole.warn('THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_FLIP_Y_WEBGL, dstTexture.flipY);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, dstTexture.premultiplyAlpha);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_ALIGNMENT, dstTexture.unpackAlignment);\n\n\t\t\tconst unpackRowLen = _gl.getParameter(_gl.UNPACK_ROW_LENGTH);\n\n\t\t\tconst unpackImageHeight = _gl.getParameter(_gl.UNPACK_IMAGE_HEIGHT);\n\n\t\t\tconst unpackSkipPixels = _gl.getParameter(_gl.UNPACK_SKIP_PIXELS);\n\n\t\t\tconst unpackSkipRows = _gl.getParameter(_gl.UNPACK_SKIP_ROWS);\n\n\t\t\tconst unpackSkipImages = _gl.getParameter(_gl.UNPACK_SKIP_IMAGES);\n\n\t\t\tconst image = srcTexture.isCompressedTexture ? srcTexture.mipmaps[0] : srcTexture.image;\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_ROW_LENGTH, image.width);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_IMAGE_HEIGHT, image.height);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_SKIP_PIXELS, sourceBox.min.x);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_SKIP_ROWS, sourceBox.min.y);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_SKIP_IMAGES, sourceBox.min.z);\n\n\t\t\tif (srcTexture.isDataTexture || srcTexture.isData3DTexture) {\n\t\t\t\t_gl.texSubImage3D(glTarget, level, position.x, position.y, position.z, width, height, depth, glFormat, glType, image.data);\n\t\t\t} else {\n\t\t\t\tif (srcTexture.isCompressedTexture) {\n\t\t\t\t\tconsole.warn('THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture.');\n\n\t\t\t\t\t_gl.compressedTexSubImage3D(glTarget, level, position.x, position.y, position.z, width, height, depth, glFormat, image.data);\n\t\t\t\t} else {\n\t\t\t\t\t_gl.texSubImage3D(glTarget, level, position.x, position.y, position.z, width, height, depth, glFormat, glType, image);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_ROW_LENGTH, unpackRowLen);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_IMAGE_HEIGHT, unpackImageHeight);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_SKIP_PIXELS, unpackSkipPixels);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_SKIP_ROWS, unpackSkipRows);\n\n\t\t\t_gl.pixelStorei(_gl.UNPACK_SKIP_IMAGES, unpackSkipImages); // Generate mipmaps only when copying level 0\n\n\n\t\t\tif (level === 0 && dstTexture.generateMipmaps) _gl.generateMipmap(glTarget);\n\t\t\tstate.unbindTexture();\n\t\t};\n\n\t\tthis.initTexture = function (texture) {\n\t\t\ttextures.setTexture2D(texture, 0);\n\t\t\tstate.unbindTexture();\n\t\t};\n\n\t\tthis.resetState = function () {\n\t\t\t_currentActiveCubeFace = 0;\n\t\t\t_currentActiveMipmapLevel = 0;\n\t\t\t_currentRenderTarget = null;\n\t\t\tstate.reset();\n\t\t\tbindingStates.reset();\n\t\t};\n\n\t\tif (typeof __THREE_DEVTOOLS__ !== 'undefined') {\n\t\t\t__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('observe', {\n\t\t\t\tdetail: this\n\t\t\t}));\n\t\t}\n\t}\n\n\tclass WebGL1Renderer extends WebGLRenderer {}\n\n\tWebGL1Renderer.prototype.isWebGL1Renderer = true;\n\n\tclass FogExp2 {\n\t\tconstructor(color, density = 0.00025) {\n\t\t\tthis.isFogExp2 = true;\n\t\t\tthis.name = '';\n\t\t\tthis.color = new Color(color);\n\t\t\tthis.density = density;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new FogExp2(this.color, this.density);\n\t\t}\n\n\t\ttoJSON() {\n\t\t\treturn {\n\t\t\t\ttype: 'FogExp2',\n\t\t\t\tcolor: this.color.getHex(),\n\t\t\t\tdensity: this.density\n\t\t\t};\n\t\t}\n\n\t}\n\n\tclass Fog {\n\t\tconstructor(color, near = 1, far = 1000) {\n\t\t\tthis.isFog = true;\n\t\t\tthis.name = '';\n\t\t\tthis.color = new Color(color);\n\t\t\tthis.near = near;\n\t\t\tthis.far = far;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new Fog(this.color, this.near, this.far);\n\t\t}\n\n\t\ttoJSON() {\n\t\t\treturn {\n\t\t\t\ttype: 'Fog',\n\t\t\t\tcolor: this.color.getHex(),\n\t\t\t\tnear: this.near,\n\t\t\t\tfar: this.far\n\t\t\t};\n\t\t}\n\n\t}\n\n\tclass Scene extends Object3D {\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tthis.isScene = true;\n\t\t\tthis.type = 'Scene';\n\t\t\tthis.background = null;\n\t\t\tthis.environment = null;\n\t\t\tthis.fog = null;\n\t\t\tthis.overrideMaterial = null;\n\t\t\tthis.autoUpdate = true; // checked by the renderer\n\n\t\t\tif (typeof __THREE_DEVTOOLS__ !== 'undefined') {\n\t\t\t\t__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('observe', {\n\t\t\t\t\tdetail: this\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\n\t\tcopy(source, recursive) {\n\t\t\tsuper.copy(source, recursive);\n\t\t\tif (source.background !== null) this.background = source.background.clone();\n\t\t\tif (source.environment !== null) this.environment = source.environment.clone();\n\t\t\tif (source.fog !== null) this.fog = source.fog.clone();\n\t\t\tif (source.overrideMaterial !== null) this.overrideMaterial = source.overrideMaterial.clone();\n\t\t\tthis.autoUpdate = source.autoUpdate;\n\t\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON(meta) {\n\t\t\tconst data = super.toJSON(meta);\n\t\t\tif (this.fog !== null) data.object.fog = this.fog.toJSON();\n\t\t\treturn data;\n\t\t}\n\n\t}\n\n\tclass InterleavedBuffer {\n\t\tconstructor(array, stride) {\n\t\t\tthis.isInterleavedBuffer = true;\n\t\t\tthis.array = array;\n\t\t\tthis.stride = stride;\n\t\t\tthis.count = array !== undefined ? array.length / stride : 0;\n\t\t\tthis.usage = StaticDrawUsage;\n\t\t\tthis.updateRange = {\n\t\t\t\toffset: 0,\n\t\t\t\tcount: -1\n\t\t\t};\n\t\t\tthis.version = 0;\n\t\t\tthis.uuid = generateUUID();\n\t\t}\n\n\t\tonUploadCallback() {}\n\n\t\tset needsUpdate(value) {\n\t\t\tif (value === true) this.version++;\n\t\t}\n\n\t\tsetUsage(value) {\n\t\t\tthis.usage = value;\n\t\t\treturn this;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tthis.array = new source.array.constructor(source.array);\n\t\t\tthis.count = source.count;\n\t\t\tthis.stride = source.stride;\n\t\t\tthis.usage = source.usage;\n\t\t\treturn this;\n\t\t}\n\n\t\tcopyAt(index1, attribute, index2) {\n\t\t\tindex1 *= this.stride;\n\t\t\tindex2 *= attribute.stride;\n\n\t\t\tfor (let i = 0, l = this.stride; i < l; i++) {\n\t\t\t\tthis.array[index1 + i] = attribute.array[index2 + i];\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tset(value, offset = 0) {\n\t\t\tthis.array.set(value, offset);\n\t\t\treturn this;\n\t\t}\n\n\t\tclone(data) {\n\t\t\tif (data.arrayBuffers === undefined) {\n\t\t\t\tdata.arrayBuffers = {};\n\t\t\t}\n\n\t\t\tif (this.array.buffer._uuid === undefined) {\n\t\t\t\tthis.array.buffer._uuid = generateUUID();\n\t\t\t}\n\n\t\t\tif (data.arrayBuffers[this.array.buffer._uuid] === undefined) {\n\t\t\t\tdata.arrayBuffers[this.array.buffer._uuid] = this.array.slice(0).buffer;\n\t\t\t}\n\n\t\t\tconst array = new this.array.constructor(data.arrayBuffers[this.array.buffer._uuid]);\n\t\t\tconst ib = new this.constructor(array, this.stride);\n\t\t\tib.setUsage(this.usage);\n\t\t\treturn ib;\n\t\t}\n\n\t\tonUpload(callback) {\n\t\t\tthis.onUploadCallback = callback;\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON(data) {\n\t\t\tif (data.arrayBuffers === undefined) {\n\t\t\t\tdata.arrayBuffers = {};\n\t\t\t} // generate UUID for array buffer if necessary\n\n\n\t\t\tif (this.array.buffer._uuid === undefined) {\n\t\t\t\tthis.array.buffer._uuid = generateUUID();\n\t\t\t}\n\n\t\t\tif (data.arrayBuffers[this.array.buffer._uuid] === undefined) {\n\t\t\t\tdata.arrayBuffers[this.array.buffer._uuid] = Array.prototype.slice.call(new Uint32Array(this.array.buffer));\n\t\t\t} //\n\n\n\t\t\treturn {\n\t\t\t\tuuid: this.uuid,\n\t\t\t\tbuffer: this.array.buffer._uuid,\n\t\t\t\ttype: this.array.constructor.name,\n\t\t\t\tstride: this.stride\n\t\t\t};\n\t\t}\n\n\t}\n\n\tconst _vector$6 = /*@__PURE__*/new Vector3();\n\n\tclass InterleavedBufferAttribute {\n\t\tconstructor(interleavedBuffer, itemSize, offset, normalized = false) {\n\t\t\tthis.isInterleavedBufferAttribute = true;\n\t\t\tthis.name = '';\n\t\t\tthis.data = interleavedBuffer;\n\t\t\tthis.itemSize = itemSize;\n\t\t\tthis.offset = offset;\n\t\t\tthis.normalized = normalized === true;\n\t\t}\n\n\t\tget count() {\n\t\t\treturn this.data.count;\n\t\t}\n\n\t\tget array() {\n\t\t\treturn this.data.array;\n\t\t}\n\n\t\tset needsUpdate(value) {\n\t\t\tthis.data.needsUpdate = value;\n\t\t}\n\n\t\tapplyMatrix4(m) {\n\t\t\tfor (let i = 0, l = this.data.count; i < l; i++) {\n\t\t\t\t_vector$6.fromBufferAttribute(this, i);\n\n\t\t\t\t_vector$6.applyMatrix4(m);\n\n\t\t\t\tthis.setXYZ(i, _vector$6.x, _vector$6.y, _vector$6.z);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tapplyNormalMatrix(m) {\n\t\t\tfor (let i = 0, l = this.count; i < l; i++) {\n\t\t\t\t_vector$6.fromBufferAttribute(this, i);\n\n\t\t\t\t_vector$6.applyNormalMatrix(m);\n\n\t\t\t\tthis.setXYZ(i, _vector$6.x, _vector$6.y, _vector$6.z);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\ttransformDirection(m) {\n\t\t\tfor (let i = 0, l = this.count; i < l; i++) {\n\t\t\t\t_vector$6.fromBufferAttribute(this, i);\n\n\t\t\t\t_vector$6.transformDirection(m);\n\n\t\t\t\tthis.setXYZ(i, _vector$6.x, _vector$6.y, _vector$6.z);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsetX(index, x) {\n\t\t\tthis.data.array[index * this.data.stride + this.offset] = x;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetY(index, y) {\n\t\t\tthis.data.array[index * this.data.stride + this.offset + 1] = y;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetZ(index, z) {\n\t\t\tthis.data.array[index * this.data.stride + this.offset + 2] = z;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetW(index, w) {\n\t\t\tthis.data.array[index * this.data.stride + this.offset + 3] = w;\n\t\t\treturn this;\n\t\t}\n\n\t\tgetX(index) {\n\t\t\treturn this.data.array[index * this.data.stride + this.offset];\n\t\t}\n\n\t\tgetY(index) {\n\t\t\treturn this.data.array[index * this.data.stride + this.offset + 1];\n\t\t}\n\n\t\tgetZ(index) {\n\t\t\treturn this.data.array[index * this.data.stride + this.offset + 2];\n\t\t}\n\n\t\tgetW(index) {\n\t\t\treturn this.data.array[index * this.data.stride + this.offset + 3];\n\t\t}\n\n\t\tsetXY(index, x, y) {\n\t\t\tindex = index * this.data.stride + this.offset;\n\t\t\tthis.data.array[index + 0] = x;\n\t\t\tthis.data.array[index + 1] = y;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetXYZ(index, x, y, z) {\n\t\t\tindex = index * this.data.stride + this.offset;\n\t\t\tthis.data.array[index + 0] = x;\n\t\t\tthis.data.array[index + 1] = y;\n\t\t\tthis.data.array[index + 2] = z;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetXYZW(index, x, y, z, w) {\n\t\t\tindex = index * this.data.stride + this.offset;\n\t\t\tthis.data.array[index + 0] = x;\n\t\t\tthis.data.array[index + 1] = y;\n\t\t\tthis.data.array[index + 2] = z;\n\t\t\tthis.data.array[index + 3] = w;\n\t\t\treturn this;\n\t\t}\n\n\t\tclone(data) {\n\t\t\tif (data === undefined) {\n\t\t\t\tconsole.log('THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.');\n\t\t\t\tconst array = [];\n\n\t\t\t\tfor (let i = 0; i < this.count; i++) {\n\t\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\t\tfor (let j = 0; j < this.itemSize; j++) {\n\t\t\t\t\t\tarray.push(this.data.array[index + j]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn new BufferAttribute(new this.array.constructor(array), this.itemSize, this.normalized);\n\t\t\t} else {\n\t\t\t\tif (data.interleavedBuffers === undefined) {\n\t\t\t\t\tdata.interleavedBuffers = {};\n\t\t\t\t}\n\n\t\t\t\tif (data.interleavedBuffers[this.data.uuid] === undefined) {\n\t\t\t\t\tdata.interleavedBuffers[this.data.uuid] = this.data.clone(data);\n\t\t\t\t}\n\n\t\t\t\treturn new InterleavedBufferAttribute(data.interleavedBuffers[this.data.uuid], this.itemSize, this.offset, this.normalized);\n\t\t\t}\n\t\t}\n\n\t\ttoJSON(data) {\n\t\t\tif (data === undefined) {\n\t\t\t\tconsole.log('THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.');\n\t\t\t\tconst array = [];\n\n\t\t\t\tfor (let i = 0; i < this.count; i++) {\n\t\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\t\tfor (let j = 0; j < this.itemSize; j++) {\n\t\t\t\t\t\tarray.push(this.data.array[index + j]);\n\t\t\t\t\t}\n\t\t\t\t} // deinterleave data and save it as an ordinary buffer attribute for now\n\n\n\t\t\t\treturn {\n\t\t\t\t\titemSize: this.itemSize,\n\t\t\t\t\ttype: this.array.constructor.name,\n\t\t\t\t\tarray: array,\n\t\t\t\t\tnormalized: this.normalized\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\t// save as true interlaved attribtue\n\t\t\t\tif (data.interleavedBuffers === undefined) {\n\t\t\t\t\tdata.interleavedBuffers = {};\n\t\t\t\t}\n\n\t\t\t\tif (data.interleavedBuffers[this.data.uuid] === undefined) {\n\t\t\t\t\tdata.interleavedBuffers[this.data.uuid] = this.data.toJSON(data);\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tisInterleavedBufferAttribute: true,\n\t\t\t\t\titemSize: this.itemSize,\n\t\t\t\t\tdata: this.data.uuid,\n\t\t\t\t\toffset: this.offset,\n\t\t\t\t\tnormalized: this.normalized\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t}\n\n\tclass SpriteMaterial extends Material {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.isSpriteMaterial = true;\n\t\t\tthis.type = 'SpriteMaterial';\n\t\t\tthis.color = new Color(0xffffff);\n\t\t\tthis.map = null;\n\t\t\tthis.alphaMap = null;\n\t\t\tthis.rotation = 0;\n\t\t\tthis.sizeAttenuation = true;\n\t\t\tthis.transparent = true;\n\t\t\tthis.fog = true;\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.color.copy(source.color);\n\t\t\tthis.map = source.map;\n\t\t\tthis.alphaMap = source.alphaMap;\n\t\t\tthis.rotation = source.rotation;\n\t\t\tthis.sizeAttenuation = source.sizeAttenuation;\n\t\t\tthis.fog = source.fog;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tlet _geometry;\n\n\tconst _intersectPoint = /*@__PURE__*/new Vector3();\n\n\tconst _worldScale = /*@__PURE__*/new Vector3();\n\n\tconst _mvPosition = /*@__PURE__*/new Vector3();\n\n\tconst _alignedPosition = /*@__PURE__*/new Vector2();\n\n\tconst _rotatedPosition = /*@__PURE__*/new Vector2();\n\n\tconst _viewWorldMatrix = /*@__PURE__*/new Matrix4();\n\n\tconst _vA = /*@__PURE__*/new Vector3();\n\n\tconst _vB = /*@__PURE__*/new Vector3();\n\n\tconst _vC = /*@__PURE__*/new Vector3();\n\n\tconst _uvA = /*@__PURE__*/new Vector2();\n\n\tconst _uvB = /*@__PURE__*/new Vector2();\n\n\tconst _uvC = /*@__PURE__*/new Vector2();\n\n\tclass Sprite extends Object3D {\n\t\tconstructor(material) {\n\t\t\tsuper();\n\t\t\tthis.isSprite = true;\n\t\t\tthis.type = 'Sprite';\n\n\t\t\tif (_geometry === undefined) {\n\t\t\t\t_geometry = new BufferGeometry();\n\t\t\t\tconst float32Array = new Float32Array([-0.5, -0.5, 0, 0, 0, 0.5, -0.5, 0, 1, 0, 0.5, 0.5, 0, 1, 1, -0.5, 0.5, 0, 0, 1]);\n\t\t\t\tconst interleavedBuffer = new InterleavedBuffer(float32Array, 5);\n\n\t\t\t\t_geometry.setIndex([0, 1, 2, 0, 2, 3]);\n\n\t\t\t\t_geometry.setAttribute('position', new InterleavedBufferAttribute(interleavedBuffer, 3, 0, false));\n\n\t\t\t\t_geometry.setAttribute('uv', new InterleavedBufferAttribute(interleavedBuffer, 2, 3, false));\n\t\t\t}\n\n\t\t\tthis.geometry = _geometry;\n\t\t\tthis.material = material !== undefined ? material : new SpriteMaterial();\n\t\t\tthis.center = new Vector2(0.5, 0.5);\n\t\t}\n\n\t\traycast(raycaster, intersects) {\n\t\t\tif (raycaster.camera === null) {\n\t\t\t\tconsole.error('THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.');\n\t\t\t}\n\n\t\t\t_worldScale.setFromMatrixScale(this.matrixWorld);\n\n\t\t\t_viewWorldMatrix.copy(raycaster.camera.matrixWorld);\n\n\t\t\tthis.modelViewMatrix.multiplyMatrices(raycaster.camera.matrixWorldInverse, this.matrixWorld);\n\n\t\t\t_mvPosition.setFromMatrixPosition(this.modelViewMatrix);\n\n\t\t\tif (raycaster.camera.isPerspectiveCamera && this.material.sizeAttenuation === false) {\n\t\t\t\t_worldScale.multiplyScalar(-_mvPosition.z);\n\t\t\t}\n\n\t\t\tconst rotation = this.material.rotation;\n\t\t\tlet sin, cos;\n\n\t\t\tif (rotation !== 0) {\n\t\t\t\tcos = Math.cos(rotation);\n\t\t\t\tsin = Math.sin(rotation);\n\t\t\t}\n\n\t\t\tconst center = this.center;\n\t\t\ttransformVertex(_vA.set(-0.5, -0.5, 0), _mvPosition, center, _worldScale, sin, cos);\n\t\t\ttransformVertex(_vB.set(0.5, -0.5, 0), _mvPosition, center, _worldScale, sin, cos);\n\t\t\ttransformVertex(_vC.set(0.5, 0.5, 0), _mvPosition, center, _worldScale, sin, cos);\n\n\t\t\t_uvA.set(0, 0);\n\n\t\t\t_uvB.set(1, 0);\n\n\t\t\t_uvC.set(1, 1); // check first triangle\n\n\n\t\t\tlet intersect = raycaster.ray.intersectTriangle(_vA, _vB, _vC, false, _intersectPoint);\n\n\t\t\tif (intersect === null) {\n\t\t\t\t// check second triangle\n\t\t\t\ttransformVertex(_vB.set(-0.5, 0.5, 0), _mvPosition, center, _worldScale, sin, cos);\n\n\t\t\t\t_uvB.set(0, 1);\n\n\t\t\t\tintersect = raycaster.ray.intersectTriangle(_vA, _vC, _vB, false, _intersectPoint);\n\n\t\t\t\tif (intersect === null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst distance = raycaster.ray.origin.distanceTo(_intersectPoint);\n\t\t\tif (distance < raycaster.near || distance > raycaster.far) return;\n\t\t\tintersects.push({\n\t\t\t\tdistance: distance,\n\t\t\t\tpoint: _intersectPoint.clone(),\n\t\t\t\tuv: Triangle.getUV(_intersectPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2()),\n\t\t\t\tface: null,\n\t\t\t\tobject: this\n\t\t\t});\n\t\t}\n\n\t\tcopy(source, recursive) {\n\t\t\tsuper.copy(source, recursive);\n\t\t\tif (source.center !== undefined) this.center.copy(source.center);\n\t\t\tthis.material = source.material;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tfunction transformVertex(vertexPosition, mvPosition, center, scale, sin, cos) {\n\t\t// compute position in camera space\n\t\t_alignedPosition.subVectors(vertexPosition, center).addScalar(0.5).multiply(scale); // to check if rotation is not zero\n\n\n\t\tif (sin !== undefined) {\n\t\t\t_rotatedPosition.x = cos * _alignedPosition.x - sin * _alignedPosition.y;\n\t\t\t_rotatedPosition.y = sin * _alignedPosition.x + cos * _alignedPosition.y;\n\t\t} else {\n\t\t\t_rotatedPosition.copy(_alignedPosition);\n\t\t}\n\n\t\tvertexPosition.copy(mvPosition);\n\t\tvertexPosition.x += _rotatedPosition.x;\n\t\tvertexPosition.y += _rotatedPosition.y; // transform to world space\n\n\t\tvertexPosition.applyMatrix4(_viewWorldMatrix);\n\t}\n\n\tconst _v1$2 = /*@__PURE__*/new Vector3();\n\n\tconst _v2$1 = /*@__PURE__*/new Vector3();\n\n\tclass LOD extends Object3D {\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tthis._currentLevel = 0;\n\t\t\tthis.type = 'LOD';\n\t\t\tObject.defineProperties(this, {\n\t\t\t\tlevels: {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tvalue: []\n\t\t\t\t},\n\t\t\t\tisLOD: {\n\t\t\t\t\tvalue: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.autoUpdate = true;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source, false);\n\t\t\tconst levels = source.levels;\n\n\t\t\tfor (let i = 0, l = levels.length; i < l; i++) {\n\t\t\t\tconst level = levels[i];\n\t\t\t\tthis.addLevel(level.object.clone(), level.distance);\n\t\t\t}\n\n\t\t\tthis.autoUpdate = source.autoUpdate;\n\t\t\treturn this;\n\t\t}\n\n\t\taddLevel(object, distance = 0) {\n\t\t\tdistance = Math.abs(distance);\n\t\t\tconst levels = this.levels;\n\t\t\tlet l;\n\n\t\t\tfor (l = 0; l < levels.length; l++) {\n\t\t\t\tif (distance < levels[l].distance) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlevels.splice(l, 0, {\n\t\t\t\tdistance: distance,\n\t\t\t\tobject: object\n\t\t\t});\n\t\t\tthis.add(object);\n\t\t\treturn this;\n\t\t}\n\n\t\tgetCurrentLevel() {\n\t\t\treturn this._currentLevel;\n\t\t}\n\n\t\tgetObjectForDistance(distance) {\n\t\t\tconst levels = this.levels;\n\n\t\t\tif (levels.length > 0) {\n\t\t\t\tlet i, l;\n\n\t\t\t\tfor (i = 1, l = levels.length; i < l; i++) {\n\t\t\t\t\tif (distance < levels[i].distance) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn levels[i - 1].object;\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\n\t\traycast(raycaster, intersects) {\n\t\t\tconst levels = this.levels;\n\n\t\t\tif (levels.length > 0) {\n\t\t\t\t_v1$2.setFromMatrixPosition(this.matrixWorld);\n\n\t\t\t\tconst distance = raycaster.ray.origin.distanceTo(_v1$2);\n\t\t\t\tthis.getObjectForDistance(distance).raycast(raycaster, intersects);\n\t\t\t}\n\t\t}\n\n\t\tupdate(camera) {\n\t\t\tconst levels = this.levels;\n\n\t\t\tif (levels.length > 1) {\n\t\t\t\t_v1$2.setFromMatrixPosition(camera.matrixWorld);\n\n\t\t\t\t_v2$1.setFromMatrixPosition(this.matrixWorld);\n\n\t\t\t\tconst distance = _v1$2.distanceTo(_v2$1) / camera.zoom;\n\t\t\t\tlevels[0].object.visible = true;\n\t\t\t\tlet i, l;\n\n\t\t\t\tfor (i = 1, l = levels.length; i < l; i++) {\n\t\t\t\t\tif (distance >= levels[i].distance) {\n\t\t\t\t\t\tlevels[i - 1].object.visible = false;\n\t\t\t\t\t\tlevels[i].object.visible = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis._currentLevel = i - 1;\n\n\t\t\t\tfor (; i < l; i++) {\n\t\t\t\t\tlevels[i].object.visible = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\ttoJSON(meta) {\n\t\t\tconst data = super.toJSON(meta);\n\t\t\tif (this.autoUpdate === false) data.object.autoUpdate = false;\n\t\t\tdata.object.levels = [];\n\t\t\tconst levels = this.levels;\n\n\t\t\tfor (let i = 0, l = levels.length; i < l; i++) {\n\t\t\t\tconst level = levels[i];\n\t\t\t\tdata.object.levels.push({\n\t\t\t\t\tobject: level.object.uuid,\n\t\t\t\t\tdistance: level.distance\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t}\n\n\tconst _basePosition = /*@__PURE__*/new Vector3();\n\n\tconst _skinIndex = /*@__PURE__*/new Vector4();\n\n\tconst _skinWeight = /*@__PURE__*/new Vector4();\n\n\tconst _vector$5 = /*@__PURE__*/new Vector3();\n\n\tconst _matrix = /*@__PURE__*/new Matrix4();\n\n\tclass SkinnedMesh extends Mesh {\n\t\tconstructor(geometry, material) {\n\t\t\tsuper(geometry, material);\n\t\t\tthis.isSkinnedMesh = true;\n\t\t\tthis.type = 'SkinnedMesh';\n\t\t\tthis.bindMode = 'attached';\n\t\t\tthis.bindMatrix = new Matrix4();\n\t\t\tthis.bindMatrixInverse = new Matrix4();\n\t\t}\n\n\t\tcopy(source, recursive) {\n\t\t\tsuper.copy(source, recursive);\n\t\t\tthis.bindMode = source.bindMode;\n\t\t\tthis.bindMatrix.copy(source.bindMatrix);\n\t\t\tthis.bindMatrixInverse.copy(source.bindMatrixInverse);\n\t\t\tthis.skeleton = source.skeleton;\n\t\t\treturn this;\n\t\t}\n\n\t\tbind(skeleton, bindMatrix) {\n\t\t\tthis.skeleton = skeleton;\n\n\t\t\tif (bindMatrix === undefined) {\n\t\t\t\tthis.updateMatrixWorld(true);\n\t\t\t\tthis.skeleton.calculateInverses();\n\t\t\t\tbindMatrix = this.matrixWorld;\n\t\t\t}\n\n\t\t\tthis.bindMatrix.copy(bindMatrix);\n\t\t\tthis.bindMatrixInverse.copy(bindMatrix).invert();\n\t\t}\n\n\t\tpose() {\n\t\t\tthis.skeleton.pose();\n\t\t}\n\n\t\tnormalizeSkinWeights() {\n\t\t\tconst vector = new Vector4();\n\t\t\tconst skinWeight = this.geometry.attributes.skinWeight;\n\n\t\t\tfor (let i = 0, l = skinWeight.count; i < l; i++) {\n\t\t\t\tvector.fromBufferAttribute(skinWeight, i);\n\t\t\t\tconst scale = 1.0 / vector.manhattanLength();\n\n\t\t\t\tif (scale !== Infinity) {\n\t\t\t\t\tvector.multiplyScalar(scale);\n\t\t\t\t} else {\n\t\t\t\t\tvector.set(1, 0, 0, 0); // do something reasonable\n\t\t\t\t}\n\n\t\t\t\tskinWeight.setXYZW(i, vector.x, vector.y, vector.z, vector.w);\n\t\t\t}\n\t\t}\n\n\t\tupdateMatrixWorld(force) {\n\t\t\tsuper.updateMatrixWorld(force);\n\n\t\t\tif (this.bindMode === 'attached') {\n\t\t\t\tthis.bindMatrixInverse.copy(this.matrixWorld).invert();\n\t\t\t} else if (this.bindMode === 'detached') {\n\t\t\t\tthis.bindMatrixInverse.copy(this.bindMatrix).invert();\n\t\t\t} else {\n\t\t\t\tconsole.warn('THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode);\n\t\t\t}\n\t\t}\n\n\t\tboneTransform(index, target) {\n\t\t\tconst skeleton = this.skeleton;\n\t\t\tconst geometry = this.geometry;\n\n\t\t\t_skinIndex.fromBufferAttribute(geometry.attributes.skinIndex, index);\n\n\t\t\t_skinWeight.fromBufferAttribute(geometry.attributes.skinWeight, index);\n\n\t\t\t_basePosition.copy(target).applyMatrix4(this.bindMatrix);\n\n\t\t\ttarget.set(0, 0, 0);\n\n\t\t\tfor (let i = 0; i < 4; i++) {\n\t\t\t\tconst weight = _skinWeight.getComponent(i);\n\n\t\t\t\tif (weight !== 0) {\n\t\t\t\t\tconst boneIndex = _skinIndex.getComponent(i);\n\n\t\t\t\t\t_matrix.multiplyMatrices(skeleton.bones[boneIndex].matrixWorld, skeleton.boneInverses[boneIndex]);\n\n\t\t\t\t\ttarget.addScaledVector(_vector$5.copy(_basePosition).applyMatrix4(_matrix), weight);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn target.applyMatrix4(this.bindMatrixInverse);\n\t\t}\n\n\t}\n\n\tclass Bone extends Object3D {\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tthis.isBone = true;\n\t\t\tthis.type = 'Bone';\n\t\t}\n\n\t}\n\n\tclass DataTexture extends Texture {\n\t\tconstructor(data = null, width = 1, height = 1, format, type, mapping, wrapS, wrapT, magFilter = NearestFilter, minFilter = NearestFilter, anisotropy, encoding) {\n\t\t\tsuper(null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding);\n\t\t\tthis.isDataTexture = true;\n\t\t\tthis.image = {\n\t\t\t\tdata: data,\n\t\t\t\twidth: width,\n\t\t\t\theight: height\n\t\t\t};\n\t\t\tthis.generateMipmaps = false;\n\t\t\tthis.flipY = false;\n\t\t\tthis.unpackAlignment = 1;\n\t\t}\n\n\t}\n\n\tconst _offsetMatrix = /*@__PURE__*/new Matrix4();\n\n\tconst _identityMatrix = /*@__PURE__*/new Matrix4();\n\n\tclass Skeleton {\n\t\tconstructor(bones = [], boneInverses = []) {\n\t\t\tthis.uuid = generateUUID();\n\t\t\tthis.bones = bones.slice(0);\n\t\t\tthis.boneInverses = boneInverses;\n\t\t\tthis.boneMatrices = null;\n\t\t\tthis.boneTexture = null;\n\t\t\tthis.boneTextureSize = 0;\n\t\t\tthis.frame = -1;\n\t\t\tthis.init();\n\t\t}\n\n\t\tinit() {\n\t\t\tconst bones = this.bones;\n\t\t\tconst boneInverses = this.boneInverses;\n\t\t\tthis.boneMatrices = new Float32Array(bones.length * 16); // calculate inverse bone matrices if necessary\n\n\t\t\tif (boneInverses.length === 0) {\n\t\t\t\tthis.calculateInverses();\n\t\t\t} else {\n\t\t\t\t// handle special case\n\t\t\t\tif (bones.length !== boneInverses.length) {\n\t\t\t\t\tconsole.warn('THREE.Skeleton: Number of inverse bone matrices does not match amount of bones.');\n\t\t\t\t\tthis.boneInverses = [];\n\n\t\t\t\t\tfor (let i = 0, il = this.bones.length; i < il; i++) {\n\t\t\t\t\t\tthis.boneInverses.push(new Matrix4());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcalculateInverses() {\n\t\t\tthis.boneInverses.length = 0;\n\n\t\t\tfor (let i = 0, il = this.bones.length; i < il; i++) {\n\t\t\t\tconst inverse = new Matrix4();\n\n\t\t\t\tif (this.bones[i]) {\n\t\t\t\t\tinverse.copy(this.bones[i].matrixWorld).invert();\n\t\t\t\t}\n\n\t\t\t\tthis.boneInverses.push(inverse);\n\t\t\t}\n\t\t}\n\n\t\tpose() {\n\t\t\t// recover the bind-time world matrices\n\t\t\tfor (let i = 0, il = this.bones.length; i < il; i++) {\n\t\t\t\tconst bone = this.bones[i];\n\n\t\t\t\tif (bone) {\n\t\t\t\t\tbone.matrixWorld.copy(this.boneInverses[i]).invert();\n\t\t\t\t}\n\t\t\t} // compute the local matrices, positions, rotations and scales\n\n\n\t\t\tfor (let i = 0, il = this.bones.length; i < il; i++) {\n\t\t\t\tconst bone = this.bones[i];\n\n\t\t\t\tif (bone) {\n\t\t\t\t\tif (bone.parent && bone.parent.isBone) {\n\t\t\t\t\t\tbone.matrix.copy(bone.parent.matrixWorld).invert();\n\t\t\t\t\t\tbone.matrix.multiply(bone.matrixWorld);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbone.matrix.copy(bone.matrixWorld);\n\t\t\t\t\t}\n\n\t\t\t\t\tbone.matrix.decompose(bone.position, bone.quaternion, bone.scale);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tupdate() {\n\t\t\tconst bones = this.bones;\n\t\t\tconst boneInverses = this.boneInverses;\n\t\t\tconst boneMatrices = this.boneMatrices;\n\t\t\tconst boneTexture = this.boneTexture; // flatten bone matrices to array\n\n\t\t\tfor (let i = 0, il = bones.length; i < il; i++) {\n\t\t\t\t// compute the offset between the current and the original transform\n\t\t\t\tconst matrix = bones[i] ? bones[i].matrixWorld : _identityMatrix;\n\n\t\t\t\t_offsetMatrix.multiplyMatrices(matrix, boneInverses[i]);\n\n\t\t\t\t_offsetMatrix.toArray(boneMatrices, i * 16);\n\t\t\t}\n\n\t\t\tif (boneTexture !== null) {\n\t\t\t\tboneTexture.needsUpdate = true;\n\t\t\t}\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new Skeleton(this.bones, this.boneInverses);\n\t\t}\n\n\t\tcomputeBoneTexture() {\n\t\t\t// layout (1 matrix = 4 pixels)\n\t\t\t//\t\t\tRGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n\t\t\t//\twith\t8x8\tpixel texture max\t 16 bones * 4 pixels =\t(8 * 8)\n\t\t\t//\t\t\t 16x16 pixel texture max\t 64 bones * 4 pixels = (16 * 16)\n\t\t\t//\t\t\t 32x32 pixel texture max\t256 bones * 4 pixels = (32 * 32)\n\t\t\t//\t\t\t 64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\t\t\tlet size = Math.sqrt(this.bones.length * 4); // 4 pixels needed for 1 matrix\n\n\t\t\tsize = ceilPowerOfTwo(size);\n\t\t\tsize = Math.max(size, 4);\n\t\t\tconst boneMatrices = new Float32Array(size * size * 4); // 4 floats per RGBA pixel\n\n\t\t\tboneMatrices.set(this.boneMatrices); // copy current values\n\n\t\t\tconst boneTexture = new DataTexture(boneMatrices, size, size, RGBAFormat, FloatType);\n\t\t\tboneTexture.needsUpdate = true;\n\t\t\tthis.boneMatrices = boneMatrices;\n\t\t\tthis.boneTexture = boneTexture;\n\t\t\tthis.boneTextureSize = size;\n\t\t\treturn this;\n\t\t}\n\n\t\tgetBoneByName(name) {\n\t\t\tfor (let i = 0, il = this.bones.length; i < il; i++) {\n\t\t\t\tconst bone = this.bones[i];\n\n\t\t\t\tif (bone.name === name) {\n\t\t\t\t\treturn bone;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn undefined;\n\t\t}\n\n\t\tdispose() {\n\t\t\tif (this.boneTexture !== null) {\n\t\t\t\tthis.boneTexture.dispose();\n\t\t\t\tthis.boneTexture = null;\n\t\t\t}\n\t\t}\n\n\t\tfromJSON(json, bones) {\n\t\t\tthis.uuid = json.uuid;\n\n\t\t\tfor (let i = 0, l = json.bones.length; i < l; i++) {\n\t\t\t\tconst uuid = json.bones[i];\n\t\t\t\tlet bone = bones[uuid];\n\n\t\t\t\tif (bone === undefined) {\n\t\t\t\t\tconsole.warn('THREE.Skeleton: No bone found with UUID:', uuid);\n\t\t\t\t\tbone = new Bone();\n\t\t\t\t}\n\n\t\t\t\tthis.bones.push(bone);\n\t\t\t\tthis.boneInverses.push(new Matrix4().fromArray(json.boneInverses[i]));\n\t\t\t}\n\n\t\t\tthis.init();\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = {\n\t\t\t\tmetadata: {\n\t\t\t\t\tversion: 4.5,\n\t\t\t\t\ttype: 'Skeleton',\n\t\t\t\t\tgenerator: 'Skeleton.toJSON'\n\t\t\t\t},\n\t\t\t\tbones: [],\n\t\t\t\tboneInverses: []\n\t\t\t};\n\t\t\tdata.uuid = this.uuid;\n\t\t\tconst bones = this.bones;\n\t\t\tconst boneInverses = this.boneInverses;\n\n\t\t\tfor (let i = 0, l = bones.length; i < l; i++) {\n\t\t\t\tconst bone = bones[i];\n\t\t\t\tdata.bones.push(bone.uuid);\n\t\t\t\tconst boneInverse = boneInverses[i];\n\t\t\t\tdata.boneInverses.push(boneInverse.toArray());\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t}\n\n\tclass InstancedBufferAttribute extends BufferAttribute {\n\t\tconstructor(array, itemSize, normalized, meshPerAttribute = 1) {\n\t\t\tif (typeof normalized === 'number') {\n\t\t\t\tmeshPerAttribute = normalized;\n\t\t\t\tnormalized = false;\n\t\t\t\tconsole.error('THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.');\n\t\t\t}\n\n\t\t\tsuper(array, itemSize, normalized);\n\t\t\tthis.isInstancedBufferAttribute = true;\n\t\t\tthis.meshPerAttribute = meshPerAttribute;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tdata.meshPerAttribute = this.meshPerAttribute;\n\t\t\tdata.isInstancedBufferAttribute = true;\n\t\t\treturn data;\n\t\t}\n\n\t}\n\n\tconst _instanceLocalMatrix = /*@__PURE__*/new Matrix4();\n\n\tconst _instanceWorldMatrix = /*@__PURE__*/new Matrix4();\n\n\tconst _instanceIntersects = [];\n\n\tconst _mesh = /*@__PURE__*/new Mesh();\n\n\tclass InstancedMesh extends Mesh {\n\t\tconstructor(geometry, material, count) {\n\t\t\tsuper(geometry, material);\n\t\t\tthis.isInstancedMesh = true;\n\t\t\tthis.instanceMatrix = new InstancedBufferAttribute(new Float32Array(count * 16), 16);\n\t\t\tthis.instanceColor = null;\n\t\t\tthis.count = count;\n\t\t\tthis.frustumCulled = false;\n\t\t}\n\n\t\tcopy(source, recursive) {\n\t\t\tsuper.copy(source, recursive);\n\t\t\tthis.instanceMatrix.copy(source.instanceMatrix);\n\t\t\tif (source.instanceColor !== null) this.instanceColor = source.instanceColor.clone();\n\t\t\tthis.count = source.count;\n\t\t\treturn this;\n\t\t}\n\n\t\tgetColorAt(index, color) {\n\t\t\tcolor.fromArray(this.instanceColor.array, index * 3);\n\t\t}\n\n\t\tgetMatrixAt(index, matrix) {\n\t\t\tmatrix.fromArray(this.instanceMatrix.array, index * 16);\n\t\t}\n\n\t\traycast(raycaster, intersects) {\n\t\t\tconst matrixWorld = this.matrixWorld;\n\t\t\tconst raycastTimes = this.count;\n\t\t\t_mesh.geometry = this.geometry;\n\t\t\t_mesh.material = this.material;\n\t\t\tif (_mesh.material === undefined) return;\n\n\t\t\tfor (let instanceId = 0; instanceId < raycastTimes; instanceId++) {\n\t\t\t\t// calculate the world matrix for each instance\n\t\t\t\tthis.getMatrixAt(instanceId, _instanceLocalMatrix);\n\n\t\t\t\t_instanceWorldMatrix.multiplyMatrices(matrixWorld, _instanceLocalMatrix); // the mesh represents this single instance\n\n\n\t\t\t\t_mesh.matrixWorld = _instanceWorldMatrix;\n\n\t\t\t\t_mesh.raycast(raycaster, _instanceIntersects); // process the result of raycast\n\n\n\t\t\t\tfor (let i = 0, l = _instanceIntersects.length; i < l; i++) {\n\t\t\t\t\tconst intersect = _instanceIntersects[i];\n\t\t\t\t\tintersect.instanceId = instanceId;\n\t\t\t\t\tintersect.object = this;\n\t\t\t\t\tintersects.push(intersect);\n\t\t\t\t}\n\n\t\t\t\t_instanceIntersects.length = 0;\n\t\t\t}\n\t\t}\n\n\t\tsetColorAt(index, color) {\n\t\t\tif (this.instanceColor === null) {\n\t\t\t\tthis.instanceColor = new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count * 3), 3);\n\t\t\t}\n\n\t\t\tcolor.toArray(this.instanceColor.array, index * 3);\n\t\t}\n\n\t\tsetMatrixAt(index, matrix) {\n\t\t\tmatrix.toArray(this.instanceMatrix.array, index * 16);\n\t\t}\n\n\t\tupdateMorphTargets() {}\n\n\t\tdispose() {\n\t\t\tthis.dispatchEvent({\n\t\t\t\ttype: 'dispose'\n\t\t\t});\n\t\t}\n\n\t}\n\n\tclass LineBasicMaterial extends Material {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.isLineBasicMaterial = true;\n\t\t\tthis.type = 'LineBasicMaterial';\n\t\t\tthis.color = new Color(0xffffff);\n\t\t\tthis.linewidth = 1;\n\t\t\tthis.linecap = 'round';\n\t\t\tthis.linejoin = 'round';\n\t\t\tthis.fog = true;\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.color.copy(source.color);\n\t\t\tthis.linewidth = source.linewidth;\n\t\t\tthis.linecap = source.linecap;\n\t\t\tthis.linejoin = source.linejoin;\n\t\t\tthis.fog = source.fog;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tconst _start$1 = /*@__PURE__*/new Vector3();\n\n\tconst _end$1 = /*@__PURE__*/new Vector3();\n\n\tconst _inverseMatrix$1 = /*@__PURE__*/new Matrix4();\n\n\tconst _ray$1 = /*@__PURE__*/new Ray();\n\n\tconst _sphere$1 = /*@__PURE__*/new Sphere();\n\n\tclass Line extends Object3D {\n\t\tconstructor(geometry = new BufferGeometry(), material = new LineBasicMaterial()) {\n\t\t\tsuper();\n\t\t\tthis.isLine = true;\n\t\t\tthis.type = 'Line';\n\t\t\tthis.geometry = geometry;\n\t\t\tthis.material = material;\n\t\t\tthis.updateMorphTargets();\n\t\t}\n\n\t\tcopy(source, recursive) {\n\t\t\tsuper.copy(source, recursive);\n\t\t\tthis.material = source.material;\n\t\t\tthis.geometry = source.geometry;\n\t\t\treturn this;\n\t\t}\n\n\t\tcomputeLineDistances() {\n\t\t\tconst geometry = this.geometry; // we assume non-indexed geometry\n\n\t\t\tif (geometry.index === null) {\n\t\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\t\tconst lineDistances = [0];\n\n\t\t\t\tfor (let i = 1, l = positionAttribute.count; i < l; i++) {\n\t\t\t\t\t_start$1.fromBufferAttribute(positionAttribute, i - 1);\n\n\t\t\t\t\t_end$1.fromBufferAttribute(positionAttribute, i);\n\n\t\t\t\t\tlineDistances[i] = lineDistances[i - 1];\n\t\t\t\t\tlineDistances[i] += _start$1.distanceTo(_end$1);\n\t\t\t\t}\n\n\t\t\t\tgeometry.setAttribute('lineDistance', new Float32BufferAttribute(lineDistances, 1));\n\t\t\t} else {\n\t\t\t\tconsole.warn('THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.');\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\traycast(raycaster, intersects) {\n\t\t\tconst geometry = this.geometry;\n\t\t\tconst matrixWorld = this.matrixWorld;\n\t\t\tconst threshold = raycaster.params.Line.threshold;\n\t\t\tconst drawRange = geometry.drawRange; // Checking boundingSphere distance to ray\n\n\t\t\tif (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n\n\t\t\t_sphere$1.copy(geometry.boundingSphere);\n\n\t\t\t_sphere$1.applyMatrix4(matrixWorld);\n\n\t\t\t_sphere$1.radius += threshold;\n\t\t\tif (raycaster.ray.intersectsSphere(_sphere$1) === false) return; //\n\n\t\t\t_inverseMatrix$1.copy(matrixWorld).invert();\n\n\t\t\t_ray$1.copy(raycaster.ray).applyMatrix4(_inverseMatrix$1);\n\n\t\t\tconst localThreshold = threshold / ((this.scale.x + this.scale.y + this.scale.z) / 3);\n\t\t\tconst localThresholdSq = localThreshold * localThreshold;\n\t\t\tconst vStart = new Vector3();\n\t\t\tconst vEnd = new Vector3();\n\t\t\tconst interSegment = new Vector3();\n\t\t\tconst interRay = new Vector3();\n\t\t\tconst step = this.isLineSegments ? 2 : 1;\n\t\t\tconst index = geometry.index;\n\t\t\tconst attributes = geometry.attributes;\n\t\t\tconst positionAttribute = attributes.position;\n\n\t\t\tif (index !== null) {\n\t\t\t\tconst start = Math.max(0, drawRange.start);\n\t\t\t\tconst end = Math.min(index.count, drawRange.start + drawRange.count);\n\n\t\t\t\tfor (let i = start, l = end - 1; i < l; i += step) {\n\t\t\t\t\tconst a = index.getX(i);\n\t\t\t\t\tconst b = index.getX(i + 1);\n\t\t\t\t\tvStart.fromBufferAttribute(positionAttribute, a);\n\t\t\t\t\tvEnd.fromBufferAttribute(positionAttribute, b);\n\n\t\t\t\t\tconst distSq = _ray$1.distanceSqToSegment(vStart, vEnd, interRay, interSegment);\n\n\t\t\t\t\tif (distSq > localThresholdSq) continue;\n\t\t\t\t\tinterRay.applyMatrix4(this.matrixWorld); //Move back to world space for distance calculation\n\n\t\t\t\t\tconst distance = raycaster.ray.origin.distanceTo(interRay);\n\t\t\t\t\tif (distance < raycaster.near || distance > raycaster.far) continue;\n\t\t\t\t\tintersects.push({\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4(this.matrixWorld),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst start = Math.max(0, drawRange.start);\n\t\t\t\tconst end = Math.min(positionAttribute.count, drawRange.start + drawRange.count);\n\n\t\t\t\tfor (let i = start, l = end - 1; i < l; i += step) {\n\t\t\t\t\tvStart.fromBufferAttribute(positionAttribute, i);\n\t\t\t\t\tvEnd.fromBufferAttribute(positionAttribute, i + 1);\n\n\t\t\t\t\tconst distSq = _ray$1.distanceSqToSegment(vStart, vEnd, interRay, interSegment);\n\n\t\t\t\t\tif (distSq > localThresholdSq) continue;\n\t\t\t\t\tinterRay.applyMatrix4(this.matrixWorld); //Move back to world space for distance calculation\n\n\t\t\t\t\tconst distance = raycaster.ray.origin.distanceTo(interRay);\n\t\t\t\t\tif (distance < raycaster.near || distance > raycaster.far) continue;\n\t\t\t\t\tintersects.push({\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4(this.matrixWorld),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tupdateMorphTargets() {\n\t\t\tconst geometry = this.geometry;\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys(morphAttributes);\n\n\t\t\tif (keys.length > 0) {\n\t\t\t\tconst morphAttribute = morphAttributes[keys[0]];\n\n\t\t\t\tif (morphAttribute !== undefined) {\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor (let m = 0, ml = morphAttribute.length; m < ml; m++) {\n\t\t\t\t\t\tconst name = morphAttribute[m].name || String(m);\n\t\t\t\t\t\tthis.morphTargetInfluences.push(0);\n\t\t\t\t\t\tthis.morphTargetDictionary[name] = m;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n\n\tconst _start = /*@__PURE__*/new Vector3();\n\n\tconst _end = /*@__PURE__*/new Vector3();\n\n\tclass LineSegments extends Line {\n\t\tconstructor(geometry, material) {\n\t\t\tsuper(geometry, material);\n\t\t\tthis.isLineSegments = true;\n\t\t\tthis.type = 'LineSegments';\n\t\t}\n\n\t\tcomputeLineDistances() {\n\t\t\tconst geometry = this.geometry; // we assume non-indexed geometry\n\n\t\t\tif (geometry.index === null) {\n\t\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\t\tconst lineDistances = [];\n\n\t\t\t\tfor (let i = 0, l = positionAttribute.count; i < l; i += 2) {\n\t\t\t\t\t_start.fromBufferAttribute(positionAttribute, i);\n\n\t\t\t\t\t_end.fromBufferAttribute(positionAttribute, i + 1);\n\n\t\t\t\t\tlineDistances[i] = i === 0 ? 0 : lineDistances[i - 1];\n\t\t\t\t\tlineDistances[i + 1] = lineDistances[i] + _start.distanceTo(_end);\n\t\t\t\t}\n\n\t\t\t\tgeometry.setAttribute('lineDistance', new Float32BufferAttribute(lineDistances, 1));\n\t\t\t} else {\n\t\t\t\tconsole.warn('THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.');\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass LineLoop extends Line {\n\t\tconstructor(geometry, material) {\n\t\t\tsuper(geometry, material);\n\t\t\tthis.isLineLoop = true;\n\t\t\tthis.type = 'LineLoop';\n\t\t}\n\n\t}\n\n\tclass PointsMaterial extends Material {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.isPointsMaterial = true;\n\t\t\tthis.type = 'PointsMaterial';\n\t\t\tthis.color = new Color(0xffffff);\n\t\t\tthis.map = null;\n\t\t\tthis.alphaMap = null;\n\t\t\tthis.size = 1;\n\t\t\tthis.sizeAttenuation = true;\n\t\t\tthis.fog = true;\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.color.copy(source.color);\n\t\t\tthis.map = source.map;\n\t\t\tthis.alphaMap = source.alphaMap;\n\t\t\tthis.size = source.size;\n\t\t\tthis.sizeAttenuation = source.sizeAttenuation;\n\t\t\tthis.fog = source.fog;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tconst _inverseMatrix = /*@__PURE__*/new Matrix4();\n\n\tconst _ray = /*@__PURE__*/new Ray();\n\n\tconst _sphere = /*@__PURE__*/new Sphere();\n\n\tconst _position$2 = /*@__PURE__*/new Vector3();\n\n\tclass Points extends Object3D {\n\t\tconstructor(geometry = new BufferGeometry(), material = new PointsMaterial()) {\n\t\t\tsuper();\n\t\t\tthis.isPoints = true;\n\t\t\tthis.type = 'Points';\n\t\t\tthis.geometry = geometry;\n\t\t\tthis.material = material;\n\t\t\tthis.updateMorphTargets();\n\t\t}\n\n\t\tcopy(source, recursive) {\n\t\t\tsuper.copy(source, recursive);\n\t\t\tthis.material = source.material;\n\t\t\tthis.geometry = source.geometry;\n\t\t\treturn this;\n\t\t}\n\n\t\traycast(raycaster, intersects) {\n\t\t\tconst geometry = this.geometry;\n\t\t\tconst matrixWorld = this.matrixWorld;\n\t\t\tconst threshold = raycaster.params.Points.threshold;\n\t\t\tconst drawRange = geometry.drawRange; // Checking boundingSphere distance to ray\n\n\t\t\tif (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n\n\t\t\t_sphere.copy(geometry.boundingSphere);\n\n\t\t\t_sphere.applyMatrix4(matrixWorld);\n\n\t\t\t_sphere.radius += threshold;\n\t\t\tif (raycaster.ray.intersectsSphere(_sphere) === false) return; //\n\n\t\t\t_inverseMatrix.copy(matrixWorld).invert();\n\n\t\t\t_ray.copy(raycaster.ray).applyMatrix4(_inverseMatrix);\n\n\t\t\tconst localThreshold = threshold / ((this.scale.x + this.scale.y + this.scale.z) / 3);\n\t\t\tconst localThresholdSq = localThreshold * localThreshold;\n\t\t\tconst index = geometry.index;\n\t\t\tconst attributes = geometry.attributes;\n\t\t\tconst positionAttribute = attributes.position;\n\n\t\t\tif (index !== null) {\n\t\t\t\tconst start = Math.max(0, drawRange.start);\n\t\t\t\tconst end = Math.min(index.count, drawRange.start + drawRange.count);\n\n\t\t\t\tfor (let i = start, il = end; i < il; i++) {\n\t\t\t\t\tconst a = index.getX(i);\n\n\t\t\t\t\t_position$2.fromBufferAttribute(positionAttribute, a);\n\n\t\t\t\t\ttestPoint(_position$2, a, localThresholdSq, matrixWorld, raycaster, intersects, this);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst start = Math.max(0, drawRange.start);\n\t\t\t\tconst end = Math.min(positionAttribute.count, drawRange.start + drawRange.count);\n\n\t\t\t\tfor (let i = start, l = end; i < l; i++) {\n\t\t\t\t\t_position$2.fromBufferAttribute(positionAttribute, i);\n\n\t\t\t\t\ttestPoint(_position$2, i, localThresholdSq, matrixWorld, raycaster, intersects, this);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tupdateMorphTargets() {\n\t\t\tconst geometry = this.geometry;\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys(morphAttributes);\n\n\t\t\tif (keys.length > 0) {\n\t\t\t\tconst morphAttribute = morphAttributes[keys[0]];\n\n\t\t\t\tif (morphAttribute !== undefined) {\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor (let m = 0, ml = morphAttribute.length; m < ml; m++) {\n\t\t\t\t\t\tconst name = morphAttribute[m].name || String(m);\n\t\t\t\t\t\tthis.morphTargetInfluences.push(0);\n\t\t\t\t\t\tthis.morphTargetDictionary[name] = m;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n\n\tfunction testPoint(point, index, localThresholdSq, matrixWorld, raycaster, intersects, object) {\n\t\tconst rayPointDistanceSq = _ray.distanceSqToPoint(point);\n\n\t\tif (rayPointDistanceSq < localThresholdSq) {\n\t\t\tconst intersectPoint = new Vector3();\n\n\t\t\t_ray.closestPointToPoint(point, intersectPoint);\n\n\t\t\tintersectPoint.applyMatrix4(matrixWorld);\n\t\t\tconst distance = raycaster.ray.origin.distanceTo(intersectPoint);\n\t\t\tif (distance < raycaster.near || distance > raycaster.far) return;\n\t\t\tintersects.push({\n\t\t\t\tdistance: distance,\n\t\t\t\tdistanceToRay: Math.sqrt(rayPointDistanceSq),\n\t\t\t\tpoint: intersectPoint,\n\t\t\t\tindex: index,\n\t\t\t\tface: null,\n\t\t\t\tobject: object\n\t\t\t});\n\t\t}\n\t}\n\n\tclass VideoTexture extends Texture {\n\t\tconstructor(video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy) {\n\t\t\tsuper(video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy);\n\t\t\tthis.isVideoTexture = true;\n\t\t\tthis.minFilter = minFilter !== undefined ? minFilter : LinearFilter;\n\t\t\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\t\t\tthis.generateMipmaps = false;\n\t\t\tconst scope = this;\n\n\t\t\tfunction updateVideo() {\n\t\t\t\tscope.needsUpdate = true;\n\t\t\t\tvideo.requestVideoFrameCallback(updateVideo);\n\t\t\t}\n\n\t\t\tif ('requestVideoFrameCallback' in video) {\n\t\t\t\tvideo.requestVideoFrameCallback(updateVideo);\n\t\t\t}\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor(this.image).copy(this);\n\t\t}\n\n\t\tupdate() {\n\t\t\tconst video = this.image;\n\t\t\tconst hasVideoFrameCallback = ('requestVideoFrameCallback' in video);\n\n\t\t\tif (hasVideoFrameCallback === false && video.readyState >= video.HAVE_CURRENT_DATA) {\n\t\t\t\tthis.needsUpdate = true;\n\t\t\t}\n\t\t}\n\n\t}\n\n\tclass FramebufferTexture extends Texture {\n\t\tconstructor(width, height, format) {\n\t\t\tsuper({\n\t\t\t\twidth,\n\t\t\t\theight\n\t\t\t});\n\t\t\tthis.isFramebufferTexture = true;\n\t\t\tthis.format = format;\n\t\t\tthis.magFilter = NearestFilter;\n\t\t\tthis.minFilter = NearestFilter;\n\t\t\tthis.generateMipmaps = false;\n\t\t\tthis.needsUpdate = true;\n\t\t}\n\n\t}\n\n\tclass CompressedTexture extends Texture {\n\t\tconstructor(mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding) {\n\t\t\tsuper(null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding);\n\t\t\tthis.isCompressedTexture = true;\n\t\t\tthis.image = {\n\t\t\t\twidth: width,\n\t\t\t\theight: height\n\t\t\t};\n\t\t\tthis.mipmaps = mipmaps; // no flipping for cube textures\n\t\t\t// (also flipping doesn't work for compressed textures )\n\n\t\t\tthis.flipY = false; // can't generate mipmaps for compressed textures\n\t\t\t// mips must be embedded in DDS files\n\n\t\t\tthis.generateMipmaps = false;\n\t\t}\n\n\t}\n\n\tclass CanvasTexture extends Texture {\n\t\tconstructor(canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy) {\n\t\t\tsuper(canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy);\n\t\t\tthis.isCanvasTexture = true;\n\t\t\tthis.needsUpdate = true;\n\t\t}\n\n\t}\n\n\t/**\n\t * Extensible curve object.\n\t *\n\t * Some common of curve methods:\n\t * .getPoint( t, optionalTarget ), .getTangent( t, optionalTarget )\n\t * .getPointAt( u, optionalTarget ), .getTangentAt( u, optionalTarget )\n\t * .getPoints(), .getSpacedPoints()\n\t * .getLength()\n\t * .updateArcLengths()\n\t *\n\t * This following curves inherit from THREE.Curve:\n\t *\n\t * -- 2D curves --\n\t * THREE.ArcCurve\n\t * THREE.CubicBezierCurve\n\t * THREE.EllipseCurve\n\t * THREE.LineCurve\n\t * THREE.QuadraticBezierCurve\n\t * THREE.SplineCurve\n\t *\n\t * -- 3D curves --\n\t * THREE.CatmullRomCurve3\n\t * THREE.CubicBezierCurve3\n\t * THREE.LineCurve3\n\t * THREE.QuadraticBezierCurve3\n\t *\n\t * A series of curves can be represented as a THREE.CurvePath.\n\t *\n\t **/\n\n\tclass Curve {\n\t\tconstructor() {\n\t\t\tthis.type = 'Curve';\n\t\t\tthis.arcLengthDivisions = 200;\n\t\t} // Virtual base class method to overwrite and implement in subclasses\n\t\t//\t- t [0 .. 1]\n\n\n\t\tgetPoint() {\n\t\t\tconsole.warn('THREE.Curve: .getPoint() not implemented.');\n\t\t\treturn null;\n\t\t} // Get point at relative position in curve according to arc length\n\t\t// - u [0 .. 1]\n\n\n\t\tgetPointAt(u, optionalTarget) {\n\t\t\tconst t = this.getUtoTmapping(u);\n\t\t\treturn this.getPoint(t, optionalTarget);\n\t\t} // Get sequence of points using getPoint( t )\n\n\n\t\tgetPoints(divisions = 5) {\n\t\t\tconst points = [];\n\n\t\t\tfor (let d = 0; d <= divisions; d++) {\n\t\t\t\tpoints.push(this.getPoint(d / divisions));\n\t\t\t}\n\n\t\t\treturn points;\n\t\t} // Get sequence of points using getPointAt( u )\n\n\n\t\tgetSpacedPoints(divisions = 5) {\n\t\t\tconst points = [];\n\n\t\t\tfor (let d = 0; d <= divisions; d++) {\n\t\t\t\tpoints.push(this.getPointAt(d / divisions));\n\t\t\t}\n\n\t\t\treturn points;\n\t\t} // Get total curve arc length\n\n\n\t\tgetLength() {\n\t\t\tconst lengths = this.getLengths();\n\t\t\treturn lengths[lengths.length - 1];\n\t\t} // Get list of cumulative segment lengths\n\n\n\t\tgetLengths(divisions = this.arcLengthDivisions) {\n\t\t\tif (this.cacheArcLengths && this.cacheArcLengths.length === divisions + 1 && !this.needsUpdate) {\n\t\t\t\treturn this.cacheArcLengths;\n\t\t\t}\n\n\t\t\tthis.needsUpdate = false;\n\t\t\tconst cache = [];\n\t\t\tlet current,\n\t\t\t\t\tlast = this.getPoint(0);\n\t\t\tlet sum = 0;\n\t\t\tcache.push(0);\n\n\t\t\tfor (let p = 1; p <= divisions; p++) {\n\t\t\t\tcurrent = this.getPoint(p / divisions);\n\t\t\t\tsum += current.distanceTo(last);\n\t\t\t\tcache.push(sum);\n\t\t\t\tlast = current;\n\t\t\t}\n\n\t\t\tthis.cacheArcLengths = cache;\n\t\t\treturn cache; // { sums: cache, sum: sum }; Sum is in the last element.\n\t\t}\n\n\t\tupdateArcLengths() {\n\t\t\tthis.needsUpdate = true;\n\t\t\tthis.getLengths();\n\t\t} // Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n\n\n\t\tgetUtoTmapping(u, distance) {\n\t\t\tconst arcLengths = this.getLengths();\n\t\t\tlet i = 0;\n\t\t\tconst il = arcLengths.length;\n\t\t\tlet targetArcLength; // The targeted u distance value to get\n\n\t\t\tif (distance) {\n\t\t\t\ttargetArcLength = distance;\n\t\t\t} else {\n\t\t\t\ttargetArcLength = u * arcLengths[il - 1];\n\t\t\t} // binary search for the index with largest value smaller than target u distance\n\n\n\t\t\tlet low = 0,\n\t\t\t\t\thigh = il - 1,\n\t\t\t\t\tcomparison;\n\n\t\t\twhile (low <= high) {\n\t\t\t\ti = Math.floor(low + (high - low) / 2); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n\t\t\t\tcomparison = arcLengths[i] - targetArcLength;\n\n\t\t\t\tif (comparison < 0) {\n\t\t\t\t\tlow = i + 1;\n\t\t\t\t} else if (comparison > 0) {\n\t\t\t\t\thigh = i - 1;\n\t\t\t\t} else {\n\t\t\t\t\thigh = i;\n\t\t\t\t\tbreak; // DONE\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ti = high;\n\n\t\t\tif (arcLengths[i] === targetArcLength) {\n\t\t\t\treturn i / (il - 1);\n\t\t\t} // we could get finer grain at lengths, or use simple interpolation between two points\n\n\n\t\t\tconst lengthBefore = arcLengths[i];\n\t\t\tconst lengthAfter = arcLengths[i + 1];\n\t\t\tconst segmentLength = lengthAfter - lengthBefore; // determine where we are between the 'before' and 'after' points\n\n\t\t\tconst segmentFraction = (targetArcLength - lengthBefore) / segmentLength; // add that fractional amount to t\n\n\t\t\tconst t = (i + segmentFraction) / (il - 1);\n\t\t\treturn t;\n\t\t} // Returns a unit vector tangent at t\n\t\t// In case any sub curve does not implement its tangent derivation,\n\t\t// 2 points a small delta apart will be used to find its gradient\n\t\t// which seems to give a reasonable approximation\n\n\n\t\tgetTangent(t, optionalTarget) {\n\t\t\tconst delta = 0.0001;\n\t\t\tlet t1 = t - delta;\n\t\t\tlet t2 = t + delta; // Capping in case of danger\n\n\t\t\tif (t1 < 0) t1 = 0;\n\t\t\tif (t2 > 1) t2 = 1;\n\t\t\tconst pt1 = this.getPoint(t1);\n\t\t\tconst pt2 = this.getPoint(t2);\n\t\t\tconst tangent = optionalTarget || (pt1.isVector2 ? new Vector2() : new Vector3());\n\t\t\ttangent.copy(pt2).sub(pt1).normalize();\n\t\t\treturn tangent;\n\t\t}\n\n\t\tgetTangentAt(u, optionalTarget) {\n\t\t\tconst t = this.getUtoTmapping(u);\n\t\t\treturn this.getTangent(t, optionalTarget);\n\t\t}\n\n\t\tcomputeFrenetFrames(segments, closed) {\n\t\t\t// see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n\t\t\tconst normal = new Vector3();\n\t\t\tconst tangents = [];\n\t\t\tconst normals = [];\n\t\t\tconst binormals = [];\n\t\t\tconst vec = new Vector3();\n\t\t\tconst mat = new Matrix4(); // compute the tangent vectors for each segment on the curve\n\n\t\t\tfor (let i = 0; i <= segments; i++) {\n\t\t\t\tconst u = i / segments;\n\t\t\t\ttangents[i] = this.getTangentAt(u, new Vector3());\n\t\t\t} // select an initial normal vector perpendicular to the first tangent vector,\n\t\t\t// and in the direction of the minimum tangent xyz component\n\n\n\t\t\tnormals[0] = new Vector3();\n\t\t\tbinormals[0] = new Vector3();\n\t\t\tlet min = Number.MAX_VALUE;\n\t\t\tconst tx = Math.abs(tangents[0].x);\n\t\t\tconst ty = Math.abs(tangents[0].y);\n\t\t\tconst tz = Math.abs(tangents[0].z);\n\n\t\t\tif (tx <= min) {\n\t\t\t\tmin = tx;\n\t\t\t\tnormal.set(1, 0, 0);\n\t\t\t}\n\n\t\t\tif (ty <= min) {\n\t\t\t\tmin = ty;\n\t\t\t\tnormal.set(0, 1, 0);\n\t\t\t}\n\n\t\t\tif (tz <= min) {\n\t\t\t\tnormal.set(0, 0, 1);\n\t\t\t}\n\n\t\t\tvec.crossVectors(tangents[0], normal).normalize();\n\t\t\tnormals[0].crossVectors(tangents[0], vec);\n\t\t\tbinormals[0].crossVectors(tangents[0], normals[0]); // compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n\t\t\tfor (let i = 1; i <= segments; i++) {\n\t\t\t\tnormals[i] = normals[i - 1].clone();\n\t\t\t\tbinormals[i] = binormals[i - 1].clone();\n\t\t\t\tvec.crossVectors(tangents[i - 1], tangents[i]);\n\n\t\t\t\tif (vec.length() > Number.EPSILON) {\n\t\t\t\t\tvec.normalize();\n\t\t\t\t\tconst theta = Math.acos(clamp(tangents[i - 1].dot(tangents[i]), -1, 1)); // clamp for floating pt errors\n\n\t\t\t\t\tnormals[i].applyMatrix4(mat.makeRotationAxis(vec, theta));\n\t\t\t\t}\n\n\t\t\t\tbinormals[i].crossVectors(tangents[i], normals[i]);\n\t\t\t} // if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n\n\t\t\tif (closed === true) {\n\t\t\t\tlet theta = Math.acos(clamp(normals[0].dot(normals[segments]), -1, 1));\n\t\t\t\ttheta /= segments;\n\n\t\t\t\tif (tangents[0].dot(vec.crossVectors(normals[0], normals[segments])) > 0) {\n\t\t\t\t\ttheta = -theta;\n\t\t\t\t}\n\n\t\t\t\tfor (let i = 1; i <= segments; i++) {\n\t\t\t\t\t// twist a little...\n\t\t\t\t\tnormals[i].applyMatrix4(mat.makeRotationAxis(tangents[i], theta * i));\n\t\t\t\t\tbinormals[i].crossVectors(tangents[i], normals[i]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\ttangents: tangents,\n\t\t\t\tnormals: normals,\n\t\t\t\tbinormals: binormals\n\t\t\t};\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tthis.arcLengthDivisions = source.arcLengthDivisions;\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = {\n\t\t\t\tmetadata: {\n\t\t\t\t\tversion: 4.5,\n\t\t\t\t\ttype: 'Curve',\n\t\t\t\t\tgenerator: 'Curve.toJSON'\n\t\t\t\t}\n\t\t\t};\n\t\t\tdata.arcLengthDivisions = this.arcLengthDivisions;\n\t\t\tdata.type = this.type;\n\t\t\treturn data;\n\t\t}\n\n\t\tfromJSON(json) {\n\t\t\tthis.arcLengthDivisions = json.arcLengthDivisions;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass EllipseCurve extends Curve {\n\t\tconstructor(aX = 0, aY = 0, xRadius = 1, yRadius = 1, aStartAngle = 0, aEndAngle = Math.PI * 2, aClockwise = false, aRotation = 0) {\n\t\t\tsuper();\n\t\t\tthis.isEllipseCurve = true;\n\t\t\tthis.type = 'EllipseCurve';\n\t\t\tthis.aX = aX;\n\t\t\tthis.aY = aY;\n\t\t\tthis.xRadius = xRadius;\n\t\t\tthis.yRadius = yRadius;\n\t\t\tthis.aStartAngle = aStartAngle;\n\t\t\tthis.aEndAngle = aEndAngle;\n\t\t\tthis.aClockwise = aClockwise;\n\t\t\tthis.aRotation = aRotation;\n\t\t}\n\n\t\tgetPoint(t, optionalTarget) {\n\t\t\tconst point = optionalTarget || new Vector2();\n\t\t\tconst twoPi = Math.PI * 2;\n\t\t\tlet deltaAngle = this.aEndAngle - this.aStartAngle;\n\t\t\tconst samePoints = Math.abs(deltaAngle) < Number.EPSILON; // ensures that deltaAngle is 0 .. 2 PI\n\n\t\t\twhile (deltaAngle < 0) deltaAngle += twoPi;\n\n\t\t\twhile (deltaAngle > twoPi) deltaAngle -= twoPi;\n\n\t\t\tif (deltaAngle < Number.EPSILON) {\n\t\t\t\tif (samePoints) {\n\t\t\t\t\tdeltaAngle = 0;\n\t\t\t\t} else {\n\t\t\t\t\tdeltaAngle = twoPi;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.aClockwise === true && !samePoints) {\n\t\t\t\tif (deltaAngle === twoPi) {\n\t\t\t\t\tdeltaAngle = -twoPi;\n\t\t\t\t} else {\n\t\t\t\t\tdeltaAngle = deltaAngle - twoPi;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst angle = this.aStartAngle + t * deltaAngle;\n\t\t\tlet x = this.aX + this.xRadius * Math.cos(angle);\n\t\t\tlet y = this.aY + this.yRadius * Math.sin(angle);\n\n\t\t\tif (this.aRotation !== 0) {\n\t\t\t\tconst cos = Math.cos(this.aRotation);\n\t\t\t\tconst sin = Math.sin(this.aRotation);\n\t\t\t\tconst tx = x - this.aX;\n\t\t\t\tconst ty = y - this.aY; // Rotate the point about the center of the ellipse.\n\n\t\t\t\tx = tx * cos - ty * sin + this.aX;\n\t\t\t\ty = tx * sin + ty * cos + this.aY;\n\t\t\t}\n\n\t\t\treturn point.set(x, y);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.aX = source.aX;\n\t\t\tthis.aY = source.aY;\n\t\t\tthis.xRadius = source.xRadius;\n\t\t\tthis.yRadius = source.yRadius;\n\t\t\tthis.aStartAngle = source.aStartAngle;\n\t\t\tthis.aEndAngle = source.aEndAngle;\n\t\t\tthis.aClockwise = source.aClockwise;\n\t\t\tthis.aRotation = source.aRotation;\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tdata.aX = this.aX;\n\t\t\tdata.aY = this.aY;\n\t\t\tdata.xRadius = this.xRadius;\n\t\t\tdata.yRadius = this.yRadius;\n\t\t\tdata.aStartAngle = this.aStartAngle;\n\t\t\tdata.aEndAngle = this.aEndAngle;\n\t\t\tdata.aClockwise = this.aClockwise;\n\t\t\tdata.aRotation = this.aRotation;\n\t\t\treturn data;\n\t\t}\n\n\t\tfromJSON(json) {\n\t\t\tsuper.fromJSON(json);\n\t\t\tthis.aX = json.aX;\n\t\t\tthis.aY = json.aY;\n\t\t\tthis.xRadius = json.xRadius;\n\t\t\tthis.yRadius = json.yRadius;\n\t\t\tthis.aStartAngle = json.aStartAngle;\n\t\t\tthis.aEndAngle = json.aEndAngle;\n\t\t\tthis.aClockwise = json.aClockwise;\n\t\t\tthis.aRotation = json.aRotation;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass ArcCurve extends EllipseCurve {\n\t\tconstructor(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {\n\t\t\tsuper(aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise);\n\t\t\tthis.isArcCurve = true;\n\t\t\tthis.type = 'ArcCurve';\n\t\t}\n\n\t}\n\n\t/**\n\t * Centripetal CatmullRom Curve - which is useful for avoiding\n\t * cusps and self-intersections in non-uniform catmull rom curves.\n\t * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n\t *\n\t * curve.type accepts centripetal(default), chordal and catmullrom\n\t * curve.tension is used for catmullrom which defaults to 0.5\n\t */\n\n\t/*\n\tBased on an optimized c++ solution in\n\t - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n\t - http://ideone.com/NoEbVM\n\n\tThis CubicPoly class could be used for reusing some variables and calculations,\n\tbut for three.js curve use, it could be possible inlined and flatten into a single function call\n\twhich can be placed in CurveUtils.\n\t*/\n\n\tfunction CubicPoly() {\n\t\tlet c0 = 0,\n\t\t\t\tc1 = 0,\n\t\t\t\tc2 = 0,\n\t\t\t\tc3 = 0;\n\t\t/*\n\t\t * Compute coefficients for a cubic polynomial\n\t\t *\t p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n\t\t * such that\n\t\t *\t p(0) = x0, p(1) = x1\n\t\t *\tand\n\t\t *\t p'(0) = t0, p'(1) = t1.\n\t\t */\n\n\t\tfunction init(x0, x1, t0, t1) {\n\t\t\tc0 = x0;\n\t\t\tc1 = t0;\n\t\t\tc2 = -3 * x0 + 3 * x1 - 2 * t0 - t1;\n\t\t\tc3 = 2 * x0 - 2 * x1 + t0 + t1;\n\t\t}\n\n\t\treturn {\n\t\t\tinitCatmullRom: function (x0, x1, x2, x3, tension) {\n\t\t\t\tinit(x1, x2, tension * (x2 - x0), tension * (x3 - x1));\n\t\t\t},\n\t\t\tinitNonuniformCatmullRom: function (x0, x1, x2, x3, dt0, dt1, dt2) {\n\t\t\t\t// compute tangents when parameterized in [t1,t2]\n\t\t\t\tlet t1 = (x1 - x0) / dt0 - (x2 - x0) / (dt0 + dt1) + (x2 - x1) / dt1;\n\t\t\t\tlet t2 = (x2 - x1) / dt1 - (x3 - x1) / (dt1 + dt2) + (x3 - x2) / dt2; // rescale tangents for parametrization in [0,1]\n\n\t\t\t\tt1 *= dt1;\n\t\t\t\tt2 *= dt1;\n\t\t\t\tinit(x1, x2, t1, t2);\n\t\t\t},\n\t\t\tcalc: function (t) {\n\t\t\t\tconst t2 = t * t;\n\t\t\t\tconst t3 = t2 * t;\n\t\t\t\treturn c0 + c1 * t + c2 * t2 + c3 * t3;\n\t\t\t}\n\t\t};\n\t} //\n\n\n\tconst tmp = new Vector3();\n\tconst px = new CubicPoly(),\n\t\t\t\tpy = new CubicPoly(),\n\t\t\t\tpz = new CubicPoly();\n\n\tclass CatmullRomCurve3 extends Curve {\n\t\tconstructor(points = [], closed = false, curveType = 'centripetal', tension = 0.5) {\n\t\t\tsuper();\n\t\t\tthis.isCatmullRomCurve3 = true;\n\t\t\tthis.type = 'CatmullRomCurve3';\n\t\t\tthis.points = points;\n\t\t\tthis.closed = closed;\n\t\t\tthis.curveType = curveType;\n\t\t\tthis.tension = tension;\n\t\t}\n\n\t\tgetPoint(t, optionalTarget = new Vector3()) {\n\t\t\tconst point = optionalTarget;\n\t\t\tconst points = this.points;\n\t\t\tconst l = points.length;\n\t\t\tconst p = (l - (this.closed ? 0 : 1)) * t;\n\t\t\tlet intPoint = Math.floor(p);\n\t\t\tlet weight = p - intPoint;\n\n\t\t\tif (this.closed) {\n\t\t\t\tintPoint += intPoint > 0 ? 0 : (Math.floor(Math.abs(intPoint) / l) + 1) * l;\n\t\t\t} else if (weight === 0 && intPoint === l - 1) {\n\t\t\t\tintPoint = l - 2;\n\t\t\t\tweight = 1;\n\t\t\t}\n\n\t\t\tlet p0, p3; // 4 points (p1 & p2 defined below)\n\n\t\t\tif (this.closed || intPoint > 0) {\n\t\t\t\tp0 = points[(intPoint - 1) % l];\n\t\t\t} else {\n\t\t\t\t// extrapolate first point\n\t\t\t\ttmp.subVectors(points[0], points[1]).add(points[0]);\n\t\t\t\tp0 = tmp;\n\t\t\t}\n\n\t\t\tconst p1 = points[intPoint % l];\n\t\t\tconst p2 = points[(intPoint + 1) % l];\n\n\t\t\tif (this.closed || intPoint + 2 < l) {\n\t\t\t\tp3 = points[(intPoint + 2) % l];\n\t\t\t} else {\n\t\t\t\t// extrapolate last point\n\t\t\t\ttmp.subVectors(points[l - 1], points[l - 2]).add(points[l - 1]);\n\t\t\t\tp3 = tmp;\n\t\t\t}\n\n\t\t\tif (this.curveType === 'centripetal' || this.curveType === 'chordal') {\n\t\t\t\t// init Centripetal / Chordal Catmull-Rom\n\t\t\t\tconst pow = this.curveType === 'chordal' ? 0.5 : 0.25;\n\t\t\t\tlet dt0 = Math.pow(p0.distanceToSquared(p1), pow);\n\t\t\t\tlet dt1 = Math.pow(p1.distanceToSquared(p2), pow);\n\t\t\t\tlet dt2 = Math.pow(p2.distanceToSquared(p3), pow); // safety check for repeated points\n\n\t\t\t\tif (dt1 < 1e-4) dt1 = 1.0;\n\t\t\t\tif (dt0 < 1e-4) dt0 = dt1;\n\t\t\t\tif (dt2 < 1e-4) dt2 = dt1;\n\t\t\t\tpx.initNonuniformCatmullRom(p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2);\n\t\t\t\tpy.initNonuniformCatmullRom(p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2);\n\t\t\t\tpz.initNonuniformCatmullRom(p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2);\n\t\t\t} else if (this.curveType === 'catmullrom') {\n\t\t\t\tpx.initCatmullRom(p0.x, p1.x, p2.x, p3.x, this.tension);\n\t\t\t\tpy.initCatmullRom(p0.y, p1.y, p2.y, p3.y, this.tension);\n\t\t\t\tpz.initCatmullRom(p0.z, p1.z, p2.z, p3.z, this.tension);\n\t\t\t}\n\n\t\t\tpoint.set(px.calc(weight), py.calc(weight), pz.calc(weight));\n\t\t\treturn point;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.points = [];\n\n\t\t\tfor (let i = 0, l = source.points.length; i < l; i++) {\n\t\t\t\tconst point = source.points[i];\n\t\t\t\tthis.points.push(point.clone());\n\t\t\t}\n\n\t\t\tthis.closed = source.closed;\n\t\t\tthis.curveType = source.curveType;\n\t\t\tthis.tension = source.tension;\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tdata.points = [];\n\n\t\t\tfor (let i = 0, l = this.points.length; i < l; i++) {\n\t\t\t\tconst point = this.points[i];\n\t\t\t\tdata.points.push(point.toArray());\n\t\t\t}\n\n\t\t\tdata.closed = this.closed;\n\t\t\tdata.curveType = this.curveType;\n\t\t\tdata.tension = this.tension;\n\t\t\treturn data;\n\t\t}\n\n\t\tfromJSON(json) {\n\t\t\tsuper.fromJSON(json);\n\t\t\tthis.points = [];\n\n\t\t\tfor (let i = 0, l = json.points.length; i < l; i++) {\n\t\t\t\tconst point = json.points[i];\n\t\t\t\tthis.points.push(new Vector3().fromArray(point));\n\t\t\t}\n\n\t\t\tthis.closed = json.closed;\n\t\t\tthis.curveType = json.curveType;\n\t\t\tthis.tension = json.tension;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\t/**\n\t * Bezier Curves formulas obtained from\n\t * https://en.wikipedia.org/wiki/B%C3%A9zier_curve\n\t */\n\tfunction CatmullRom(t, p0, p1, p2, p3) {\n\t\tconst v0 = (p2 - p0) * 0.5;\n\t\tconst v1 = (p3 - p1) * 0.5;\n\t\tconst t2 = t * t;\n\t\tconst t3 = t * t2;\n\t\treturn (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n\t} //\n\n\n\tfunction QuadraticBezierP0(t, p) {\n\t\tconst k = 1 - t;\n\t\treturn k * k * p;\n\t}\n\n\tfunction QuadraticBezierP1(t, p) {\n\t\treturn 2 * (1 - t) * t * p;\n\t}\n\n\tfunction QuadraticBezierP2(t, p) {\n\t\treturn t * t * p;\n\t}\n\n\tfunction QuadraticBezier(t, p0, p1, p2) {\n\t\treturn QuadraticBezierP0(t, p0) + QuadraticBezierP1(t, p1) + QuadraticBezierP2(t, p2);\n\t} //\n\n\n\tfunction CubicBezierP0(t, p) {\n\t\tconst k = 1 - t;\n\t\treturn k * k * k * p;\n\t}\n\n\tfunction CubicBezierP1(t, p) {\n\t\tconst k = 1 - t;\n\t\treturn 3 * k * k * t * p;\n\t}\n\n\tfunction CubicBezierP2(t, p) {\n\t\treturn 3 * (1 - t) * t * t * p;\n\t}\n\n\tfunction CubicBezierP3(t, p) {\n\t\treturn t * t * t * p;\n\t}\n\n\tfunction CubicBezier(t, p0, p1, p2, p3) {\n\t\treturn CubicBezierP0(t, p0) + CubicBezierP1(t, p1) + CubicBezierP2(t, p2) + CubicBezierP3(t, p3);\n\t}\n\n\tclass CubicBezierCurve extends Curve {\n\t\tconstructor(v0 = new Vector2(), v1 = new Vector2(), v2 = new Vector2(), v3 = new Vector2()) {\n\t\t\tsuper();\n\t\t\tthis.isCubicBezierCurve = true;\n\t\t\tthis.type = 'CubicBezierCurve';\n\t\t\tthis.v0 = v0;\n\t\t\tthis.v1 = v1;\n\t\t\tthis.v2 = v2;\n\t\t\tthis.v3 = v3;\n\t\t}\n\n\t\tgetPoint(t, optionalTarget = new Vector2()) {\n\t\t\tconst point = optionalTarget;\n\t\t\tconst v0 = this.v0,\n\t\t\t\t\t\tv1 = this.v1,\n\t\t\t\t\t\tv2 = this.v2,\n\t\t\t\t\t\tv3 = this.v3;\n\t\t\tpoint.set(CubicBezier(t, v0.x, v1.x, v2.x, v3.x), CubicBezier(t, v0.y, v1.y, v2.y, v3.y));\n\t\t\treturn point;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.v0.copy(source.v0);\n\t\t\tthis.v1.copy(source.v1);\n\t\t\tthis.v2.copy(source.v2);\n\t\t\tthis.v3.copy(source.v3);\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tdata.v0 = this.v0.toArray();\n\t\t\tdata.v1 = this.v1.toArray();\n\t\t\tdata.v2 = this.v2.toArray();\n\t\t\tdata.v3 = this.v3.toArray();\n\t\t\treturn data;\n\t\t}\n\n\t\tfromJSON(json) {\n\t\t\tsuper.fromJSON(json);\n\t\t\tthis.v0.fromArray(json.v0);\n\t\t\tthis.v1.fromArray(json.v1);\n\t\t\tthis.v2.fromArray(json.v2);\n\t\t\tthis.v3.fromArray(json.v3);\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass CubicBezierCurve3 extends Curve {\n\t\tconstructor(v0 = new Vector3(), v1 = new Vector3(), v2 = new Vector3(), v3 = new Vector3()) {\n\t\t\tsuper();\n\t\t\tthis.isCubicBezierCurve3 = true;\n\t\t\tthis.type = 'CubicBezierCurve3';\n\t\t\tthis.v0 = v0;\n\t\t\tthis.v1 = v1;\n\t\t\tthis.v2 = v2;\n\t\t\tthis.v3 = v3;\n\t\t}\n\n\t\tgetPoint(t, optionalTarget = new Vector3()) {\n\t\t\tconst point = optionalTarget;\n\t\t\tconst v0 = this.v0,\n\t\t\t\t\t\tv1 = this.v1,\n\t\t\t\t\t\tv2 = this.v2,\n\t\t\t\t\t\tv3 = this.v3;\n\t\t\tpoint.set(CubicBezier(t, v0.x, v1.x, v2.x, v3.x), CubicBezier(t, v0.y, v1.y, v2.y, v3.y), CubicBezier(t, v0.z, v1.z, v2.z, v3.z));\n\t\t\treturn point;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.v0.copy(source.v0);\n\t\t\tthis.v1.copy(source.v1);\n\t\t\tthis.v2.copy(source.v2);\n\t\t\tthis.v3.copy(source.v3);\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tdata.v0 = this.v0.toArray();\n\t\t\tdata.v1 = this.v1.toArray();\n\t\t\tdata.v2 = this.v2.toArray();\n\t\t\tdata.v3 = this.v3.toArray();\n\t\t\treturn data;\n\t\t}\n\n\t\tfromJSON(json) {\n\t\t\tsuper.fromJSON(json);\n\t\t\tthis.v0.fromArray(json.v0);\n\t\t\tthis.v1.fromArray(json.v1);\n\t\t\tthis.v2.fromArray(json.v2);\n\t\t\tthis.v3.fromArray(json.v3);\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass LineCurve extends Curve {\n\t\tconstructor(v1 = new Vector2(), v2 = new Vector2()) {\n\t\t\tsuper();\n\t\t\tthis.isLineCurve = true;\n\t\t\tthis.type = 'LineCurve';\n\t\t\tthis.v1 = v1;\n\t\t\tthis.v2 = v2;\n\t\t}\n\n\t\tgetPoint(t, optionalTarget = new Vector2()) {\n\t\t\tconst point = optionalTarget;\n\n\t\t\tif (t === 1) {\n\t\t\t\tpoint.copy(this.v2);\n\t\t\t} else {\n\t\t\t\tpoint.copy(this.v2).sub(this.v1);\n\t\t\t\tpoint.multiplyScalar(t).add(this.v1);\n\t\t\t}\n\n\t\t\treturn point;\n\t\t} // Line curve is linear, so we can overwrite default getPointAt\n\n\n\t\tgetPointAt(u, optionalTarget) {\n\t\t\treturn this.getPoint(u, optionalTarget);\n\t\t}\n\n\t\tgetTangent(t, optionalTarget) {\n\t\t\tconst tangent = optionalTarget || new Vector2();\n\t\t\ttangent.copy(this.v2).sub(this.v1).normalize();\n\t\t\treturn tangent;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.v1.copy(source.v1);\n\t\t\tthis.v2.copy(source.v2);\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tdata.v1 = this.v1.toArray();\n\t\t\tdata.v2 = this.v2.toArray();\n\t\t\treturn data;\n\t\t}\n\n\t\tfromJSON(json) {\n\t\t\tsuper.fromJSON(json);\n\t\t\tthis.v1.fromArray(json.v1);\n\t\t\tthis.v2.fromArray(json.v2);\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass LineCurve3 extends Curve {\n\t\tconstructor(v1 = new Vector3(), v2 = new Vector3()) {\n\t\t\tsuper();\n\t\t\tthis.isLineCurve3 = true;\n\t\t\tthis.type = 'LineCurve3';\n\t\t\tthis.v1 = v1;\n\t\t\tthis.v2 = v2;\n\t\t}\n\n\t\tgetPoint(t, optionalTarget = new Vector3()) {\n\t\t\tconst point = optionalTarget;\n\n\t\t\tif (t === 1) {\n\t\t\t\tpoint.copy(this.v2);\n\t\t\t} else {\n\t\t\t\tpoint.copy(this.v2).sub(this.v1);\n\t\t\t\tpoint.multiplyScalar(t).add(this.v1);\n\t\t\t}\n\n\t\t\treturn point;\n\t\t} // Line curve is linear, so we can overwrite default getPointAt\n\n\n\t\tgetPointAt(u, optionalTarget) {\n\t\t\treturn this.getPoint(u, optionalTarget);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.v1.copy(source.v1);\n\t\t\tthis.v2.copy(source.v2);\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tdata.v1 = this.v1.toArray();\n\t\t\tdata.v2 = this.v2.toArray();\n\t\t\treturn data;\n\t\t}\n\n\t\tfromJSON(json) {\n\t\t\tsuper.fromJSON(json);\n\t\t\tthis.v1.fromArray(json.v1);\n\t\t\tthis.v2.fromArray(json.v2);\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass QuadraticBezierCurve extends Curve {\n\t\tconstructor(v0 = new Vector2(), v1 = new Vector2(), v2 = new Vector2()) {\n\t\t\tsuper();\n\t\t\tthis.isQuadraticBezierCurve = true;\n\t\t\tthis.type = 'QuadraticBezierCurve';\n\t\t\tthis.v0 = v0;\n\t\t\tthis.v1 = v1;\n\t\t\tthis.v2 = v2;\n\t\t}\n\n\t\tgetPoint(t, optionalTarget = new Vector2()) {\n\t\t\tconst point = optionalTarget;\n\t\t\tconst v0 = this.v0,\n\t\t\t\t\t\tv1 = this.v1,\n\t\t\t\t\t\tv2 = this.v2;\n\t\t\tpoint.set(QuadraticBezier(t, v0.x, v1.x, v2.x), QuadraticBezier(t, v0.y, v1.y, v2.y));\n\t\t\treturn point;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.v0.copy(source.v0);\n\t\t\tthis.v1.copy(source.v1);\n\t\t\tthis.v2.copy(source.v2);\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tdata.v0 = this.v0.toArray();\n\t\t\tdata.v1 = this.v1.toArray();\n\t\t\tdata.v2 = this.v2.toArray();\n\t\t\treturn data;\n\t\t}\n\n\t\tfromJSON(json) {\n\t\t\tsuper.fromJSON(json);\n\t\t\tthis.v0.fromArray(json.v0);\n\t\t\tthis.v1.fromArray(json.v1);\n\t\t\tthis.v2.fromArray(json.v2);\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass QuadraticBezierCurve3 extends Curve {\n\t\tconstructor(v0 = new Vector3(), v1 = new Vector3(), v2 = new Vector3()) {\n\t\t\tsuper();\n\t\t\tthis.isQuadraticBezierCurve3 = true;\n\t\t\tthis.type = 'QuadraticBezierCurve3';\n\t\t\tthis.v0 = v0;\n\t\t\tthis.v1 = v1;\n\t\t\tthis.v2 = v2;\n\t\t}\n\n\t\tgetPoint(t, optionalTarget = new Vector3()) {\n\t\t\tconst point = optionalTarget;\n\t\t\tconst v0 = this.v0,\n\t\t\t\t\t\tv1 = this.v1,\n\t\t\t\t\t\tv2 = this.v2;\n\t\t\tpoint.set(QuadraticBezier(t, v0.x, v1.x, v2.x), QuadraticBezier(t, v0.y, v1.y, v2.y), QuadraticBezier(t, v0.z, v1.z, v2.z));\n\t\t\treturn point;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.v0.copy(source.v0);\n\t\t\tthis.v1.copy(source.v1);\n\t\t\tthis.v2.copy(source.v2);\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tdata.v0 = this.v0.toArray();\n\t\t\tdata.v1 = this.v1.toArray();\n\t\t\tdata.v2 = this.v2.toArray();\n\t\t\treturn data;\n\t\t}\n\n\t\tfromJSON(json) {\n\t\t\tsuper.fromJSON(json);\n\t\t\tthis.v0.fromArray(json.v0);\n\t\t\tthis.v1.fromArray(json.v1);\n\t\t\tthis.v2.fromArray(json.v2);\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass SplineCurve extends Curve {\n\t\tconstructor(points = []) {\n\t\t\tsuper();\n\t\t\tthis.isSplineCurve = true;\n\t\t\tthis.type = 'SplineCurve';\n\t\t\tthis.points = points;\n\t\t}\n\n\t\tgetPoint(t, optionalTarget = new Vector2()) {\n\t\t\tconst point = optionalTarget;\n\t\t\tconst points = this.points;\n\t\t\tconst p = (points.length - 1) * t;\n\t\t\tconst intPoint = Math.floor(p);\n\t\t\tconst weight = p - intPoint;\n\t\t\tconst p0 = points[intPoint === 0 ? intPoint : intPoint - 1];\n\t\t\tconst p1 = points[intPoint];\n\t\t\tconst p2 = points[intPoint > points.length - 2 ? points.length - 1 : intPoint + 1];\n\t\t\tconst p3 = points[intPoint > points.length - 3 ? points.length - 1 : intPoint + 2];\n\t\t\tpoint.set(CatmullRom(weight, p0.x, p1.x, p2.x, p3.x), CatmullRom(weight, p0.y, p1.y, p2.y, p3.y));\n\t\t\treturn point;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.points = [];\n\n\t\t\tfor (let i = 0, l = source.points.length; i < l; i++) {\n\t\t\t\tconst point = source.points[i];\n\t\t\t\tthis.points.push(point.clone());\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tdata.points = [];\n\n\t\t\tfor (let i = 0, l = this.points.length; i < l; i++) {\n\t\t\t\tconst point = this.points[i];\n\t\t\t\tdata.points.push(point.toArray());\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\tfromJSON(json) {\n\t\t\tsuper.fromJSON(json);\n\t\t\tthis.points = [];\n\n\t\t\tfor (let i = 0, l = json.points.length; i < l; i++) {\n\t\t\t\tconst point = json.points[i];\n\t\t\t\tthis.points.push(new Vector2().fromArray(point));\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tvar Curves = /*#__PURE__*/Object.freeze({\n\t\t__proto__: null,\n\t\tArcCurve: ArcCurve,\n\t\tCatmullRomCurve3: CatmullRomCurve3,\n\t\tCubicBezierCurve: CubicBezierCurve,\n\t\tCubicBezierCurve3: CubicBezierCurve3,\n\t\tEllipseCurve: EllipseCurve,\n\t\tLineCurve: LineCurve,\n\t\tLineCurve3: LineCurve3,\n\t\tQuadraticBezierCurve: QuadraticBezierCurve,\n\t\tQuadraticBezierCurve3: QuadraticBezierCurve3,\n\t\tSplineCurve: SplineCurve\n\t});\n\n\t/**************************************************************\n\t *\tCurved Path - a curve path is simply a array of connected\n\t *\tcurves, but retains the api of a curve\n\t **************************************************************/\n\n\tclass CurvePath extends Curve {\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tthis.type = 'CurvePath';\n\t\t\tthis.curves = [];\n\t\t\tthis.autoClose = false; // Automatically closes the path\n\t\t}\n\n\t\tadd(curve) {\n\t\t\tthis.curves.push(curve);\n\t\t}\n\n\t\tclosePath() {\n\t\t\t// Add a line curve if start and end of lines are not connected\n\t\t\tconst startPoint = this.curves[0].getPoint(0);\n\t\t\tconst endPoint = this.curves[this.curves.length - 1].getPoint(1);\n\n\t\t\tif (!startPoint.equals(endPoint)) {\n\t\t\t\tthis.curves.push(new LineCurve(endPoint, startPoint));\n\t\t\t}\n\t\t} // To get accurate point with reference to\n\t\t// entire path distance at time t,\n\t\t// following has to be done:\n\t\t// 1. Length of each sub path have to be known\n\t\t// 2. Locate and identify type of curve\n\t\t// 3. Get t for the curve\n\t\t// 4. Return curve.getPointAt(t')\n\n\n\t\tgetPoint(t, optionalTarget) {\n\t\t\tconst d = t * this.getLength();\n\t\t\tconst curveLengths = this.getCurveLengths();\n\t\t\tlet i = 0; // To think about boundaries points.\n\n\t\t\twhile (i < curveLengths.length) {\n\t\t\t\tif (curveLengths[i] >= d) {\n\t\t\t\t\tconst diff = curveLengths[i] - d;\n\t\t\t\t\tconst curve = this.curves[i];\n\t\t\t\t\tconst segmentLength = curve.getLength();\n\t\t\t\t\tconst u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n\t\t\t\t\treturn curve.getPointAt(u, optionalTarget);\n\t\t\t\t}\n\n\t\t\t\ti++;\n\t\t\t}\n\n\t\t\treturn null; // loop where sum != 0, sum > d , sum+1 <d\n\t\t} // We cannot use the default THREE.Curve getPoint() with getLength() because in\n\t\t// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n\t\t// getPoint() depends on getLength\n\n\n\t\tgetLength() {\n\t\t\tconst lens = this.getCurveLengths();\n\t\t\treturn lens[lens.length - 1];\n\t\t} // cacheLengths must be recalculated.\n\n\n\t\tupdateArcLengths() {\n\t\t\tthis.needsUpdate = true;\n\t\t\tthis.cacheLengths = null;\n\t\t\tthis.getCurveLengths();\n\t\t} // Compute lengths and cache them\n\t\t// We cannot overwrite getLengths() because UtoT mapping uses it.\n\n\n\t\tgetCurveLengths() {\n\t\t\t// We use cache values if curves and cache array are same length\n\t\t\tif (this.cacheLengths && this.cacheLengths.length === this.curves.length) {\n\t\t\t\treturn this.cacheLengths;\n\t\t\t} // Get length of sub-curve\n\t\t\t// Push sums into cached array\n\n\n\t\t\tconst lengths = [];\n\t\t\tlet sums = 0;\n\n\t\t\tfor (let i = 0, l = this.curves.length; i < l; i++) {\n\t\t\t\tsums += this.curves[i].getLength();\n\t\t\t\tlengths.push(sums);\n\t\t\t}\n\n\t\t\tthis.cacheLengths = lengths;\n\t\t\treturn lengths;\n\t\t}\n\n\t\tgetSpacedPoints(divisions = 40) {\n\t\t\tconst points = [];\n\n\t\t\tfor (let i = 0; i <= divisions; i++) {\n\t\t\t\tpoints.push(this.getPoint(i / divisions));\n\t\t\t}\n\n\t\t\tif (this.autoClose) {\n\t\t\t\tpoints.push(points[0]);\n\t\t\t}\n\n\t\t\treturn points;\n\t\t}\n\n\t\tgetPoints(divisions = 12) {\n\t\t\tconst points = [];\n\t\t\tlet last;\n\n\t\t\tfor (let i = 0, curves = this.curves; i < curves.length; i++) {\n\t\t\t\tconst curve = curves[i];\n\t\t\t\tconst resolution = curve.isEllipseCurve ? divisions * 2 : curve.isLineCurve || curve.isLineCurve3 ? 1 : curve.isSplineCurve ? divisions * curve.points.length : divisions;\n\t\t\t\tconst pts = curve.getPoints(resolution);\n\n\t\t\t\tfor (let j = 0; j < pts.length; j++) {\n\t\t\t\t\tconst point = pts[j];\n\t\t\t\t\tif (last && last.equals(point)) continue; // ensures no consecutive points are duplicates\n\n\t\t\t\t\tpoints.push(point);\n\t\t\t\t\tlast = point;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.autoClose && points.length > 1 && !points[points.length - 1].equals(points[0])) {\n\t\t\t\tpoints.push(points[0]);\n\t\t\t}\n\n\t\t\treturn points;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.curves = [];\n\n\t\t\tfor (let i = 0, l = source.curves.length; i < l; i++) {\n\t\t\t\tconst curve = source.curves[i];\n\t\t\t\tthis.curves.push(curve.clone());\n\t\t\t}\n\n\t\t\tthis.autoClose = source.autoClose;\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tdata.autoClose = this.autoClose;\n\t\t\tdata.curves = [];\n\n\t\t\tfor (let i = 0, l = this.curves.length; i < l; i++) {\n\t\t\t\tconst curve = this.curves[i];\n\t\t\t\tdata.curves.push(curve.toJSON());\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\tfromJSON(json) {\n\t\t\tsuper.fromJSON(json);\n\t\t\tthis.autoClose = json.autoClose;\n\t\t\tthis.curves = [];\n\n\t\t\tfor (let i = 0, l = json.curves.length; i < l; i++) {\n\t\t\t\tconst curve = json.curves[i];\n\t\t\t\tthis.curves.push(new Curves[curve.type]().fromJSON(curve));\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass Path extends CurvePath {\n\t\tconstructor(points) {\n\t\t\tsuper();\n\t\t\tthis.type = 'Path';\n\t\t\tthis.currentPoint = new Vector2();\n\n\t\t\tif (points) {\n\t\t\t\tthis.setFromPoints(points);\n\t\t\t}\n\t\t}\n\n\t\tsetFromPoints(points) {\n\t\t\tthis.moveTo(points[0].x, points[0].y);\n\n\t\t\tfor (let i = 1, l = points.length; i < l; i++) {\n\t\t\t\tthis.lineTo(points[i].x, points[i].y);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tmoveTo(x, y) {\n\t\t\tthis.currentPoint.set(x, y); // TODO consider referencing vectors instead of copying?\n\n\t\t\treturn this;\n\t\t}\n\n\t\tlineTo(x, y) {\n\t\t\tconst curve = new LineCurve(this.currentPoint.clone(), new Vector2(x, y));\n\t\t\tthis.curves.push(curve);\n\t\t\tthis.currentPoint.set(x, y);\n\t\t\treturn this;\n\t\t}\n\n\t\tquadraticCurveTo(aCPx, aCPy, aX, aY) {\n\t\t\tconst curve = new QuadraticBezierCurve(this.currentPoint.clone(), new Vector2(aCPx, aCPy), new Vector2(aX, aY));\n\t\t\tthis.curves.push(curve);\n\t\t\tthis.currentPoint.set(aX, aY);\n\t\t\treturn this;\n\t\t}\n\n\t\tbezierCurveTo(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY) {\n\t\t\tconst curve = new CubicBezierCurve(this.currentPoint.clone(), new Vector2(aCP1x, aCP1y), new Vector2(aCP2x, aCP2y), new Vector2(aX, aY));\n\t\t\tthis.curves.push(curve);\n\t\t\tthis.currentPoint.set(aX, aY);\n\t\t\treturn this;\n\t\t}\n\n\t\tsplineThru(pts\n\t\t/*Array of Vector*/\n\t\t) {\n\t\t\tconst npts = [this.currentPoint.clone()].concat(pts);\n\t\t\tconst curve = new SplineCurve(npts);\n\t\t\tthis.curves.push(curve);\n\t\t\tthis.currentPoint.copy(pts[pts.length - 1]);\n\t\t\treturn this;\n\t\t}\n\n\t\tarc(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {\n\t\t\tconst x0 = this.currentPoint.x;\n\t\t\tconst y0 = this.currentPoint.y;\n\t\t\tthis.absarc(aX + x0, aY + y0, aRadius, aStartAngle, aEndAngle, aClockwise);\n\t\t\treturn this;\n\t\t}\n\n\t\tabsarc(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {\n\t\t\tthis.absellipse(aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise);\n\t\t\treturn this;\n\t\t}\n\n\t\tellipse(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation) {\n\t\t\tconst x0 = this.currentPoint.x;\n\t\t\tconst y0 = this.currentPoint.y;\n\t\t\tthis.absellipse(aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation);\n\t\t\treturn this;\n\t\t}\n\n\t\tabsellipse(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation) {\n\t\t\tconst curve = new EllipseCurve(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation);\n\n\t\t\tif (this.curves.length > 0) {\n\t\t\t\t// if a previous curve is present, attempt to join\n\t\t\t\tconst firstPoint = curve.getPoint(0);\n\n\t\t\t\tif (!firstPoint.equals(this.currentPoint)) {\n\t\t\t\t\tthis.lineTo(firstPoint.x, firstPoint.y);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.curves.push(curve);\n\t\t\tconst lastPoint = curve.getPoint(1);\n\t\t\tthis.currentPoint.copy(lastPoint);\n\t\t\treturn this;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.currentPoint.copy(source.currentPoint);\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tdata.currentPoint = this.currentPoint.toArray();\n\t\t\treturn data;\n\t\t}\n\n\t\tfromJSON(json) {\n\t\t\tsuper.fromJSON(json);\n\t\t\tthis.currentPoint.fromArray(json.currentPoint);\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass LatheGeometry extends BufferGeometry {\n\t\tconstructor(points = [new Vector2(0, 0.5), new Vector2(0.5, 0), new Vector2(0, -0.5)], segments = 12, phiStart = 0, phiLength = Math.PI * 2) {\n\t\t\tsuper();\n\t\t\tthis.type = 'LatheGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tpoints: points,\n\t\t\t\tsegments: segments,\n\t\t\t\tphiStart: phiStart,\n\t\t\t\tphiLength: phiLength\n\t\t\t};\n\t\t\tsegments = Math.floor(segments); // clamp phiLength so it's in range of [ 0, 2PI ]\n\n\t\t\tphiLength = clamp(phiLength, 0, Math.PI * 2); // buffers\n\n\t\t\tconst indices = [];\n\t\t\tconst vertices = [];\n\t\t\tconst uvs = [];\n\t\t\tconst initNormals = [];\n\t\t\tconst normals = []; // helper variables\n\n\t\t\tconst inverseSegments = 1.0 / segments;\n\t\t\tconst vertex = new Vector3();\n\t\t\tconst uv = new Vector2();\n\t\t\tconst normal = new Vector3();\n\t\t\tconst curNormal = new Vector3();\n\t\t\tconst prevNormal = new Vector3();\n\t\t\tlet dx = 0;\n\t\t\tlet dy = 0; // pre-compute normals for initial \"meridian\"\n\n\t\t\tfor (let j = 0; j <= points.length - 1; j++) {\n\t\t\t\tswitch (j) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\t// special handling for 1st vertex on path\n\t\t\t\t\t\tdx = points[j + 1].x - points[j].x;\n\t\t\t\t\t\tdy = points[j + 1].y - points[j].y;\n\t\t\t\t\t\tnormal.x = dy * 1.0;\n\t\t\t\t\t\tnormal.y = -dx;\n\t\t\t\t\t\tnormal.z = dy * 0.0;\n\t\t\t\t\t\tprevNormal.copy(normal);\n\t\t\t\t\t\tnormal.normalize();\n\t\t\t\t\t\tinitNormals.push(normal.x, normal.y, normal.z);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase points.length - 1:\n\t\t\t\t\t\t// special handling for last Vertex on path\n\t\t\t\t\t\tinitNormals.push(prevNormal.x, prevNormal.y, prevNormal.z);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\t// default handling for all vertices in between\n\t\t\t\t\t\tdx = points[j + 1].x - points[j].x;\n\t\t\t\t\t\tdy = points[j + 1].y - points[j].y;\n\t\t\t\t\t\tnormal.x = dy * 1.0;\n\t\t\t\t\t\tnormal.y = -dx;\n\t\t\t\t\t\tnormal.z = dy * 0.0;\n\t\t\t\t\t\tcurNormal.copy(normal);\n\t\t\t\t\t\tnormal.x += prevNormal.x;\n\t\t\t\t\t\tnormal.y += prevNormal.y;\n\t\t\t\t\t\tnormal.z += prevNormal.z;\n\t\t\t\t\t\tnormal.normalize();\n\t\t\t\t\t\tinitNormals.push(normal.x, normal.y, normal.z);\n\t\t\t\t\t\tprevNormal.copy(curNormal);\n\t\t\t\t}\n\t\t\t} // generate vertices, uvs and normals\n\n\n\t\t\tfor (let i = 0; i <= segments; i++) {\n\t\t\t\tconst phi = phiStart + i * inverseSegments * phiLength;\n\t\t\t\tconst sin = Math.sin(phi);\n\t\t\t\tconst cos = Math.cos(phi);\n\n\t\t\t\tfor (let j = 0; j <= points.length - 1; j++) {\n\t\t\t\t\t// vertex\n\t\t\t\t\tvertex.x = points[j].x * sin;\n\t\t\t\t\tvertex.y = points[j].y;\n\t\t\t\t\tvertex.z = points[j].x * cos;\n\t\t\t\t\tvertices.push(vertex.x, vertex.y, vertex.z); // uv\n\n\t\t\t\t\tuv.x = i / segments;\n\t\t\t\t\tuv.y = j / (points.length - 1);\n\t\t\t\t\tuvs.push(uv.x, uv.y); // normal\n\n\t\t\t\t\tconst x = initNormals[3 * j + 0] * sin;\n\t\t\t\t\tconst y = initNormals[3 * j + 1];\n\t\t\t\t\tconst z = initNormals[3 * j + 0] * cos;\n\t\t\t\t\tnormals.push(x, y, z);\n\t\t\t\t}\n\t\t\t} // indices\n\n\n\t\t\tfor (let i = 0; i < segments; i++) {\n\t\t\t\tfor (let j = 0; j < points.length - 1; j++) {\n\t\t\t\t\tconst base = j + i * points.length;\n\t\t\t\t\tconst a = base;\n\t\t\t\t\tconst b = base + points.length;\n\t\t\t\t\tconst c = base + points.length + 1;\n\t\t\t\t\tconst d = base + 1; // faces\n\n\t\t\t\t\tindices.push(a, b, d);\n\t\t\t\t\tindices.push(c, d, b);\n\t\t\t\t}\n\t\t\t} // build geometry\n\n\n\t\t\tthis.setIndex(indices);\n\t\t\tthis.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tthis.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\t\t\tthis.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new LatheGeometry(data.points, data.segments, data.phiStart, data.phiLength);\n\t\t}\n\n\t}\n\n\tclass CapsuleGeometry extends LatheGeometry {\n\t\tconstructor(radius = 1, length = 1, capSegments = 4, radialSegments = 8) {\n\t\t\tconst path = new Path();\n\t\t\tpath.absarc(0, -length / 2, radius, Math.PI * 1.5, 0);\n\t\t\tpath.absarc(0, length / 2, radius, 0, Math.PI * 0.5);\n\t\t\tsuper(path.getPoints(capSegments), radialSegments);\n\t\t\tthis.type = 'CapsuleGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tradius: radius,\n\t\t\t\theight: length,\n\t\t\t\tcapSegments: capSegments,\n\t\t\t\tradialSegments: radialSegments\n\t\t\t};\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new CapsuleGeometry(data.radius, data.length, data.capSegments, data.radialSegments);\n\t\t}\n\n\t}\n\n\tclass CircleGeometry extends BufferGeometry {\n\t\tconstructor(radius = 1, segments = 8, thetaStart = 0, thetaLength = Math.PI * 2) {\n\t\t\tsuper();\n\t\t\tthis.type = 'CircleGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tradius: radius,\n\t\t\t\tsegments: segments,\n\t\t\t\tthetaStart: thetaStart,\n\t\t\t\tthetaLength: thetaLength\n\t\t\t};\n\t\t\tsegments = Math.max(3, segments); // buffers\n\n\t\t\tconst indices = [];\n\t\t\tconst vertices = [];\n\t\t\tconst normals = [];\n\t\t\tconst uvs = []; // helper variables\n\n\t\t\tconst vertex = new Vector3();\n\t\t\tconst uv = new Vector2(); // center point\n\n\t\t\tvertices.push(0, 0, 0);\n\t\t\tnormals.push(0, 0, 1);\n\t\t\tuvs.push(0.5, 0.5);\n\n\t\t\tfor (let s = 0, i = 3; s <= segments; s++, i += 3) {\n\t\t\t\tconst segment = thetaStart + s / segments * thetaLength; // vertex\n\n\t\t\t\tvertex.x = radius * Math.cos(segment);\n\t\t\t\tvertex.y = radius * Math.sin(segment);\n\t\t\t\tvertices.push(vertex.x, vertex.y, vertex.z); // normal\n\n\t\t\t\tnormals.push(0, 0, 1); // uvs\n\n\t\t\t\tuv.x = (vertices[i] / radius + 1) / 2;\n\t\t\t\tuv.y = (vertices[i + 1] / radius + 1) / 2;\n\t\t\t\tuvs.push(uv.x, uv.y);\n\t\t\t} // indices\n\n\n\t\t\tfor (let i = 1; i <= segments; i++) {\n\t\t\t\tindices.push(i, i + 1, 0);\n\t\t\t} // build geometry\n\n\n\t\t\tthis.setIndex(indices);\n\t\t\tthis.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tthis.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\t\t\tthis.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new CircleGeometry(data.radius, data.segments, data.thetaStart, data.thetaLength);\n\t\t}\n\n\t}\n\n\tclass CylinderGeometry extends BufferGeometry {\n\t\tconstructor(radiusTop = 1, radiusBottom = 1, height = 1, radialSegments = 8, heightSegments = 1, openEnded = false, thetaStart = 0, thetaLength = Math.PI * 2) {\n\t\t\tsuper();\n\t\t\tthis.type = 'CylinderGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tradiusTop: radiusTop,\n\t\t\t\tradiusBottom: radiusBottom,\n\t\t\t\theight: height,\n\t\t\t\tradialSegments: radialSegments,\n\t\t\t\theightSegments: heightSegments,\n\t\t\t\topenEnded: openEnded,\n\t\t\t\tthetaStart: thetaStart,\n\t\t\t\tthetaLength: thetaLength\n\t\t\t};\n\t\t\tconst scope = this;\n\t\t\tradialSegments = Math.floor(radialSegments);\n\t\t\theightSegments = Math.floor(heightSegments); // buffers\n\n\t\t\tconst indices = [];\n\t\t\tconst vertices = [];\n\t\t\tconst normals = [];\n\t\t\tconst uvs = []; // helper variables\n\n\t\t\tlet index = 0;\n\t\t\tconst indexArray = [];\n\t\t\tconst halfHeight = height / 2;\n\t\t\tlet groupStart = 0; // generate geometry\n\n\t\t\tgenerateTorso();\n\n\t\t\tif (openEnded === false) {\n\t\t\t\tif (radiusTop > 0) generateCap(true);\n\t\t\t\tif (radiusBottom > 0) generateCap(false);\n\t\t\t} // build geometry\n\n\n\t\t\tthis.setIndex(indices);\n\t\t\tthis.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tthis.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\t\t\tthis.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n\t\t\tfunction generateTorso() {\n\t\t\t\tconst normal = new Vector3();\n\t\t\t\tconst vertex = new Vector3();\n\t\t\t\tlet groupCount = 0; // this will be used to calculate the normal\n\n\t\t\t\tconst slope = (radiusBottom - radiusTop) / height; // generate vertices, normals and uvs\n\n\t\t\t\tfor (let y = 0; y <= heightSegments; y++) {\n\t\t\t\t\tconst indexRow = [];\n\t\t\t\t\tconst v = y / heightSegments; // calculate the radius of the current row\n\n\t\t\t\t\tconst radius = v * (radiusBottom - radiusTop) + radiusTop;\n\n\t\t\t\t\tfor (let x = 0; x <= radialSegments; x++) {\n\t\t\t\t\t\tconst u = x / radialSegments;\n\t\t\t\t\t\tconst theta = u * thetaLength + thetaStart;\n\t\t\t\t\t\tconst sinTheta = Math.sin(theta);\n\t\t\t\t\t\tconst cosTheta = Math.cos(theta); // vertex\n\n\t\t\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\t\t\tvertex.y = -v * height + halfHeight;\n\t\t\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\t\t\tvertices.push(vertex.x, vertex.y, vertex.z); // normal\n\n\t\t\t\t\t\tnormal.set(sinTheta, slope, cosTheta).normalize();\n\t\t\t\t\t\tnormals.push(normal.x, normal.y, normal.z); // uv\n\n\t\t\t\t\t\tuvs.push(u, 1 - v); // save index of vertex in respective row\n\n\t\t\t\t\t\tindexRow.push(index++);\n\t\t\t\t\t} // now save vertices of the row in our index array\n\n\n\t\t\t\t\tindexArray.push(indexRow);\n\t\t\t\t} // generate indices\n\n\n\t\t\t\tfor (let x = 0; x < radialSegments; x++) {\n\t\t\t\t\tfor (let y = 0; y < heightSegments; y++) {\n\t\t\t\t\t\t// we use the index array to access the correct indices\n\t\t\t\t\t\tconst a = indexArray[y][x];\n\t\t\t\t\t\tconst b = indexArray[y + 1][x];\n\t\t\t\t\t\tconst c = indexArray[y + 1][x + 1];\n\t\t\t\t\t\tconst d = indexArray[y][x + 1]; // faces\n\n\t\t\t\t\t\tindices.push(a, b, d);\n\t\t\t\t\t\tindices.push(b, c, d); // update group counter\n\n\t\t\t\t\t\tgroupCount += 6;\n\t\t\t\t\t}\n\t\t\t\t} // add a group to the geometry. this will ensure multi material support\n\n\n\t\t\t\tscope.addGroup(groupStart, groupCount, 0); // calculate new start value for groups\n\n\t\t\t\tgroupStart += groupCount;\n\t\t\t}\n\n\t\t\tfunction generateCap(top) {\n\t\t\t\t// save the index of the first center vertex\n\t\t\t\tconst centerIndexStart = index;\n\t\t\t\tconst uv = new Vector2();\n\t\t\t\tconst vertex = new Vector3();\n\t\t\t\tlet groupCount = 0;\n\t\t\t\tconst radius = top === true ? radiusTop : radiusBottom;\n\t\t\t\tconst sign = top === true ? 1 : -1; // first we generate the center vertex data of the cap.\n\t\t\t\t// because the geometry needs one set of uvs per face,\n\t\t\t\t// we must generate a center vertex per face/segment\n\n\t\t\t\tfor (let x = 1; x <= radialSegments; x++) {\n\t\t\t\t\t// vertex\n\t\t\t\t\tvertices.push(0, halfHeight * sign, 0); // normal\n\n\t\t\t\t\tnormals.push(0, sign, 0); // uv\n\n\t\t\t\t\tuvs.push(0.5, 0.5); // increase index\n\n\t\t\t\t\tindex++;\n\t\t\t\t} // save the index of the last center vertex\n\n\n\t\t\t\tconst centerIndexEnd = index; // now we generate the surrounding vertices, normals and uvs\n\n\t\t\t\tfor (let x = 0; x <= radialSegments; x++) {\n\t\t\t\t\tconst u = x / radialSegments;\n\t\t\t\t\tconst theta = u * thetaLength + thetaStart;\n\t\t\t\t\tconst cosTheta = Math.cos(theta);\n\t\t\t\t\tconst sinTheta = Math.sin(theta); // vertex\n\n\t\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\t\tvertex.y = halfHeight * sign;\n\t\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\t\tvertices.push(vertex.x, vertex.y, vertex.z); // normal\n\n\t\t\t\t\tnormals.push(0, sign, 0); // uv\n\n\t\t\t\t\tuv.x = cosTheta * 0.5 + 0.5;\n\t\t\t\t\tuv.y = sinTheta * 0.5 * sign + 0.5;\n\t\t\t\t\tuvs.push(uv.x, uv.y); // increase index\n\n\t\t\t\t\tindex++;\n\t\t\t\t} // generate indices\n\n\n\t\t\t\tfor (let x = 0; x < radialSegments; x++) {\n\t\t\t\t\tconst c = centerIndexStart + x;\n\t\t\t\t\tconst i = centerIndexEnd + x;\n\n\t\t\t\t\tif (top === true) {\n\t\t\t\t\t\t// face top\n\t\t\t\t\t\tindices.push(i, i + 1, c);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// face bottom\n\t\t\t\t\t\tindices.push(i + 1, i, c);\n\t\t\t\t\t}\n\n\t\t\t\t\tgroupCount += 3;\n\t\t\t\t} // add a group to the geometry. this will ensure multi material support\n\n\n\t\t\t\tscope.addGroup(groupStart, groupCount, top === true ? 1 : 2); // calculate new start value for groups\n\n\t\t\t\tgroupStart += groupCount;\n\t\t\t}\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new CylinderGeometry(data.radiusTop, data.radiusBottom, data.height, data.radialSegments, data.heightSegments, data.openEnded, data.thetaStart, data.thetaLength);\n\t\t}\n\n\t}\n\n\tclass ConeGeometry extends CylinderGeometry {\n\t\tconstructor(radius = 1, height = 1, radialSegments = 8, heightSegments = 1, openEnded = false, thetaStart = 0, thetaLength = Math.PI * 2) {\n\t\t\tsuper(0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength);\n\t\t\tthis.type = 'ConeGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tradius: radius,\n\t\t\t\theight: height,\n\t\t\t\tradialSegments: radialSegments,\n\t\t\t\theightSegments: heightSegments,\n\t\t\t\topenEnded: openEnded,\n\t\t\t\tthetaStart: thetaStart,\n\t\t\t\tthetaLength: thetaLength\n\t\t\t};\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new ConeGeometry(data.radius, data.height, data.radialSegments, data.heightSegments, data.openEnded, data.thetaStart, data.thetaLength);\n\t\t}\n\n\t}\n\n\tclass PolyhedronGeometry extends BufferGeometry {\n\t\tconstructor(vertices = [], indices = [], radius = 1, detail = 0) {\n\t\t\tsuper();\n\t\t\tthis.type = 'PolyhedronGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tvertices: vertices,\n\t\t\t\tindices: indices,\n\t\t\t\tradius: radius,\n\t\t\t\tdetail: detail\n\t\t\t}; // default buffer data\n\n\t\t\tconst vertexBuffer = [];\n\t\t\tconst uvBuffer = []; // the subdivision creates the vertex buffer data\n\n\t\t\tsubdivide(detail); // all vertices should lie on a conceptual sphere with a given radius\n\n\t\t\tapplyRadius(radius); // finally, create the uv data\n\n\t\t\tgenerateUVs(); // build non-indexed geometry\n\n\t\t\tthis.setAttribute('position', new Float32BufferAttribute(vertexBuffer, 3));\n\t\t\tthis.setAttribute('normal', new Float32BufferAttribute(vertexBuffer.slice(), 3));\n\t\t\tthis.setAttribute('uv', new Float32BufferAttribute(uvBuffer, 2));\n\n\t\t\tif (detail === 0) {\n\t\t\t\tthis.computeVertexNormals(); // flat normals\n\t\t\t} else {\n\t\t\t\tthis.normalizeNormals(); // smooth normals\n\t\t\t} // helper functions\n\n\n\t\t\tfunction subdivide(detail) {\n\t\t\t\tconst a = new Vector3();\n\t\t\t\tconst b = new Vector3();\n\t\t\t\tconst c = new Vector3(); // iterate over all faces and apply a subdivison with the given detail value\n\n\t\t\t\tfor (let i = 0; i < indices.length; i += 3) {\n\t\t\t\t\t// get the vertices of the face\n\t\t\t\t\tgetVertexByIndex(indices[i + 0], a);\n\t\t\t\t\tgetVertexByIndex(indices[i + 1], b);\n\t\t\t\t\tgetVertexByIndex(indices[i + 2], c); // perform subdivision\n\n\t\t\t\t\tsubdivideFace(a, b, c, detail);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction subdivideFace(a, b, c, detail) {\n\t\t\t\tconst cols = detail + 1; // we use this multidimensional array as a data structure for creating the subdivision\n\n\t\t\t\tconst v = []; // construct all of the vertices for this subdivision\n\n\t\t\t\tfor (let i = 0; i <= cols; i++) {\n\t\t\t\t\tv[i] = [];\n\t\t\t\t\tconst aj = a.clone().lerp(c, i / cols);\n\t\t\t\t\tconst bj = b.clone().lerp(c, i / cols);\n\t\t\t\t\tconst rows = cols - i;\n\n\t\t\t\t\tfor (let j = 0; j <= rows; j++) {\n\t\t\t\t\t\tif (j === 0 && i === cols) {\n\t\t\t\t\t\t\tv[i][j] = aj;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tv[i][j] = aj.clone().lerp(bj, j / rows);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} // construct all of the faces\n\n\n\t\t\t\tfor (let i = 0; i < cols; i++) {\n\t\t\t\t\tfor (let j = 0; j < 2 * (cols - i) - 1; j++) {\n\t\t\t\t\t\tconst k = Math.floor(j / 2);\n\n\t\t\t\t\t\tif (j % 2 === 0) {\n\t\t\t\t\t\t\tpushVertex(v[i][k + 1]);\n\t\t\t\t\t\t\tpushVertex(v[i + 1][k]);\n\t\t\t\t\t\t\tpushVertex(v[i][k]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpushVertex(v[i][k + 1]);\n\t\t\t\t\t\t\tpushVertex(v[i + 1][k + 1]);\n\t\t\t\t\t\t\tpushVertex(v[i + 1][k]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction applyRadius(radius) {\n\t\t\t\tconst vertex = new Vector3(); // iterate over the entire buffer and apply the radius to each vertex\n\n\t\t\t\tfor (let i = 0; i < vertexBuffer.length; i += 3) {\n\t\t\t\t\tvertex.x = vertexBuffer[i + 0];\n\t\t\t\t\tvertex.y = vertexBuffer[i + 1];\n\t\t\t\t\tvertex.z = vertexBuffer[i + 2];\n\t\t\t\t\tvertex.normalize().multiplyScalar(radius);\n\t\t\t\t\tvertexBuffer[i + 0] = vertex.x;\n\t\t\t\t\tvertexBuffer[i + 1] = vertex.y;\n\t\t\t\t\tvertexBuffer[i + 2] = vertex.z;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction generateUVs() {\n\t\t\t\tconst vertex = new Vector3();\n\n\t\t\t\tfor (let i = 0; i < vertexBuffer.length; i += 3) {\n\t\t\t\t\tvertex.x = vertexBuffer[i + 0];\n\t\t\t\t\tvertex.y = vertexBuffer[i + 1];\n\t\t\t\t\tvertex.z = vertexBuffer[i + 2];\n\t\t\t\t\tconst u = azimuth(vertex) / 2 / Math.PI + 0.5;\n\t\t\t\t\tconst v = inclination(vertex) / Math.PI + 0.5;\n\t\t\t\t\tuvBuffer.push(u, 1 - v);\n\t\t\t\t}\n\n\t\t\t\tcorrectUVs();\n\t\t\t\tcorrectSeam();\n\t\t\t}\n\n\t\t\tfunction correctSeam() {\n\t\t\t\t// handle case when face straddles the seam, see #3269\n\t\t\t\tfor (let i = 0; i < uvBuffer.length; i += 6) {\n\t\t\t\t\t// uv data of a single face\n\t\t\t\t\tconst x0 = uvBuffer[i + 0];\n\t\t\t\t\tconst x1 = uvBuffer[i + 2];\n\t\t\t\t\tconst x2 = uvBuffer[i + 4];\n\t\t\t\t\tconst max = Math.max(x0, x1, x2);\n\t\t\t\t\tconst min = Math.min(x0, x1, x2); // 0.9 is somewhat arbitrary\n\n\t\t\t\t\tif (max > 0.9 && min < 0.1) {\n\t\t\t\t\t\tif (x0 < 0.2) uvBuffer[i + 0] += 1;\n\t\t\t\t\t\tif (x1 < 0.2) uvBuffer[i + 2] += 1;\n\t\t\t\t\t\tif (x2 < 0.2) uvBuffer[i + 4] += 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction pushVertex(vertex) {\n\t\t\t\tvertexBuffer.push(vertex.x, vertex.y, vertex.z);\n\t\t\t}\n\n\t\t\tfunction getVertexByIndex(index, vertex) {\n\t\t\t\tconst stride = index * 3;\n\t\t\t\tvertex.x = vertices[stride + 0];\n\t\t\t\tvertex.y = vertices[stride + 1];\n\t\t\t\tvertex.z = vertices[stride + 2];\n\t\t\t}\n\n\t\t\tfunction correctUVs() {\n\t\t\t\tconst a = new Vector3();\n\t\t\t\tconst b = new Vector3();\n\t\t\t\tconst c = new Vector3();\n\t\t\t\tconst centroid = new Vector3();\n\t\t\t\tconst uvA = new Vector2();\n\t\t\t\tconst uvB = new Vector2();\n\t\t\t\tconst uvC = new Vector2();\n\n\t\t\t\tfor (let i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6) {\n\t\t\t\t\ta.set(vertexBuffer[i + 0], vertexBuffer[i + 1], vertexBuffer[i + 2]);\n\t\t\t\t\tb.set(vertexBuffer[i + 3], vertexBuffer[i + 4], vertexBuffer[i + 5]);\n\t\t\t\t\tc.set(vertexBuffer[i + 6], vertexBuffer[i + 7], vertexBuffer[i + 8]);\n\t\t\t\t\tuvA.set(uvBuffer[j + 0], uvBuffer[j + 1]);\n\t\t\t\t\tuvB.set(uvBuffer[j + 2], uvBuffer[j + 3]);\n\t\t\t\t\tuvC.set(uvBuffer[j + 4], uvBuffer[j + 5]);\n\t\t\t\t\tcentroid.copy(a).add(b).add(c).divideScalar(3);\n\t\t\t\t\tconst azi = azimuth(centroid);\n\t\t\t\t\tcorrectUV(uvA, j + 0, a, azi);\n\t\t\t\t\tcorrectUV(uvB, j + 2, b, azi);\n\t\t\t\t\tcorrectUV(uvC, j + 4, c, azi);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction correctUV(uv, stride, vector, azimuth) {\n\t\t\t\tif (azimuth < 0 && uv.x === 1) {\n\t\t\t\t\tuvBuffer[stride] = uv.x - 1;\n\t\t\t\t}\n\n\t\t\t\tif (vector.x === 0 && vector.z === 0) {\n\t\t\t\t\tuvBuffer[stride] = azimuth / 2 / Math.PI + 0.5;\n\t\t\t\t}\n\t\t\t} // Angle around the Y axis, counter-clockwise when looking from above.\n\n\n\t\t\tfunction azimuth(vector) {\n\t\t\t\treturn Math.atan2(vector.z, -vector.x);\n\t\t\t} // Angle above the XZ plane.\n\n\n\t\t\tfunction inclination(vector) {\n\t\t\t\treturn Math.atan2(-vector.y, Math.sqrt(vector.x * vector.x + vector.z * vector.z));\n\t\t\t}\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new PolyhedronGeometry(data.vertices, data.indices, data.radius, data.details);\n\t\t}\n\n\t}\n\n\tclass DodecahedronGeometry extends PolyhedronGeometry {\n\t\tconstructor(radius = 1, detail = 0) {\n\t\t\tconst t = (1 + Math.sqrt(5)) / 2;\n\t\t\tconst r = 1 / t;\n\t\t\tconst vertices = [// (±1, ±1, ±1)\n\t\t\t-1, -1, -1, -1, -1, 1, -1, 1, -1, -1, 1, 1, 1, -1, -1, 1, -1, 1, 1, 1, -1, 1, 1, 1, // (0, ±1/φ, ±φ)\n\t\t\t0, -r, -t, 0, -r, t, 0, r, -t, 0, r, t, // (±1/φ, ±φ, 0)\n\t\t\t-r, -t, 0, -r, t, 0, r, -t, 0, r, t, 0, // (±φ, 0, ±1/φ)\n\t\t\t-t, 0, -r, t, 0, -r, -t, 0, r, t, 0, r];\n\t\t\tconst indices = [3, 11, 7, 3, 7, 15, 3, 15, 13, 7, 19, 17, 7, 17, 6, 7, 6, 15, 17, 4, 8, 17, 8, 10, 17, 10, 6, 8, 0, 16, 8, 16, 2, 8, 2, 10, 0, 12, 1, 0, 1, 18, 0, 18, 16, 6, 10, 2, 6, 2, 13, 6, 13, 15, 2, 16, 18, 2, 18, 3, 2, 3, 13, 18, 1, 9, 18, 9, 11, 18, 11, 3, 4, 14, 12, 4, 12, 0, 4, 0, 8, 11, 9, 5, 11, 5, 19, 11, 19, 7, 19, 5, 14, 19, 14, 4, 19, 4, 17, 1, 12, 14, 1, 14, 5, 1, 5, 9];\n\t\t\tsuper(vertices, indices, radius, detail);\n\t\t\tthis.type = 'DodecahedronGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tradius: radius,\n\t\t\t\tdetail: detail\n\t\t\t};\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new DodecahedronGeometry(data.radius, data.detail);\n\t\t}\n\n\t}\n\n\tconst _v0 = new Vector3();\n\n\tconst _v1$1 = new Vector3();\n\n\tconst _normal = new Vector3();\n\n\tconst _triangle = new Triangle();\n\n\tclass EdgesGeometry extends BufferGeometry {\n\t\tconstructor(geometry = null, thresholdAngle = 1) {\n\t\t\tsuper();\n\t\t\tthis.type = 'EdgesGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tgeometry: geometry,\n\t\t\t\tthresholdAngle: thresholdAngle\n\t\t\t};\n\n\t\t\tif (geometry !== null) {\n\t\t\t\tconst precisionPoints = 4;\n\t\t\t\tconst precision = Math.pow(10, precisionPoints);\n\t\t\t\tconst thresholdDot = Math.cos(DEG2RAD * thresholdAngle);\n\t\t\t\tconst indexAttr = geometry.getIndex();\n\t\t\t\tconst positionAttr = geometry.getAttribute('position');\n\t\t\t\tconst indexCount = indexAttr ? indexAttr.count : positionAttr.count;\n\t\t\t\tconst indexArr = [0, 0, 0];\n\t\t\t\tconst vertKeys = ['a', 'b', 'c'];\n\t\t\t\tconst hashes = new Array(3);\n\t\t\t\tconst edgeData = {};\n\t\t\t\tconst vertices = [];\n\n\t\t\t\tfor (let i = 0; i < indexCount; i += 3) {\n\t\t\t\t\tif (indexAttr) {\n\t\t\t\t\t\tindexArr[0] = indexAttr.getX(i);\n\t\t\t\t\t\tindexArr[1] = indexAttr.getX(i + 1);\n\t\t\t\t\t\tindexArr[2] = indexAttr.getX(i + 2);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tindexArr[0] = i;\n\t\t\t\t\t\tindexArr[1] = i + 1;\n\t\t\t\t\t\tindexArr[2] = i + 2;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst {\n\t\t\t\t\t\ta,\n\t\t\t\t\t\tb,\n\t\t\t\t\t\tc\n\t\t\t\t\t} = _triangle;\n\t\t\t\t\ta.fromBufferAttribute(positionAttr, indexArr[0]);\n\t\t\t\t\tb.fromBufferAttribute(positionAttr, indexArr[1]);\n\t\t\t\t\tc.fromBufferAttribute(positionAttr, indexArr[2]);\n\n\t\t\t\t\t_triangle.getNormal(_normal); // create hashes for the edge from the vertices\n\n\n\t\t\t\t\thashes[0] = `${Math.round(a.x * precision)},${Math.round(a.y * precision)},${Math.round(a.z * precision)}`;\n\t\t\t\t\thashes[1] = `${Math.round(b.x * precision)},${Math.round(b.y * precision)},${Math.round(b.z * precision)}`;\n\t\t\t\t\thashes[2] = `${Math.round(c.x * precision)},${Math.round(c.y * precision)},${Math.round(c.z * precision)}`; // skip degenerate triangles\n\n\t\t\t\t\tif (hashes[0] === hashes[1] || hashes[1] === hashes[2] || hashes[2] === hashes[0]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} // iterate over every edge\n\n\n\t\t\t\t\tfor (let j = 0; j < 3; j++) {\n\t\t\t\t\t\t// get the first and next vertex making up the edge\n\t\t\t\t\t\tconst jNext = (j + 1) % 3;\n\t\t\t\t\t\tconst vecHash0 = hashes[j];\n\t\t\t\t\t\tconst vecHash1 = hashes[jNext];\n\t\t\t\t\t\tconst v0 = _triangle[vertKeys[j]];\n\t\t\t\t\t\tconst v1 = _triangle[vertKeys[jNext]];\n\t\t\t\t\t\tconst hash = `${vecHash0}_${vecHash1}`;\n\t\t\t\t\t\tconst reverseHash = `${vecHash1}_${vecHash0}`;\n\n\t\t\t\t\t\tif (reverseHash in edgeData && edgeData[reverseHash]) {\n\t\t\t\t\t\t\t// if we found a sibling edge add it into the vertex array if\n\t\t\t\t\t\t\t// it meets the angle threshold and delete the edge from the map.\n\t\t\t\t\t\t\tif (_normal.dot(edgeData[reverseHash].normal) <= thresholdDot) {\n\t\t\t\t\t\t\t\tvertices.push(v0.x, v0.y, v0.z);\n\t\t\t\t\t\t\t\tvertices.push(v1.x, v1.y, v1.z);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tedgeData[reverseHash] = null;\n\t\t\t\t\t\t} else if (!(hash in edgeData)) {\n\t\t\t\t\t\t\t// if we've already got an edge here then skip adding a new one\n\t\t\t\t\t\t\tedgeData[hash] = {\n\t\t\t\t\t\t\t\tindex0: indexArr[j],\n\t\t\t\t\t\t\t\tindex1: indexArr[jNext],\n\t\t\t\t\t\t\t\tnormal: _normal.clone()\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} // iterate over all remaining, unmatched edges and add them to the vertex array\n\n\n\t\t\t\tfor (const key in edgeData) {\n\t\t\t\t\tif (edgeData[key]) {\n\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\tindex0,\n\t\t\t\t\t\t\tindex1\n\t\t\t\t\t\t} = edgeData[key];\n\n\t\t\t\t\t\t_v0.fromBufferAttribute(positionAttr, index0);\n\n\t\t\t\t\t\t_v1$1.fromBufferAttribute(positionAttr, index1);\n\n\t\t\t\t\t\tvertices.push(_v0.x, _v0.y, _v0.z);\n\t\t\t\t\t\tvertices.push(_v1$1.x, _v1$1.y, _v1$1.z);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\t}\n\t\t}\n\n\t}\n\n\tclass Shape extends Path {\n\t\tconstructor(points) {\n\t\t\tsuper(points);\n\t\t\tthis.uuid = generateUUID();\n\t\t\tthis.type = 'Shape';\n\t\t\tthis.holes = [];\n\t\t}\n\n\t\tgetPointsHoles(divisions) {\n\t\t\tconst holesPts = [];\n\n\t\t\tfor (let i = 0, l = this.holes.length; i < l; i++) {\n\t\t\t\tholesPts[i] = this.holes[i].getPoints(divisions);\n\t\t\t}\n\n\t\t\treturn holesPts;\n\t\t} // get points of shape and holes (keypoints based on segments parameter)\n\n\n\t\textractPoints(divisions) {\n\t\t\treturn {\n\t\t\t\tshape: this.getPoints(divisions),\n\t\t\t\tholes: this.getPointsHoles(divisions)\n\t\t\t};\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.holes = [];\n\n\t\t\tfor (let i = 0, l = source.holes.length; i < l; i++) {\n\t\t\t\tconst hole = source.holes[i];\n\t\t\t\tthis.holes.push(hole.clone());\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tdata.uuid = this.uuid;\n\t\t\tdata.holes = [];\n\n\t\t\tfor (let i = 0, l = this.holes.length; i < l; i++) {\n\t\t\t\tconst hole = this.holes[i];\n\t\t\t\tdata.holes.push(hole.toJSON());\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\tfromJSON(json) {\n\t\t\tsuper.fromJSON(json);\n\t\t\tthis.uuid = json.uuid;\n\t\t\tthis.holes = [];\n\n\t\t\tfor (let i = 0, l = json.holes.length; i < l; i++) {\n\t\t\t\tconst hole = json.holes[i];\n\t\t\t\tthis.holes.push(new Path().fromJSON(hole));\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\t/**\n\t * Port from https://github.com/mapbox/earcut (v2.2.2)\n\t */\n\tconst Earcut = {\n\t\ttriangulate: function (data, holeIndices, dim = 2) {\n\t\t\tconst hasHoles = holeIndices && holeIndices.length;\n\t\t\tconst outerLen = hasHoles ? holeIndices[0] * dim : data.length;\n\t\t\tlet outerNode = linkedList(data, 0, outerLen, dim, true);\n\t\t\tconst triangles = [];\n\t\t\tif (!outerNode || outerNode.next === outerNode.prev) return triangles;\n\t\t\tlet minX, minY, maxX, maxY, x, y, invSize;\n\t\t\tif (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim); // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n\n\t\t\tif (data.length > 80 * dim) {\n\t\t\t\tminX = maxX = data[0];\n\t\t\t\tminY = maxY = data[1];\n\n\t\t\t\tfor (let i = dim; i < outerLen; i += dim) {\n\t\t\t\t\tx = data[i];\n\t\t\t\t\ty = data[i + 1];\n\t\t\t\t\tif (x < minX) minX = x;\n\t\t\t\t\tif (y < minY) minY = y;\n\t\t\t\t\tif (x > maxX) maxX = x;\n\t\t\t\t\tif (y > maxY) maxY = y;\n\t\t\t\t} // minX, minY and invSize are later used to transform coords into integers for z-order calculation\n\n\n\t\t\t\tinvSize = Math.max(maxX - minX, maxY - minY);\n\t\t\t\tinvSize = invSize !== 0 ? 1 / invSize : 0;\n\t\t\t}\n\n\t\t\tearcutLinked(outerNode, triangles, dim, minX, minY, invSize);\n\t\t\treturn triangles;\n\t\t}\n\t}; // create a circular doubly linked list from polygon points in the specified winding order\n\n\tfunction linkedList(data, start, end, dim, clockwise) {\n\t\tlet i, last;\n\n\t\tif (clockwise === signedArea(data, start, end, dim) > 0) {\n\t\t\tfor (i = start; i < end; i += dim) last = insertNode(i, data[i], data[i + 1], last);\n\t\t} else {\n\t\t\tfor (i = end - dim; i >= start; i -= dim) last = insertNode(i, data[i], data[i + 1], last);\n\t\t}\n\n\t\tif (last && equals(last, last.next)) {\n\t\t\tremoveNode(last);\n\t\t\tlast = last.next;\n\t\t}\n\n\t\treturn last;\n\t} // eliminate colinear or duplicate points\n\n\n\tfunction filterPoints(start, end) {\n\t\tif (!start) return start;\n\t\tif (!end) end = start;\n\t\tlet p = start,\n\t\t\t\tagain;\n\n\t\tdo {\n\t\t\tagain = false;\n\n\t\t\tif (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {\n\t\t\t\tremoveNode(p);\n\t\t\t\tp = end = p.prev;\n\t\t\t\tif (p === p.next) break;\n\t\t\t\tagain = true;\n\t\t\t} else {\n\t\t\t\tp = p.next;\n\t\t\t}\n\t\t} while (again || p !== end);\n\n\t\treturn end;\n\t} // main ear slicing loop which triangulates a polygon (given as a linked list)\n\n\n\tfunction earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {\n\t\tif (!ear) return; // interlink polygon nodes in z-order\n\n\t\tif (!pass && invSize) indexCurve(ear, minX, minY, invSize);\n\t\tlet stop = ear,\n\t\t\t\tprev,\n\t\t\t\tnext; // iterate through ears, slicing them one by one\n\n\t\twhile (ear.prev !== ear.next) {\n\t\t\tprev = ear.prev;\n\t\t\tnext = ear.next;\n\n\t\t\tif (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {\n\t\t\t\t// cut off the triangle\n\t\t\t\ttriangles.push(prev.i / dim);\n\t\t\t\ttriangles.push(ear.i / dim);\n\t\t\t\ttriangles.push(next.i / dim);\n\t\t\t\tremoveNode(ear); // skipping the next vertex leads to less sliver triangles\n\n\t\t\t\tear = next.next;\n\t\t\t\tstop = next.next;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tear = next; // if we looped through the whole remaining polygon and can't find any more ears\n\n\t\t\tif (ear === stop) {\n\t\t\t\t// try filtering points and slicing again\n\t\t\t\tif (!pass) {\n\t\t\t\t\tearcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1); // if this didn't work, try curing all small self-intersections locally\n\t\t\t\t} else if (pass === 1) {\n\t\t\t\t\tear = cureLocalIntersections(filterPoints(ear), triangles, dim);\n\t\t\t\t\tearcutLinked(ear, triangles, dim, minX, minY, invSize, 2); // as a last resort, try splitting the remaining polygon into two\n\t\t\t\t} else if (pass === 2) {\n\t\t\t\t\tsplitEarcut(ear, triangles, dim, minX, minY, invSize);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t} // check whether a polygon node forms a valid ear with adjacent nodes\n\n\n\tfunction isEar(ear) {\n\t\tconst a = ear.prev,\n\t\t\t\t\tb = ear,\n\t\t\t\t\tc = ear.next;\n\t\tif (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\t\t// now make sure we don't have other points inside the potential ear\n\n\t\tlet p = ear.next.next;\n\n\t\twhile (p !== ear.prev) {\n\t\t\tif (pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n\t\t\tp = p.next;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tfunction isEarHashed(ear, minX, minY, invSize) {\n\t\tconst a = ear.prev,\n\t\t\t\t\tb = ear,\n\t\t\t\t\tc = ear.next;\n\t\tif (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\t\t// triangle bbox; min & max are calculated like this for speed\n\n\t\tconst minTX = a.x < b.x ? a.x < c.x ? a.x : c.x : b.x < c.x ? b.x : c.x,\n\t\t\t\t\tminTY = a.y < b.y ? a.y < c.y ? a.y : c.y : b.y < c.y ? b.y : c.y,\n\t\t\t\t\tmaxTX = a.x > b.x ? a.x > c.x ? a.x : c.x : b.x > c.x ? b.x : c.x,\n\t\t\t\t\tmaxTY = a.y > b.y ? a.y > c.y ? a.y : c.y : b.y > c.y ? b.y : c.y; // z-order range for the current triangle bbox;\n\n\t\tconst minZ = zOrder(minTX, minTY, minX, minY, invSize),\n\t\t\t\t\tmaxZ = zOrder(maxTX, maxTY, minX, minY, invSize);\n\t\tlet p = ear.prevZ,\n\t\t\t\tn = ear.nextZ; // look for points inside the triangle in both directions\n\n\t\twhile (p && p.z >= minZ && n && n.z <= maxZ) {\n\t\t\tif (p !== ear.prev && p !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n\t\t\tp = p.prevZ;\n\t\t\tif (n !== ear.prev && n !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;\n\t\t\tn = n.nextZ;\n\t\t} // look for remaining points in decreasing z-order\n\n\n\t\twhile (p && p.z >= minZ) {\n\t\t\tif (p !== ear.prev && p !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n\t\t\tp = p.prevZ;\n\t\t} // look for remaining points in increasing z-order\n\n\n\t\twhile (n && n.z <= maxZ) {\n\t\t\tif (n !== ear.prev && n !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;\n\t\t\tn = n.nextZ;\n\t\t}\n\n\t\treturn true;\n\t} // go through all polygon nodes and cure small local self-intersections\n\n\n\tfunction cureLocalIntersections(start, triangles, dim) {\n\t\tlet p = start;\n\n\t\tdo {\n\t\t\tconst a = p.prev,\n\t\t\t\t\t\tb = p.next.next;\n\n\t\t\tif (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {\n\t\t\t\ttriangles.push(a.i / dim);\n\t\t\t\ttriangles.push(p.i / dim);\n\t\t\t\ttriangles.push(b.i / dim); // remove two nodes involved\n\n\t\t\t\tremoveNode(p);\n\t\t\t\tremoveNode(p.next);\n\t\t\t\tp = start = b;\n\t\t\t}\n\n\t\t\tp = p.next;\n\t\t} while (p !== start);\n\n\t\treturn filterPoints(p);\n\t} // try splitting polygon into two and triangulate them independently\n\n\n\tfunction splitEarcut(start, triangles, dim, minX, minY, invSize) {\n\t\t// look for a valid diagonal that divides the polygon into two\n\t\tlet a = start;\n\n\t\tdo {\n\t\t\tlet b = a.next.next;\n\n\t\t\twhile (b !== a.prev) {\n\t\t\t\tif (a.i !== b.i && isValidDiagonal(a, b)) {\n\t\t\t\t\t// split the polygon in two by the diagonal\n\t\t\t\t\tlet c = splitPolygon(a, b); // filter colinear points around the cuts\n\n\t\t\t\t\ta = filterPoints(a, a.next);\n\t\t\t\t\tc = filterPoints(c, c.next); // run earcut on each half\n\n\t\t\t\t\tearcutLinked(a, triangles, dim, minX, minY, invSize);\n\t\t\t\t\tearcutLinked(c, triangles, dim, minX, minY, invSize);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tb = b.next;\n\t\t\t}\n\n\t\t\ta = a.next;\n\t\t} while (a !== start);\n\t} // link every hole into the outer loop, producing a single-ring polygon without holes\n\n\n\tfunction eliminateHoles(data, holeIndices, outerNode, dim) {\n\t\tconst queue = [];\n\t\tlet i, len, start, end, list;\n\n\t\tfor (i = 0, len = holeIndices.length; i < len; i++) {\n\t\t\tstart = holeIndices[i] * dim;\n\t\t\tend = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n\t\t\tlist = linkedList(data, start, end, dim, false);\n\t\t\tif (list === list.next) list.steiner = true;\n\t\t\tqueue.push(getLeftmost(list));\n\t\t}\n\n\t\tqueue.sort(compareX); // process holes from left to right\n\n\t\tfor (i = 0; i < queue.length; i++) {\n\t\t\teliminateHole(queue[i], outerNode);\n\t\t\touterNode = filterPoints(outerNode, outerNode.next);\n\t\t}\n\n\t\treturn outerNode;\n\t}\n\n\tfunction compareX(a, b) {\n\t\treturn a.x - b.x;\n\t} // find a bridge between vertices that connects hole with an outer ring and link it\n\n\n\tfunction eliminateHole(hole, outerNode) {\n\t\touterNode = findHoleBridge(hole, outerNode);\n\n\t\tif (outerNode) {\n\t\t\tconst b = splitPolygon(outerNode, hole); // filter collinear points around the cuts\n\n\t\t\tfilterPoints(outerNode, outerNode.next);\n\t\t\tfilterPoints(b, b.next);\n\t\t}\n\t} // David Eberly's algorithm for finding a bridge between hole and outer polygon\n\n\n\tfunction findHoleBridge(hole, outerNode) {\n\t\tlet p = outerNode;\n\t\tconst hx = hole.x;\n\t\tconst hy = hole.y;\n\t\tlet qx = -Infinity,\n\t\t\t\tm; // find a segment intersected by a ray from the hole's leftmost point to the left;\n\t\t// segment's endpoint with lesser x will be potential connection point\n\n\t\tdo {\n\t\t\tif (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {\n\t\t\t\tconst x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);\n\n\t\t\t\tif (x <= hx && x > qx) {\n\t\t\t\t\tqx = x;\n\n\t\t\t\t\tif (x === hx) {\n\t\t\t\t\t\tif (hy === p.y) return p;\n\t\t\t\t\t\tif (hy === p.next.y) return p.next;\n\t\t\t\t\t}\n\n\t\t\t\t\tm = p.x < p.next.x ? p : p.next;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tp = p.next;\n\t\t} while (p !== outerNode);\n\n\t\tif (!m) return null;\n\t\tif (hx === qx) return m; // hole touches outer segment; pick leftmost endpoint\n\t\t// look for points inside the triangle of hole point, segment intersection and endpoint;\n\t\t// if there are no points found, we have a valid connection;\n\t\t// otherwise choose the point of the minimum angle with the ray as connection point\n\n\t\tconst stop = m,\n\t\t\t\t\tmx = m.x,\n\t\t\t\t\tmy = m.y;\n\t\tlet tanMin = Infinity,\n\t\t\t\ttan;\n\t\tp = m;\n\n\t\tdo {\n\t\t\tif (hx >= p.x && p.x >= mx && hx !== p.x && pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {\n\t\t\t\ttan = Math.abs(hy - p.y) / (hx - p.x); // tangential\n\n\t\t\t\tif (locallyInside(p, hole) && (tan < tanMin || tan === tanMin && (p.x > m.x || p.x === m.x && sectorContainsSector(m, p)))) {\n\t\t\t\t\tm = p;\n\t\t\t\t\ttanMin = tan;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tp = p.next;\n\t\t} while (p !== stop);\n\n\t\treturn m;\n\t} // whether sector in vertex m contains sector in vertex p in the same coordinates\n\n\n\tfunction sectorContainsSector(m, p) {\n\t\treturn area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;\n\t} // interlink polygon nodes in z-order\n\n\n\tfunction indexCurve(start, minX, minY, invSize) {\n\t\tlet p = start;\n\n\t\tdo {\n\t\t\tif (p.z === null) p.z = zOrder(p.x, p.y, minX, minY, invSize);\n\t\t\tp.prevZ = p.prev;\n\t\t\tp.nextZ = p.next;\n\t\t\tp = p.next;\n\t\t} while (p !== start);\n\n\t\tp.prevZ.nextZ = null;\n\t\tp.prevZ = null;\n\t\tsortLinked(p);\n\t} // Simon Tatham's linked list merge sort algorithm\n\t// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\n\n\n\tfunction sortLinked(list) {\n\t\tlet i,\n\t\t\t\tp,\n\t\t\t\tq,\n\t\t\t\te,\n\t\t\t\ttail,\n\t\t\t\tnumMerges,\n\t\t\t\tpSize,\n\t\t\t\tqSize,\n\t\t\t\tinSize = 1;\n\n\t\tdo {\n\t\t\tp = list;\n\t\t\tlist = null;\n\t\t\ttail = null;\n\t\t\tnumMerges = 0;\n\n\t\t\twhile (p) {\n\t\t\t\tnumMerges++;\n\t\t\t\tq = p;\n\t\t\t\tpSize = 0;\n\n\t\t\t\tfor (i = 0; i < inSize; i++) {\n\t\t\t\t\tpSize++;\n\t\t\t\t\tq = q.nextZ;\n\t\t\t\t\tif (!q) break;\n\t\t\t\t}\n\n\t\t\t\tqSize = inSize;\n\n\t\t\t\twhile (pSize > 0 || qSize > 0 && q) {\n\t\t\t\t\tif (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {\n\t\t\t\t\t\te = p;\n\t\t\t\t\t\tp = p.nextZ;\n\t\t\t\t\t\tpSize--;\n\t\t\t\t\t} else {\n\t\t\t\t\t\te = q;\n\t\t\t\t\t\tq = q.nextZ;\n\t\t\t\t\t\tqSize--;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (tail) tail.nextZ = e;else list = e;\n\t\t\t\t\te.prevZ = tail;\n\t\t\t\t\ttail = e;\n\t\t\t\t}\n\n\t\t\t\tp = q;\n\t\t\t}\n\n\t\t\ttail.nextZ = null;\n\t\t\tinSize *= 2;\n\t\t} while (numMerges > 1);\n\n\t\treturn list;\n\t} // z-order of a point given coords and inverse of the longer side of data bbox\n\n\n\tfunction zOrder(x, y, minX, minY, invSize) {\n\t\t// coords are transformed into non-negative 15-bit integer range\n\t\tx = 32767 * (x - minX) * invSize;\n\t\ty = 32767 * (y - minY) * invSize;\n\t\tx = (x | x << 8) & 0x00FF00FF;\n\t\tx = (x | x << 4) & 0x0F0F0F0F;\n\t\tx = (x | x << 2) & 0x33333333;\n\t\tx = (x | x << 1) & 0x55555555;\n\t\ty = (y | y << 8) & 0x00FF00FF;\n\t\ty = (y | y << 4) & 0x0F0F0F0F;\n\t\ty = (y | y << 2) & 0x33333333;\n\t\ty = (y | y << 1) & 0x55555555;\n\t\treturn x | y << 1;\n\t} // find the leftmost node of a polygon ring\n\n\n\tfunction getLeftmost(start) {\n\t\tlet p = start,\n\t\t\t\tleftmost = start;\n\n\t\tdo {\n\t\t\tif (p.x < leftmost.x || p.x === leftmost.x && p.y < leftmost.y) leftmost = p;\n\t\t\tp = p.next;\n\t\t} while (p !== start);\n\n\t\treturn leftmost;\n\t} // check if a point lies within a convex triangle\n\n\n\tfunction pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {\n\t\treturn (cx - px) * (ay - py) - (ax - px) * (cy - py) >= 0 && (ax - px) * (by - py) - (bx - px) * (ay - py) >= 0 && (bx - px) * (cy - py) - (cx - px) * (by - py) >= 0;\n\t} // check if a diagonal between two polygon nodes is valid (lies in polygon interior)\n\n\n\tfunction isValidDiagonal(a, b) {\n\t\treturn a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && ( // doesn't intersect other edges\n\t\tlocallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) && ( // locally visible\n\t\tarea(a.prev, a, b.prev) || area(a, b.prev, b)) || // does not create opposite-facing sectors\n\t\tequals(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0); // special zero-length case\n\t} // signed area of a triangle\n\n\n\tfunction area(p, q, r) {\n\t\treturn (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n\t} // check if two points are equal\n\n\n\tfunction equals(p1, p2) {\n\t\treturn p1.x === p2.x && p1.y === p2.y;\n\t} // check if two segments intersect\n\n\n\tfunction intersects(p1, q1, p2, q2) {\n\t\tconst o1 = sign(area(p1, q1, p2));\n\t\tconst o2 = sign(area(p1, q1, q2));\n\t\tconst o3 = sign(area(p2, q2, p1));\n\t\tconst o4 = sign(area(p2, q2, q1));\n\t\tif (o1 !== o2 && o3 !== o4) return true; // general case\n\n\t\tif (o1 === 0 && onSegment(p1, p2, q1)) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n\n\t\tif (o2 === 0 && onSegment(p1, q2, q1)) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n\n\t\tif (o3 === 0 && onSegment(p2, p1, q2)) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n\n\t\tif (o4 === 0 && onSegment(p2, q1, q2)) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n\t\treturn false;\n\t} // for collinear points p, q, r, check if point q lies on segment pr\n\n\n\tfunction onSegment(p, q, r) {\n\t\treturn q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);\n\t}\n\n\tfunction sign(num) {\n\t\treturn num > 0 ? 1 : num < 0 ? -1 : 0;\n\t} // check if a polygon diagonal intersects any polygon segments\n\n\n\tfunction intersectsPolygon(a, b) {\n\t\tlet p = a;\n\n\t\tdo {\n\t\t\tif (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i && intersects(p, p.next, a, b)) return true;\n\t\t\tp = p.next;\n\t\t} while (p !== a);\n\n\t\treturn false;\n\t} // check if a polygon diagonal is locally inside the polygon\n\n\n\tfunction locallyInside(a, b) {\n\t\treturn area(a.prev, a, a.next) < 0 ? area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 : area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;\n\t} // check if the middle point of a polygon diagonal is inside the polygon\n\n\n\tfunction middleInside(a, b) {\n\t\tlet p = a,\n\t\t\t\tinside = false;\n\t\tconst px = (a.x + b.x) / 2,\n\t\t\t\t\tpy = (a.y + b.y) / 2;\n\n\t\tdo {\n\t\t\tif (p.y > py !== p.next.y > py && p.next.y !== p.y && px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x) inside = !inside;\n\t\t\tp = p.next;\n\t\t} while (p !== a);\n\n\t\treturn inside;\n\t} // link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n\t// if one belongs to the outer ring and another to a hole, it merges it into a single ring\n\n\n\tfunction splitPolygon(a, b) {\n\t\tconst a2 = new Node(a.i, a.x, a.y),\n\t\t\t\t\tb2 = new Node(b.i, b.x, b.y),\n\t\t\t\t\tan = a.next,\n\t\t\t\t\tbp = b.prev;\n\t\ta.next = b;\n\t\tb.prev = a;\n\t\ta2.next = an;\n\t\tan.prev = a2;\n\t\tb2.next = a2;\n\t\ta2.prev = b2;\n\t\tbp.next = b2;\n\t\tb2.prev = bp;\n\t\treturn b2;\n\t} // create a node and optionally link it with previous one (in a circular doubly linked list)\n\n\n\tfunction insertNode(i, x, y, last) {\n\t\tconst p = new Node(i, x, y);\n\n\t\tif (!last) {\n\t\t\tp.prev = p;\n\t\t\tp.next = p;\n\t\t} else {\n\t\t\tp.next = last.next;\n\t\t\tp.prev = last;\n\t\t\tlast.next.prev = p;\n\t\t\tlast.next = p;\n\t\t}\n\n\t\treturn p;\n\t}\n\n\tfunction removeNode(p) {\n\t\tp.next.prev = p.prev;\n\t\tp.prev.next = p.next;\n\t\tif (p.prevZ) p.prevZ.nextZ = p.nextZ;\n\t\tif (p.nextZ) p.nextZ.prevZ = p.prevZ;\n\t}\n\n\tfunction Node(i, x, y) {\n\t\t// vertex index in coordinates array\n\t\tthis.i = i; // vertex coordinates\n\n\t\tthis.x = x;\n\t\tthis.y = y; // previous and next vertex nodes in a polygon ring\n\n\t\tthis.prev = null;\n\t\tthis.next = null; // z-order curve value\n\n\t\tthis.z = null; // previous and next nodes in z-order\n\n\t\tthis.prevZ = null;\n\t\tthis.nextZ = null; // indicates whether this is a steiner point\n\n\t\tthis.steiner = false;\n\t}\n\n\tfunction signedArea(data, start, end, dim) {\n\t\tlet sum = 0;\n\n\t\tfor (let i = start, j = end - dim; i < end; i += dim) {\n\t\t\tsum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);\n\t\t\tj = i;\n\t\t}\n\n\t\treturn sum;\n\t}\n\n\tclass ShapeUtils {\n\t\t// calculate area of the contour polygon\n\t\tstatic area(contour) {\n\t\t\tconst n = contour.length;\n\t\t\tlet a = 0.0;\n\n\t\t\tfor (let p = n - 1, q = 0; q < n; p = q++) {\n\t\t\t\ta += contour[p].x * contour[q].y - contour[q].x * contour[p].y;\n\t\t\t}\n\n\t\t\treturn a * 0.5;\n\t\t}\n\n\t\tstatic isClockWise(pts) {\n\t\t\treturn ShapeUtils.area(pts) < 0;\n\t\t}\n\n\t\tstatic triangulateShape(contour, holes) {\n\t\t\tconst vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n\n\t\t\tconst holeIndices = []; // array of hole indices\n\n\t\t\tconst faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n\t\t\tremoveDupEndPts(contour);\n\t\t\taddContour(vertices, contour); //\n\n\t\t\tlet holeIndex = contour.length;\n\t\t\tholes.forEach(removeDupEndPts);\n\n\t\t\tfor (let i = 0; i < holes.length; i++) {\n\t\t\t\tholeIndices.push(holeIndex);\n\t\t\t\tholeIndex += holes[i].length;\n\t\t\t\taddContour(vertices, holes[i]);\n\t\t\t} //\n\n\n\t\t\tconst triangles = Earcut.triangulate(vertices, holeIndices); //\n\n\t\t\tfor (let i = 0; i < triangles.length; i += 3) {\n\t\t\t\tfaces.push(triangles.slice(i, i + 3));\n\t\t\t}\n\n\t\t\treturn faces;\n\t\t}\n\n\t}\n\n\tfunction removeDupEndPts(points) {\n\t\tconst l = points.length;\n\n\t\tif (l > 2 && points[l - 1].equals(points[0])) {\n\t\t\tpoints.pop();\n\t\t}\n\t}\n\n\tfunction addContour(vertices, contour) {\n\t\tfor (let i = 0; i < contour.length; i++) {\n\t\t\tvertices.push(contour[i].x);\n\t\t\tvertices.push(contour[i].y);\n\t\t}\n\t}\n\n\t/**\n\t * Creates extruded geometry from a path shape.\n\t *\n\t * parameters = {\n\t *\n\t *\tcurveSegments: <int>, // number of points on the curves\n\t *\tsteps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n\t *\tdepth: <float>, // Depth to extrude the shape\n\t *\n\t *\tbevelEnabled: <bool>, // turn on bevel\n\t *\tbevelThickness: <float>, // how deep into the original shape bevel goes\n\t *\tbevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel\n\t *\tbevelOffset: <float>, // how far from shape outline does bevel start\n\t *\tbevelSegments: <int>, // number of bevel layers\n\t *\n\t *\textrudePath: <THREE.Curve> // curve to extrude shape along\n\t *\n\t *\tUVGenerator: <Object> // object that provides UV generator functions\n\t *\n\t * }\n\t */\n\n\tclass ExtrudeGeometry extends BufferGeometry {\n\t\tconstructor(shapes = new Shape([new Vector2(0.5, 0.5), new Vector2(-0.5, 0.5), new Vector2(-0.5, -0.5), new Vector2(0.5, -0.5)]), options = {}) {\n\t\t\tsuper();\n\t\t\tthis.type = 'ExtrudeGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tshapes: shapes,\n\t\t\t\toptions: options\n\t\t\t};\n\t\t\tshapes = Array.isArray(shapes) ? shapes : [shapes];\n\t\t\tconst scope = this;\n\t\t\tconst verticesArray = [];\n\t\t\tconst uvArray = [];\n\n\t\t\tfor (let i = 0, l = shapes.length; i < l; i++) {\n\t\t\t\tconst shape = shapes[i];\n\t\t\t\taddShape(shape);\n\t\t\t} // build geometry\n\n\n\t\t\tthis.setAttribute('position', new Float32BufferAttribute(verticesArray, 3));\n\t\t\tthis.setAttribute('uv', new Float32BufferAttribute(uvArray, 2));\n\t\t\tthis.computeVertexNormals(); // functions\n\n\t\t\tfunction addShape(shape) {\n\t\t\t\tconst placeholder = []; // options\n\n\t\t\t\tconst curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n\t\t\t\tconst steps = options.steps !== undefined ? options.steps : 1;\n\t\t\t\tlet depth = options.depth !== undefined ? options.depth : 1;\n\t\t\t\tlet bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;\n\t\t\t\tlet bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 0.2;\n\t\t\t\tlet bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 0.1;\n\t\t\t\tlet bevelOffset = options.bevelOffset !== undefined ? options.bevelOffset : 0;\n\t\t\t\tlet bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\t\t\t\tconst extrudePath = options.extrudePath;\n\t\t\t\tconst uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator; // deprecated options\n\n\t\t\t\tif (options.amount !== undefined) {\n\t\t\t\t\tconsole.warn('THREE.ExtrudeBufferGeometry: amount has been renamed to depth.');\n\t\t\t\t\tdepth = options.amount;\n\t\t\t\t} //\n\n\n\t\t\t\tlet extrudePts,\n\t\t\t\t\t\textrudeByPath = false;\n\t\t\t\tlet splineTube, binormal, normal, position2;\n\n\t\t\t\tif (extrudePath) {\n\t\t\t\t\textrudePts = extrudePath.getSpacedPoints(steps);\n\t\t\t\t\textrudeByPath = true;\n\t\t\t\t\tbevelEnabled = false; // bevels not supported for path extrusion\n\t\t\t\t\t// SETUP TNB variables\n\t\t\t\t\t// TODO1 - have a .isClosed in spline?\n\n\t\t\t\t\tsplineTube = extrudePath.computeFrenetFrames(steps, false); // console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n\t\t\t\t\tbinormal = new Vector3();\n\t\t\t\t\tnormal = new Vector3();\n\t\t\t\t\tposition2 = new Vector3();\n\t\t\t\t} // Safeguards if bevels are not enabled\n\n\n\t\t\t\tif (!bevelEnabled) {\n\t\t\t\t\tbevelSegments = 0;\n\t\t\t\t\tbevelThickness = 0;\n\t\t\t\t\tbevelSize = 0;\n\t\t\t\t\tbevelOffset = 0;\n\t\t\t\t} // Variables initialization\n\n\n\t\t\t\tconst shapePoints = shape.extractPoints(curveSegments);\n\t\t\t\tlet vertices = shapePoints.shape;\n\t\t\t\tconst holes = shapePoints.holes;\n\t\t\t\tconst reverse = !ShapeUtils.isClockWise(vertices);\n\n\t\t\t\tif (reverse) {\n\t\t\t\t\tvertices = vertices.reverse(); // Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n\t\t\t\t\tfor (let h = 0, hl = holes.length; h < hl; h++) {\n\t\t\t\t\t\tconst ahole = holes[h];\n\n\t\t\t\t\t\tif (ShapeUtils.isClockWise(ahole)) {\n\t\t\t\t\t\t\tholes[h] = ahole.reverse();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst faces = ShapeUtils.triangulateShape(vertices, holes);\n\t\t\t\t/* Vertices */\n\n\t\t\t\tconst contour = vertices; // vertices has all points but contour has only points of circumference\n\n\t\t\t\tfor (let h = 0, hl = holes.length; h < hl; h++) {\n\t\t\t\t\tconst ahole = holes[h];\n\t\t\t\t\tvertices = vertices.concat(ahole);\n\t\t\t\t}\n\n\t\t\t\tfunction scalePt2(pt, vec, size) {\n\t\t\t\t\tif (!vec) console.error('THREE.ExtrudeGeometry: vec does not exist');\n\t\t\t\t\treturn vec.clone().multiplyScalar(size).add(pt);\n\t\t\t\t}\n\n\t\t\t\tconst vlen = vertices.length,\n\t\t\t\t\t\t\tflen = faces.length; // Find directions for point movement\n\n\t\t\t\tfunction getBevelVec(inPt, inPrev, inNext) {\n\t\t\t\t\t// computes for inPt the corresponding point inPt' on a new contour\n\t\t\t\t\t//\t shifted by 1 unit (length of normalized vector) to the left\n\t\t\t\t\t// if we walk along contour clockwise, this new contour is outside the old one\n\t\t\t\t\t//\n\t\t\t\t\t// inPt' is the intersection of the two lines parallel to the two\n\t\t\t\t\t//\tadjacent edges of inPt at a distance of 1 unit on the left side.\n\t\t\t\t\tlet v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n\t\t\t\t\t// good reading for geometry algorithms (here: line-line intersection)\n\t\t\t\t\t// http://geomalgorithms.com/a05-_intersect-1.html\n\n\t\t\t\t\tconst v_prev_x = inPt.x - inPrev.x,\n\t\t\t\t\t\t\t\tv_prev_y = inPt.y - inPrev.y;\n\t\t\t\t\tconst v_next_x = inNext.x - inPt.x,\n\t\t\t\t\t\t\t\tv_next_y = inNext.y - inPt.y;\n\t\t\t\t\tconst v_prev_lensq = v_prev_x * v_prev_x + v_prev_y * v_prev_y; // check for collinear edges\n\n\t\t\t\t\tconst collinear0 = v_prev_x * v_next_y - v_prev_y * v_next_x;\n\n\t\t\t\t\tif (Math.abs(collinear0) > Number.EPSILON) {\n\t\t\t\t\t\t// not collinear\n\t\t\t\t\t\t// length of vectors for normalizing\n\t\t\t\t\t\tconst v_prev_len = Math.sqrt(v_prev_lensq);\n\t\t\t\t\t\tconst v_next_len = Math.sqrt(v_next_x * v_next_x + v_next_y * v_next_y); // shift adjacent points by unit vectors to the left\n\n\t\t\t\t\t\tconst ptPrevShift_x = inPrev.x - v_prev_y / v_prev_len;\n\t\t\t\t\t\tconst ptPrevShift_y = inPrev.y + v_prev_x / v_prev_len;\n\t\t\t\t\t\tconst ptNextShift_x = inNext.x - v_next_y / v_next_len;\n\t\t\t\t\t\tconst ptNextShift_y = inNext.y + v_next_x / v_next_len; // scaling factor for v_prev to intersection point\n\n\t\t\t\t\t\tconst sf = ((ptNextShift_x - ptPrevShift_x) * v_next_y - (ptNextShift_y - ptPrevShift_y) * v_next_x) / (v_prev_x * v_next_y - v_prev_y * v_next_x); // vector from inPt to intersection point\n\n\t\t\t\t\t\tv_trans_x = ptPrevShift_x + v_prev_x * sf - inPt.x;\n\t\t\t\t\t\tv_trans_y = ptPrevShift_y + v_prev_y * sf - inPt.y; // Don't normalize!, otherwise sharp corners become ugly\n\t\t\t\t\t\t//\tbut prevent crazy spikes\n\n\t\t\t\t\t\tconst v_trans_lensq = v_trans_x * v_trans_x + v_trans_y * v_trans_y;\n\n\t\t\t\t\t\tif (v_trans_lensq <= 2) {\n\t\t\t\t\t\t\treturn new Vector2(v_trans_x, v_trans_y);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tshrink_by = Math.sqrt(v_trans_lensq / 2);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// handle special case of collinear edges\n\t\t\t\t\t\tlet direction_eq = false; // assumes: opposite\n\n\t\t\t\t\t\tif (v_prev_x > Number.EPSILON) {\n\t\t\t\t\t\t\tif (v_next_x > Number.EPSILON) {\n\t\t\t\t\t\t\t\tdirection_eq = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (v_prev_x < -Number.EPSILON) {\n\t\t\t\t\t\t\t\tif (v_next_x < -Number.EPSILON) {\n\t\t\t\t\t\t\t\t\tdirection_eq = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (Math.sign(v_prev_y) === Math.sign(v_next_y)) {\n\t\t\t\t\t\t\t\t\tdirection_eq = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (direction_eq) {\n\t\t\t\t\t\t\t// console.log(\"Warning: lines are a straight sequence\");\n\t\t\t\t\t\t\tv_trans_x = -v_prev_y;\n\t\t\t\t\t\t\tv_trans_y = v_prev_x;\n\t\t\t\t\t\t\tshrink_by = Math.sqrt(v_prev_lensq);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// console.log(\"Warning: lines are a straight spike\");\n\t\t\t\t\t\t\tv_trans_x = v_prev_x;\n\t\t\t\t\t\t\tv_trans_y = v_prev_y;\n\t\t\t\t\t\t\tshrink_by = Math.sqrt(v_prev_lensq / 2);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn new Vector2(v_trans_x / shrink_by, v_trans_y / shrink_by);\n\t\t\t\t}\n\n\t\t\t\tconst contourMovements = [];\n\n\t\t\t\tfor (let i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i++, j++, k++) {\n\t\t\t\t\tif (j === il) j = 0;\n\t\t\t\t\tif (k === il) k = 0; //\t(j)---(i)---(k)\n\t\t\t\t\t// console.log('i,j,k', i, j , k)\n\n\t\t\t\t\tcontourMovements[i] = getBevelVec(contour[i], contour[j], contour[k]);\n\t\t\t\t}\n\n\t\t\t\tconst holesMovements = [];\n\t\t\t\tlet oneHoleMovements,\n\t\t\t\t\t\tverticesMovements = contourMovements.concat();\n\n\t\t\t\tfor (let h = 0, hl = holes.length; h < hl; h++) {\n\t\t\t\t\tconst ahole = holes[h];\n\t\t\t\t\toneHoleMovements = [];\n\n\t\t\t\t\tfor (let i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i++, j++, k++) {\n\t\t\t\t\t\tif (j === il) j = 0;\n\t\t\t\t\t\tif (k === il) k = 0; //\t(j)---(i)---(k)\n\n\t\t\t\t\t\toneHoleMovements[i] = getBevelVec(ahole[i], ahole[j], ahole[k]);\n\t\t\t\t\t}\n\n\t\t\t\t\tholesMovements.push(oneHoleMovements);\n\t\t\t\t\tverticesMovements = verticesMovements.concat(oneHoleMovements);\n\t\t\t\t} // Loop bevelSegments, 1 for the front, 1 for the back\n\n\n\t\t\t\tfor (let b = 0; b < bevelSegments; b++) {\n\t\t\t\t\t//for ( b = bevelSegments; b > 0; b -- ) {\n\t\t\t\t\tconst t = b / bevelSegments;\n\t\t\t\t\tconst z = bevelThickness * Math.cos(t * Math.PI / 2);\n\t\t\t\t\tconst bs = bevelSize * Math.sin(t * Math.PI / 2) + bevelOffset; // contract shape\n\n\t\t\t\t\tfor (let i = 0, il = contour.length; i < il; i++) {\n\t\t\t\t\t\tconst vert = scalePt2(contour[i], contourMovements[i], bs);\n\t\t\t\t\t\tv(vert.x, vert.y, -z);\n\t\t\t\t\t} // expand holes\n\n\n\t\t\t\t\tfor (let h = 0, hl = holes.length; h < hl; h++) {\n\t\t\t\t\t\tconst ahole = holes[h];\n\t\t\t\t\t\toneHoleMovements = holesMovements[h];\n\n\t\t\t\t\t\tfor (let i = 0, il = ahole.length; i < il; i++) {\n\t\t\t\t\t\t\tconst vert = scalePt2(ahole[i], oneHoleMovements[i], bs);\n\t\t\t\t\t\t\tv(vert.x, vert.y, -z);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst bs = bevelSize + bevelOffset; // Back facing vertices\n\n\t\t\t\tfor (let i = 0; i < vlen; i++) {\n\t\t\t\t\tconst vert = bevelEnabled ? scalePt2(vertices[i], verticesMovements[i], bs) : vertices[i];\n\n\t\t\t\t\tif (!extrudeByPath) {\n\t\t\t\t\t\tv(vert.x, vert.y, 0);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\t\t\t\t\t\tnormal.copy(splineTube.normals[0]).multiplyScalar(vert.x);\n\t\t\t\t\t\tbinormal.copy(splineTube.binormals[0]).multiplyScalar(vert.y);\n\t\t\t\t\t\tposition2.copy(extrudePts[0]).add(normal).add(binormal);\n\t\t\t\t\t\tv(position2.x, position2.y, position2.z);\n\t\t\t\t\t}\n\t\t\t\t} // Add stepped vertices...\n\t\t\t\t// Including front facing vertices\n\n\n\t\t\t\tfor (let s = 1; s <= steps; s++) {\n\t\t\t\t\tfor (let i = 0; i < vlen; i++) {\n\t\t\t\t\t\tconst vert = bevelEnabled ? scalePt2(vertices[i], verticesMovements[i], bs) : vertices[i];\n\n\t\t\t\t\t\tif (!extrudeByPath) {\n\t\t\t\t\t\t\tv(vert.x, vert.y, depth / steps * s);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\t\t\t\t\t\t\tnormal.copy(splineTube.normals[s]).multiplyScalar(vert.x);\n\t\t\t\t\t\t\tbinormal.copy(splineTube.binormals[s]).multiplyScalar(vert.y);\n\t\t\t\t\t\t\tposition2.copy(extrudePts[s]).add(normal).add(binormal);\n\t\t\t\t\t\t\tv(position2.x, position2.y, position2.z);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} // Add bevel segments planes\n\t\t\t\t//for ( b = 1; b <= bevelSegments; b ++ ) {\n\n\n\t\t\t\tfor (let b = bevelSegments - 1; b >= 0; b--) {\n\t\t\t\t\tconst t = b / bevelSegments;\n\t\t\t\t\tconst z = bevelThickness * Math.cos(t * Math.PI / 2);\n\t\t\t\t\tconst bs = bevelSize * Math.sin(t * Math.PI / 2) + bevelOffset; // contract shape\n\n\t\t\t\t\tfor (let i = 0, il = contour.length; i < il; i++) {\n\t\t\t\t\t\tconst vert = scalePt2(contour[i], contourMovements[i], bs);\n\t\t\t\t\t\tv(vert.x, vert.y, depth + z);\n\t\t\t\t\t} // expand holes\n\n\n\t\t\t\t\tfor (let h = 0, hl = holes.length; h < hl; h++) {\n\t\t\t\t\t\tconst ahole = holes[h];\n\t\t\t\t\t\toneHoleMovements = holesMovements[h];\n\n\t\t\t\t\t\tfor (let i = 0, il = ahole.length; i < il; i++) {\n\t\t\t\t\t\t\tconst vert = scalePt2(ahole[i], oneHoleMovements[i], bs);\n\n\t\t\t\t\t\t\tif (!extrudeByPath) {\n\t\t\t\t\t\t\t\tv(vert.x, vert.y, depth + z);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tv(vert.x, vert.y + extrudePts[steps - 1].y, extrudePts[steps - 1].x + z);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t/* Faces */\n\t\t\t\t// Top and bottom faces\n\n\n\t\t\t\tbuildLidFaces(); // Sides faces\n\n\t\t\t\tbuildSideFaces(); /////\tInternal functions\n\n\t\t\t\tfunction buildLidFaces() {\n\t\t\t\t\tconst start = verticesArray.length / 3;\n\n\t\t\t\t\tif (bevelEnabled) {\n\t\t\t\t\t\tlet layer = 0; // steps + 1\n\n\t\t\t\t\t\tlet offset = vlen * layer; // Bottom faces\n\n\t\t\t\t\t\tfor (let i = 0; i < flen; i++) {\n\t\t\t\t\t\t\tconst face = faces[i];\n\t\t\t\t\t\t\tf3(face[2] + offset, face[1] + offset, face[0] + offset);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlayer = steps + bevelSegments * 2;\n\t\t\t\t\t\toffset = vlen * layer; // Top faces\n\n\t\t\t\t\t\tfor (let i = 0; i < flen; i++) {\n\t\t\t\t\t\t\tconst face = faces[i];\n\t\t\t\t\t\t\tf3(face[0] + offset, face[1] + offset, face[2] + offset);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Bottom faces\n\t\t\t\t\t\tfor (let i = 0; i < flen; i++) {\n\t\t\t\t\t\t\tconst face = faces[i];\n\t\t\t\t\t\t\tf3(face[2], face[1], face[0]);\n\t\t\t\t\t\t} // Top faces\n\n\n\t\t\t\t\t\tfor (let i = 0; i < flen; i++) {\n\t\t\t\t\t\t\tconst face = faces[i];\n\t\t\t\t\t\t\tf3(face[0] + vlen * steps, face[1] + vlen * steps, face[2] + vlen * steps);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.addGroup(start, verticesArray.length / 3 - start, 0);\n\t\t\t\t} // Create faces for the z-sides of the shape\n\n\n\t\t\t\tfunction buildSideFaces() {\n\t\t\t\t\tconst start = verticesArray.length / 3;\n\t\t\t\t\tlet layeroffset = 0;\n\t\t\t\t\tsidewalls(contour, layeroffset);\n\t\t\t\t\tlayeroffset += contour.length;\n\n\t\t\t\t\tfor (let h = 0, hl = holes.length; h < hl; h++) {\n\t\t\t\t\t\tconst ahole = holes[h];\n\t\t\t\t\t\tsidewalls(ahole, layeroffset); //, true\n\n\t\t\t\t\t\tlayeroffset += ahole.length;\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.addGroup(start, verticesArray.length / 3 - start, 1);\n\t\t\t\t}\n\n\t\t\t\tfunction sidewalls(contour, layeroffset) {\n\t\t\t\t\tlet i = contour.length;\n\n\t\t\t\t\twhile (--i >= 0) {\n\t\t\t\t\t\tconst j = i;\n\t\t\t\t\t\tlet k = i - 1;\n\t\t\t\t\t\tif (k < 0) k = contour.length - 1; //console.log('b', i,j, i-1, k,vertices.length);\n\n\t\t\t\t\t\tfor (let s = 0, sl = steps + bevelSegments * 2; s < sl; s++) {\n\t\t\t\t\t\t\tconst slen1 = vlen * s;\n\t\t\t\t\t\t\tconst slen2 = vlen * (s + 1);\n\t\t\t\t\t\t\tconst a = layeroffset + j + slen1,\n\t\t\t\t\t\t\t\t\t\tb = layeroffset + k + slen1,\n\t\t\t\t\t\t\t\t\t\tc = layeroffset + k + slen2,\n\t\t\t\t\t\t\t\t\t\td = layeroffset + j + slen2;\n\t\t\t\t\t\t\tf4(a, b, c, d);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfunction v(x, y, z) {\n\t\t\t\t\tplaceholder.push(x);\n\t\t\t\t\tplaceholder.push(y);\n\t\t\t\t\tplaceholder.push(z);\n\t\t\t\t}\n\n\t\t\t\tfunction f3(a, b, c) {\n\t\t\t\t\taddVertex(a);\n\t\t\t\t\taddVertex(b);\n\t\t\t\t\taddVertex(c);\n\t\t\t\t\tconst nextIndex = verticesArray.length / 3;\n\t\t\t\t\tconst uvs = uvgen.generateTopUV(scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1);\n\t\t\t\t\taddUV(uvs[0]);\n\t\t\t\t\taddUV(uvs[1]);\n\t\t\t\t\taddUV(uvs[2]);\n\t\t\t\t}\n\n\t\t\t\tfunction f4(a, b, c, d) {\n\t\t\t\t\taddVertex(a);\n\t\t\t\t\taddVertex(b);\n\t\t\t\t\taddVertex(d);\n\t\t\t\t\taddVertex(b);\n\t\t\t\t\taddVertex(c);\n\t\t\t\t\taddVertex(d);\n\t\t\t\t\tconst nextIndex = verticesArray.length / 3;\n\t\t\t\t\tconst uvs = uvgen.generateSideWallUV(scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1);\n\t\t\t\t\taddUV(uvs[0]);\n\t\t\t\t\taddUV(uvs[1]);\n\t\t\t\t\taddUV(uvs[3]);\n\t\t\t\t\taddUV(uvs[1]);\n\t\t\t\t\taddUV(uvs[2]);\n\t\t\t\t\taddUV(uvs[3]);\n\t\t\t\t}\n\n\t\t\t\tfunction addVertex(index) {\n\t\t\t\t\tverticesArray.push(placeholder[index * 3 + 0]);\n\t\t\t\t\tverticesArray.push(placeholder[index * 3 + 1]);\n\t\t\t\t\tverticesArray.push(placeholder[index * 3 + 2]);\n\t\t\t\t}\n\n\t\t\t\tfunction addUV(vector2) {\n\t\t\t\t\tuvArray.push(vector2.x);\n\t\t\t\t\tuvArray.push(vector2.y);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tconst shapes = this.parameters.shapes;\n\t\t\tconst options = this.parameters.options;\n\t\t\treturn toJSON$1(shapes, options, data);\n\t\t}\n\n\t\tstatic fromJSON(data, shapes) {\n\t\t\tconst geometryShapes = [];\n\n\t\t\tfor (let j = 0, jl = data.shapes.length; j < jl; j++) {\n\t\t\t\tconst shape = shapes[data.shapes[j]];\n\t\t\t\tgeometryShapes.push(shape);\n\t\t\t}\n\n\t\t\tconst extrudePath = data.options.extrudePath;\n\n\t\t\tif (extrudePath !== undefined) {\n\t\t\t\tdata.options.extrudePath = new Curves[extrudePath.type]().fromJSON(extrudePath);\n\t\t\t}\n\n\t\t\treturn new ExtrudeGeometry(geometryShapes, data.options);\n\t\t}\n\n\t}\n\n\tconst WorldUVGenerator = {\n\t\tgenerateTopUV: function (geometry, vertices, indexA, indexB, indexC) {\n\t\t\tconst a_x = vertices[indexA * 3];\n\t\t\tconst a_y = vertices[indexA * 3 + 1];\n\t\t\tconst b_x = vertices[indexB * 3];\n\t\t\tconst b_y = vertices[indexB * 3 + 1];\n\t\t\tconst c_x = vertices[indexC * 3];\n\t\t\tconst c_y = vertices[indexC * 3 + 1];\n\t\t\treturn [new Vector2(a_x, a_y), new Vector2(b_x, b_y), new Vector2(c_x, c_y)];\n\t\t},\n\t\tgenerateSideWallUV: function (geometry, vertices, indexA, indexB, indexC, indexD) {\n\t\t\tconst a_x = vertices[indexA * 3];\n\t\t\tconst a_y = vertices[indexA * 3 + 1];\n\t\t\tconst a_z = vertices[indexA * 3 + 2];\n\t\t\tconst b_x = vertices[indexB * 3];\n\t\t\tconst b_y = vertices[indexB * 3 + 1];\n\t\t\tconst b_z = vertices[indexB * 3 + 2];\n\t\t\tconst c_x = vertices[indexC * 3];\n\t\t\tconst c_y = vertices[indexC * 3 + 1];\n\t\t\tconst c_z = vertices[indexC * 3 + 2];\n\t\t\tconst d_x = vertices[indexD * 3];\n\t\t\tconst d_y = vertices[indexD * 3 + 1];\n\t\t\tconst d_z = vertices[indexD * 3 + 2];\n\n\t\t\tif (Math.abs(a_y - b_y) < Math.abs(a_x - b_x)) {\n\t\t\t\treturn [new Vector2(a_x, 1 - a_z), new Vector2(b_x, 1 - b_z), new Vector2(c_x, 1 - c_z), new Vector2(d_x, 1 - d_z)];\n\t\t\t} else {\n\t\t\t\treturn [new Vector2(a_y, 1 - a_z), new Vector2(b_y, 1 - b_z), new Vector2(c_y, 1 - c_z), new Vector2(d_y, 1 - d_z)];\n\t\t\t}\n\t\t}\n\t};\n\n\tfunction toJSON$1(shapes, options, data) {\n\t\tdata.shapes = [];\n\n\t\tif (Array.isArray(shapes)) {\n\t\t\tfor (let i = 0, l = shapes.length; i < l; i++) {\n\t\t\t\tconst shape = shapes[i];\n\t\t\t\tdata.shapes.push(shape.uuid);\n\t\t\t}\n\t\t} else {\n\t\t\tdata.shapes.push(shapes.uuid);\n\t\t}\n\n\t\tdata.options = Object.assign({}, options);\n\t\tif (options.extrudePath !== undefined) data.options.extrudePath = options.extrudePath.toJSON();\n\t\treturn data;\n\t}\n\n\tclass IcosahedronGeometry extends PolyhedronGeometry {\n\t\tconstructor(radius = 1, detail = 0) {\n\t\t\tconst t = (1 + Math.sqrt(5)) / 2;\n\t\t\tconst vertices = [-1, t, 0, 1, t, 0, -1, -t, 0, 1, -t, 0, 0, -1, t, 0, 1, t, 0, -1, -t, 0, 1, -t, t, 0, -1, t, 0, 1, -t, 0, -1, -t, 0, 1];\n\t\t\tconst indices = [0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11, 1, 5, 9, 5, 11, 4, 11, 10, 2, 10, 7, 6, 7, 1, 8, 3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3, 8, 9, 4, 9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1];\n\t\t\tsuper(vertices, indices, radius, detail);\n\t\t\tthis.type = 'IcosahedronGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tradius: radius,\n\t\t\t\tdetail: detail\n\t\t\t};\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new IcosahedronGeometry(data.radius, data.detail);\n\t\t}\n\n\t}\n\n\tclass OctahedronGeometry extends PolyhedronGeometry {\n\t\tconstructor(radius = 1, detail = 0) {\n\t\t\tconst vertices = [1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1];\n\t\t\tconst indices = [0, 2, 4, 0, 4, 3, 0, 3, 5, 0, 5, 2, 1, 2, 5, 1, 5, 3, 1, 3, 4, 1, 4, 2];\n\t\t\tsuper(vertices, indices, radius, detail);\n\t\t\tthis.type = 'OctahedronGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tradius: radius,\n\t\t\t\tdetail: detail\n\t\t\t};\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new OctahedronGeometry(data.radius, data.detail);\n\t\t}\n\n\t}\n\n\tclass RingGeometry extends BufferGeometry {\n\t\tconstructor(innerRadius = 0.5, outerRadius = 1, thetaSegments = 8, phiSegments = 1, thetaStart = 0, thetaLength = Math.PI * 2) {\n\t\t\tsuper();\n\t\t\tthis.type = 'RingGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tinnerRadius: innerRadius,\n\t\t\t\touterRadius: outerRadius,\n\t\t\t\tthetaSegments: thetaSegments,\n\t\t\t\tphiSegments: phiSegments,\n\t\t\t\tthetaStart: thetaStart,\n\t\t\t\tthetaLength: thetaLength\n\t\t\t};\n\t\t\tthetaSegments = Math.max(3, thetaSegments);\n\t\t\tphiSegments = Math.max(1, phiSegments); // buffers\n\n\t\t\tconst indices = [];\n\t\t\tconst vertices = [];\n\t\t\tconst normals = [];\n\t\t\tconst uvs = []; // some helper variables\n\n\t\t\tlet radius = innerRadius;\n\t\t\tconst radiusStep = (outerRadius - innerRadius) / phiSegments;\n\t\t\tconst vertex = new Vector3();\n\t\t\tconst uv = new Vector2(); // generate vertices, normals and uvs\n\n\t\t\tfor (let j = 0; j <= phiSegments; j++) {\n\t\t\t\tfor (let i = 0; i <= thetaSegments; i++) {\n\t\t\t\t\t// values are generate from the inside of the ring to the outside\n\t\t\t\t\tconst segment = thetaStart + i / thetaSegments * thetaLength; // vertex\n\n\t\t\t\t\tvertex.x = radius * Math.cos(segment);\n\t\t\t\t\tvertex.y = radius * Math.sin(segment);\n\t\t\t\t\tvertices.push(vertex.x, vertex.y, vertex.z); // normal\n\n\t\t\t\t\tnormals.push(0, 0, 1); // uv\n\n\t\t\t\t\tuv.x = (vertex.x / outerRadius + 1) / 2;\n\t\t\t\t\tuv.y = (vertex.y / outerRadius + 1) / 2;\n\t\t\t\t\tuvs.push(uv.x, uv.y);\n\t\t\t\t} // increase the radius for next row of vertices\n\n\n\t\t\t\tradius += radiusStep;\n\t\t\t} // indices\n\n\n\t\t\tfor (let j = 0; j < phiSegments; j++) {\n\t\t\t\tconst thetaSegmentLevel = j * (thetaSegments + 1);\n\n\t\t\t\tfor (let i = 0; i < thetaSegments; i++) {\n\t\t\t\t\tconst segment = i + thetaSegmentLevel;\n\t\t\t\t\tconst a = segment;\n\t\t\t\t\tconst b = segment + thetaSegments + 1;\n\t\t\t\t\tconst c = segment + thetaSegments + 2;\n\t\t\t\t\tconst d = segment + 1; // faces\n\n\t\t\t\t\tindices.push(a, b, d);\n\t\t\t\t\tindices.push(b, c, d);\n\t\t\t\t}\n\t\t\t} // build geometry\n\n\n\t\t\tthis.setIndex(indices);\n\t\t\tthis.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tthis.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\t\t\tthis.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new RingGeometry(data.innerRadius, data.outerRadius, data.thetaSegments, data.phiSegments, data.thetaStart, data.thetaLength);\n\t\t}\n\n\t}\n\n\tclass ShapeGeometry extends BufferGeometry {\n\t\tconstructor(shapes = new Shape([new Vector2(0, 0.5), new Vector2(-0.5, -0.5), new Vector2(0.5, -0.5)]), curveSegments = 12) {\n\t\t\tsuper();\n\t\t\tthis.type = 'ShapeGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tshapes: shapes,\n\t\t\t\tcurveSegments: curveSegments\n\t\t\t}; // buffers\n\n\t\t\tconst indices = [];\n\t\t\tconst vertices = [];\n\t\t\tconst normals = [];\n\t\t\tconst uvs = []; // helper variables\n\n\t\t\tlet groupStart = 0;\n\t\t\tlet groupCount = 0; // allow single and array values for \"shapes\" parameter\n\n\t\t\tif (Array.isArray(shapes) === false) {\n\t\t\t\taddShape(shapes);\n\t\t\t} else {\n\t\t\t\tfor (let i = 0; i < shapes.length; i++) {\n\t\t\t\t\taddShape(shapes[i]);\n\t\t\t\t\tthis.addGroup(groupStart, groupCount, i); // enables MultiMaterial support\n\n\t\t\t\t\tgroupStart += groupCount;\n\t\t\t\t\tgroupCount = 0;\n\t\t\t\t}\n\t\t\t} // build geometry\n\n\n\t\t\tthis.setIndex(indices);\n\t\t\tthis.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tthis.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\t\t\tthis.setAttribute('uv', new Float32BufferAttribute(uvs, 2)); // helper functions\n\n\t\t\tfunction addShape(shape) {\n\t\t\t\tconst indexOffset = vertices.length / 3;\n\t\t\t\tconst points = shape.extractPoints(curveSegments);\n\t\t\t\tlet shapeVertices = points.shape;\n\t\t\t\tconst shapeHoles = points.holes; // check direction of vertices\n\n\t\t\t\tif (ShapeUtils.isClockWise(shapeVertices) === false) {\n\t\t\t\t\tshapeVertices = shapeVertices.reverse();\n\t\t\t\t}\n\n\t\t\t\tfor (let i = 0, l = shapeHoles.length; i < l; i++) {\n\t\t\t\t\tconst shapeHole = shapeHoles[i];\n\n\t\t\t\t\tif (ShapeUtils.isClockWise(shapeHole) === true) {\n\t\t\t\t\t\tshapeHoles[i] = shapeHole.reverse();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst faces = ShapeUtils.triangulateShape(shapeVertices, shapeHoles); // join vertices of inner and outer paths to a single array\n\n\t\t\t\tfor (let i = 0, l = shapeHoles.length; i < l; i++) {\n\t\t\t\t\tconst shapeHole = shapeHoles[i];\n\t\t\t\t\tshapeVertices = shapeVertices.concat(shapeHole);\n\t\t\t\t} // vertices, normals, uvs\n\n\n\t\t\t\tfor (let i = 0, l = shapeVertices.length; i < l; i++) {\n\t\t\t\t\tconst vertex = shapeVertices[i];\n\t\t\t\t\tvertices.push(vertex.x, vertex.y, 0);\n\t\t\t\t\tnormals.push(0, 0, 1);\n\t\t\t\t\tuvs.push(vertex.x, vertex.y); // world uvs\n\t\t\t\t} // incides\n\n\n\t\t\t\tfor (let i = 0, l = faces.length; i < l; i++) {\n\t\t\t\t\tconst face = faces[i];\n\t\t\t\t\tconst a = face[0] + indexOffset;\n\t\t\t\t\tconst b = face[1] + indexOffset;\n\t\t\t\t\tconst c = face[2] + indexOffset;\n\t\t\t\t\tindices.push(a, b, c);\n\t\t\t\t\tgroupCount += 3;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tconst shapes = this.parameters.shapes;\n\t\t\treturn toJSON(shapes, data);\n\t\t}\n\n\t\tstatic fromJSON(data, shapes) {\n\t\t\tconst geometryShapes = [];\n\n\t\t\tfor (let j = 0, jl = data.shapes.length; j < jl; j++) {\n\t\t\t\tconst shape = shapes[data.shapes[j]];\n\t\t\t\tgeometryShapes.push(shape);\n\t\t\t}\n\n\t\t\treturn new ShapeGeometry(geometryShapes, data.curveSegments);\n\t\t}\n\n\t}\n\n\tfunction toJSON(shapes, data) {\n\t\tdata.shapes = [];\n\n\t\tif (Array.isArray(shapes)) {\n\t\t\tfor (let i = 0, l = shapes.length; i < l; i++) {\n\t\t\t\tconst shape = shapes[i];\n\t\t\t\tdata.shapes.push(shape.uuid);\n\t\t\t}\n\t\t} else {\n\t\t\tdata.shapes.push(shapes.uuid);\n\t\t}\n\n\t\treturn data;\n\t}\n\n\tclass SphereGeometry extends BufferGeometry {\n\t\tconstructor(radius = 1, widthSegments = 32, heightSegments = 16, phiStart = 0, phiLength = Math.PI * 2, thetaStart = 0, thetaLength = Math.PI) {\n\t\t\tsuper();\n\t\t\tthis.type = 'SphereGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tradius: radius,\n\t\t\t\twidthSegments: widthSegments,\n\t\t\t\theightSegments: heightSegments,\n\t\t\t\tphiStart: phiStart,\n\t\t\t\tphiLength: phiLength,\n\t\t\t\tthetaStart: thetaStart,\n\t\t\t\tthetaLength: thetaLength\n\t\t\t};\n\t\t\twidthSegments = Math.max(3, Math.floor(widthSegments));\n\t\t\theightSegments = Math.max(2, Math.floor(heightSegments));\n\t\t\tconst thetaEnd = Math.min(thetaStart + thetaLength, Math.PI);\n\t\t\tlet index = 0;\n\t\t\tconst grid = [];\n\t\t\tconst vertex = new Vector3();\n\t\t\tconst normal = new Vector3(); // buffers\n\n\t\t\tconst indices = [];\n\t\t\tconst vertices = [];\n\t\t\tconst normals = [];\n\t\t\tconst uvs = []; // generate vertices, normals and uvs\n\n\t\t\tfor (let iy = 0; iy <= heightSegments; iy++) {\n\t\t\t\tconst verticesRow = [];\n\t\t\t\tconst v = iy / heightSegments; // special case for the poles\n\n\t\t\t\tlet uOffset = 0;\n\n\t\t\t\tif (iy == 0 && thetaStart == 0) {\n\t\t\t\t\tuOffset = 0.5 / widthSegments;\n\t\t\t\t} else if (iy == heightSegments && thetaEnd == Math.PI) {\n\t\t\t\t\tuOffset = -0.5 / widthSegments;\n\t\t\t\t}\n\n\t\t\t\tfor (let ix = 0; ix <= widthSegments; ix++) {\n\t\t\t\t\tconst u = ix / widthSegments; // vertex\n\n\t\t\t\t\tvertex.x = -radius * Math.cos(phiStart + u * phiLength) * Math.sin(thetaStart + v * thetaLength);\n\t\t\t\t\tvertex.y = radius * Math.cos(thetaStart + v * thetaLength);\n\t\t\t\t\tvertex.z = radius * Math.sin(phiStart + u * phiLength) * Math.sin(thetaStart + v * thetaLength);\n\t\t\t\t\tvertices.push(vertex.x, vertex.y, vertex.z); // normal\n\n\t\t\t\t\tnormal.copy(vertex).normalize();\n\t\t\t\t\tnormals.push(normal.x, normal.y, normal.z); // uv\n\n\t\t\t\t\tuvs.push(u + uOffset, 1 - v);\n\t\t\t\t\tverticesRow.push(index++);\n\t\t\t\t}\n\n\t\t\t\tgrid.push(verticesRow);\n\t\t\t} // indices\n\n\n\t\t\tfor (let iy = 0; iy < heightSegments; iy++) {\n\t\t\t\tfor (let ix = 0; ix < widthSegments; ix++) {\n\t\t\t\t\tconst a = grid[iy][ix + 1];\n\t\t\t\t\tconst b = grid[iy][ix];\n\t\t\t\t\tconst c = grid[iy + 1][ix];\n\t\t\t\t\tconst d = grid[iy + 1][ix + 1];\n\t\t\t\t\tif (iy !== 0 || thetaStart > 0) indices.push(a, b, d);\n\t\t\t\t\tif (iy !== heightSegments - 1 || thetaEnd < Math.PI) indices.push(b, c, d);\n\t\t\t\t}\n\t\t\t} // build geometry\n\n\n\t\t\tthis.setIndex(indices);\n\t\t\tthis.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tthis.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\t\t\tthis.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new SphereGeometry(data.radius, data.widthSegments, data.heightSegments, data.phiStart, data.phiLength, data.thetaStart, data.thetaLength);\n\t\t}\n\n\t}\n\n\tclass TetrahedronGeometry extends PolyhedronGeometry {\n\t\tconstructor(radius = 1, detail = 0) {\n\t\t\tconst vertices = [1, 1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1];\n\t\t\tconst indices = [2, 1, 0, 0, 3, 2, 1, 3, 0, 2, 3, 1];\n\t\t\tsuper(vertices, indices, radius, detail);\n\t\t\tthis.type = 'TetrahedronGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tradius: radius,\n\t\t\t\tdetail: detail\n\t\t\t};\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new TetrahedronGeometry(data.radius, data.detail);\n\t\t}\n\n\t}\n\n\tclass TorusGeometry extends BufferGeometry {\n\t\tconstructor(radius = 1, tube = 0.4, radialSegments = 8, tubularSegments = 6, arc = Math.PI * 2) {\n\t\t\tsuper();\n\t\t\tthis.type = 'TorusGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tradius: radius,\n\t\t\t\ttube: tube,\n\t\t\t\tradialSegments: radialSegments,\n\t\t\t\ttubularSegments: tubularSegments,\n\t\t\t\tarc: arc\n\t\t\t};\n\t\t\tradialSegments = Math.floor(radialSegments);\n\t\t\ttubularSegments = Math.floor(tubularSegments); // buffers\n\n\t\t\tconst indices = [];\n\t\t\tconst vertices = [];\n\t\t\tconst normals = [];\n\t\t\tconst uvs = []; // helper variables\n\n\t\t\tconst center = new Vector3();\n\t\t\tconst vertex = new Vector3();\n\t\t\tconst normal = new Vector3(); // generate vertices, normals and uvs\n\n\t\t\tfor (let j = 0; j <= radialSegments; j++) {\n\t\t\t\tfor (let i = 0; i <= tubularSegments; i++) {\n\t\t\t\t\tconst u = i / tubularSegments * arc;\n\t\t\t\t\tconst v = j / radialSegments * Math.PI * 2; // vertex\n\n\t\t\t\t\tvertex.x = (radius + tube * Math.cos(v)) * Math.cos(u);\n\t\t\t\t\tvertex.y = (radius + tube * Math.cos(v)) * Math.sin(u);\n\t\t\t\t\tvertex.z = tube * Math.sin(v);\n\t\t\t\t\tvertices.push(vertex.x, vertex.y, vertex.z); // normal\n\n\t\t\t\t\tcenter.x = radius * Math.cos(u);\n\t\t\t\t\tcenter.y = radius * Math.sin(u);\n\t\t\t\t\tnormal.subVectors(vertex, center).normalize();\n\t\t\t\t\tnormals.push(normal.x, normal.y, normal.z); // uv\n\n\t\t\t\t\tuvs.push(i / tubularSegments);\n\t\t\t\t\tuvs.push(j / radialSegments);\n\t\t\t\t}\n\t\t\t} // generate indices\n\n\n\t\t\tfor (let j = 1; j <= radialSegments; j++) {\n\t\t\t\tfor (let i = 1; i <= tubularSegments; i++) {\n\t\t\t\t\t// indices\n\t\t\t\t\tconst a = (tubularSegments + 1) * j + i - 1;\n\t\t\t\t\tconst b = (tubularSegments + 1) * (j - 1) + i - 1;\n\t\t\t\t\tconst c = (tubularSegments + 1) * (j - 1) + i;\n\t\t\t\t\tconst d = (tubularSegments + 1) * j + i; // faces\n\n\t\t\t\t\tindices.push(a, b, d);\n\t\t\t\t\tindices.push(b, c, d);\n\t\t\t\t}\n\t\t\t} // build geometry\n\n\n\t\t\tthis.setIndex(indices);\n\t\t\tthis.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tthis.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\t\t\tthis.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new TorusGeometry(data.radius, data.tube, data.radialSegments, data.tubularSegments, data.arc);\n\t\t}\n\n\t}\n\n\tclass TorusKnotGeometry extends BufferGeometry {\n\t\tconstructor(radius = 1, tube = 0.4, tubularSegments = 64, radialSegments = 8, p = 2, q = 3) {\n\t\t\tsuper();\n\t\t\tthis.type = 'TorusKnotGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tradius: radius,\n\t\t\t\ttube: tube,\n\t\t\t\ttubularSegments: tubularSegments,\n\t\t\t\tradialSegments: radialSegments,\n\t\t\t\tp: p,\n\t\t\t\tq: q\n\t\t\t};\n\t\t\ttubularSegments = Math.floor(tubularSegments);\n\t\t\tradialSegments = Math.floor(radialSegments); // buffers\n\n\t\t\tconst indices = [];\n\t\t\tconst vertices = [];\n\t\t\tconst normals = [];\n\t\t\tconst uvs = []; // helper variables\n\n\t\t\tconst vertex = new Vector3();\n\t\t\tconst normal = new Vector3();\n\t\t\tconst P1 = new Vector3();\n\t\t\tconst P2 = new Vector3();\n\t\t\tconst B = new Vector3();\n\t\t\tconst T = new Vector3();\n\t\t\tconst N = new Vector3(); // generate vertices, normals and uvs\n\n\t\t\tfor (let i = 0; i <= tubularSegments; ++i) {\n\t\t\t\t// the radian \"u\" is used to calculate the position on the torus curve of the current tubular segment\n\t\t\t\tconst u = i / tubularSegments * p * Math.PI * 2; // now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n\t\t\t\t// these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n\t\t\t\tcalculatePositionOnCurve(u, p, q, radius, P1);\n\t\t\t\tcalculatePositionOnCurve(u + 0.01, p, q, radius, P2); // calculate orthonormal basis\n\n\t\t\t\tT.subVectors(P2, P1);\n\t\t\t\tN.addVectors(P2, P1);\n\t\t\t\tB.crossVectors(T, N);\n\t\t\t\tN.crossVectors(B, T); // normalize B, N. T can be ignored, we don't use it\n\n\t\t\t\tB.normalize();\n\t\t\t\tN.normalize();\n\n\t\t\t\tfor (let j = 0; j <= radialSegments; ++j) {\n\t\t\t\t\t// now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n\t\t\t\t\t// because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n\t\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\t\t\t\t\tconst cx = -tube * Math.cos(v);\n\t\t\t\t\tconst cy = tube * Math.sin(v); // now calculate the final vertex position.\n\t\t\t\t\t// first we orient the extrusion with our basis vectors, then we add it to the current position on the curve\n\n\t\t\t\t\tvertex.x = P1.x + (cx * N.x + cy * B.x);\n\t\t\t\t\tvertex.y = P1.y + (cx * N.y + cy * B.y);\n\t\t\t\t\tvertex.z = P1.z + (cx * N.z + cy * B.z);\n\t\t\t\t\tvertices.push(vertex.x, vertex.y, vertex.z); // normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n\t\t\t\t\tnormal.subVectors(vertex, P1).normalize();\n\t\t\t\t\tnormals.push(normal.x, normal.y, normal.z); // uv\n\n\t\t\t\t\tuvs.push(i / tubularSegments);\n\t\t\t\t\tuvs.push(j / radialSegments);\n\t\t\t\t}\n\t\t\t} // generate indices\n\n\n\t\t\tfor (let j = 1; j <= tubularSegments; j++) {\n\t\t\t\tfor (let i = 1; i <= radialSegments; i++) {\n\t\t\t\t\t// indices\n\t\t\t\t\tconst a = (radialSegments + 1) * (j - 1) + (i - 1);\n\t\t\t\t\tconst b = (radialSegments + 1) * j + (i - 1);\n\t\t\t\t\tconst c = (radialSegments + 1) * j + i;\n\t\t\t\t\tconst d = (radialSegments + 1) * (j - 1) + i; // faces\n\n\t\t\t\t\tindices.push(a, b, d);\n\t\t\t\t\tindices.push(b, c, d);\n\t\t\t\t}\n\t\t\t} // build geometry\n\n\n\t\t\tthis.setIndex(indices);\n\t\t\tthis.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tthis.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\t\t\tthis.setAttribute('uv', new Float32BufferAttribute(uvs, 2)); // this function calculates the current position on the torus curve\n\n\t\t\tfunction calculatePositionOnCurve(u, p, q, radius, position) {\n\t\t\t\tconst cu = Math.cos(u);\n\t\t\t\tconst su = Math.sin(u);\n\t\t\t\tconst quOverP = q / p * u;\n\t\t\t\tconst cs = Math.cos(quOverP);\n\t\t\t\tposition.x = radius * (2 + cs) * 0.5 * cu;\n\t\t\t\tposition.y = radius * (2 + cs) * su * 0.5;\n\t\t\t\tposition.z = radius * Math.sin(quOverP) * 0.5;\n\t\t\t}\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\treturn new TorusKnotGeometry(data.radius, data.tube, data.tubularSegments, data.radialSegments, data.p, data.q);\n\t\t}\n\n\t}\n\n\tclass TubeGeometry extends BufferGeometry {\n\t\tconstructor(path = new QuadraticBezierCurve3(new Vector3(-1, -1, 0), new Vector3(-1, 1, 0), new Vector3(1, 1, 0)), tubularSegments = 64, radius = 1, radialSegments = 8, closed = false) {\n\t\t\tsuper();\n\t\t\tthis.type = 'TubeGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tpath: path,\n\t\t\t\ttubularSegments: tubularSegments,\n\t\t\t\tradius: radius,\n\t\t\t\tradialSegments: radialSegments,\n\t\t\t\tclosed: closed\n\t\t\t};\n\t\t\tconst frames = path.computeFrenetFrames(tubularSegments, closed); // expose internals\n\n\t\t\tthis.tangents = frames.tangents;\n\t\t\tthis.normals = frames.normals;\n\t\t\tthis.binormals = frames.binormals; // helper variables\n\n\t\t\tconst vertex = new Vector3();\n\t\t\tconst normal = new Vector3();\n\t\t\tconst uv = new Vector2();\n\t\t\tlet P = new Vector3(); // buffer\n\n\t\t\tconst vertices = [];\n\t\t\tconst normals = [];\n\t\t\tconst uvs = [];\n\t\t\tconst indices = []; // create buffer data\n\n\t\t\tgenerateBufferData(); // build geometry\n\n\t\t\tthis.setIndex(indices);\n\t\t\tthis.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tthis.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\t\t\tthis.setAttribute('uv', new Float32BufferAttribute(uvs, 2)); // functions\n\n\t\t\tfunction generateBufferData() {\n\t\t\t\tfor (let i = 0; i < tubularSegments; i++) {\n\t\t\t\t\tgenerateSegment(i);\n\t\t\t\t} // if the geometry is not closed, generate the last row of vertices and normals\n\t\t\t\t// at the regular position on the given path\n\t\t\t\t//\n\t\t\t\t// if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n\n\t\t\t\tgenerateSegment(closed === false ? tubularSegments : 0); // uvs are generated in a separate function.\n\t\t\t\t// this makes it easy compute correct values for closed geometries\n\n\t\t\t\tgenerateUVs(); // finally create faces\n\n\t\t\t\tgenerateIndices();\n\t\t\t}\n\n\t\t\tfunction generateSegment(i) {\n\t\t\t\t// we use getPointAt to sample evenly distributed points from the given path\n\t\t\t\tP = path.getPointAt(i / tubularSegments, P); // retrieve corresponding normal and binormal\n\n\t\t\t\tconst N = frames.normals[i];\n\t\t\t\tconst B = frames.binormals[i]; // generate normals and vertices for the current segment\n\n\t\t\t\tfor (let j = 0; j <= radialSegments; j++) {\n\t\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\t\t\t\t\tconst sin = Math.sin(v);\n\t\t\t\t\tconst cos = -Math.cos(v); // normal\n\n\t\t\t\t\tnormal.x = cos * N.x + sin * B.x;\n\t\t\t\t\tnormal.y = cos * N.y + sin * B.y;\n\t\t\t\t\tnormal.z = cos * N.z + sin * B.z;\n\t\t\t\t\tnormal.normalize();\n\t\t\t\t\tnormals.push(normal.x, normal.y, normal.z); // vertex\n\n\t\t\t\t\tvertex.x = P.x + radius * normal.x;\n\t\t\t\t\tvertex.y = P.y + radius * normal.y;\n\t\t\t\t\tvertex.z = P.z + radius * normal.z;\n\t\t\t\t\tvertices.push(vertex.x, vertex.y, vertex.z);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction generateIndices() {\n\t\t\t\tfor (let j = 1; j <= tubularSegments; j++) {\n\t\t\t\t\tfor (let i = 1; i <= radialSegments; i++) {\n\t\t\t\t\t\tconst a = (radialSegments + 1) * (j - 1) + (i - 1);\n\t\t\t\t\t\tconst b = (radialSegments + 1) * j + (i - 1);\n\t\t\t\t\t\tconst c = (radialSegments + 1) * j + i;\n\t\t\t\t\t\tconst d = (radialSegments + 1) * (j - 1) + i; // faces\n\n\t\t\t\t\t\tindices.push(a, b, d);\n\t\t\t\t\t\tindices.push(b, c, d);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction generateUVs() {\n\t\t\t\tfor (let i = 0; i <= tubularSegments; i++) {\n\t\t\t\t\tfor (let j = 0; j <= radialSegments; j++) {\n\t\t\t\t\t\tuv.x = i / tubularSegments;\n\t\t\t\t\t\tuv.y = j / radialSegments;\n\t\t\t\t\t\tuvs.push(uv.x, uv.y);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON();\n\t\t\tdata.path = this.parameters.path.toJSON();\n\t\t\treturn data;\n\t\t}\n\n\t\tstatic fromJSON(data) {\n\t\t\t// This only works for built-in curves (e.g. CatmullRomCurve3).\n\t\t\t// User defined curves or instances of CurvePath will not be deserialized.\n\t\t\treturn new TubeGeometry(new Curves[data.path.type]().fromJSON(data.path), data.tubularSegments, data.radius, data.radialSegments, data.closed);\n\t\t}\n\n\t}\n\n\tclass WireframeGeometry extends BufferGeometry {\n\t\tconstructor(geometry = null) {\n\t\t\tsuper();\n\t\t\tthis.type = 'WireframeGeometry';\n\t\t\tthis.parameters = {\n\t\t\t\tgeometry: geometry\n\t\t\t};\n\n\t\t\tif (geometry !== null) {\n\t\t\t\t// buffer\n\t\t\t\tconst vertices = [];\n\t\t\t\tconst edges = new Set(); // helper variables\n\n\t\t\t\tconst start = new Vector3();\n\t\t\t\tconst end = new Vector3();\n\n\t\t\t\tif (geometry.index !== null) {\n\t\t\t\t\t// indexed BufferGeometry\n\t\t\t\t\tconst position = geometry.attributes.position;\n\t\t\t\t\tconst indices = geometry.index;\n\t\t\t\t\tlet groups = geometry.groups;\n\n\t\t\t\t\tif (groups.length === 0) {\n\t\t\t\t\t\tgroups = [{\n\t\t\t\t\t\t\tstart: 0,\n\t\t\t\t\t\t\tcount: indices.count,\n\t\t\t\t\t\t\tmaterialIndex: 0\n\t\t\t\t\t\t}];\n\t\t\t\t\t} // create a data structure that contains all edges without duplicates\n\n\n\t\t\t\t\tfor (let o = 0, ol = groups.length; o < ol; ++o) {\n\t\t\t\t\t\tconst group = groups[o];\n\t\t\t\t\t\tconst groupStart = group.start;\n\t\t\t\t\t\tconst groupCount = group.count;\n\n\t\t\t\t\t\tfor (let i = groupStart, l = groupStart + groupCount; i < l; i += 3) {\n\t\t\t\t\t\t\tfor (let j = 0; j < 3; j++) {\n\t\t\t\t\t\t\t\tconst index1 = indices.getX(i + j);\n\t\t\t\t\t\t\t\tconst index2 = indices.getX(i + (j + 1) % 3);\n\t\t\t\t\t\t\t\tstart.fromBufferAttribute(position, index1);\n\t\t\t\t\t\t\t\tend.fromBufferAttribute(position, index2);\n\n\t\t\t\t\t\t\t\tif (isUniqueEdge(start, end, edges) === true) {\n\t\t\t\t\t\t\t\t\tvertices.push(start.x, start.y, start.z);\n\t\t\t\t\t\t\t\t\tvertices.push(end.x, end.y, end.z);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// non-indexed BufferGeometry\n\t\t\t\t\tconst position = geometry.attributes.position;\n\n\t\t\t\t\tfor (let i = 0, l = position.count / 3; i < l; i++) {\n\t\t\t\t\t\tfor (let j = 0; j < 3; j++) {\n\t\t\t\t\t\t\t// three edges per triangle, an edge is represented as (index1, index2)\n\t\t\t\t\t\t\t// e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n\t\t\t\t\t\t\tconst index1 = 3 * i + j;\n\t\t\t\t\t\t\tconst index2 = 3 * i + (j + 1) % 3;\n\t\t\t\t\t\t\tstart.fromBufferAttribute(position, index1);\n\t\t\t\t\t\t\tend.fromBufferAttribute(position, index2);\n\n\t\t\t\t\t\t\tif (isUniqueEdge(start, end, edges) === true) {\n\t\t\t\t\t\t\t\tvertices.push(start.x, start.y, start.z);\n\t\t\t\t\t\t\t\tvertices.push(end.x, end.y, end.z);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} // build geometry\n\n\n\t\t\t\tthis.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\t}\n\t\t}\n\n\t}\n\n\tfunction isUniqueEdge(start, end, edges) {\n\t\tconst hash1 = `${start.x},${start.y},${start.z}-${end.x},${end.y},${end.z}`;\n\t\tconst hash2 = `${end.x},${end.y},${end.z}-${start.x},${start.y},${start.z}`; // coincident edge\n\n\t\tif (edges.has(hash1) === true || edges.has(hash2) === true) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\tedges.add(hash1);\n\t\t\tedges.add(hash2);\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tvar Geometries = /*#__PURE__*/Object.freeze({\n\t\t__proto__: null,\n\t\tBoxGeometry: BoxGeometry,\n\t\tBoxBufferGeometry: BoxGeometry,\n\t\tCapsuleGeometry: CapsuleGeometry,\n\t\tCapsuleBufferGeometry: CapsuleGeometry,\n\t\tCircleGeometry: CircleGeometry,\n\t\tCircleBufferGeometry: CircleGeometry,\n\t\tConeGeometry: ConeGeometry,\n\t\tConeBufferGeometry: ConeGeometry,\n\t\tCylinderGeometry: CylinderGeometry,\n\t\tCylinderBufferGeometry: CylinderGeometry,\n\t\tDodecahedronGeometry: DodecahedronGeometry,\n\t\tDodecahedronBufferGeometry: DodecahedronGeometry,\n\t\tEdgesGeometry: EdgesGeometry,\n\t\tExtrudeGeometry: ExtrudeGeometry,\n\t\tExtrudeBufferGeometry: ExtrudeGeometry,\n\t\tIcosahedronGeometry: IcosahedronGeometry,\n\t\tIcosahedronBufferGeometry: IcosahedronGeometry,\n\t\tLatheGeometry: LatheGeometry,\n\t\tLatheBufferGeometry: LatheGeometry,\n\t\tOctahedronGeometry: OctahedronGeometry,\n\t\tOctahedronBufferGeometry: OctahedronGeometry,\n\t\tPlaneGeometry: PlaneGeometry,\n\t\tPlaneBufferGeometry: PlaneGeometry,\n\t\tPolyhedronGeometry: PolyhedronGeometry,\n\t\tPolyhedronBufferGeometry: PolyhedronGeometry,\n\t\tRingGeometry: RingGeometry,\n\t\tRingBufferGeometry: RingGeometry,\n\t\tShapeGeometry: ShapeGeometry,\n\t\tShapeBufferGeometry: ShapeGeometry,\n\t\tSphereGeometry: SphereGeometry,\n\t\tSphereBufferGeometry: SphereGeometry,\n\t\tTetrahedronGeometry: TetrahedronGeometry,\n\t\tTetrahedronBufferGeometry: TetrahedronGeometry,\n\t\tTorusGeometry: TorusGeometry,\n\t\tTorusBufferGeometry: TorusGeometry,\n\t\tTorusKnotGeometry: TorusKnotGeometry,\n\t\tTorusKnotBufferGeometry: TorusKnotGeometry,\n\t\tTubeGeometry: TubeGeometry,\n\t\tTubeBufferGeometry: TubeGeometry,\n\t\tWireframeGeometry: WireframeGeometry\n\t});\n\n\tclass ShadowMaterial extends Material {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.isShadowMaterial = true;\n\t\t\tthis.type = 'ShadowMaterial';\n\t\t\tthis.color = new Color(0x000000);\n\t\t\tthis.transparent = true;\n\t\t\tthis.fog = true;\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.color.copy(source.color);\n\t\t\tthis.fog = source.fog;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass RawShaderMaterial extends ShaderMaterial {\n\t\tconstructor(parameters) {\n\t\t\tsuper(parameters);\n\t\t\tthis.isRawShaderMaterial = true;\n\t\t\tthis.type = 'RawShaderMaterial';\n\t\t}\n\n\t}\n\n\tclass MeshStandardMaterial extends Material {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.isMeshStandardMaterial = true;\n\t\t\tthis.defines = {\n\t\t\t\t'STANDARD': ''\n\t\t\t};\n\t\t\tthis.type = 'MeshStandardMaterial';\n\t\t\tthis.color = new Color(0xffffff); // diffuse\n\n\t\t\tthis.roughness = 1.0;\n\t\t\tthis.metalness = 0.0;\n\t\t\tthis.map = null;\n\t\t\tthis.lightMap = null;\n\t\t\tthis.lightMapIntensity = 1.0;\n\t\t\tthis.aoMap = null;\n\t\t\tthis.aoMapIntensity = 1.0;\n\t\t\tthis.emissive = new Color(0x000000);\n\t\t\tthis.emissiveIntensity = 1.0;\n\t\t\tthis.emissiveMap = null;\n\t\t\tthis.bumpMap = null;\n\t\t\tthis.bumpScale = 1;\n\t\t\tthis.normalMap = null;\n\t\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\t\tthis.normalScale = new Vector2(1, 1);\n\t\t\tthis.displacementMap = null;\n\t\t\tthis.displacementScale = 1;\n\t\t\tthis.displacementBias = 0;\n\t\t\tthis.roughnessMap = null;\n\t\t\tthis.metalnessMap = null;\n\t\t\tthis.alphaMap = null;\n\t\t\tthis.envMap = null;\n\t\t\tthis.envMapIntensity = 1.0;\n\t\t\tthis.wireframe = false;\n\t\t\tthis.wireframeLinewidth = 1;\n\t\t\tthis.wireframeLinecap = 'round';\n\t\t\tthis.wireframeLinejoin = 'round';\n\t\t\tthis.flatShading = false;\n\t\t\tthis.fog = true;\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.defines = {\n\t\t\t\t'STANDARD': ''\n\t\t\t};\n\t\t\tthis.color.copy(source.color);\n\t\t\tthis.roughness = source.roughness;\n\t\t\tthis.metalness = source.metalness;\n\t\t\tthis.map = source.map;\n\t\t\tthis.lightMap = source.lightMap;\n\t\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\t\t\tthis.aoMap = source.aoMap;\n\t\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\t\t\tthis.emissive.copy(source.emissive);\n\t\t\tthis.emissiveMap = source.emissiveMap;\n\t\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\t\t\tthis.bumpMap = source.bumpMap;\n\t\t\tthis.bumpScale = source.bumpScale;\n\t\t\tthis.normalMap = source.normalMap;\n\t\t\tthis.normalMapType = source.normalMapType;\n\t\t\tthis.normalScale.copy(source.normalScale);\n\t\t\tthis.displacementMap = source.displacementMap;\n\t\t\tthis.displacementScale = source.displacementScale;\n\t\t\tthis.displacementBias = source.displacementBias;\n\t\t\tthis.roughnessMap = source.roughnessMap;\n\t\t\tthis.metalnessMap = source.metalnessMap;\n\t\t\tthis.alphaMap = source.alphaMap;\n\t\t\tthis.envMap = source.envMap;\n\t\t\tthis.envMapIntensity = source.envMapIntensity;\n\t\t\tthis.wireframe = source.wireframe;\n\t\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\t\t\tthis.flatShading = source.flatShading;\n\t\t\tthis.fog = source.fog;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass MeshPhysicalMaterial extends MeshStandardMaterial {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.isMeshPhysicalMaterial = true;\n\t\t\tthis.defines = {\n\t\t\t\t'STANDARD': '',\n\t\t\t\t'PHYSICAL': ''\n\t\t\t};\n\t\t\tthis.type = 'MeshPhysicalMaterial';\n\t\t\tthis.clearcoatMap = null;\n\t\t\tthis.clearcoatRoughness = 0.0;\n\t\t\tthis.clearcoatRoughnessMap = null;\n\t\t\tthis.clearcoatNormalScale = new Vector2(1, 1);\n\t\t\tthis.clearcoatNormalMap = null;\n\t\t\tthis.ior = 1.5;\n\t\t\tObject.defineProperty(this, 'reflectivity', {\n\t\t\t\tget: function () {\n\t\t\t\t\treturn clamp(2.5 * (this.ior - 1) / (this.ior + 1), 0, 1);\n\t\t\t\t},\n\t\t\t\tset: function (reflectivity) {\n\t\t\t\t\tthis.ior = (1 + 0.4 * reflectivity) / (1 - 0.4 * reflectivity);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.iridescenceMap = null;\n\t\t\tthis.iridescenceIOR = 1.3;\n\t\t\tthis.iridescenceThicknessRange = [100, 400];\n\t\t\tthis.iridescenceThicknessMap = null;\n\t\t\tthis.sheenColor = new Color(0x000000);\n\t\t\tthis.sheenColorMap = null;\n\t\t\tthis.sheenRoughness = 1.0;\n\t\t\tthis.sheenRoughnessMap = null;\n\t\t\tthis.transmissionMap = null;\n\t\t\tthis.thickness = 0;\n\t\t\tthis.thicknessMap = null;\n\t\t\tthis.attenuationDistance = 0.0;\n\t\t\tthis.attenuationColor = new Color(1, 1, 1);\n\t\t\tthis.specularIntensity = 1.0;\n\t\t\tthis.specularIntensityMap = null;\n\t\t\tthis.specularColor = new Color(1, 1, 1);\n\t\t\tthis.specularColorMap = null;\n\t\t\tthis._sheen = 0.0;\n\t\t\tthis._clearcoat = 0;\n\t\t\tthis._iridescence = 0;\n\t\t\tthis._transmission = 0;\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tget sheen() {\n\t\t\treturn this._sheen;\n\t\t}\n\n\t\tset sheen(value) {\n\t\t\tif (this._sheen > 0 !== value > 0) {\n\t\t\t\tthis.version++;\n\t\t\t}\n\n\t\t\tthis._sheen = value;\n\t\t}\n\n\t\tget clearcoat() {\n\t\t\treturn this._clearcoat;\n\t\t}\n\n\t\tset clearcoat(value) {\n\t\t\tif (this._clearcoat > 0 !== value > 0) {\n\t\t\t\tthis.version++;\n\t\t\t}\n\n\t\t\tthis._clearcoat = value;\n\t\t}\n\n\t\tget iridescence() {\n\t\t\treturn this._iridescence;\n\t\t}\n\n\t\tset iridescence(value) {\n\t\t\tif (this._iridescence > 0 !== value > 0) {\n\t\t\t\tthis.version++;\n\t\t\t}\n\n\t\t\tthis._iridescence = value;\n\t\t}\n\n\t\tget transmission() {\n\t\t\treturn this._transmission;\n\t\t}\n\n\t\tset transmission(value) {\n\t\t\tif (this._transmission > 0 !== value > 0) {\n\t\t\t\tthis.version++;\n\t\t\t}\n\n\t\t\tthis._transmission = value;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.defines = {\n\t\t\t\t'STANDARD': '',\n\t\t\t\t'PHYSICAL': ''\n\t\t\t};\n\t\t\tthis.clearcoat = source.clearcoat;\n\t\t\tthis.clearcoatMap = source.clearcoatMap;\n\t\t\tthis.clearcoatRoughness = source.clearcoatRoughness;\n\t\t\tthis.clearcoatRoughnessMap = source.clearcoatRoughnessMap;\n\t\t\tthis.clearcoatNormalMap = source.clearcoatNormalMap;\n\t\t\tthis.clearcoatNormalScale.copy(source.clearcoatNormalScale);\n\t\t\tthis.ior = source.ior;\n\t\t\tthis.iridescence = source.iridescence;\n\t\t\tthis.iridescenceMap = source.iridescenceMap;\n\t\t\tthis.iridescenceIOR = source.iridescenceIOR;\n\t\t\tthis.iridescenceThicknessRange = [...source.iridescenceThicknessRange];\n\t\t\tthis.iridescenceThicknessMap = source.iridescenceThicknessMap;\n\t\t\tthis.sheen = source.sheen;\n\t\t\tthis.sheenColor.copy(source.sheenColor);\n\t\t\tthis.sheenColorMap = source.sheenColorMap;\n\t\t\tthis.sheenRoughness = source.sheenRoughness;\n\t\t\tthis.sheenRoughnessMap = source.sheenRoughnessMap;\n\t\t\tthis.transmission = source.transmission;\n\t\t\tthis.transmissionMap = source.transmissionMap;\n\t\t\tthis.thickness = source.thickness;\n\t\t\tthis.thicknessMap = source.thicknessMap;\n\t\t\tthis.attenuationDistance = source.attenuationDistance;\n\t\t\tthis.attenuationColor.copy(source.attenuationColor);\n\t\t\tthis.specularIntensity = source.specularIntensity;\n\t\t\tthis.specularIntensityMap = source.specularIntensityMap;\n\t\t\tthis.specularColor.copy(source.specularColor);\n\t\t\tthis.specularColorMap = source.specularColorMap;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass MeshPhongMaterial extends Material {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.isMeshPhongMaterial = true;\n\t\t\tthis.type = 'MeshPhongMaterial';\n\t\t\tthis.color = new Color(0xffffff); // diffuse\n\n\t\t\tthis.specular = new Color(0x111111);\n\t\t\tthis.shininess = 30;\n\t\t\tthis.map = null;\n\t\t\tthis.lightMap = null;\n\t\t\tthis.lightMapIntensity = 1.0;\n\t\t\tthis.aoMap = null;\n\t\t\tthis.aoMapIntensity = 1.0;\n\t\t\tthis.emissive = new Color(0x000000);\n\t\t\tthis.emissiveIntensity = 1.0;\n\t\t\tthis.emissiveMap = null;\n\t\t\tthis.bumpMap = null;\n\t\t\tthis.bumpScale = 1;\n\t\t\tthis.normalMap = null;\n\t\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\t\tthis.normalScale = new Vector2(1, 1);\n\t\t\tthis.displacementMap = null;\n\t\t\tthis.displacementScale = 1;\n\t\t\tthis.displacementBias = 0;\n\t\t\tthis.specularMap = null;\n\t\t\tthis.alphaMap = null;\n\t\t\tthis.envMap = null;\n\t\t\tthis.combine = MultiplyOperation;\n\t\t\tthis.reflectivity = 1;\n\t\t\tthis.refractionRatio = 0.98;\n\t\t\tthis.wireframe = false;\n\t\t\tthis.wireframeLinewidth = 1;\n\t\t\tthis.wireframeLinecap = 'round';\n\t\t\tthis.wireframeLinejoin = 'round';\n\t\t\tthis.flatShading = false;\n\t\t\tthis.fog = true;\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.color.copy(source.color);\n\t\t\tthis.specular.copy(source.specular);\n\t\t\tthis.shininess = source.shininess;\n\t\t\tthis.map = source.map;\n\t\t\tthis.lightMap = source.lightMap;\n\t\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\t\t\tthis.aoMap = source.aoMap;\n\t\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\t\t\tthis.emissive.copy(source.emissive);\n\t\t\tthis.emissiveMap = source.emissiveMap;\n\t\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\t\t\tthis.bumpMap = source.bumpMap;\n\t\t\tthis.bumpScale = source.bumpScale;\n\t\t\tthis.normalMap = source.normalMap;\n\t\t\tthis.normalMapType = source.normalMapType;\n\t\t\tthis.normalScale.copy(source.normalScale);\n\t\t\tthis.displacementMap = source.displacementMap;\n\t\t\tthis.displacementScale = source.displacementScale;\n\t\t\tthis.displacementBias = source.displacementBias;\n\t\t\tthis.specularMap = source.specularMap;\n\t\t\tthis.alphaMap = source.alphaMap;\n\t\t\tthis.envMap = source.envMap;\n\t\t\tthis.combine = source.combine;\n\t\t\tthis.reflectivity = source.reflectivity;\n\t\t\tthis.refractionRatio = source.refractionRatio;\n\t\t\tthis.wireframe = source.wireframe;\n\t\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\t\t\tthis.flatShading = source.flatShading;\n\t\t\tthis.fog = source.fog;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass MeshToonMaterial extends Material {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.isMeshToonMaterial = true;\n\t\t\tthis.defines = {\n\t\t\t\t'TOON': ''\n\t\t\t};\n\t\t\tthis.type = 'MeshToonMaterial';\n\t\t\tthis.color = new Color(0xffffff);\n\t\t\tthis.map = null;\n\t\t\tthis.gradientMap = null;\n\t\t\tthis.lightMap = null;\n\t\t\tthis.lightMapIntensity = 1.0;\n\t\t\tthis.aoMap = null;\n\t\t\tthis.aoMapIntensity = 1.0;\n\t\t\tthis.emissive = new Color(0x000000);\n\t\t\tthis.emissiveIntensity = 1.0;\n\t\t\tthis.emissiveMap = null;\n\t\t\tthis.bumpMap = null;\n\t\t\tthis.bumpScale = 1;\n\t\t\tthis.normalMap = null;\n\t\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\t\tthis.normalScale = new Vector2(1, 1);\n\t\t\tthis.displacementMap = null;\n\t\t\tthis.displacementScale = 1;\n\t\t\tthis.displacementBias = 0;\n\t\t\tthis.alphaMap = null;\n\t\t\tthis.wireframe = false;\n\t\t\tthis.wireframeLinewidth = 1;\n\t\t\tthis.wireframeLinecap = 'round';\n\t\t\tthis.wireframeLinejoin = 'round';\n\t\t\tthis.fog = true;\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.color.copy(source.color);\n\t\t\tthis.map = source.map;\n\t\t\tthis.gradientMap = source.gradientMap;\n\t\t\tthis.lightMap = source.lightMap;\n\t\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\t\t\tthis.aoMap = source.aoMap;\n\t\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\t\t\tthis.emissive.copy(source.emissive);\n\t\t\tthis.emissiveMap = source.emissiveMap;\n\t\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\t\t\tthis.bumpMap = source.bumpMap;\n\t\t\tthis.bumpScale = source.bumpScale;\n\t\t\tthis.normalMap = source.normalMap;\n\t\t\tthis.normalMapType = source.normalMapType;\n\t\t\tthis.normalScale.copy(source.normalScale);\n\t\t\tthis.displacementMap = source.displacementMap;\n\t\t\tthis.displacementScale = source.displacementScale;\n\t\t\tthis.displacementBias = source.displacementBias;\n\t\t\tthis.alphaMap = source.alphaMap;\n\t\t\tthis.wireframe = source.wireframe;\n\t\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\t\t\tthis.fog = source.fog;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass MeshNormalMaterial extends Material {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.isMeshNormalMaterial = true;\n\t\t\tthis.type = 'MeshNormalMaterial';\n\t\t\tthis.bumpMap = null;\n\t\t\tthis.bumpScale = 1;\n\t\t\tthis.normalMap = null;\n\t\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\t\tthis.normalScale = new Vector2(1, 1);\n\t\t\tthis.displacementMap = null;\n\t\t\tthis.displacementScale = 1;\n\t\t\tthis.displacementBias = 0;\n\t\t\tthis.wireframe = false;\n\t\t\tthis.wireframeLinewidth = 1;\n\t\t\tthis.flatShading = false;\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.bumpMap = source.bumpMap;\n\t\t\tthis.bumpScale = source.bumpScale;\n\t\t\tthis.normalMap = source.normalMap;\n\t\t\tthis.normalMapType = source.normalMapType;\n\t\t\tthis.normalScale.copy(source.normalScale);\n\t\t\tthis.displacementMap = source.displacementMap;\n\t\t\tthis.displacementScale = source.displacementScale;\n\t\t\tthis.displacementBias = source.displacementBias;\n\t\t\tthis.wireframe = source.wireframe;\n\t\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\t\tthis.flatShading = source.flatShading;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass MeshLambertMaterial extends Material {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.isMeshLambertMaterial = true;\n\t\t\tthis.type = 'MeshLambertMaterial';\n\t\t\tthis.color = new Color(0xffffff); // diffuse\n\n\t\t\tthis.map = null;\n\t\t\tthis.lightMap = null;\n\t\t\tthis.lightMapIntensity = 1.0;\n\t\t\tthis.aoMap = null;\n\t\t\tthis.aoMapIntensity = 1.0;\n\t\t\tthis.emissive = new Color(0x000000);\n\t\t\tthis.emissiveIntensity = 1.0;\n\t\t\tthis.emissiveMap = null;\n\t\t\tthis.specularMap = null;\n\t\t\tthis.alphaMap = null;\n\t\t\tthis.envMap = null;\n\t\t\tthis.combine = MultiplyOperation;\n\t\t\tthis.reflectivity = 1;\n\t\t\tthis.refractionRatio = 0.98;\n\t\t\tthis.wireframe = false;\n\t\t\tthis.wireframeLinewidth = 1;\n\t\t\tthis.wireframeLinecap = 'round';\n\t\t\tthis.wireframeLinejoin = 'round';\n\t\t\tthis.fog = true;\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.color.copy(source.color);\n\t\t\tthis.map = source.map;\n\t\t\tthis.lightMap = source.lightMap;\n\t\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\t\t\tthis.aoMap = source.aoMap;\n\t\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\t\t\tthis.emissive.copy(source.emissive);\n\t\t\tthis.emissiveMap = source.emissiveMap;\n\t\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\t\t\tthis.specularMap = source.specularMap;\n\t\t\tthis.alphaMap = source.alphaMap;\n\t\t\tthis.envMap = source.envMap;\n\t\t\tthis.combine = source.combine;\n\t\t\tthis.reflectivity = source.reflectivity;\n\t\t\tthis.refractionRatio = source.refractionRatio;\n\t\t\tthis.wireframe = source.wireframe;\n\t\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\t\t\tthis.fog = source.fog;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass MeshMatcapMaterial extends Material {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.isMeshMatcapMaterial = true;\n\t\t\tthis.defines = {\n\t\t\t\t'MATCAP': ''\n\t\t\t};\n\t\t\tthis.type = 'MeshMatcapMaterial';\n\t\t\tthis.color = new Color(0xffffff); // diffuse\n\n\t\t\tthis.matcap = null;\n\t\t\tthis.map = null;\n\t\t\tthis.bumpMap = null;\n\t\t\tthis.bumpScale = 1;\n\t\t\tthis.normalMap = null;\n\t\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\t\tthis.normalScale = new Vector2(1, 1);\n\t\t\tthis.displacementMap = null;\n\t\t\tthis.displacementScale = 1;\n\t\t\tthis.displacementBias = 0;\n\t\t\tthis.alphaMap = null;\n\t\t\tthis.flatShading = false;\n\t\t\tthis.fog = true;\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.defines = {\n\t\t\t\t'MATCAP': ''\n\t\t\t};\n\t\t\tthis.color.copy(source.color);\n\t\t\tthis.matcap = source.matcap;\n\t\t\tthis.map = source.map;\n\t\t\tthis.bumpMap = source.bumpMap;\n\t\t\tthis.bumpScale = source.bumpScale;\n\t\t\tthis.normalMap = source.normalMap;\n\t\t\tthis.normalMapType = source.normalMapType;\n\t\t\tthis.normalScale.copy(source.normalScale);\n\t\t\tthis.displacementMap = source.displacementMap;\n\t\t\tthis.displacementScale = source.displacementScale;\n\t\t\tthis.displacementBias = source.displacementBias;\n\t\t\tthis.alphaMap = source.alphaMap;\n\t\t\tthis.flatShading = source.flatShading;\n\t\t\tthis.fog = source.fog;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass LineDashedMaterial extends LineBasicMaterial {\n\t\tconstructor(parameters) {\n\t\t\tsuper();\n\t\t\tthis.isLineDashedMaterial = true;\n\t\t\tthis.type = 'LineDashedMaterial';\n\t\t\tthis.scale = 1;\n\t\t\tthis.dashSize = 3;\n\t\t\tthis.gapSize = 1;\n\t\t\tthis.setValues(parameters);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.scale = source.scale;\n\t\t\tthis.dashSize = source.dashSize;\n\t\t\tthis.gapSize = source.gapSize;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tconst materialLib = {\n\t\tShadowMaterial,\n\t\tSpriteMaterial,\n\t\tRawShaderMaterial,\n\t\tShaderMaterial,\n\t\tPointsMaterial,\n\t\tMeshPhysicalMaterial,\n\t\tMeshStandardMaterial,\n\t\tMeshPhongMaterial,\n\t\tMeshToonMaterial,\n\t\tMeshNormalMaterial,\n\t\tMeshLambertMaterial,\n\t\tMeshDepthMaterial,\n\t\tMeshDistanceMaterial,\n\t\tMeshBasicMaterial,\n\t\tMeshMatcapMaterial,\n\t\tLineDashedMaterial,\n\t\tLineBasicMaterial,\n\t\tMaterial\n\t};\n\n\tMaterial.fromType = function (type) {\n\t\treturn new materialLib[type]();\n\t};\n\n\tconst AnimationUtils = {\n\t\t// same as Array.prototype.slice, but also works on typed arrays\n\t\tarraySlice: function (array, from, to) {\n\t\t\tif (AnimationUtils.isTypedArray(array)) {\n\t\t\t\t// in ios9 array.subarray(from, undefined) will return empty array\n\t\t\t\t// but array.subarray(from) or array.subarray(from, len) is correct\n\t\t\t\treturn new array.constructor(array.subarray(from, to !== undefined ? to : array.length));\n\t\t\t}\n\n\t\t\treturn array.slice(from, to);\n\t\t},\n\t\t// converts an array to a specific type\n\t\tconvertArray: function (array, type, forceClone) {\n\t\t\tif (!array || // let 'undefined' and 'null' pass\n\t\t\t!forceClone && array.constructor === type) return array;\n\n\t\t\tif (typeof type.BYTES_PER_ELEMENT === 'number') {\n\t\t\t\treturn new type(array); // create typed array\n\t\t\t}\n\n\t\t\treturn Array.prototype.slice.call(array); // create Array\n\t\t},\n\t\tisTypedArray: function (object) {\n\t\t\treturn ArrayBuffer.isView(object) && !(object instanceof DataView);\n\t\t},\n\t\t// returns an array by which times and values can be sorted\n\t\tgetKeyframeOrder: function (times) {\n\t\t\tfunction compareTime(i, j) {\n\t\t\t\treturn times[i] - times[j];\n\t\t\t}\n\n\t\t\tconst n = times.length;\n\t\t\tconst result = new Array(n);\n\n\t\t\tfor (let i = 0; i !== n; ++i) result[i] = i;\n\n\t\t\tresult.sort(compareTime);\n\t\t\treturn result;\n\t\t},\n\t\t// uses the array previously returned by 'getKeyframeOrder' to sort data\n\t\tsortedArray: function (values, stride, order) {\n\t\t\tconst nValues = values.length;\n\t\t\tconst result = new values.constructor(nValues);\n\n\t\t\tfor (let i = 0, dstOffset = 0; dstOffset !== nValues; ++i) {\n\t\t\t\tconst srcOffset = order[i] * stride;\n\n\t\t\t\tfor (let j = 0; j !== stride; ++j) {\n\t\t\t\t\tresult[dstOffset++] = values[srcOffset + j];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\t\t// function for parsing AOS keyframe formats\n\t\tflattenJSON: function (jsonKeys, times, values, valuePropertyName) {\n\t\t\tlet i = 1,\n\t\t\t\t\tkey = jsonKeys[0];\n\n\t\t\twhile (key !== undefined && key[valuePropertyName] === undefined) {\n\t\t\t\tkey = jsonKeys[i++];\n\t\t\t}\n\n\t\t\tif (key === undefined) return; // no data\n\n\t\t\tlet value = key[valuePropertyName];\n\t\t\tif (value === undefined) return; // no data\n\n\t\t\tif (Array.isArray(value)) {\n\t\t\t\tdo {\n\t\t\t\t\tvalue = key[valuePropertyName];\n\n\t\t\t\t\tif (value !== undefined) {\n\t\t\t\t\t\ttimes.push(key.time);\n\t\t\t\t\t\tvalues.push.apply(values, value); // push all elements\n\t\t\t\t\t}\n\n\t\t\t\t\tkey = jsonKeys[i++];\n\t\t\t\t} while (key !== undefined);\n\t\t\t} else if (value.toArray !== undefined) {\n\t\t\t\t// ...assume THREE.Math-ish\n\t\t\t\tdo {\n\t\t\t\t\tvalue = key[valuePropertyName];\n\n\t\t\t\t\tif (value !== undefined) {\n\t\t\t\t\t\ttimes.push(key.time);\n\t\t\t\t\t\tvalue.toArray(values, values.length);\n\t\t\t\t\t}\n\n\t\t\t\t\tkey = jsonKeys[i++];\n\t\t\t\t} while (key !== undefined);\n\t\t\t} else {\n\t\t\t\t// otherwise push as-is\n\t\t\t\tdo {\n\t\t\t\t\tvalue = key[valuePropertyName];\n\n\t\t\t\t\tif (value !== undefined) {\n\t\t\t\t\t\ttimes.push(key.time);\n\t\t\t\t\t\tvalues.push(value);\n\t\t\t\t\t}\n\n\t\t\t\t\tkey = jsonKeys[i++];\n\t\t\t\t} while (key !== undefined);\n\t\t\t}\n\t\t},\n\t\tsubclip: function (sourceClip, name, startFrame, endFrame, fps = 30) {\n\t\t\tconst clip = sourceClip.clone();\n\t\t\tclip.name = name;\n\t\t\tconst tracks = [];\n\n\t\t\tfor (let i = 0; i < clip.tracks.length; ++i) {\n\t\t\t\tconst track = clip.tracks[i];\n\t\t\t\tconst valueSize = track.getValueSize();\n\t\t\t\tconst times = [];\n\t\t\t\tconst values = [];\n\n\t\t\t\tfor (let j = 0; j < track.times.length; ++j) {\n\t\t\t\t\tconst frame = track.times[j] * fps;\n\t\t\t\t\tif (frame < startFrame || frame >= endFrame) continue;\n\t\t\t\t\ttimes.push(track.times[j]);\n\n\t\t\t\t\tfor (let k = 0; k < valueSize; ++k) {\n\t\t\t\t\t\tvalues.push(track.values[j * valueSize + k]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (times.length === 0) continue;\n\t\t\t\ttrack.times = AnimationUtils.convertArray(times, track.times.constructor);\n\t\t\t\ttrack.values = AnimationUtils.convertArray(values, track.values.constructor);\n\t\t\t\ttracks.push(track);\n\t\t\t}\n\n\t\t\tclip.tracks = tracks; // find minimum .times value across all tracks in the trimmed clip\n\n\t\t\tlet minStartTime = Infinity;\n\n\t\t\tfor (let i = 0; i < clip.tracks.length; ++i) {\n\t\t\t\tif (minStartTime > clip.tracks[i].times[0]) {\n\t\t\t\t\tminStartTime = clip.tracks[i].times[0];\n\t\t\t\t}\n\t\t\t} // shift all tracks such that clip begins at t=0\n\n\n\t\t\tfor (let i = 0; i < clip.tracks.length; ++i) {\n\t\t\t\tclip.tracks[i].shift(-1 * minStartTime);\n\t\t\t}\n\n\t\t\tclip.resetDuration();\n\t\t\treturn clip;\n\t\t},\n\t\tmakeClipAdditive: function (targetClip, referenceFrame = 0, referenceClip = targetClip, fps = 30) {\n\t\t\tif (fps <= 0) fps = 30;\n\t\t\tconst numTracks = referenceClip.tracks.length;\n\t\t\tconst referenceTime = referenceFrame / fps; // Make each track's values relative to the values at the reference frame\n\n\t\t\tfor (let i = 0; i < numTracks; ++i) {\n\t\t\t\tconst referenceTrack = referenceClip.tracks[i];\n\t\t\t\tconst referenceTrackType = referenceTrack.ValueTypeName; // Skip this track if it's non-numeric\n\n\t\t\t\tif (referenceTrackType === 'bool' || referenceTrackType === 'string') continue; // Find the track in the target clip whose name and type matches the reference track\n\n\t\t\t\tconst targetTrack = targetClip.tracks.find(function (track) {\n\t\t\t\t\treturn track.name === referenceTrack.name && track.ValueTypeName === referenceTrackType;\n\t\t\t\t});\n\t\t\t\tif (targetTrack === undefined) continue;\n\t\t\t\tlet referenceOffset = 0;\n\t\t\t\tconst referenceValueSize = referenceTrack.getValueSize();\n\n\t\t\t\tif (referenceTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline) {\n\t\t\t\t\treferenceOffset = referenceValueSize / 3;\n\t\t\t\t}\n\n\t\t\t\tlet targetOffset = 0;\n\t\t\t\tconst targetValueSize = targetTrack.getValueSize();\n\n\t\t\t\tif (targetTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline) {\n\t\t\t\t\ttargetOffset = targetValueSize / 3;\n\t\t\t\t}\n\n\t\t\t\tconst lastIndex = referenceTrack.times.length - 1;\n\t\t\t\tlet referenceValue; // Find the value to subtract out of the track\n\n\t\t\t\tif (referenceTime <= referenceTrack.times[0]) {\n\t\t\t\t\t// Reference frame is earlier than the first keyframe, so just use the first keyframe\n\t\t\t\t\tconst startIndex = referenceOffset;\n\t\t\t\t\tconst endIndex = referenceValueSize - referenceOffset;\n\t\t\t\t\treferenceValue = AnimationUtils.arraySlice(referenceTrack.values, startIndex, endIndex);\n\t\t\t\t} else if (referenceTime >= referenceTrack.times[lastIndex]) {\n\t\t\t\t\t// Reference frame is after the last keyframe, so just use the last keyframe\n\t\t\t\t\tconst startIndex = lastIndex * referenceValueSize + referenceOffset;\n\t\t\t\t\tconst endIndex = startIndex + referenceValueSize - referenceOffset;\n\t\t\t\t\treferenceValue = AnimationUtils.arraySlice(referenceTrack.values, startIndex, endIndex);\n\t\t\t\t} else {\n\t\t\t\t\t// Interpolate to the reference value\n\t\t\t\t\tconst interpolant = referenceTrack.createInterpolant();\n\t\t\t\t\tconst startIndex = referenceOffset;\n\t\t\t\t\tconst endIndex = referenceValueSize - referenceOffset;\n\t\t\t\t\tinterpolant.evaluate(referenceTime);\n\t\t\t\t\treferenceValue = AnimationUtils.arraySlice(interpolant.resultBuffer, startIndex, endIndex);\n\t\t\t\t} // Conjugate the quaternion\n\n\n\t\t\t\tif (referenceTrackType === 'quaternion') {\n\t\t\t\t\tconst referenceQuat = new Quaternion().fromArray(referenceValue).normalize().conjugate();\n\t\t\t\t\treferenceQuat.toArray(referenceValue);\n\t\t\t\t} // Subtract the reference value from all of the track values\n\n\n\t\t\t\tconst numTimes = targetTrack.times.length;\n\n\t\t\t\tfor (let j = 0; j < numTimes; ++j) {\n\t\t\t\t\tconst valueStart = j * targetValueSize + targetOffset;\n\n\t\t\t\t\tif (referenceTrackType === 'quaternion') {\n\t\t\t\t\t\t// Multiply the conjugate for quaternion track types\n\t\t\t\t\t\tQuaternion.multiplyQuaternionsFlat(targetTrack.values, valueStart, referenceValue, 0, targetTrack.values, valueStart);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst valueEnd = targetValueSize - targetOffset * 2; // Subtract each value for all other numeric track types\n\n\t\t\t\t\t\tfor (let k = 0; k < valueEnd; ++k) {\n\t\t\t\t\t\t\ttargetTrack.values[valueStart + k] -= referenceValue[k];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttargetClip.blendMode = AdditiveAnimationBlendMode;\n\t\t\treturn targetClip;\n\t\t}\n\t};\n\n\t/**\n\t * Abstract base class of interpolants over parametric samples.\n\t *\n\t * The parameter domain is one dimensional, typically the time or a path\n\t * along a curve defined by the data.\n\t *\n\t * The sample values can have any dimensionality and derived classes may\n\t * apply special interpretations to the data.\n\t *\n\t * This class provides the interval seek in a Template Method, deferring\n\t * the actual interpolation to derived classes.\n\t *\n\t * Time complexity is O(1) for linear access crossing at most two points\n\t * and O(log N) for random access, where N is the number of positions.\n\t *\n\t * References:\n\t *\n\t * \t\thttp://www.oodesign.com/template-method-pattern.html\n\t *\n\t */\n\tclass Interpolant {\n\t\tconstructor(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n\t\t\tthis.parameterPositions = parameterPositions;\n\t\t\tthis._cachedIndex = 0;\n\t\t\tthis.resultBuffer = resultBuffer !== undefined ? resultBuffer : new sampleValues.constructor(sampleSize);\n\t\t\tthis.sampleValues = sampleValues;\n\t\t\tthis.valueSize = sampleSize;\n\t\t\tthis.settings = null;\n\t\t\tthis.DefaultSettings_ = {};\n\t\t}\n\n\t\tevaluate(t) {\n\t\t\tconst pp = this.parameterPositions;\n\t\t\tlet i1 = this._cachedIndex,\n\t\t\t\t\tt1 = pp[i1],\n\t\t\t\t\tt0 = pp[i1 - 1];\n\n\t\t\tvalidate_interval: {\n\t\t\t\tseek: {\n\t\t\t\t\tlet right;\n\n\t\t\t\t\tlinear_scan: {\n\t\t\t\t\t\t//- See http://jsperf.com/comparison-to-undefined/3\n\t\t\t\t\t\t//- slower code:\n\t\t\t\t\t\t//-\n\t\t\t\t\t\t//- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n\t\t\t\t\t\tforward_scan: if (!(t < t1)) {\n\t\t\t\t\t\t\tfor (let giveUpAt = i1 + 2;;) {\n\t\t\t\t\t\t\t\tif (t1 === undefined) {\n\t\t\t\t\t\t\t\t\tif (t < t0) break forward_scan; // after end\n\n\t\t\t\t\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\t\t\t\t\treturn this.copySampleValue_(i1 - 1);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (i1 === giveUpAt) break; // this loop\n\n\t\t\t\t\t\t\t\tt0 = t1;\n\t\t\t\t\t\t\t\tt1 = pp[++i1];\n\n\t\t\t\t\t\t\t\tif (t < t1) {\n\t\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\t\tbreak seek;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} // prepare binary search on the right side of the index\n\n\n\t\t\t\t\t\t\tright = pp.length;\n\t\t\t\t\t\t\tbreak linear_scan;\n\t\t\t\t\t\t} //- slower code:\n\t\t\t\t\t\t//-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n\n\n\t\t\t\t\t\tif (!(t >= t0)) {\n\t\t\t\t\t\t\t// looping?\n\t\t\t\t\t\t\tconst t1global = pp[1];\n\n\t\t\t\t\t\t\tif (t < t1global) {\n\t\t\t\t\t\t\t\ti1 = 2; // + 1, using the scan for the details\n\n\t\t\t\t\t\t\t\tt0 = t1global;\n\t\t\t\t\t\t\t} // linear reverse scan\n\n\n\t\t\t\t\t\t\tfor (let giveUpAt = i1 - 2;;) {\n\t\t\t\t\t\t\t\tif (t0 === undefined) {\n\t\t\t\t\t\t\t\t\t// before start\n\t\t\t\t\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\t\t\t\t\treturn this.copySampleValue_(0);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (i1 === giveUpAt) break; // this loop\n\n\t\t\t\t\t\t\t\tt1 = t0;\n\t\t\t\t\t\t\t\tt0 = pp[--i1 - 1];\n\n\t\t\t\t\t\t\t\tif (t >= t0) {\n\t\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\t\tbreak seek;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} // prepare binary search on the left side of the index\n\n\n\t\t\t\t\t\t\tright = i1;\n\t\t\t\t\t\t\ti1 = 0;\n\t\t\t\t\t\t\tbreak linear_scan;\n\t\t\t\t\t\t} // the interval is valid\n\n\n\t\t\t\t\t\tbreak validate_interval;\n\t\t\t\t\t} // linear scan\n\t\t\t\t\t// binary search\n\n\n\t\t\t\t\twhile (i1 < right) {\n\t\t\t\t\t\tconst mid = i1 + right >>> 1;\n\n\t\t\t\t\t\tif (t < pp[mid]) {\n\t\t\t\t\t\t\tright = mid;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ti1 = mid + 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tt1 = pp[i1];\n\t\t\t\t\tt0 = pp[i1 - 1]; // check boundary cases, again\n\n\t\t\t\t\tif (t0 === undefined) {\n\t\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\t\treturn this.copySampleValue_(0);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (t1 === undefined) {\n\t\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\t\treturn this.copySampleValue_(i1 - 1);\n\t\t\t\t\t}\n\t\t\t\t} // seek\n\n\n\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\tthis.intervalChanged_(i1, t0, t1);\n\t\t\t} // validate_interval\n\n\n\t\t\treturn this.interpolate_(i1, t0, t, t1);\n\t\t}\n\n\t\tgetSettings_() {\n\t\t\treturn this.settings || this.DefaultSettings_;\n\t\t}\n\n\t\tcopySampleValue_(index) {\n\t\t\t// copies a sample value to the result buffer\n\t\t\tconst result = this.resultBuffer,\n\t\t\t\t\t\tvalues = this.sampleValues,\n\t\t\t\t\t\tstride = this.valueSize,\n\t\t\t\t\t\toffset = index * stride;\n\n\t\t\tfor (let i = 0; i !== stride; ++i) {\n\t\t\t\tresult[i] = values[offset + i];\n\t\t\t}\n\n\t\t\treturn result;\n\t\t} // Template methods for derived classes:\n\n\n\t\tinterpolate_() {\n\t\t\tthrow new Error('call to abstract method'); // implementations shall return this.resultBuffer\n\t\t}\n\n\t\tintervalChanged_() {// empty\n\t\t}\n\n\t}\n\n\t/**\n\t * Fast and simple cubic spline interpolant.\n\t *\n\t * It was derived from a Hermitian construction setting the first derivative\n\t * at each sample position to the linear slope between neighboring positions\n\t * over their parameter interval.\n\t */\n\n\tclass CubicInterpolant extends Interpolant {\n\t\tconstructor(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n\t\t\tsuper(parameterPositions, sampleValues, sampleSize, resultBuffer);\n\t\t\tthis._weightPrev = -0;\n\t\t\tthis._offsetPrev = -0;\n\t\t\tthis._weightNext = -0;\n\t\t\tthis._offsetNext = -0;\n\t\t\tthis.DefaultSettings_ = {\n\t\t\t\tendingStart: ZeroCurvatureEnding,\n\t\t\t\tendingEnd: ZeroCurvatureEnding\n\t\t\t};\n\t\t}\n\n\t\tintervalChanged_(i1, t0, t1) {\n\t\t\tconst pp = this.parameterPositions;\n\t\t\tlet iPrev = i1 - 2,\n\t\t\t\t\tiNext = i1 + 1,\n\t\t\t\t\ttPrev = pp[iPrev],\n\t\t\t\t\ttNext = pp[iNext];\n\n\t\t\tif (tPrev === undefined) {\n\t\t\t\tswitch (this.getSettings_().endingStart) {\n\t\t\t\t\tcase ZeroSlopeEnding:\n\t\t\t\t\t\t// f'(t0) = 0\n\t\t\t\t\t\tiPrev = i1;\n\t\t\t\t\t\ttPrev = 2 * t0 - t1;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase WrapAroundEnding:\n\t\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\t\tiPrev = pp.length - 2;\n\t\t\t\t\t\ttPrev = t0 + pp[iPrev] - pp[iPrev + 1];\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\t// ZeroCurvatureEnding\n\t\t\t\t\t\t// f''(t0) = 0 a.k.a. Natural Spline\n\t\t\t\t\t\tiPrev = i1;\n\t\t\t\t\t\ttPrev = t1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (tNext === undefined) {\n\t\t\t\tswitch (this.getSettings_().endingEnd) {\n\t\t\t\t\tcase ZeroSlopeEnding:\n\t\t\t\t\t\t// f'(tN) = 0\n\t\t\t\t\t\tiNext = i1;\n\t\t\t\t\t\ttNext = 2 * t1 - t0;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase WrapAroundEnding:\n\t\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\t\tiNext = 1;\n\t\t\t\t\t\ttNext = t1 + pp[1] - pp[0];\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\t// ZeroCurvatureEnding\n\t\t\t\t\t\t// f''(tN) = 0, a.k.a. Natural Spline\n\t\t\t\t\t\tiNext = i1 - 1;\n\t\t\t\t\t\ttNext = t0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst halfDt = (t1 - t0) * 0.5,\n\t\t\t\t\t\tstride = this.valueSize;\n\t\t\tthis._weightPrev = halfDt / (t0 - tPrev);\n\t\t\tthis._weightNext = halfDt / (tNext - t1);\n\t\t\tthis._offsetPrev = iPrev * stride;\n\t\t\tthis._offsetNext = iNext * stride;\n\t\t}\n\n\t\tinterpolate_(i1, t0, t, t1) {\n\t\t\tconst result = this.resultBuffer,\n\t\t\t\t\t\tvalues = this.sampleValues,\n\t\t\t\t\t\tstride = this.valueSize,\n\t\t\t\t\t\to1 = i1 * stride,\n\t\t\t\t\t\to0 = o1 - stride,\n\t\t\t\t\t\toP = this._offsetPrev,\n\t\t\t\t\t\toN = this._offsetNext,\n\t\t\t\t\t\twP = this._weightPrev,\n\t\t\t\t\t\twN = this._weightNext,\n\t\t\t\t\t\tp = (t - t0) / (t1 - t0),\n\t\t\t\t\t\tpp = p * p,\n\t\t\t\t\t\tppp = pp * p; // evaluate polynomials\n\n\t\t\tconst sP = -wP * ppp + 2 * wP * pp - wP * p;\n\t\t\tconst s0 = (1 + wP) * ppp + (-1.5 - 2 * wP) * pp + (-0.5 + wP) * p + 1;\n\t\t\tconst s1 = (-1 - wN) * ppp + (1.5 + wN) * pp + 0.5 * p;\n\t\t\tconst sN = wN * ppp - wN * pp; // combine data linearly\n\n\t\t\tfor (let i = 0; i !== stride; ++i) {\n\t\t\t\tresult[i] = sP * values[oP + i] + s0 * values[o0 + i] + s1 * values[o1 + i] + sN * values[oN + i];\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t}\n\n\tclass LinearInterpolant extends Interpolant {\n\t\tconstructor(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n\t\t\tsuper(parameterPositions, sampleValues, sampleSize, resultBuffer);\n\t\t}\n\n\t\tinterpolate_(i1, t0, t, t1) {\n\t\t\tconst result = this.resultBuffer,\n\t\t\t\t\t\tvalues = this.sampleValues,\n\t\t\t\t\t\tstride = this.valueSize,\n\t\t\t\t\t\toffset1 = i1 * stride,\n\t\t\t\t\t\toffset0 = offset1 - stride,\n\t\t\t\t\t\tweight1 = (t - t0) / (t1 - t0),\n\t\t\t\t\t\tweight0 = 1 - weight1;\n\n\t\t\tfor (let i = 0; i !== stride; ++i) {\n\t\t\t\tresult[i] = values[offset0 + i] * weight0 + values[offset1 + i] * weight1;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t}\n\n\t/**\n\t *\n\t * Interpolant that evaluates to the sample value at the position preceding\n\t * the parameter.\n\t */\n\n\tclass DiscreteInterpolant extends Interpolant {\n\t\tconstructor(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n\t\t\tsuper(parameterPositions, sampleValues, sampleSize, resultBuffer);\n\t\t}\n\n\t\tinterpolate_(i1\n\t\t/*, t0, t, t1 */\n\t\t) {\n\t\t\treturn this.copySampleValue_(i1 - 1);\n\t\t}\n\n\t}\n\n\tclass KeyframeTrack {\n\t\tconstructor(name, times, values, interpolation) {\n\t\t\tif (name === undefined) throw new Error('THREE.KeyframeTrack: track name is undefined');\n\t\t\tif (times === undefined || times.length === 0) throw new Error('THREE.KeyframeTrack: no keyframes in track named ' + name);\n\t\t\tthis.name = name;\n\t\t\tthis.times = AnimationUtils.convertArray(times, this.TimeBufferType);\n\t\t\tthis.values = AnimationUtils.convertArray(values, this.ValueBufferType);\n\t\t\tthis.setInterpolation(interpolation || this.DefaultInterpolation);\n\t\t} // Serialization (in static context, because of constructor invocation\n\t\t// and automatic invocation of .toJSON):\n\n\n\t\tstatic toJSON(track) {\n\t\t\tconst trackType = track.constructor;\n\t\t\tlet json; // derived classes can define a static toJSON method\n\n\t\t\tif (trackType.toJSON !== this.toJSON) {\n\t\t\t\tjson = trackType.toJSON(track);\n\t\t\t} else {\n\t\t\t\t// by default, we assume the data can be serialized as-is\n\t\t\t\tjson = {\n\t\t\t\t\t'name': track.name,\n\t\t\t\t\t'times': AnimationUtils.convertArray(track.times, Array),\n\t\t\t\t\t'values': AnimationUtils.convertArray(track.values, Array)\n\t\t\t\t};\n\t\t\t\tconst interpolation = track.getInterpolation();\n\n\t\t\t\tif (interpolation !== track.DefaultInterpolation) {\n\t\t\t\t\tjson.interpolation = interpolation;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tjson.type = track.ValueTypeName; // mandatory\n\n\t\t\treturn json;\n\t\t}\n\n\t\tInterpolantFactoryMethodDiscrete(result) {\n\t\t\treturn new DiscreteInterpolant(this.times, this.values, this.getValueSize(), result);\n\t\t}\n\n\t\tInterpolantFactoryMethodLinear(result) {\n\t\t\treturn new LinearInterpolant(this.times, this.values, this.getValueSize(), result);\n\t\t}\n\n\t\tInterpolantFactoryMethodSmooth(result) {\n\t\t\treturn new CubicInterpolant(this.times, this.values, this.getValueSize(), result);\n\t\t}\n\n\t\tsetInterpolation(interpolation) {\n\t\t\tlet factoryMethod;\n\n\t\t\tswitch (interpolation) {\n\t\t\t\tcase InterpolateDiscrete:\n\t\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodDiscrete;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase InterpolateLinear:\n\t\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodLinear;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase InterpolateSmooth:\n\t\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodSmooth;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (factoryMethod === undefined) {\n\t\t\t\tconst message = 'unsupported interpolation for ' + this.ValueTypeName + ' keyframe track named ' + this.name;\n\n\t\t\t\tif (this.createInterpolant === undefined) {\n\t\t\t\t\t// fall back to default, unless the default itself is messed up\n\t\t\t\t\tif (interpolation !== this.DefaultInterpolation) {\n\t\t\t\t\t\tthis.setInterpolation(this.DefaultInterpolation);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error(message); // fatal, in this case\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconsole.warn('THREE.KeyframeTrack:', message);\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tthis.createInterpolant = factoryMethod;\n\t\t\treturn this;\n\t\t}\n\n\t\tgetInterpolation() {\n\t\t\tswitch (this.createInterpolant) {\n\t\t\t\tcase this.InterpolantFactoryMethodDiscrete:\n\t\t\t\t\treturn InterpolateDiscrete;\n\n\t\t\t\tcase this.InterpolantFactoryMethodLinear:\n\t\t\t\t\treturn InterpolateLinear;\n\n\t\t\t\tcase this.InterpolantFactoryMethodSmooth:\n\t\t\t\t\treturn InterpolateSmooth;\n\t\t\t}\n\t\t}\n\n\t\tgetValueSize() {\n\t\t\treturn this.values.length / this.times.length;\n\t\t} // move all keyframes either forwards or backwards in time\n\n\n\t\tshift(timeOffset) {\n\t\t\tif (timeOffset !== 0.0) {\n\t\t\t\tconst times = this.times;\n\n\t\t\t\tfor (let i = 0, n = times.length; i !== n; ++i) {\n\t\t\t\t\ttimes[i] += timeOffset;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t} // scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n\n\n\t\tscale(timeScale) {\n\t\t\tif (timeScale !== 1.0) {\n\t\t\t\tconst times = this.times;\n\n\t\t\t\tfor (let i = 0, n = times.length; i !== n; ++i) {\n\t\t\t\t\ttimes[i] *= timeScale;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t} // removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n\t\t// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n\n\n\t\ttrim(startTime, endTime) {\n\t\t\tconst times = this.times,\n\t\t\t\t\t\tnKeys = times.length;\n\t\t\tlet from = 0,\n\t\t\t\t\tto = nKeys - 1;\n\n\t\t\twhile (from !== nKeys && times[from] < startTime) {\n\t\t\t\t++from;\n\t\t\t}\n\n\t\t\twhile (to !== -1 && times[to] > endTime) {\n\t\t\t\t--to;\n\t\t\t}\n\n\t\t\t++to; // inclusive -> exclusive bound\n\n\t\t\tif (from !== 0 || to !== nKeys) {\n\t\t\t\t// empty tracks are forbidden, so keep at least one keyframe\n\t\t\t\tif (from >= to) {\n\t\t\t\t\tto = Math.max(to, 1);\n\t\t\t\t\tfrom = to - 1;\n\t\t\t\t}\n\n\t\t\t\tconst stride = this.getValueSize();\n\t\t\t\tthis.times = AnimationUtils.arraySlice(times, from, to);\n\t\t\t\tthis.values = AnimationUtils.arraySlice(this.values, from * stride, to * stride);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t} // ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n\n\n\t\tvalidate() {\n\t\t\tlet valid = true;\n\t\t\tconst valueSize = this.getValueSize();\n\n\t\t\tif (valueSize - Math.floor(valueSize) !== 0) {\n\t\t\t\tconsole.error('THREE.KeyframeTrack: Invalid value size in track.', this);\n\t\t\t\tvalid = false;\n\t\t\t}\n\n\t\t\tconst times = this.times,\n\t\t\t\t\t\tvalues = this.values,\n\t\t\t\t\t\tnKeys = times.length;\n\n\t\t\tif (nKeys === 0) {\n\t\t\t\tconsole.error('THREE.KeyframeTrack: Track is empty.', this);\n\t\t\t\tvalid = false;\n\t\t\t}\n\n\t\t\tlet prevTime = null;\n\n\t\t\tfor (let i = 0; i !== nKeys; i++) {\n\t\t\t\tconst currTime = times[i];\n\n\t\t\t\tif (typeof currTime === 'number' && isNaN(currTime)) {\n\t\t\t\t\tconsole.error('THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime);\n\t\t\t\t\tvalid = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (prevTime !== null && prevTime > currTime) {\n\t\t\t\t\tconsole.error('THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime);\n\t\t\t\t\tvalid = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tprevTime = currTime;\n\t\t\t}\n\n\t\t\tif (values !== undefined) {\n\t\t\t\tif (AnimationUtils.isTypedArray(values)) {\n\t\t\t\t\tfor (let i = 0, n = values.length; i !== n; ++i) {\n\t\t\t\t\t\tconst value = values[i];\n\n\t\t\t\t\t\tif (isNaN(value)) {\n\t\t\t\t\t\t\tconsole.error('THREE.KeyframeTrack: Value is not a valid number.', this, i, value);\n\t\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn valid;\n\t\t} // removes equivalent sequential keys as common in morph target sequences\n\t\t// (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n\n\n\t\toptimize() {\n\t\t\t// times or values may be shared with other tracks, so overwriting is unsafe\n\t\t\tconst times = AnimationUtils.arraySlice(this.times),\n\t\t\t\t\t\tvalues = AnimationUtils.arraySlice(this.values),\n\t\t\t\t\t\tstride = this.getValueSize(),\n\t\t\t\t\t\tsmoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n\t\t\t\t\t\tlastIndex = times.length - 1;\n\t\t\tlet writeIndex = 1;\n\n\t\t\tfor (let i = 1; i < lastIndex; ++i) {\n\t\t\t\tlet keep = false;\n\t\t\t\tconst time = times[i];\n\t\t\t\tconst timeNext = times[i + 1]; // remove adjacent keyframes scheduled at the same time\n\n\t\t\t\tif (time !== timeNext && (i !== 1 || time !== times[0])) {\n\t\t\t\t\tif (!smoothInterpolation) {\n\t\t\t\t\t\t// remove unnecessary keyframes same as their neighbors\n\t\t\t\t\t\tconst offset = i * stride,\n\t\t\t\t\t\t\t\t\toffsetP = offset - stride,\n\t\t\t\t\t\t\t\t\toffsetN = offset + stride;\n\n\t\t\t\t\t\tfor (let j = 0; j !== stride; ++j) {\n\t\t\t\t\t\t\tconst value = values[offset + j];\n\n\t\t\t\t\t\t\tif (value !== values[offsetP + j] || value !== values[offsetN + j]) {\n\t\t\t\t\t\t\t\tkeep = true;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tkeep = true;\n\t\t\t\t\t}\n\t\t\t\t} // in-place compaction\n\n\n\t\t\t\tif (keep) {\n\t\t\t\t\tif (i !== writeIndex) {\n\t\t\t\t\t\ttimes[writeIndex] = times[i];\n\t\t\t\t\t\tconst readOffset = i * stride,\n\t\t\t\t\t\t\t\t\twriteOffset = writeIndex * stride;\n\n\t\t\t\t\t\tfor (let j = 0; j !== stride; ++j) {\n\t\t\t\t\t\t\tvalues[writeOffset + j] = values[readOffset + j];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t++writeIndex;\n\t\t\t\t}\n\t\t\t} // flush last keyframe (compaction looks ahead)\n\n\n\t\t\tif (lastIndex > 0) {\n\t\t\t\ttimes[writeIndex] = times[lastIndex];\n\n\t\t\t\tfor (let readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++j) {\n\t\t\t\t\tvalues[writeOffset + j] = values[readOffset + j];\n\t\t\t\t}\n\n\t\t\t\t++writeIndex;\n\t\t\t}\n\n\t\t\tif (writeIndex !== times.length) {\n\t\t\t\tthis.times = AnimationUtils.arraySlice(times, 0, writeIndex);\n\t\t\t\tthis.values = AnimationUtils.arraySlice(values, 0, writeIndex * stride);\n\t\t\t} else {\n\t\t\t\tthis.times = times;\n\t\t\t\tthis.values = values;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tclone() {\n\t\t\tconst times = AnimationUtils.arraySlice(this.times, 0);\n\t\t\tconst values = AnimationUtils.arraySlice(this.values, 0);\n\t\t\tconst TypedKeyframeTrack = this.constructor;\n\t\t\tconst track = new TypedKeyframeTrack(this.name, times, values); // Interpolant argument to constructor is not saved, so copy the factory method directly.\n\n\t\t\ttrack.createInterpolant = this.createInterpolant;\n\t\t\treturn track;\n\t\t}\n\n\t}\n\n\tKeyframeTrack.prototype.TimeBufferType = Float32Array;\n\tKeyframeTrack.prototype.ValueBufferType = Float32Array;\n\tKeyframeTrack.prototype.DefaultInterpolation = InterpolateLinear;\n\n\t/**\n\t * A Track of Boolean keyframe values.\n\t */\n\n\tclass BooleanKeyframeTrack extends KeyframeTrack {}\n\n\tBooleanKeyframeTrack.prototype.ValueTypeName = 'bool';\n\tBooleanKeyframeTrack.prototype.ValueBufferType = Array;\n\tBooleanKeyframeTrack.prototype.DefaultInterpolation = InterpolateDiscrete;\n\tBooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear = undefined;\n\tBooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined; // Note: Actually this track could have a optimized / compressed\n\n\t/**\n\t * A Track of keyframe values that represent color.\n\t */\n\n\tclass ColorKeyframeTrack extends KeyframeTrack {}\n\n\tColorKeyframeTrack.prototype.ValueTypeName = 'color'; // ValueBufferType is inherited\n\n\t/**\n\t * A Track of numeric keyframe values.\n\t */\n\n\tclass NumberKeyframeTrack extends KeyframeTrack {}\n\n\tNumberKeyframeTrack.prototype.ValueTypeName = 'number'; // ValueBufferType is inherited\n\n\t/**\n\t * Spherical linear unit quaternion interpolant.\n\t */\n\n\tclass QuaternionLinearInterpolant extends Interpolant {\n\t\tconstructor(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n\t\t\tsuper(parameterPositions, sampleValues, sampleSize, resultBuffer);\n\t\t}\n\n\t\tinterpolate_(i1, t0, t, t1) {\n\t\t\tconst result = this.resultBuffer,\n\t\t\t\t\t\tvalues = this.sampleValues,\n\t\t\t\t\t\tstride = this.valueSize,\n\t\t\t\t\t\talpha = (t - t0) / (t1 - t0);\n\t\t\tlet offset = i1 * stride;\n\n\t\t\tfor (let end = offset + stride; offset !== end; offset += 4) {\n\t\t\t\tQuaternion.slerpFlat(result, 0, values, offset - stride, values, offset, alpha);\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t}\n\n\t/**\n\t * A Track of quaternion keyframe values.\n\t */\n\n\tclass QuaternionKeyframeTrack extends KeyframeTrack {\n\t\tInterpolantFactoryMethodLinear(result) {\n\t\t\treturn new QuaternionLinearInterpolant(this.times, this.values, this.getValueSize(), result);\n\t\t}\n\n\t}\n\n\tQuaternionKeyframeTrack.prototype.ValueTypeName = 'quaternion'; // ValueBufferType is inherited\n\n\tQuaternionKeyframeTrack.prototype.DefaultInterpolation = InterpolateLinear;\n\tQuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n\t/**\n\t * A Track that interpolates Strings\n\t */\n\n\tclass StringKeyframeTrack extends KeyframeTrack {}\n\n\tStringKeyframeTrack.prototype.ValueTypeName = 'string';\n\tStringKeyframeTrack.prototype.ValueBufferType = Array;\n\tStringKeyframeTrack.prototype.DefaultInterpolation = InterpolateDiscrete;\n\tStringKeyframeTrack.prototype.InterpolantFactoryMethodLinear = undefined;\n\tStringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n\t/**\n\t * A Track of vectored keyframe values.\n\t */\n\n\tclass VectorKeyframeTrack extends KeyframeTrack {}\n\n\tVectorKeyframeTrack.prototype.ValueTypeName = 'vector'; // ValueBufferType is inherited\n\n\tclass AnimationClip {\n\t\tconstructor(name, duration = -1, tracks, blendMode = NormalAnimationBlendMode) {\n\t\t\tthis.name = name;\n\t\t\tthis.tracks = tracks;\n\t\t\tthis.duration = duration;\n\t\t\tthis.blendMode = blendMode;\n\t\t\tthis.uuid = generateUUID(); // this means it should figure out its duration by scanning the tracks\n\n\t\t\tif (this.duration < 0) {\n\t\t\t\tthis.resetDuration();\n\t\t\t}\n\t\t}\n\n\t\tstatic parse(json) {\n\t\t\tconst tracks = [],\n\t\t\t\t\t\tjsonTracks = json.tracks,\n\t\t\t\t\t\tframeTime = 1.0 / (json.fps || 1.0);\n\n\t\t\tfor (let i = 0, n = jsonTracks.length; i !== n; ++i) {\n\t\t\t\ttracks.push(parseKeyframeTrack(jsonTracks[i]).scale(frameTime));\n\t\t\t}\n\n\t\t\tconst clip = new this(json.name, json.duration, tracks, json.blendMode);\n\t\t\tclip.uuid = json.uuid;\n\t\t\treturn clip;\n\t\t}\n\n\t\tstatic toJSON(clip) {\n\t\t\tconst tracks = [],\n\t\t\t\t\t\tclipTracks = clip.tracks;\n\t\t\tconst json = {\n\t\t\t\t'name': clip.name,\n\t\t\t\t'duration': clip.duration,\n\t\t\t\t'tracks': tracks,\n\t\t\t\t'uuid': clip.uuid,\n\t\t\t\t'blendMode': clip.blendMode\n\t\t\t};\n\n\t\t\tfor (let i = 0, n = clipTracks.length; i !== n; ++i) {\n\t\t\t\ttracks.push(KeyframeTrack.toJSON(clipTracks[i]));\n\t\t\t}\n\n\t\t\treturn json;\n\t\t}\n\n\t\tstatic CreateFromMorphTargetSequence(name, morphTargetSequence, fps, noLoop) {\n\t\t\tconst numMorphTargets = morphTargetSequence.length;\n\t\t\tconst tracks = [];\n\n\t\t\tfor (let i = 0; i < numMorphTargets; i++) {\n\t\t\t\tlet times = [];\n\t\t\t\tlet values = [];\n\t\t\t\ttimes.push((i + numMorphTargets - 1) % numMorphTargets, i, (i + 1) % numMorphTargets);\n\t\t\t\tvalues.push(0, 1, 0);\n\t\t\t\tconst order = AnimationUtils.getKeyframeOrder(times);\n\t\t\t\ttimes = AnimationUtils.sortedArray(times, 1, order);\n\t\t\t\tvalues = AnimationUtils.sortedArray(values, 1, order); // if there is a key at the first frame, duplicate it as the\n\t\t\t\t// last frame as well for perfect loop.\n\n\t\t\t\tif (!noLoop && times[0] === 0) {\n\t\t\t\t\ttimes.push(numMorphTargets);\n\t\t\t\t\tvalues.push(values[0]);\n\t\t\t\t}\n\n\t\t\t\ttracks.push(new NumberKeyframeTrack('.morphTargetInfluences[' + morphTargetSequence[i].name + ']', times, values).scale(1.0 / fps));\n\t\t\t}\n\n\t\t\treturn new this(name, -1, tracks);\n\t\t}\n\n\t\tstatic findByName(objectOrClipArray, name) {\n\t\t\tlet clipArray = objectOrClipArray;\n\n\t\t\tif (!Array.isArray(objectOrClipArray)) {\n\t\t\t\tconst o = objectOrClipArray;\n\t\t\t\tclipArray = o.geometry && o.geometry.animations || o.animations;\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < clipArray.length; i++) {\n\t\t\t\tif (clipArray[i].name === name) {\n\t\t\t\t\treturn clipArray[i];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\n\t\tstatic CreateClipsFromMorphTargetSequences(morphTargets, fps, noLoop) {\n\t\t\tconst animationToMorphTargets = {}; // tested with https://regex101.com/ on trick sequences\n\t\t\t// such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n\n\t\t\tconst pattern = /^([\\w-]*?)([\\d]+)$/; // sort morph target names into animation groups based\n\t\t\t// patterns like Walk_001, Walk_002, Run_001, Run_002\n\n\t\t\tfor (let i = 0, il = morphTargets.length; i < il; i++) {\n\t\t\t\tconst morphTarget = morphTargets[i];\n\t\t\t\tconst parts = morphTarget.name.match(pattern);\n\n\t\t\t\tif (parts && parts.length > 1) {\n\t\t\t\t\tconst name = parts[1];\n\t\t\t\t\tlet animationMorphTargets = animationToMorphTargets[name];\n\n\t\t\t\t\tif (!animationMorphTargets) {\n\t\t\t\t\t\tanimationToMorphTargets[name] = animationMorphTargets = [];\n\t\t\t\t\t}\n\n\t\t\t\t\tanimationMorphTargets.push(morphTarget);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst clips = [];\n\n\t\t\tfor (const name in animationToMorphTargets) {\n\t\t\t\tclips.push(this.CreateFromMorphTargetSequence(name, animationToMorphTargets[name], fps, noLoop));\n\t\t\t}\n\n\t\t\treturn clips;\n\t\t} // parse the animation.hierarchy format\n\n\n\t\tstatic parseAnimation(animation, bones) {\n\t\t\tif (!animation) {\n\t\t\t\tconsole.error('THREE.AnimationClip: No animation in JSONLoader data.');\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst addNonemptyTrack = function (trackType, trackName, animationKeys, propertyName, destTracks) {\n\t\t\t\t// only return track if there are actually keys.\n\t\t\t\tif (animationKeys.length !== 0) {\n\t\t\t\t\tconst times = [];\n\t\t\t\t\tconst values = [];\n\t\t\t\t\tAnimationUtils.flattenJSON(animationKeys, times, values, propertyName); // empty keys are filtered out, so check again\n\n\t\t\t\t\tif (times.length !== 0) {\n\t\t\t\t\t\tdestTracks.push(new trackType(trackName, times, values));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst tracks = [];\n\t\t\tconst clipName = animation.name || 'default';\n\t\t\tconst fps = animation.fps || 30;\n\t\t\tconst blendMode = animation.blendMode; // automatic length determination in AnimationClip.\n\n\t\t\tlet duration = animation.length || -1;\n\t\t\tconst hierarchyTracks = animation.hierarchy || [];\n\n\t\t\tfor (let h = 0; h < hierarchyTracks.length; h++) {\n\t\t\t\tconst animationKeys = hierarchyTracks[h].keys; // skip empty tracks\n\n\t\t\t\tif (!animationKeys || animationKeys.length === 0) continue; // process morph targets\n\n\t\t\t\tif (animationKeys[0].morphTargets) {\n\t\t\t\t\t// figure out all morph targets used in this track\n\t\t\t\t\tconst morphTargetNames = {};\n\t\t\t\t\tlet k;\n\n\t\t\t\t\tfor (k = 0; k < animationKeys.length; k++) {\n\t\t\t\t\t\tif (animationKeys[k].morphTargets) {\n\t\t\t\t\t\t\tfor (let m = 0; m < animationKeys[k].morphTargets.length; m++) {\n\t\t\t\t\t\t\t\tmorphTargetNames[animationKeys[k].morphTargets[m]] = -1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} // create a track for each morph target with all zero\n\t\t\t\t\t// morphTargetInfluences except for the keys in which\n\t\t\t\t\t// the morphTarget is named.\n\n\n\t\t\t\t\tfor (const morphTargetName in morphTargetNames) {\n\t\t\t\t\t\tconst times = [];\n\t\t\t\t\t\tconst values = [];\n\n\t\t\t\t\t\tfor (let m = 0; m !== animationKeys[k].morphTargets.length; ++m) {\n\t\t\t\t\t\t\tconst animationKey = animationKeys[k];\n\t\t\t\t\t\t\ttimes.push(animationKey.time);\n\t\t\t\t\t\t\tvalues.push(animationKey.morphTarget === morphTargetName ? 1 : 0);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttracks.push(new NumberKeyframeTrack('.morphTargetInfluence[' + morphTargetName + ']', times, values));\n\t\t\t\t\t}\n\n\t\t\t\t\tduration = morphTargetNames.length * fps;\n\t\t\t\t} else {\n\t\t\t\t\t// ...assume skeletal animation\n\t\t\t\t\tconst boneName = '.bones[' + bones[h].name + ']';\n\t\t\t\t\taddNonemptyTrack(VectorKeyframeTrack, boneName + '.position', animationKeys, 'pos', tracks);\n\t\t\t\t\taddNonemptyTrack(QuaternionKeyframeTrack, boneName + '.quaternion', animationKeys, 'rot', tracks);\n\t\t\t\t\taddNonemptyTrack(VectorKeyframeTrack, boneName + '.scale', animationKeys, 'scl', tracks);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (tracks.length === 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst clip = new this(clipName, duration, tracks, blendMode);\n\t\t\treturn clip;\n\t\t}\n\n\t\tresetDuration() {\n\t\t\tconst tracks = this.tracks;\n\t\t\tlet duration = 0;\n\n\t\t\tfor (let i = 0, n = tracks.length; i !== n; ++i) {\n\t\t\t\tconst track = this.tracks[i];\n\t\t\t\tduration = Math.max(duration, track.times[track.times.length - 1]);\n\t\t\t}\n\n\t\t\tthis.duration = duration;\n\t\t\treturn this;\n\t\t}\n\n\t\ttrim() {\n\t\t\tfor (let i = 0; i < this.tracks.length; i++) {\n\t\t\t\tthis.tracks[i].trim(0, this.duration);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tvalidate() {\n\t\t\tlet valid = true;\n\n\t\t\tfor (let i = 0; i < this.tracks.length; i++) {\n\t\t\t\tvalid = valid && this.tracks[i].validate();\n\t\t\t}\n\n\t\t\treturn valid;\n\t\t}\n\n\t\toptimize() {\n\t\t\tfor (let i = 0; i < this.tracks.length; i++) {\n\t\t\t\tthis.tracks[i].optimize();\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tclone() {\n\t\t\tconst tracks = [];\n\n\t\t\tfor (let i = 0; i < this.tracks.length; i++) {\n\t\t\t\ttracks.push(this.tracks[i].clone());\n\t\t\t}\n\n\t\t\treturn new this.constructor(this.name, this.duration, tracks, this.blendMode);\n\t\t}\n\n\t\ttoJSON() {\n\t\t\treturn this.constructor.toJSON(this);\n\t\t}\n\n\t}\n\n\tfunction getTrackTypeForValueTypeName(typeName) {\n\t\tswitch (typeName.toLowerCase()) {\n\t\t\tcase 'scalar':\n\t\t\tcase 'double':\n\t\t\tcase 'float':\n\t\t\tcase 'number':\n\t\t\tcase 'integer':\n\t\t\t\treturn NumberKeyframeTrack;\n\n\t\t\tcase 'vector':\n\t\t\tcase 'vector2':\n\t\t\tcase 'vector3':\n\t\t\tcase 'vector4':\n\t\t\t\treturn VectorKeyframeTrack;\n\n\t\t\tcase 'color':\n\t\t\t\treturn ColorKeyframeTrack;\n\n\t\t\tcase 'quaternion':\n\t\t\t\treturn QuaternionKeyframeTrack;\n\n\t\t\tcase 'bool':\n\t\t\tcase 'boolean':\n\t\t\t\treturn BooleanKeyframeTrack;\n\n\t\t\tcase 'string':\n\t\t\t\treturn StringKeyframeTrack;\n\t\t}\n\n\t\tthrow new Error('THREE.KeyframeTrack: Unsupported typeName: ' + typeName);\n\t}\n\n\tfunction parseKeyframeTrack(json) {\n\t\tif (json.type === undefined) {\n\t\t\tthrow new Error('THREE.KeyframeTrack: track type undefined, can not parse');\n\t\t}\n\n\t\tconst trackType = getTrackTypeForValueTypeName(json.type);\n\n\t\tif (json.times === undefined) {\n\t\t\tconst times = [],\n\t\t\t\t\t\tvalues = [];\n\t\t\tAnimationUtils.flattenJSON(json.keys, times, values, 'value');\n\t\t\tjson.times = times;\n\t\t\tjson.values = values;\n\t\t} // derived classes can define a static parse method\n\n\n\t\tif (trackType.parse !== undefined) {\n\t\t\treturn trackType.parse(json);\n\t\t} else {\n\t\t\t// by default, we assume a constructor compatible with the base\n\t\t\treturn new trackType(json.name, json.times, json.values, json.interpolation);\n\t\t}\n\t}\n\n\tconst Cache = {\n\t\tenabled: false,\n\t\tfiles: {},\n\t\tadd: function (key, file) {\n\t\t\tif (this.enabled === false) return; // console.log( 'THREE.Cache', 'Adding key:', key );\n\n\t\t\tthis.files[key] = file;\n\t\t},\n\t\tget: function (key) {\n\t\t\tif (this.enabled === false) return; // console.log( 'THREE.Cache', 'Checking key:', key );\n\n\t\t\treturn this.files[key];\n\t\t},\n\t\tremove: function (key) {\n\t\t\tdelete this.files[key];\n\t\t},\n\t\tclear: function () {\n\t\t\tthis.files = {};\n\t\t}\n\t};\n\n\tclass LoadingManager {\n\t\tconstructor(onLoad, onProgress, onError) {\n\t\t\tconst scope = this;\n\t\t\tlet isLoading = false;\n\t\t\tlet itemsLoaded = 0;\n\t\t\tlet itemsTotal = 0;\n\t\t\tlet urlModifier = undefined;\n\t\t\tconst handlers = []; // Refer to #5689 for the reason why we don't set .onStart\n\t\t\t// in the constructor\n\n\t\t\tthis.onStart = undefined;\n\t\t\tthis.onLoad = onLoad;\n\t\t\tthis.onProgress = onProgress;\n\t\t\tthis.onError = onError;\n\n\t\t\tthis.itemStart = function (url) {\n\t\t\t\titemsTotal++;\n\n\t\t\t\tif (isLoading === false) {\n\t\t\t\t\tif (scope.onStart !== undefined) {\n\t\t\t\t\t\tscope.onStart(url, itemsLoaded, itemsTotal);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tisLoading = true;\n\t\t\t};\n\n\t\t\tthis.itemEnd = function (url) {\n\t\t\t\titemsLoaded++;\n\n\t\t\t\tif (scope.onProgress !== undefined) {\n\t\t\t\t\tscope.onProgress(url, itemsLoaded, itemsTotal);\n\t\t\t\t}\n\n\t\t\t\tif (itemsLoaded === itemsTotal) {\n\t\t\t\t\tisLoading = false;\n\n\t\t\t\t\tif (scope.onLoad !== undefined) {\n\t\t\t\t\t\tscope.onLoad();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.itemError = function (url) {\n\t\t\t\tif (scope.onError !== undefined) {\n\t\t\t\t\tscope.onError(url);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.resolveURL = function (url) {\n\t\t\t\tif (urlModifier) {\n\t\t\t\t\treturn urlModifier(url);\n\t\t\t\t}\n\n\t\t\t\treturn url;\n\t\t\t};\n\n\t\t\tthis.setURLModifier = function (transform) {\n\t\t\t\turlModifier = transform;\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\tthis.addHandler = function (regex, loader) {\n\t\t\t\thandlers.push(regex, loader);\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\tthis.removeHandler = function (regex) {\n\t\t\t\tconst index = handlers.indexOf(regex);\n\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\thandlers.splice(index, 2);\n\t\t\t\t}\n\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\tthis.getHandler = function (file) {\n\t\t\t\tfor (let i = 0, l = handlers.length; i < l; i += 2) {\n\t\t\t\t\tconst regex = handlers[i];\n\t\t\t\t\tconst loader = handlers[i + 1];\n\t\t\t\t\tif (regex.global) regex.lastIndex = 0; // see #17920\n\n\t\t\t\t\tif (regex.test(file)) {\n\t\t\t\t\t\treturn loader;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t};\n\t\t}\n\n\t}\n\n\tconst DefaultLoadingManager = new LoadingManager();\n\n\tclass Loader {\n\t\tconstructor(manager) {\n\t\t\tthis.manager = manager !== undefined ? manager : DefaultLoadingManager;\n\t\t\tthis.crossOrigin = 'anonymous';\n\t\t\tthis.withCredentials = false;\n\t\t\tthis.path = '';\n\t\t\tthis.resourcePath = '';\n\t\t\tthis.requestHeader = {};\n\t\t}\n\n\t\tload() {}\n\n\t\tloadAsync(url, onProgress) {\n\t\t\tconst scope = this;\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tscope.load(url, resolve, onProgress, reject);\n\t\t\t});\n\t\t}\n\n\t\tparse() {}\n\n\t\tsetCrossOrigin(crossOrigin) {\n\t\t\tthis.crossOrigin = crossOrigin;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetWithCredentials(value) {\n\t\t\tthis.withCredentials = value;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetPath(path) {\n\t\t\tthis.path = path;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetResourcePath(resourcePath) {\n\t\t\tthis.resourcePath = resourcePath;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetRequestHeader(requestHeader) {\n\t\t\tthis.requestHeader = requestHeader;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tconst loading = {};\n\n\tclass FileLoader extends Loader {\n\t\tconstructor(manager) {\n\t\t\tsuper(manager);\n\t\t}\n\n\t\tload(url, onLoad, onProgress, onError) {\n\t\t\tif (url === undefined) url = '';\n\t\t\tif (this.path !== undefined) url = this.path + url;\n\t\t\turl = this.manager.resolveURL(url);\n\t\t\tconst cached = Cache.get(url);\n\n\t\t\tif (cached !== undefined) {\n\t\t\t\tthis.manager.itemStart(url);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tif (onLoad) onLoad(cached);\n\t\t\t\t\tthis.manager.itemEnd(url);\n\t\t\t\t}, 0);\n\t\t\t\treturn cached;\n\t\t\t} // Check if request is duplicate\n\n\n\t\t\tif (loading[url] !== undefined) {\n\t\t\t\tloading[url].push({\n\t\t\t\t\tonLoad: onLoad,\n\t\t\t\t\tonProgress: onProgress,\n\t\t\t\t\tonError: onError\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t} // Initialise array for duplicate requests\n\n\n\t\t\tloading[url] = [];\n\t\t\tloading[url].push({\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\t\t\t}); // create request\n\n\t\t\tconst req = new Request(url, {\n\t\t\t\theaders: new Headers(this.requestHeader),\n\t\t\t\tcredentials: this.withCredentials ? 'include' : 'same-origin' // An abort controller could be added within a future PR\n\n\t\t\t}); // record states ( avoid data race )\n\n\t\t\tconst mimeType = this.mimeType;\n\t\t\tconst responseType = this.responseType; // start the fetch\n\n\t\t\tfetch(req).then(response => {\n\t\t\t\tif (response.status === 200 || response.status === 0) {\n\t\t\t\t\t// Some browsers return HTTP Status 0 when using non-http protocol\n\t\t\t\t\t// e.g. 'file://' or 'data://'. Handle as success.\n\t\t\t\t\tif (response.status === 0) {\n\t\t\t\t\t\tconsole.warn('THREE.FileLoader: HTTP Status 0 received.');\n\t\t\t\t\t} // Workaround: Checking if response.body === undefined for Alipay browser #23548\n\n\n\t\t\t\t\tif (typeof ReadableStream === 'undefined' || response.body === undefined || response.body.getReader === undefined) {\n\t\t\t\t\t\treturn response;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst callbacks = loading[url];\n\t\t\t\t\tconst reader = response.body.getReader();\n\t\t\t\t\tconst contentLength = response.headers.get('Content-Length');\n\t\t\t\t\tconst total = contentLength ? parseInt(contentLength) : 0;\n\t\t\t\t\tconst lengthComputable = total !== 0;\n\t\t\t\t\tlet loaded = 0; // periodically read data into the new stream tracking while download progress\n\n\t\t\t\t\tconst stream = new ReadableStream({\n\t\t\t\t\t\tstart(controller) {\n\t\t\t\t\t\t\treadData();\n\n\t\t\t\t\t\t\tfunction readData() {\n\t\t\t\t\t\t\t\treader.read().then(({\n\t\t\t\t\t\t\t\t\tdone,\n\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t}) => {\n\t\t\t\t\t\t\t\t\tif (done) {\n\t\t\t\t\t\t\t\t\t\tcontroller.close();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tloaded += value.byteLength;\n\t\t\t\t\t\t\t\t\t\tconst event = new ProgressEvent('progress', {\n\t\t\t\t\t\t\t\t\t\t\tlengthComputable,\n\t\t\t\t\t\t\t\t\t\t\tloaded,\n\t\t\t\t\t\t\t\t\t\t\ttotal\n\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\tfor (let i = 0, il = callbacks.length; i < il; i++) {\n\t\t\t\t\t\t\t\t\t\t\tconst callback = callbacks[i];\n\t\t\t\t\t\t\t\t\t\t\tif (callback.onProgress) callback.onProgress(event);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tcontroller.enqueue(value);\n\t\t\t\t\t\t\t\t\t\treadData();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t});\n\t\t\t\t\treturn new Response(stream);\n\t\t\t\t} else {\n\t\t\t\t\tthrow Error(`fetch for \"${response.url}\" responded with ${response.status}: ${response.statusText}`);\n\t\t\t\t}\n\t\t\t}).then(response => {\n\t\t\t\tswitch (responseType) {\n\t\t\t\t\tcase 'arraybuffer':\n\t\t\t\t\t\treturn response.arrayBuffer();\n\n\t\t\t\t\tcase 'blob':\n\t\t\t\t\t\treturn response.blob();\n\n\t\t\t\t\tcase 'document':\n\t\t\t\t\t\treturn response.text().then(text => {\n\t\t\t\t\t\t\tconst parser = new DOMParser();\n\t\t\t\t\t\t\treturn parser.parseFromString(text, mimeType);\n\t\t\t\t\t\t});\n\n\t\t\t\t\tcase 'json':\n\t\t\t\t\t\treturn response.json();\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif (mimeType === undefined) {\n\t\t\t\t\t\t\treturn response.text();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// sniff encoding\n\t\t\t\t\t\t\tconst re = /charset=\"?([^;\"\\s]*)\"?/i;\n\t\t\t\t\t\t\tconst exec = re.exec(mimeType);\n\t\t\t\t\t\t\tconst label = exec && exec[1] ? exec[1].toLowerCase() : undefined;\n\t\t\t\t\t\t\tconst decoder = new TextDecoder(label);\n\t\t\t\t\t\t\treturn response.arrayBuffer().then(ab => decoder.decode(ab));\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}).then(data => {\n\t\t\t\t// Add to cache only on HTTP success, so that we do not cache\n\t\t\t\t// error response bodies as proper responses to requests.\n\t\t\t\tCache.add(url, data);\n\t\t\t\tconst callbacks = loading[url];\n\t\t\t\tdelete loading[url];\n\n\t\t\t\tfor (let i = 0, il = callbacks.length; i < il; i++) {\n\t\t\t\t\tconst callback = callbacks[i];\n\t\t\t\t\tif (callback.onLoad) callback.onLoad(data);\n\t\t\t\t}\n\t\t\t}).catch(err => {\n\t\t\t\t// Abort errors and other errors are handled the same\n\t\t\t\tconst callbacks = loading[url];\n\n\t\t\t\tif (callbacks === undefined) {\n\t\t\t\t\t// When onLoad was called and url was deleted in `loading`\n\t\t\t\t\tthis.manager.itemError(url);\n\t\t\t\t\tthrow err;\n\t\t\t\t}\n\n\t\t\t\tdelete loading[url];\n\n\t\t\t\tfor (let i = 0, il = callbacks.length; i < il; i++) {\n\t\t\t\t\tconst callback = callbacks[i];\n\t\t\t\t\tif (callback.onError) callback.onError(err);\n\t\t\t\t}\n\n\t\t\t\tthis.manager.itemError(url);\n\t\t\t}).finally(() => {\n\t\t\t\tthis.manager.itemEnd(url);\n\t\t\t});\n\t\t\tthis.manager.itemStart(url);\n\t\t}\n\n\t\tsetResponseType(value) {\n\t\t\tthis.responseType = value;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetMimeType(value) {\n\t\t\tthis.mimeType = value;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass AnimationLoader extends Loader {\n\t\tconstructor(manager) {\n\t\t\tsuper(manager);\n\t\t}\n\n\t\tload(url, onLoad, onProgress, onError) {\n\t\t\tconst scope = this;\n\t\t\tconst loader = new FileLoader(this.manager);\n\t\t\tloader.setPath(this.path);\n\t\t\tloader.setRequestHeader(this.requestHeader);\n\t\t\tloader.setWithCredentials(this.withCredentials);\n\t\t\tloader.load(url, function (text) {\n\t\t\t\ttry {\n\t\t\t\t\tonLoad(scope.parse(JSON.parse(text)));\n\t\t\t\t} catch (e) {\n\t\t\t\t\tif (onError) {\n\t\t\t\t\t\tonError(e);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemError(url);\n\t\t\t\t}\n\t\t\t}, onProgress, onError);\n\t\t}\n\n\t\tparse(json) {\n\t\t\tconst animations = [];\n\n\t\t\tfor (let i = 0; i < json.length; i++) {\n\t\t\t\tconst clip = AnimationClip.parse(json[i]);\n\t\t\t\tanimations.push(clip);\n\t\t\t}\n\n\t\t\treturn animations;\n\t\t}\n\n\t}\n\n\t/**\n\t * Abstract Base class to block based textures loader (dds, pvr, ...)\n\t *\n\t * Sub classes have to implement the parse() method which will be used in load().\n\t */\n\n\tclass CompressedTextureLoader extends Loader {\n\t\tconstructor(manager) {\n\t\t\tsuper(manager);\n\t\t}\n\n\t\tload(url, onLoad, onProgress, onError) {\n\t\t\tconst scope = this;\n\t\t\tconst images = [];\n\t\t\tconst texture = new CompressedTexture();\n\t\t\tconst loader = new FileLoader(this.manager);\n\t\t\tloader.setPath(this.path);\n\t\t\tloader.setResponseType('arraybuffer');\n\t\t\tloader.setRequestHeader(this.requestHeader);\n\t\t\tloader.setWithCredentials(scope.withCredentials);\n\t\t\tlet loaded = 0;\n\n\t\t\tfunction loadTexture(i) {\n\t\t\t\tloader.load(url[i], function (buffer) {\n\t\t\t\t\tconst texDatas = scope.parse(buffer, true);\n\t\t\t\t\timages[i] = {\n\t\t\t\t\t\twidth: texDatas.width,\n\t\t\t\t\t\theight: texDatas.height,\n\t\t\t\t\t\tformat: texDatas.format,\n\t\t\t\t\t\tmipmaps: texDatas.mipmaps\n\t\t\t\t\t};\n\t\t\t\t\tloaded += 1;\n\n\t\t\t\t\tif (loaded === 6) {\n\t\t\t\t\t\tif (texDatas.mipmapCount === 1) texture.minFilter = LinearFilter;\n\t\t\t\t\t\ttexture.image = images;\n\t\t\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\t\t\ttexture.needsUpdate = true;\n\t\t\t\t\t\tif (onLoad) onLoad(texture);\n\t\t\t\t\t}\n\t\t\t\t}, onProgress, onError);\n\t\t\t}\n\n\t\t\tif (Array.isArray(url)) {\n\t\t\t\tfor (let i = 0, il = url.length; i < il; ++i) {\n\t\t\t\t\tloadTexture(i);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// compressed cubemap texture stored in a single DDS file\n\t\t\t\tloader.load(url, function (buffer) {\n\t\t\t\t\tconst texDatas = scope.parse(buffer, true);\n\n\t\t\t\t\tif (texDatas.isCubemap) {\n\t\t\t\t\t\tconst faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n\t\t\t\t\t\tfor (let f = 0; f < faces; f++) {\n\t\t\t\t\t\t\timages[f] = {\n\t\t\t\t\t\t\t\tmipmaps: []\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tfor (let i = 0; i < texDatas.mipmapCount; i++) {\n\t\t\t\t\t\t\t\timages[f].mipmaps.push(texDatas.mipmaps[f * texDatas.mipmapCount + i]);\n\t\t\t\t\t\t\t\timages[f].format = texDatas.format;\n\t\t\t\t\t\t\t\timages[f].width = texDatas.width;\n\t\t\t\t\t\t\t\timages[f].height = texDatas.height;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttexture.image = images;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttexture.image.width = texDatas.width;\n\t\t\t\t\t\ttexture.image.height = texDatas.height;\n\t\t\t\t\t\ttexture.mipmaps = texDatas.mipmaps;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (texDatas.mipmapCount === 1) {\n\t\t\t\t\t\ttexture.minFilter = LinearFilter;\n\t\t\t\t\t}\n\n\t\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\t\ttexture.needsUpdate = true;\n\t\t\t\t\tif (onLoad) onLoad(texture);\n\t\t\t\t}, onProgress, onError);\n\t\t\t}\n\n\t\t\treturn texture;\n\t\t}\n\n\t}\n\n\tclass ImageLoader extends Loader {\n\t\tconstructor(manager) {\n\t\t\tsuper(manager);\n\t\t}\n\n\t\tload(url, onLoad, onProgress, onError) {\n\t\t\tif (this.path !== undefined) url = this.path + url;\n\t\t\turl = this.manager.resolveURL(url);\n\t\t\tconst scope = this;\n\t\t\tconst cached = Cache.get(url);\n\n\t\t\tif (cached !== undefined) {\n\t\t\t\tscope.manager.itemStart(url);\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tif (onLoad) onLoad(cached);\n\t\t\t\t\tscope.manager.itemEnd(url);\n\t\t\t\t}, 0);\n\t\t\t\treturn cached;\n\t\t\t}\n\n\t\t\tconst image = createElementNS('img');\n\n\t\t\tfunction onImageLoad() {\n\t\t\t\tremoveEventListeners();\n\t\t\t\tCache.add(url, this);\n\t\t\t\tif (onLoad) onLoad(this);\n\t\t\t\tscope.manager.itemEnd(url);\n\t\t\t}\n\n\t\t\tfunction onImageError(event) {\n\t\t\t\tremoveEventListeners();\n\t\t\t\tif (onError) onError(event);\n\t\t\t\tscope.manager.itemError(url);\n\t\t\t\tscope.manager.itemEnd(url);\n\t\t\t}\n\n\t\t\tfunction removeEventListeners() {\n\t\t\t\timage.removeEventListener('load', onImageLoad, false);\n\t\t\t\timage.removeEventListener('error', onImageError, false);\n\t\t\t}\n\n\t\t\timage.addEventListener('load', onImageLoad, false);\n\t\t\timage.addEventListener('error', onImageError, false);\n\n\t\t\tif (url.slice(0, 5) !== 'data:') {\n\t\t\t\tif (this.crossOrigin !== undefined) image.crossOrigin = this.crossOrigin;\n\t\t\t}\n\n\t\t\tscope.manager.itemStart(url);\n\t\t\timage.src = url;\n\t\t\treturn image;\n\t\t}\n\n\t}\n\n\tclass CubeTextureLoader extends Loader {\n\t\tconstructor(manager) {\n\t\t\tsuper(manager);\n\t\t}\n\n\t\tload(urls, onLoad, onProgress, onError) {\n\t\t\tconst texture = new CubeTexture();\n\t\t\tconst loader = new ImageLoader(this.manager);\n\t\t\tloader.setCrossOrigin(this.crossOrigin);\n\t\t\tloader.setPath(this.path);\n\t\t\tlet loaded = 0;\n\n\t\t\tfunction loadTexture(i) {\n\t\t\t\tloader.load(urls[i], function (image) {\n\t\t\t\t\ttexture.images[i] = image;\n\t\t\t\t\tloaded++;\n\n\t\t\t\t\tif (loaded === 6) {\n\t\t\t\t\t\ttexture.needsUpdate = true;\n\t\t\t\t\t\tif (onLoad) onLoad(texture);\n\t\t\t\t\t}\n\t\t\t\t}, undefined, onError);\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < urls.length; ++i) {\n\t\t\t\tloadTexture(i);\n\t\t\t}\n\n\t\t\treturn texture;\n\t\t}\n\n\t}\n\n\t/**\n\t * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n\t *\n\t * Sub classes have to implement the parse() method which will be used in load().\n\t */\n\n\tclass DataTextureLoader extends Loader {\n\t\tconstructor(manager) {\n\t\t\tsuper(manager);\n\t\t}\n\n\t\tload(url, onLoad, onProgress, onError) {\n\t\t\tconst scope = this;\n\t\t\tconst texture = new DataTexture();\n\t\t\tconst loader = new FileLoader(this.manager);\n\t\t\tloader.setResponseType('arraybuffer');\n\t\t\tloader.setRequestHeader(this.requestHeader);\n\t\t\tloader.setPath(this.path);\n\t\t\tloader.setWithCredentials(scope.withCredentials);\n\t\t\tloader.load(url, function (buffer) {\n\t\t\t\tconst texData = scope.parse(buffer);\n\t\t\t\tif (!texData) return;\n\n\t\t\t\tif (texData.image !== undefined) {\n\t\t\t\t\ttexture.image = texData.image;\n\t\t\t\t} else if (texData.data !== undefined) {\n\t\t\t\t\ttexture.image.width = texData.width;\n\t\t\t\t\ttexture.image.height = texData.height;\n\t\t\t\t\ttexture.image.data = texData.data;\n\t\t\t\t}\n\n\t\t\t\ttexture.wrapS = texData.wrapS !== undefined ? texData.wrapS : ClampToEdgeWrapping;\n\t\t\t\ttexture.wrapT = texData.wrapT !== undefined ? texData.wrapT : ClampToEdgeWrapping;\n\t\t\t\ttexture.magFilter = texData.magFilter !== undefined ? texData.magFilter : LinearFilter;\n\t\t\t\ttexture.minFilter = texData.minFilter !== undefined ? texData.minFilter : LinearFilter;\n\t\t\t\ttexture.anisotropy = texData.anisotropy !== undefined ? texData.anisotropy : 1;\n\n\t\t\t\tif (texData.encoding !== undefined) {\n\t\t\t\t\ttexture.encoding = texData.encoding;\n\t\t\t\t}\n\n\t\t\t\tif (texData.flipY !== undefined) {\n\t\t\t\t\ttexture.flipY = texData.flipY;\n\t\t\t\t}\n\n\t\t\t\tif (texData.format !== undefined) {\n\t\t\t\t\ttexture.format = texData.format;\n\t\t\t\t}\n\n\t\t\t\tif (texData.type !== undefined) {\n\t\t\t\t\ttexture.type = texData.type;\n\t\t\t\t}\n\n\t\t\t\tif (texData.mipmaps !== undefined) {\n\t\t\t\t\ttexture.mipmaps = texData.mipmaps;\n\t\t\t\t\ttexture.minFilter = LinearMipmapLinearFilter; // presumably...\n\t\t\t\t}\n\n\t\t\t\tif (texData.mipmapCount === 1) {\n\t\t\t\t\ttexture.minFilter = LinearFilter;\n\t\t\t\t}\n\n\t\t\t\tif (texData.generateMipmaps !== undefined) {\n\t\t\t\t\ttexture.generateMipmaps = texData.generateMipmaps;\n\t\t\t\t}\n\n\t\t\t\ttexture.needsUpdate = true;\n\t\t\t\tif (onLoad) onLoad(texture, texData);\n\t\t\t}, onProgress, onError);\n\t\t\treturn texture;\n\t\t}\n\n\t}\n\n\tclass TextureLoader extends Loader {\n\t\tconstructor(manager) {\n\t\t\tsuper(manager);\n\t\t}\n\n\t\tload(url, onLoad, onProgress, onError) {\n\t\t\tconst texture = new Texture();\n\t\t\tconst loader = new ImageLoader(this.manager);\n\t\t\tloader.setCrossOrigin(this.crossOrigin);\n\t\t\tloader.setPath(this.path);\n\t\t\tloader.load(url, function (image) {\n\t\t\t\ttexture.image = image;\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\tif (onLoad !== undefined) {\n\t\t\t\t\tonLoad(texture);\n\t\t\t\t}\n\t\t\t}, onProgress, onError);\n\t\t\treturn texture;\n\t\t}\n\n\t}\n\n\tclass Light extends Object3D {\n\t\tconstructor(color, intensity = 1) {\n\t\t\tsuper();\n\t\t\tthis.isLight = true;\n\t\t\tthis.type = 'Light';\n\t\t\tthis.color = new Color(color);\n\t\t\tthis.intensity = intensity;\n\t\t}\n\n\t\tdispose() {// Empty here in base class; some subclasses override.\n\t\t}\n\n\t\tcopy(source, recursive) {\n\t\t\tsuper.copy(source, recursive);\n\t\t\tthis.color.copy(source.color);\n\t\t\tthis.intensity = source.intensity;\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON(meta) {\n\t\t\tconst data = super.toJSON(meta);\n\t\t\tdata.object.color = this.color.getHex();\n\t\t\tdata.object.intensity = this.intensity;\n\t\t\tif (this.groundColor !== undefined) data.object.groundColor = this.groundColor.getHex();\n\t\t\tif (this.distance !== undefined) data.object.distance = this.distance;\n\t\t\tif (this.angle !== undefined) data.object.angle = this.angle;\n\t\t\tif (this.decay !== undefined) data.object.decay = this.decay;\n\t\t\tif (this.penumbra !== undefined) data.object.penumbra = this.penumbra;\n\t\t\tif (this.shadow !== undefined) data.object.shadow = this.shadow.toJSON();\n\t\t\treturn data;\n\t\t}\n\n\t}\n\n\tclass HemisphereLight extends Light {\n\t\tconstructor(skyColor, groundColor, intensity) {\n\t\t\tsuper(skyColor, intensity);\n\t\t\tthis.isHemisphereLight = true;\n\t\t\tthis.type = 'HemisphereLight';\n\t\t\tthis.position.copy(Object3D.DefaultUp);\n\t\t\tthis.updateMatrix();\n\t\t\tthis.groundColor = new Color(groundColor);\n\t\t}\n\n\t\tcopy(source, recursive) {\n\t\t\tsuper.copy(source, recursive);\n\t\t\tthis.groundColor.copy(source.groundColor);\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tconst _projScreenMatrix$1 = /*@__PURE__*/new Matrix4();\n\n\tconst _lightPositionWorld$1 = /*@__PURE__*/new Vector3();\n\n\tconst _lookTarget$1 = /*@__PURE__*/new Vector3();\n\n\tclass LightShadow {\n\t\tconstructor(camera) {\n\t\t\tthis.camera = camera;\n\t\t\tthis.bias = 0;\n\t\t\tthis.normalBias = 0;\n\t\t\tthis.radius = 1;\n\t\t\tthis.blurSamples = 8;\n\t\t\tthis.mapSize = new Vector2(512, 512);\n\t\t\tthis.map = null;\n\t\t\tthis.mapPass = null;\n\t\t\tthis.matrix = new Matrix4();\n\t\t\tthis.autoUpdate = true;\n\t\t\tthis.needsUpdate = false;\n\t\t\tthis._frustum = new Frustum();\n\t\t\tthis._frameExtents = new Vector2(1, 1);\n\t\t\tthis._viewportCount = 1;\n\t\t\tthis._viewports = [new Vector4(0, 0, 1, 1)];\n\t\t}\n\n\t\tgetViewportCount() {\n\t\t\treturn this._viewportCount;\n\t\t}\n\n\t\tgetFrustum() {\n\t\t\treturn this._frustum;\n\t\t}\n\n\t\tupdateMatrices(light) {\n\t\t\tconst shadowCamera = this.camera;\n\t\t\tconst shadowMatrix = this.matrix;\n\n\t\t\t_lightPositionWorld$1.setFromMatrixPosition(light.matrixWorld);\n\n\t\t\tshadowCamera.position.copy(_lightPositionWorld$1);\n\n\t\t\t_lookTarget$1.setFromMatrixPosition(light.target.matrixWorld);\n\n\t\t\tshadowCamera.lookAt(_lookTarget$1);\n\t\t\tshadowCamera.updateMatrixWorld();\n\n\t\t\t_projScreenMatrix$1.multiplyMatrices(shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse);\n\n\t\t\tthis._frustum.setFromProjectionMatrix(_projScreenMatrix$1);\n\n\t\t\tshadowMatrix.set(0.5, 0.0, 0.0, 0.5, 0.0, 0.5, 0.0, 0.5, 0.0, 0.0, 0.5, 0.5, 0.0, 0.0, 0.0, 1.0);\n\t\t\tshadowMatrix.multiply(shadowCamera.projectionMatrix);\n\t\t\tshadowMatrix.multiply(shadowCamera.matrixWorldInverse);\n\t\t}\n\n\t\tgetViewport(viewportIndex) {\n\t\t\treturn this._viewports[viewportIndex];\n\t\t}\n\n\t\tgetFrameExtents() {\n\t\t\treturn this._frameExtents;\n\t\t}\n\n\t\tdispose() {\n\t\t\tif (this.map) {\n\t\t\t\tthis.map.dispose();\n\t\t\t}\n\n\t\t\tif (this.mapPass) {\n\t\t\t\tthis.mapPass.dispose();\n\t\t\t}\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tthis.camera = source.camera.clone();\n\t\t\tthis.bias = source.bias;\n\t\t\tthis.radius = source.radius;\n\t\t\tthis.mapSize.copy(source.mapSize);\n\t\t\treturn this;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst object = {};\n\t\t\tif (this.bias !== 0) object.bias = this.bias;\n\t\t\tif (this.normalBias !== 0) object.normalBias = this.normalBias;\n\t\t\tif (this.radius !== 1) object.radius = this.radius;\n\t\t\tif (this.mapSize.x !== 512 || this.mapSize.y !== 512) object.mapSize = this.mapSize.toArray();\n\t\t\tobject.camera = this.camera.toJSON(false).object;\n\t\t\tdelete object.camera.matrix;\n\t\t\treturn object;\n\t\t}\n\n\t}\n\n\tclass SpotLightShadow extends LightShadow {\n\t\tconstructor() {\n\t\t\tsuper(new PerspectiveCamera(50, 1, 0.5, 500));\n\t\t\tthis.isSpotLightShadow = true;\n\t\t\tthis.focus = 1;\n\t\t}\n\n\t\tupdateMatrices(light) {\n\t\t\tconst camera = this.camera;\n\t\t\tconst fov = RAD2DEG * 2 * light.angle * this.focus;\n\t\t\tconst aspect = this.mapSize.width / this.mapSize.height;\n\t\t\tconst far = light.distance || camera.far;\n\n\t\t\tif (fov !== camera.fov || aspect !== camera.aspect || far !== camera.far) {\n\t\t\t\tcamera.fov = fov;\n\t\t\t\tcamera.aspect = aspect;\n\t\t\t\tcamera.far = far;\n\t\t\t\tcamera.updateProjectionMatrix();\n\t\t\t}\n\n\t\t\tsuper.updateMatrices(light);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.focus = source.focus;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass SpotLight extends Light {\n\t\tconstructor(color, intensity, distance = 0, angle = Math.PI / 3, penumbra = 0, decay = 1) {\n\t\t\tsuper(color, intensity);\n\t\t\tthis.isSpotLight = true;\n\t\t\tthis.type = 'SpotLight';\n\t\t\tthis.position.copy(Object3D.DefaultUp);\n\t\t\tthis.updateMatrix();\n\t\t\tthis.target = new Object3D();\n\t\t\tthis.distance = distance;\n\t\t\tthis.angle = angle;\n\t\t\tthis.penumbra = penumbra;\n\t\t\tthis.decay = decay; // for physically correct lights, should be 2.\n\n\t\t\tthis.shadow = new SpotLightShadow();\n\t\t}\n\n\t\tget power() {\n\t\t\t// compute the light's luminous power (in lumens) from its intensity (in candela)\n\t\t\t// by convention for a spotlight, luminous power (lm) = π * luminous intensity (cd)\n\t\t\treturn this.intensity * Math.PI;\n\t\t}\n\n\t\tset power(power) {\n\t\t\t// set the light's intensity (in candela) from the desired luminous power (in lumens)\n\t\t\tthis.intensity = power / Math.PI;\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.shadow.dispose();\n\t\t}\n\n\t\tcopy(source, recursive) {\n\t\t\tsuper.copy(source, recursive);\n\t\t\tthis.distance = source.distance;\n\t\t\tthis.angle = source.angle;\n\t\t\tthis.penumbra = source.penumbra;\n\t\t\tthis.decay = source.decay;\n\t\t\tthis.target = source.target.clone();\n\t\t\tthis.shadow = source.shadow.clone();\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tconst _projScreenMatrix = /*@__PURE__*/new Matrix4();\n\n\tconst _lightPositionWorld = /*@__PURE__*/new Vector3();\n\n\tconst _lookTarget = /*@__PURE__*/new Vector3();\n\n\tclass PointLightShadow extends LightShadow {\n\t\tconstructor() {\n\t\t\tsuper(new PerspectiveCamera(90, 1, 0.5, 500));\n\t\t\tthis.isPointLightShadow = true;\n\t\t\tthis._frameExtents = new Vector2(4, 2);\n\t\t\tthis._viewportCount = 6;\n\t\t\tthis._viewports = [// These viewports map a cube-map onto a 2D texture with the\n\t\t\t// following orientation:\n\t\t\t//\n\t\t\t//\txzXZ\n\t\t\t//\t y Y\n\t\t\t//\n\t\t\t// X - Positive x direction\n\t\t\t// x - Negative x direction\n\t\t\t// Y - Positive y direction\n\t\t\t// y - Negative y direction\n\t\t\t// Z - Positive z direction\n\t\t\t// z - Negative z direction\n\t\t\t// positive X\n\t\t\tnew Vector4(2, 1, 1, 1), // negative X\n\t\t\tnew Vector4(0, 1, 1, 1), // positive Z\n\t\t\tnew Vector4(3, 1, 1, 1), // negative Z\n\t\t\tnew Vector4(1, 1, 1, 1), // positive Y\n\t\t\tnew Vector4(3, 0, 1, 1), // negative Y\n\t\t\tnew Vector4(1, 0, 1, 1)];\n\t\t\tthis._cubeDirections = [new Vector3(1, 0, 0), new Vector3(-1, 0, 0), new Vector3(0, 0, 1), new Vector3(0, 0, -1), new Vector3(0, 1, 0), new Vector3(0, -1, 0)];\n\t\t\tthis._cubeUps = [new Vector3(0, 1, 0), new Vector3(0, 1, 0), new Vector3(0, 1, 0), new Vector3(0, 1, 0), new Vector3(0, 0, 1), new Vector3(0, 0, -1)];\n\t\t}\n\n\t\tupdateMatrices(light, viewportIndex = 0) {\n\t\t\tconst camera = this.camera;\n\t\t\tconst shadowMatrix = this.matrix;\n\t\t\tconst far = light.distance || camera.far;\n\n\t\t\tif (far !== camera.far) {\n\t\t\t\tcamera.far = far;\n\t\t\t\tcamera.updateProjectionMatrix();\n\t\t\t}\n\n\t\t\t_lightPositionWorld.setFromMatrixPosition(light.matrixWorld);\n\n\t\t\tcamera.position.copy(_lightPositionWorld);\n\n\t\t\t_lookTarget.copy(camera.position);\n\n\t\t\t_lookTarget.add(this._cubeDirections[viewportIndex]);\n\n\t\t\tcamera.up.copy(this._cubeUps[viewportIndex]);\n\t\t\tcamera.lookAt(_lookTarget);\n\t\t\tcamera.updateMatrixWorld();\n\t\t\tshadowMatrix.makeTranslation(-_lightPositionWorld.x, -_lightPositionWorld.y, -_lightPositionWorld.z);\n\n\t\t\t_projScreenMatrix.multiplyMatrices(camera.projectionMatrix, camera.matrixWorldInverse);\n\n\t\t\tthis._frustum.setFromProjectionMatrix(_projScreenMatrix);\n\t\t}\n\n\t}\n\n\tclass PointLight extends Light {\n\t\tconstructor(color, intensity, distance = 0, decay = 1) {\n\t\t\tsuper(color, intensity);\n\t\t\tthis.isPointLight = true;\n\t\t\tthis.type = 'PointLight';\n\t\t\tthis.distance = distance;\n\t\t\tthis.decay = decay; // for physically correct lights, should be 2.\n\n\t\t\tthis.shadow = new PointLightShadow();\n\t\t}\n\n\t\tget power() {\n\t\t\t// compute the light's luminous power (in lumens) from its intensity (in candela)\n\t\t\t// for an isotropic light source, luminous power (lm) = 4 π luminous intensity (cd)\n\t\t\treturn this.intensity * 4 * Math.PI;\n\t\t}\n\n\t\tset power(power) {\n\t\t\t// set the light's intensity (in candela) from the desired luminous power (in lumens)\n\t\t\tthis.intensity = power / (4 * Math.PI);\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.shadow.dispose();\n\t\t}\n\n\t\tcopy(source, recursive) {\n\t\t\tsuper.copy(source, recursive);\n\t\t\tthis.distance = source.distance;\n\t\t\tthis.decay = source.decay;\n\t\t\tthis.shadow = source.shadow.clone();\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass DirectionalLightShadow extends LightShadow {\n\t\tconstructor() {\n\t\t\tsuper(new OrthographicCamera(-5, 5, 5, -5, 0.5, 500));\n\t\t\tthis.isDirectionalLightShadow = true;\n\t\t}\n\n\t}\n\n\tclass DirectionalLight extends Light {\n\t\tconstructor(color, intensity) {\n\t\t\tsuper(color, intensity);\n\t\t\tthis.isDirectionalLight = true;\n\t\t\tthis.type = 'DirectionalLight';\n\t\t\tthis.position.copy(Object3D.DefaultUp);\n\t\t\tthis.updateMatrix();\n\t\t\tthis.target = new Object3D();\n\t\t\tthis.shadow = new DirectionalLightShadow();\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.shadow.dispose();\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.target = source.target.clone();\n\t\t\tthis.shadow = source.shadow.clone();\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass AmbientLight extends Light {\n\t\tconstructor(color, intensity) {\n\t\t\tsuper(color, intensity);\n\t\t\tthis.isAmbientLight = true;\n\t\t\tthis.type = 'AmbientLight';\n\t\t}\n\n\t}\n\n\tclass RectAreaLight extends Light {\n\t\tconstructor(color, intensity, width = 10, height = 10) {\n\t\t\tsuper(color, intensity);\n\t\t\tthis.isRectAreaLight = true;\n\t\t\tthis.type = 'RectAreaLight';\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\t\t}\n\n\t\tget power() {\n\t\t\t// compute the light's luminous power (in lumens) from its intensity (in nits)\n\t\t\treturn this.intensity * this.width * this.height * Math.PI;\n\t\t}\n\n\t\tset power(power) {\n\t\t\t// set the light's intensity (in nits) from the desired luminous power (in lumens)\n\t\t\tthis.intensity = power / (this.width * this.height * Math.PI);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.width = source.width;\n\t\t\tthis.height = source.height;\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON(meta) {\n\t\t\tconst data = super.toJSON(meta);\n\t\t\tdata.object.width = this.width;\n\t\t\tdata.object.height = this.height;\n\t\t\treturn data;\n\t\t}\n\n\t}\n\n\t/**\n\t * Primary reference:\n\t *\t https://graphics.stanford.edu/papers/envmap/envmap.pdf\n\t *\n\t * Secondary reference:\n\t *\t https://www.ppsloan.org/publications/StupidSH36.pdf\n\t */\n\t// 3-band SH defined by 9 coefficients\n\n\tclass SphericalHarmonics3 {\n\t\tconstructor() {\n\t\t\tthis.isSphericalHarmonics3 = true;\n\t\t\tthis.coefficients = [];\n\n\t\t\tfor (let i = 0; i < 9; i++) {\n\t\t\t\tthis.coefficients.push(new Vector3());\n\t\t\t}\n\t\t}\n\n\t\tset(coefficients) {\n\t\t\tfor (let i = 0; i < 9; i++) {\n\t\t\t\tthis.coefficients[i].copy(coefficients[i]);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tzero() {\n\t\t\tfor (let i = 0; i < 9; i++) {\n\t\t\t\tthis.coefficients[i].set(0, 0, 0);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t} // get the radiance in the direction of the normal\n\t\t// target is a Vector3\n\n\n\t\tgetAt(normal, target) {\n\t\t\t// normal is assumed to be unit length\n\t\t\tconst x = normal.x,\n\t\t\t\t\t\ty = normal.y,\n\t\t\t\t\t\tz = normal.z;\n\t\t\tconst coeff = this.coefficients; // band 0\n\n\t\t\ttarget.copy(coeff[0]).multiplyScalar(0.282095); // band 1\n\n\t\t\ttarget.addScaledVector(coeff[1], 0.488603 * y);\n\t\t\ttarget.addScaledVector(coeff[2], 0.488603 * z);\n\t\t\ttarget.addScaledVector(coeff[3], 0.488603 * x); // band 2\n\n\t\t\ttarget.addScaledVector(coeff[4], 1.092548 * (x * y));\n\t\t\ttarget.addScaledVector(coeff[5], 1.092548 * (y * z));\n\t\t\ttarget.addScaledVector(coeff[6], 0.315392 * (3.0 * z * z - 1.0));\n\t\t\ttarget.addScaledVector(coeff[7], 1.092548 * (x * z));\n\t\t\ttarget.addScaledVector(coeff[8], 0.546274 * (x * x - y * y));\n\t\t\treturn target;\n\t\t} // get the irradiance (radiance convolved with cosine lobe) in the direction of the normal\n\t\t// target is a Vector3\n\t\t// https://graphics.stanford.edu/papers/envmap/envmap.pdf\n\n\n\t\tgetIrradianceAt(normal, target) {\n\t\t\t// normal is assumed to be unit length\n\t\t\tconst x = normal.x,\n\t\t\t\t\t\ty = normal.y,\n\t\t\t\t\t\tz = normal.z;\n\t\t\tconst coeff = this.coefficients; // band 0\n\n\t\t\ttarget.copy(coeff[0]).multiplyScalar(0.886227); // π * 0.282095\n\t\t\t// band 1\n\n\t\t\ttarget.addScaledVector(coeff[1], 2.0 * 0.511664 * y); // ( 2 * π / 3 ) * 0.488603\n\n\t\t\ttarget.addScaledVector(coeff[2], 2.0 * 0.511664 * z);\n\t\t\ttarget.addScaledVector(coeff[3], 2.0 * 0.511664 * x); // band 2\n\n\t\t\ttarget.addScaledVector(coeff[4], 2.0 * 0.429043 * x * y); // ( π / 4 ) * 1.092548\n\n\t\t\ttarget.addScaledVector(coeff[5], 2.0 * 0.429043 * y * z);\n\t\t\ttarget.addScaledVector(coeff[6], 0.743125 * z * z - 0.247708); // ( π / 4 ) * 0.315392 * 3\n\n\t\t\ttarget.addScaledVector(coeff[7], 2.0 * 0.429043 * x * z);\n\t\t\ttarget.addScaledVector(coeff[8], 0.429043 * (x * x - y * y)); // ( π / 4 ) * 0.546274\n\n\t\t\treturn target;\n\t\t}\n\n\t\tadd(sh) {\n\t\t\tfor (let i = 0; i < 9; i++) {\n\t\t\t\tthis.coefficients[i].add(sh.coefficients[i]);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\taddScaledSH(sh, s) {\n\t\t\tfor (let i = 0; i < 9; i++) {\n\t\t\t\tthis.coefficients[i].addScaledVector(sh.coefficients[i], s);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tscale(s) {\n\t\t\tfor (let i = 0; i < 9; i++) {\n\t\t\t\tthis.coefficients[i].multiplyScalar(s);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tlerp(sh, alpha) {\n\t\t\tfor (let i = 0; i < 9; i++) {\n\t\t\t\tthis.coefficients[i].lerp(sh.coefficients[i], alpha);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tequals(sh) {\n\t\t\tfor (let i = 0; i < 9; i++) {\n\t\t\t\tif (!this.coefficients[i].equals(sh.coefficients[i])) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\tcopy(sh) {\n\t\t\treturn this.set(sh.coefficients);\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t\tfromArray(array, offset = 0) {\n\t\t\tconst coefficients = this.coefficients;\n\n\t\t\tfor (let i = 0; i < 9; i++) {\n\t\t\t\tcoefficients[i].fromArray(array, offset + i * 3);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\ttoArray(array = [], offset = 0) {\n\t\t\tconst coefficients = this.coefficients;\n\n\t\t\tfor (let i = 0; i < 9; i++) {\n\t\t\t\tcoefficients[i].toArray(array, offset + i * 3);\n\t\t\t}\n\n\t\t\treturn array;\n\t\t} // evaluate the basis functions\n\t\t// shBasis is an Array[ 9 ]\n\n\n\t\tstatic getBasisAt(normal, shBasis) {\n\t\t\t// normal is assumed to be unit length\n\t\t\tconst x = normal.x,\n\t\t\t\t\t\ty = normal.y,\n\t\t\t\t\t\tz = normal.z; // band 0\n\n\t\t\tshBasis[0] = 0.282095; // band 1\n\n\t\t\tshBasis[1] = 0.488603 * y;\n\t\t\tshBasis[2] = 0.488603 * z;\n\t\t\tshBasis[3] = 0.488603 * x; // band 2\n\n\t\t\tshBasis[4] = 1.092548 * x * y;\n\t\t\tshBasis[5] = 1.092548 * y * z;\n\t\t\tshBasis[6] = 0.315392 * (3 * z * z - 1);\n\t\t\tshBasis[7] = 1.092548 * x * z;\n\t\t\tshBasis[8] = 0.546274 * (x * x - y * y);\n\t\t}\n\n\t}\n\n\tclass LightProbe extends Light {\n\t\tconstructor(sh = new SphericalHarmonics3(), intensity = 1) {\n\t\t\tsuper(undefined, intensity);\n\t\t\tthis.isLightProbe = true;\n\t\t\tthis.sh = sh;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.sh.copy(source.sh);\n\t\t\treturn this;\n\t\t}\n\n\t\tfromJSON(json) {\n\t\t\tthis.intensity = json.intensity; // TODO: Move this bit to Light.fromJSON();\n\n\t\t\tthis.sh.fromArray(json.sh);\n\t\t\treturn this;\n\t\t}\n\n\t\ttoJSON(meta) {\n\t\t\tconst data = super.toJSON(meta);\n\t\t\tdata.object.sh = this.sh.toArray();\n\t\t\treturn data;\n\t\t}\n\n\t}\n\n\tclass MaterialLoader extends Loader {\n\t\tconstructor(manager) {\n\t\t\tsuper(manager);\n\t\t\tthis.textures = {};\n\t\t}\n\n\t\tload(url, onLoad, onProgress, onError) {\n\t\t\tconst scope = this;\n\t\t\tconst loader = new FileLoader(scope.manager);\n\t\t\tloader.setPath(scope.path);\n\t\t\tloader.setRequestHeader(scope.requestHeader);\n\t\t\tloader.setWithCredentials(scope.withCredentials);\n\t\t\tloader.load(url, function (text) {\n\t\t\t\ttry {\n\t\t\t\t\tonLoad(scope.parse(JSON.parse(text)));\n\t\t\t\t} catch (e) {\n\t\t\t\t\tif (onError) {\n\t\t\t\t\t\tonError(e);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemError(url);\n\t\t\t\t}\n\t\t\t}, onProgress, onError);\n\t\t}\n\n\t\tparse(json) {\n\t\t\tconst textures = this.textures;\n\n\t\t\tfunction getTexture(name) {\n\t\t\t\tif (textures[name] === undefined) {\n\t\t\t\t\tconsole.warn('THREE.MaterialLoader: Undefined texture', name);\n\t\t\t\t}\n\n\t\t\t\treturn textures[name];\n\t\t\t}\n\n\t\t\tconst material = Material.fromType(json.type);\n\t\t\tif (json.uuid !== undefined) material.uuid = json.uuid;\n\t\t\tif (json.name !== undefined) material.name = json.name;\n\t\t\tif (json.color !== undefined && material.color !== undefined) material.color.setHex(json.color);\n\t\t\tif (json.roughness !== undefined) material.roughness = json.roughness;\n\t\t\tif (json.metalness !== undefined) material.metalness = json.metalness;\n\t\t\tif (json.sheen !== undefined) material.sheen = json.sheen;\n\t\t\tif (json.sheenColor !== undefined) material.sheenColor = new Color().setHex(json.sheenColor);\n\t\t\tif (json.sheenRoughness !== undefined) material.sheenRoughness = json.sheenRoughness;\n\t\t\tif (json.emissive !== undefined && material.emissive !== undefined) material.emissive.setHex(json.emissive);\n\t\t\tif (json.specular !== undefined && material.specular !== undefined) material.specular.setHex(json.specular);\n\t\t\tif (json.specularIntensity !== undefined) material.specularIntensity = json.specularIntensity;\n\t\t\tif (json.specularColor !== undefined && material.specularColor !== undefined) material.specularColor.setHex(json.specularColor);\n\t\t\tif (json.shininess !== undefined) material.shininess = json.shininess;\n\t\t\tif (json.clearcoat !== undefined) material.clearcoat = json.clearcoat;\n\t\t\tif (json.clearcoatRoughness !== undefined) material.clearcoatRoughness = json.clearcoatRoughness;\n\t\t\tif (json.iridescence !== undefined) material.iridescence = json.iridescence;\n\t\t\tif (json.iridescenceIOR !== undefined) material.iridescenceIOR = json.iridescenceIOR;\n\t\t\tif (json.iridescenceThicknessRange !== undefined) material.iridescenceThicknessRange = json.iridescenceThicknessRange;\n\t\t\tif (json.transmission !== undefined) material.transmission = json.transmission;\n\t\t\tif (json.thickness !== undefined) material.thickness = json.thickness;\n\t\t\tif (json.attenuationDistance !== undefined) material.attenuationDistance = json.attenuationDistance;\n\t\t\tif (json.attenuationColor !== undefined && material.attenuationColor !== undefined) material.attenuationColor.setHex(json.attenuationColor);\n\t\t\tif (json.fog !== undefined) material.fog = json.fog;\n\t\t\tif (json.flatShading !== undefined) material.flatShading = json.flatShading;\n\t\t\tif (json.blending !== undefined) material.blending = json.blending;\n\t\t\tif (json.combine !== undefined) material.combine = json.combine;\n\t\t\tif (json.side !== undefined) material.side = json.side;\n\t\t\tif (json.shadowSide !== undefined) material.shadowSide = json.shadowSide;\n\t\t\tif (json.opacity !== undefined) material.opacity = json.opacity;\n\t\t\tif (json.transparent !== undefined) material.transparent = json.transparent;\n\t\t\tif (json.alphaTest !== undefined) material.alphaTest = json.alphaTest;\n\t\t\tif (json.depthTest !== undefined) material.depthTest = json.depthTest;\n\t\t\tif (json.depthWrite !== undefined) material.depthWrite = json.depthWrite;\n\t\t\tif (json.colorWrite !== undefined) material.colorWrite = json.colorWrite;\n\t\t\tif (json.stencilWrite !== undefined) material.stencilWrite = json.stencilWrite;\n\t\t\tif (json.stencilWriteMask !== undefined) material.stencilWriteMask = json.stencilWriteMask;\n\t\t\tif (json.stencilFunc !== undefined) material.stencilFunc = json.stencilFunc;\n\t\t\tif (json.stencilRef !== undefined) material.stencilRef = json.stencilRef;\n\t\t\tif (json.stencilFuncMask !== undefined) material.stencilFuncMask = json.stencilFuncMask;\n\t\t\tif (json.stencilFail !== undefined) material.stencilFail = json.stencilFail;\n\t\t\tif (json.stencilZFail !== undefined) material.stencilZFail = json.stencilZFail;\n\t\t\tif (json.stencilZPass !== undefined) material.stencilZPass = json.stencilZPass;\n\t\t\tif (json.wireframe !== undefined) material.wireframe = json.wireframe;\n\t\t\tif (json.wireframeLinewidth !== undefined) material.wireframeLinewidth = json.wireframeLinewidth;\n\t\t\tif (json.wireframeLinecap !== undefined) material.wireframeLinecap = json.wireframeLinecap;\n\t\t\tif (json.wireframeLinejoin !== undefined) material.wireframeLinejoin = json.wireframeLinejoin;\n\t\t\tif (json.rotation !== undefined) material.rotation = json.rotation;\n\t\t\tif (json.linewidth !== 1) material.linewidth = json.linewidth;\n\t\t\tif (json.dashSize !== undefined) material.dashSize = json.dashSize;\n\t\t\tif (json.gapSize !== undefined) material.gapSize = json.gapSize;\n\t\t\tif (json.scale !== undefined) material.scale = json.scale;\n\t\t\tif (json.polygonOffset !== undefined) material.polygonOffset = json.polygonOffset;\n\t\t\tif (json.polygonOffsetFactor !== undefined) material.polygonOffsetFactor = json.polygonOffsetFactor;\n\t\t\tif (json.polygonOffsetUnits !== undefined) material.polygonOffsetUnits = json.polygonOffsetUnits;\n\t\t\tif (json.dithering !== undefined) material.dithering = json.dithering;\n\t\t\tif (json.alphaToCoverage !== undefined) material.alphaToCoverage = json.alphaToCoverage;\n\t\t\tif (json.premultipliedAlpha !== undefined) material.premultipliedAlpha = json.premultipliedAlpha;\n\t\t\tif (json.visible !== undefined) material.visible = json.visible;\n\t\t\tif (json.toneMapped !== undefined) material.toneMapped = json.toneMapped;\n\t\t\tif (json.userData !== undefined) material.userData = json.userData;\n\n\t\t\tif (json.vertexColors !== undefined) {\n\t\t\t\tif (typeof json.vertexColors === 'number') {\n\t\t\t\t\tmaterial.vertexColors = json.vertexColors > 0 ? true : false;\n\t\t\t\t} else {\n\t\t\t\t\tmaterial.vertexColors = json.vertexColors;\n\t\t\t\t}\n\t\t\t} // Shader Material\n\n\n\t\t\tif (json.uniforms !== undefined) {\n\t\t\t\tfor (const name in json.uniforms) {\n\t\t\t\t\tconst uniform = json.uniforms[name];\n\t\t\t\t\tmaterial.uniforms[name] = {};\n\n\t\t\t\t\tswitch (uniform.type) {\n\t\t\t\t\t\tcase 't':\n\t\t\t\t\t\t\tmaterial.uniforms[name].value = getTexture(uniform.value);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'c':\n\t\t\t\t\t\t\tmaterial.uniforms[name].value = new Color().setHex(uniform.value);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'v2':\n\t\t\t\t\t\t\tmaterial.uniforms[name].value = new Vector2().fromArray(uniform.value);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'v3':\n\t\t\t\t\t\t\tmaterial.uniforms[name].value = new Vector3().fromArray(uniform.value);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'v4':\n\t\t\t\t\t\t\tmaterial.uniforms[name].value = new Vector4().fromArray(uniform.value);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'm3':\n\t\t\t\t\t\t\tmaterial.uniforms[name].value = new Matrix3().fromArray(uniform.value);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'm4':\n\t\t\t\t\t\t\tmaterial.uniforms[name].value = new Matrix4().fromArray(uniform.value);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tmaterial.uniforms[name].value = uniform.value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (json.defines !== undefined) material.defines = json.defines;\n\t\t\tif (json.vertexShader !== undefined) material.vertexShader = json.vertexShader;\n\t\t\tif (json.fragmentShader !== undefined) material.fragmentShader = json.fragmentShader;\n\n\t\t\tif (json.extensions !== undefined) {\n\t\t\t\tfor (const key in json.extensions) {\n\t\t\t\t\tmaterial.extensions[key] = json.extensions[key];\n\t\t\t\t}\n\t\t\t} // Deprecated\n\n\n\t\t\tif (json.shading !== undefined) material.flatShading = json.shading === 1; // THREE.FlatShading\n\t\t\t// for PointsMaterial\n\n\t\t\tif (json.size !== undefined) material.size = json.size;\n\t\t\tif (json.sizeAttenuation !== undefined) material.sizeAttenuation = json.sizeAttenuation; // maps\n\n\t\t\tif (json.map !== undefined) material.map = getTexture(json.map);\n\t\t\tif (json.matcap !== undefined) material.matcap = getTexture(json.matcap);\n\t\t\tif (json.alphaMap !== undefined) material.alphaMap = getTexture(json.alphaMap);\n\t\t\tif (json.bumpMap !== undefined) material.bumpMap = getTexture(json.bumpMap);\n\t\t\tif (json.bumpScale !== undefined) material.bumpScale = json.bumpScale;\n\t\t\tif (json.normalMap !== undefined) material.normalMap = getTexture(json.normalMap);\n\t\t\tif (json.normalMapType !== undefined) material.normalMapType = json.normalMapType;\n\n\t\t\tif (json.normalScale !== undefined) {\n\t\t\t\tlet normalScale = json.normalScale;\n\n\t\t\t\tif (Array.isArray(normalScale) === false) {\n\t\t\t\t\t// Blender exporter used to export a scalar. See #7459\n\t\t\t\t\tnormalScale = [normalScale, normalScale];\n\t\t\t\t}\n\n\t\t\t\tmaterial.normalScale = new Vector2().fromArray(normalScale);\n\t\t\t}\n\n\t\t\tif (json.displacementMap !== undefined) material.displacementMap = getTexture(json.displacementMap);\n\t\t\tif (json.displacementScale !== undefined) material.displacementScale = json.displacementScale;\n\t\t\tif (json.displacementBias !== undefined) material.displacementBias = json.displacementBias;\n\t\t\tif (json.roughnessMap !== undefined) material.roughnessMap = getTexture(json.roughnessMap);\n\t\t\tif (json.metalnessMap !== undefined) material.metalnessMap = getTexture(json.metalnessMap);\n\t\t\tif (json.emissiveMap !== undefined) material.emissiveMap = getTexture(json.emissiveMap);\n\t\t\tif (json.emissiveIntensity !== undefined) material.emissiveIntensity = json.emissiveIntensity;\n\t\t\tif (json.specularMap !== undefined) material.specularMap = getTexture(json.specularMap);\n\t\t\tif (json.specularIntensityMap !== undefined) material.specularIntensityMap = getTexture(json.specularIntensityMap);\n\t\t\tif (json.specularColorMap !== undefined) material.specularColorMap = getTexture(json.specularColorMap);\n\t\t\tif (json.envMap !== undefined) material.envMap = getTexture(json.envMap);\n\t\t\tif (json.envMapIntensity !== undefined) material.envMapIntensity = json.envMapIntensity;\n\t\t\tif (json.reflectivity !== undefined) material.reflectivity = json.reflectivity;\n\t\t\tif (json.refractionRatio !== undefined) material.refractionRatio = json.refractionRatio;\n\t\t\tif (json.lightMap !== undefined) material.lightMap = getTexture(json.lightMap);\n\t\t\tif (json.lightMapIntensity !== undefined) material.lightMapIntensity = json.lightMapIntensity;\n\t\t\tif (json.aoMap !== undefined) material.aoMap = getTexture(json.aoMap);\n\t\t\tif (json.aoMapIntensity !== undefined) material.aoMapIntensity = json.aoMapIntensity;\n\t\t\tif (json.gradientMap !== undefined) material.gradientMap = getTexture(json.gradientMap);\n\t\t\tif (json.clearcoatMap !== undefined) material.clearcoatMap = getTexture(json.clearcoatMap);\n\t\t\tif (json.clearcoatRoughnessMap !== undefined) material.clearcoatRoughnessMap = getTexture(json.clearcoatRoughnessMap);\n\t\t\tif (json.clearcoatNormalMap !== undefined) material.clearcoatNormalMap = getTexture(json.clearcoatNormalMap);\n\t\t\tif (json.clearcoatNormalScale !== undefined) material.clearcoatNormalScale = new Vector2().fromArray(json.clearcoatNormalScale);\n\t\t\tif (json.iridescenceMap !== undefined) material.iridescenceMap = getTexture(json.iridescenceMap);\n\t\t\tif (json.iridescenceThicknessMap !== undefined) material.iridescenceThicknessMap = getTexture(json.iridescenceThicknessMap);\n\t\t\tif (json.transmissionMap !== undefined) material.transmissionMap = getTexture(json.transmissionMap);\n\t\t\tif (json.thicknessMap !== undefined) material.thicknessMap = getTexture(json.thicknessMap);\n\t\t\tif (json.sheenColorMap !== undefined) material.sheenColorMap = getTexture(json.sheenColorMap);\n\t\t\tif (json.sheenRoughnessMap !== undefined) material.sheenRoughnessMap = getTexture(json.sheenRoughnessMap);\n\t\t\treturn material;\n\t\t}\n\n\t\tsetTextures(value) {\n\t\t\tthis.textures = value;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass LoaderUtils {\n\t\tstatic decodeText(array) {\n\t\t\tif (typeof TextDecoder !== 'undefined') {\n\t\t\t\treturn new TextDecoder().decode(array);\n\t\t\t} // Avoid the String.fromCharCode.apply(null, array) shortcut, which\n\t\t\t// throws a \"maximum call stack size exceeded\" error for large arrays.\n\n\n\t\t\tlet s = '';\n\n\t\t\tfor (let i = 0, il = array.length; i < il; i++) {\n\t\t\t\t// Implicitly assumes little-endian.\n\t\t\t\ts += String.fromCharCode(array[i]);\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\t// merges multi-byte utf-8 characters.\n\t\t\t\treturn decodeURIComponent(escape(s));\n\t\t\t} catch (e) {\n\t\t\t\t// see #16358\n\t\t\t\treturn s;\n\t\t\t}\n\t\t}\n\n\t\tstatic extractUrlBase(url) {\n\t\t\tconst index = url.lastIndexOf('/');\n\t\t\tif (index === -1) return './';\n\t\t\treturn url.slice(0, index + 1);\n\t\t}\n\n\t\tstatic resolveURL(url, path) {\n\t\t\t// Invalid URL\n\t\t\tif (typeof url !== 'string' || url === '') return ''; // Host Relative URL\n\n\t\t\tif (/^https?:\\/\\//i.test(path) && /^\\//.test(url)) {\n\t\t\t\tpath = path.replace(/(^https?:\\/\\/[^\\/]+).*/i, '$1');\n\t\t\t} // Absolute URL http://,https://,//\n\n\n\t\t\tif (/^(https?:)?\\/\\//i.test(url)) return url; // Data URI\n\n\t\t\tif (/^data:.*,.*$/i.test(url)) return url; // Blob URL\n\n\t\t\tif (/^blob:.*$/i.test(url)) return url; // Relative URL\n\n\t\t\treturn path + url;\n\t\t}\n\n\t}\n\n\tclass InstancedBufferGeometry extends BufferGeometry {\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tthis.isInstancedBufferGeometry = true;\n\t\t\tthis.type = 'InstancedBufferGeometry';\n\t\t\tthis.instanceCount = Infinity;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.instanceCount = source.instanceCount;\n\t\t\treturn this;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t\ttoJSON() {\n\t\t\tconst data = super.toJSON(this);\n\t\t\tdata.instanceCount = this.instanceCount;\n\t\t\tdata.isInstancedBufferGeometry = true;\n\t\t\treturn data;\n\t\t}\n\n\t}\n\n\tclass BufferGeometryLoader extends Loader {\n\t\tconstructor(manager) {\n\t\t\tsuper(manager);\n\t\t}\n\n\t\tload(url, onLoad, onProgress, onError) {\n\t\t\tconst scope = this;\n\t\t\tconst loader = new FileLoader(scope.manager);\n\t\t\tloader.setPath(scope.path);\n\t\t\tloader.setRequestHeader(scope.requestHeader);\n\t\t\tloader.setWithCredentials(scope.withCredentials);\n\t\t\tloader.load(url, function (text) {\n\t\t\t\ttry {\n\t\t\t\t\tonLoad(scope.parse(JSON.parse(text)));\n\t\t\t\t} catch (e) {\n\t\t\t\t\tif (onError) {\n\t\t\t\t\t\tonError(e);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemError(url);\n\t\t\t\t}\n\t\t\t}, onProgress, onError);\n\t\t}\n\n\t\tparse(json) {\n\t\t\tconst interleavedBufferMap = {};\n\t\t\tconst arrayBufferMap = {};\n\n\t\t\tfunction getInterleavedBuffer(json, uuid) {\n\t\t\t\tif (interleavedBufferMap[uuid] !== undefined) return interleavedBufferMap[uuid];\n\t\t\t\tconst interleavedBuffers = json.interleavedBuffers;\n\t\t\t\tconst interleavedBuffer = interleavedBuffers[uuid];\n\t\t\t\tconst buffer = getArrayBuffer(json, interleavedBuffer.buffer);\n\t\t\t\tconst array = getTypedArray(interleavedBuffer.type, buffer);\n\t\t\t\tconst ib = new InterleavedBuffer(array, interleavedBuffer.stride);\n\t\t\t\tib.uuid = interleavedBuffer.uuid;\n\t\t\t\tinterleavedBufferMap[uuid] = ib;\n\t\t\t\treturn ib;\n\t\t\t}\n\n\t\t\tfunction getArrayBuffer(json, uuid) {\n\t\t\t\tif (arrayBufferMap[uuid] !== undefined) return arrayBufferMap[uuid];\n\t\t\t\tconst arrayBuffers = json.arrayBuffers;\n\t\t\t\tconst arrayBuffer = arrayBuffers[uuid];\n\t\t\t\tconst ab = new Uint32Array(arrayBuffer).buffer;\n\t\t\t\tarrayBufferMap[uuid] = ab;\n\t\t\t\treturn ab;\n\t\t\t}\n\n\t\t\tconst geometry = json.isInstancedBufferGeometry ? new InstancedBufferGeometry() : new BufferGeometry();\n\t\t\tconst index = json.data.index;\n\n\t\t\tif (index !== undefined) {\n\t\t\t\tconst typedArray = getTypedArray(index.type, index.array);\n\t\t\t\tgeometry.setIndex(new BufferAttribute(typedArray, 1));\n\t\t\t}\n\n\t\t\tconst attributes = json.data.attributes;\n\n\t\t\tfor (const key in attributes) {\n\t\t\t\tconst attribute = attributes[key];\n\t\t\t\tlet bufferAttribute;\n\n\t\t\t\tif (attribute.isInterleavedBufferAttribute) {\n\t\t\t\t\tconst interleavedBuffer = getInterleavedBuffer(json.data, attribute.data);\n\t\t\t\t\tbufferAttribute = new InterleavedBufferAttribute(interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized);\n\t\t\t\t} else {\n\t\t\t\t\tconst typedArray = getTypedArray(attribute.type, attribute.array);\n\t\t\t\t\tconst bufferAttributeConstr = attribute.isInstancedBufferAttribute ? InstancedBufferAttribute : BufferAttribute;\n\t\t\t\t\tbufferAttribute = new bufferAttributeConstr(typedArray, attribute.itemSize, attribute.normalized);\n\t\t\t\t}\n\n\t\t\t\tif (attribute.name !== undefined) bufferAttribute.name = attribute.name;\n\t\t\t\tif (attribute.usage !== undefined) bufferAttribute.setUsage(attribute.usage);\n\n\t\t\t\tif (attribute.updateRange !== undefined) {\n\t\t\t\t\tbufferAttribute.updateRange.offset = attribute.updateRange.offset;\n\t\t\t\t\tbufferAttribute.updateRange.count = attribute.updateRange.count;\n\t\t\t\t}\n\n\t\t\t\tgeometry.setAttribute(key, bufferAttribute);\n\t\t\t}\n\n\t\t\tconst morphAttributes = json.data.morphAttributes;\n\n\t\t\tif (morphAttributes) {\n\t\t\t\tfor (const key in morphAttributes) {\n\t\t\t\t\tconst attributeArray = morphAttributes[key];\n\t\t\t\t\tconst array = [];\n\n\t\t\t\t\tfor (let i = 0, il = attributeArray.length; i < il; i++) {\n\t\t\t\t\t\tconst attribute = attributeArray[i];\n\t\t\t\t\t\tlet bufferAttribute;\n\n\t\t\t\t\t\tif (attribute.isInterleavedBufferAttribute) {\n\t\t\t\t\t\t\tconst interleavedBuffer = getInterleavedBuffer(json.data, attribute.data);\n\t\t\t\t\t\t\tbufferAttribute = new InterleavedBufferAttribute(interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst typedArray = getTypedArray(attribute.type, attribute.array);\n\t\t\t\t\t\t\tbufferAttribute = new BufferAttribute(typedArray, attribute.itemSize, attribute.normalized);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (attribute.name !== undefined) bufferAttribute.name = attribute.name;\n\t\t\t\t\t\tarray.push(bufferAttribute);\n\t\t\t\t\t}\n\n\t\t\t\t\tgeometry.morphAttributes[key] = array;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst morphTargetsRelative = json.data.morphTargetsRelative;\n\n\t\t\tif (morphTargetsRelative) {\n\t\t\t\tgeometry.morphTargetsRelative = true;\n\t\t\t}\n\n\t\t\tconst groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\n\t\t\tif (groups !== undefined) {\n\t\t\t\tfor (let i = 0, n = groups.length; i !== n; ++i) {\n\t\t\t\t\tconst group = groups[i];\n\t\t\t\t\tgeometry.addGroup(group.start, group.count, group.materialIndex);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst boundingSphere = json.data.boundingSphere;\n\n\t\t\tif (boundingSphere !== undefined) {\n\t\t\t\tconst center = new Vector3();\n\n\t\t\t\tif (boundingSphere.center !== undefined) {\n\t\t\t\t\tcenter.fromArray(boundingSphere.center);\n\t\t\t\t}\n\n\t\t\t\tgeometry.boundingSphere = new Sphere(center, boundingSphere.radius);\n\t\t\t}\n\n\t\t\tif (json.name) geometry.name = json.name;\n\t\t\tif (json.userData) geometry.userData = json.userData;\n\t\t\treturn geometry;\n\t\t}\n\n\t}\n\n\tclass ObjectLoader extends Loader {\n\t\tconstructor(manager) {\n\t\t\tsuper(manager);\n\t\t}\n\n\t\tload(url, onLoad, onProgress, onError) {\n\t\t\tconst scope = this;\n\t\t\tconst path = this.path === '' ? LoaderUtils.extractUrlBase(url) : this.path;\n\t\t\tthis.resourcePath = this.resourcePath || path;\n\t\t\tconst loader = new FileLoader(this.manager);\n\t\t\tloader.setPath(this.path);\n\t\t\tloader.setRequestHeader(this.requestHeader);\n\t\t\tloader.setWithCredentials(this.withCredentials);\n\t\t\tloader.load(url, function (text) {\n\t\t\t\tlet json = null;\n\n\t\t\t\ttry {\n\t\t\t\t\tjson = JSON.parse(text);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tif (onError !== undefined) onError(error);\n\t\t\t\t\tconsole.error('THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst metadata = json.metadata;\n\n\t\t\t\tif (metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry') {\n\t\t\t\t\tconsole.error('THREE.ObjectLoader: Can\\'t load ' + url);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tscope.parse(json, onLoad);\n\t\t\t}, onProgress, onError);\n\t\t}\n\n\t\tasync loadAsync(url, onProgress) {\n\t\t\tconst scope = this;\n\t\t\tconst path = this.path === '' ? LoaderUtils.extractUrlBase(url) : this.path;\n\t\t\tthis.resourcePath = this.resourcePath || path;\n\t\t\tconst loader = new FileLoader(this.manager);\n\t\t\tloader.setPath(this.path);\n\t\t\tloader.setRequestHeader(this.requestHeader);\n\t\t\tloader.setWithCredentials(this.withCredentials);\n\t\t\tconst text = await loader.loadAsync(url, onProgress);\n\t\t\tconst json = JSON.parse(text);\n\t\t\tconst metadata = json.metadata;\n\n\t\t\tif (metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry') {\n\t\t\t\tthrow new Error('THREE.ObjectLoader: Can\\'t load ' + url);\n\t\t\t}\n\n\t\t\treturn await scope.parseAsync(json);\n\t\t}\n\n\t\tparse(json, onLoad) {\n\t\t\tconst animations = this.parseAnimations(json.animations);\n\t\t\tconst shapes = this.parseShapes(json.shapes);\n\t\t\tconst geometries = this.parseGeometries(json.geometries, shapes);\n\t\t\tconst images = this.parseImages(json.images, function () {\n\t\t\t\tif (onLoad !== undefined) onLoad(object);\n\t\t\t});\n\t\t\tconst textures = this.parseTextures(json.textures, images);\n\t\t\tconst materials = this.parseMaterials(json.materials, textures);\n\t\t\tconst object = this.parseObject(json.object, geometries, materials, textures, animations);\n\t\t\tconst skeletons = this.parseSkeletons(json.skeletons, object);\n\t\t\tthis.bindSkeletons(object, skeletons); //\n\n\t\t\tif (onLoad !== undefined) {\n\t\t\t\tlet hasImages = false;\n\n\t\t\t\tfor (const uuid in images) {\n\t\t\t\t\tif (images[uuid].data instanceof HTMLImageElement) {\n\t\t\t\t\t\thasImages = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (hasImages === false) onLoad(object);\n\t\t\t}\n\n\t\t\treturn object;\n\t\t}\n\n\t\tasync parseAsync(json) {\n\t\t\tconst animations = this.parseAnimations(json.animations);\n\t\t\tconst shapes = this.parseShapes(json.shapes);\n\t\t\tconst geometries = this.parseGeometries(json.geometries, shapes);\n\t\t\tconst images = await this.parseImagesAsync(json.images);\n\t\t\tconst textures = this.parseTextures(json.textures, images);\n\t\t\tconst materials = this.parseMaterials(json.materials, textures);\n\t\t\tconst object = this.parseObject(json.object, geometries, materials, textures, animations);\n\t\t\tconst skeletons = this.parseSkeletons(json.skeletons, object);\n\t\t\tthis.bindSkeletons(object, skeletons);\n\t\t\treturn object;\n\t\t}\n\n\t\tparseShapes(json) {\n\t\t\tconst shapes = {};\n\n\t\t\tif (json !== undefined) {\n\t\t\t\tfor (let i = 0, l = json.length; i < l; i++) {\n\t\t\t\t\tconst shape = new Shape().fromJSON(json[i]);\n\t\t\t\t\tshapes[shape.uuid] = shape;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn shapes;\n\t\t}\n\n\t\tparseSkeletons(json, object) {\n\t\t\tconst skeletons = {};\n\t\t\tconst bones = {}; // generate bone lookup table\n\n\t\t\tobject.traverse(function (child) {\n\t\t\t\tif (child.isBone) bones[child.uuid] = child;\n\t\t\t}); // create skeletons\n\n\t\t\tif (json !== undefined) {\n\t\t\t\tfor (let i = 0, l = json.length; i < l; i++) {\n\t\t\t\t\tconst skeleton = new Skeleton().fromJSON(json[i], bones);\n\t\t\t\t\tskeletons[skeleton.uuid] = skeleton;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn skeletons;\n\t\t}\n\n\t\tparseGeometries(json, shapes) {\n\t\t\tconst geometries = {};\n\n\t\t\tif (json !== undefined) {\n\t\t\t\tconst bufferGeometryLoader = new BufferGeometryLoader();\n\n\t\t\t\tfor (let i = 0, l = json.length; i < l; i++) {\n\t\t\t\t\tlet geometry;\n\t\t\t\t\tconst data = json[i];\n\n\t\t\t\t\tswitch (data.type) {\n\t\t\t\t\t\tcase 'BufferGeometry':\n\t\t\t\t\t\tcase 'InstancedBufferGeometry':\n\t\t\t\t\t\t\tgeometry = bufferGeometryLoader.parse(data);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'Geometry':\n\t\t\t\t\t\t\tconsole.error('THREE.ObjectLoader: The legacy Geometry type is no longer supported.');\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tif (data.type in Geometries) {\n\t\t\t\t\t\t\t\tgeometry = Geometries[data.type].fromJSON(data, shapes);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconsole.warn(`THREE.ObjectLoader: Unsupported geometry type \"${data.type}\"`);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tgeometry.uuid = data.uuid;\n\t\t\t\t\tif (data.name !== undefined) geometry.name = data.name;\n\t\t\t\t\tif (geometry.isBufferGeometry === true && data.userData !== undefined) geometry.userData = data.userData;\n\t\t\t\t\tgeometries[data.uuid] = geometry;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn geometries;\n\t\t}\n\n\t\tparseMaterials(json, textures) {\n\t\t\tconst cache = {}; // MultiMaterial\n\n\t\t\tconst materials = {};\n\n\t\t\tif (json !== undefined) {\n\t\t\t\tconst loader = new MaterialLoader();\n\t\t\t\tloader.setTextures(textures);\n\n\t\t\t\tfor (let i = 0, l = json.length; i < l; i++) {\n\t\t\t\t\tconst data = json[i];\n\n\t\t\t\t\tif (data.type === 'MultiMaterial') {\n\t\t\t\t\t\t// Deprecated\n\t\t\t\t\t\tconst array = [];\n\n\t\t\t\t\t\tfor (let j = 0; j < data.materials.length; j++) {\n\t\t\t\t\t\t\tconst material = data.materials[j];\n\n\t\t\t\t\t\t\tif (cache[material.uuid] === undefined) {\n\t\t\t\t\t\t\t\tcache[material.uuid] = loader.parse(material);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tarray.push(cache[material.uuid]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaterials[data.uuid] = array;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (cache[data.uuid] === undefined) {\n\t\t\t\t\t\t\tcache[data.uuid] = loader.parse(data);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaterials[data.uuid] = cache[data.uuid];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn materials;\n\t\t}\n\n\t\tparseAnimations(json) {\n\t\t\tconst animations = {};\n\n\t\t\tif (json !== undefined) {\n\t\t\t\tfor (let i = 0; i < json.length; i++) {\n\t\t\t\t\tconst data = json[i];\n\t\t\t\t\tconst clip = AnimationClip.parse(data);\n\t\t\t\t\tanimations[clip.uuid] = clip;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn animations;\n\t\t}\n\n\t\tparseImages(json, onLoad) {\n\t\t\tconst scope = this;\n\t\t\tconst images = {};\n\t\t\tlet loader;\n\n\t\t\tfunction loadImage(url) {\n\t\t\t\tscope.manager.itemStart(url);\n\t\t\t\treturn loader.load(url, function () {\n\t\t\t\t\tscope.manager.itemEnd(url);\n\t\t\t\t}, undefined, function () {\n\t\t\t\t\tscope.manager.itemError(url);\n\t\t\t\t\tscope.manager.itemEnd(url);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction deserializeImage(image) {\n\t\t\t\tif (typeof image === 'string') {\n\t\t\t\t\tconst url = image;\n\t\t\t\t\tconst path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(url) ? url : scope.resourcePath + url;\n\t\t\t\t\treturn loadImage(path);\n\t\t\t\t} else {\n\t\t\t\t\tif (image.data) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tdata: getTypedArray(image.type, image.data),\n\t\t\t\t\t\t\twidth: image.width,\n\t\t\t\t\t\t\theight: image.height\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (json !== undefined && json.length > 0) {\n\t\t\t\tconst manager = new LoadingManager(onLoad);\n\t\t\t\tloader = new ImageLoader(manager);\n\t\t\t\tloader.setCrossOrigin(this.crossOrigin);\n\n\t\t\t\tfor (let i = 0, il = json.length; i < il; i++) {\n\t\t\t\t\tconst image = json[i];\n\t\t\t\t\tconst url = image.url;\n\n\t\t\t\t\tif (Array.isArray(url)) {\n\t\t\t\t\t\t// load array of images e.g CubeTexture\n\t\t\t\t\t\tconst imageArray = [];\n\n\t\t\t\t\t\tfor (let j = 0, jl = url.length; j < jl; j++) {\n\t\t\t\t\t\t\tconst currentUrl = url[j];\n\t\t\t\t\t\t\tconst deserializedImage = deserializeImage(currentUrl);\n\n\t\t\t\t\t\t\tif (deserializedImage !== null) {\n\t\t\t\t\t\t\t\tif (deserializedImage instanceof HTMLImageElement) {\n\t\t\t\t\t\t\t\t\timageArray.push(deserializedImage);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t// special case: handle array of data textures for cube textures\n\t\t\t\t\t\t\t\t\timageArray.push(new DataTexture(deserializedImage.data, deserializedImage.width, deserializedImage.height));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\timages[image.uuid] = new Source(imageArray);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// load single image\n\t\t\t\t\t\tconst deserializedImage = deserializeImage(image.url);\n\t\t\t\t\t\timages[image.uuid] = new Source(deserializedImage);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn images;\n\t\t}\n\n\t\tasync parseImagesAsync(json) {\n\t\t\tconst scope = this;\n\t\t\tconst images = {};\n\t\t\tlet loader;\n\n\t\t\tasync function deserializeImage(image) {\n\t\t\t\tif (typeof image === 'string') {\n\t\t\t\t\tconst url = image;\n\t\t\t\t\tconst path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(url) ? url : scope.resourcePath + url;\n\t\t\t\t\treturn await loader.loadAsync(path);\n\t\t\t\t} else {\n\t\t\t\t\tif (image.data) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tdata: getTypedArray(image.type, image.data),\n\t\t\t\t\t\t\twidth: image.width,\n\t\t\t\t\t\t\theight: image.height\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (json !== undefined && json.length > 0) {\n\t\t\t\tloader = new ImageLoader(this.manager);\n\t\t\t\tloader.setCrossOrigin(this.crossOrigin);\n\n\t\t\t\tfor (let i = 0, il = json.length; i < il; i++) {\n\t\t\t\t\tconst image = json[i];\n\t\t\t\t\tconst url = image.url;\n\n\t\t\t\t\tif (Array.isArray(url)) {\n\t\t\t\t\t\t// load array of images e.g CubeTexture\n\t\t\t\t\t\tconst imageArray = [];\n\n\t\t\t\t\t\tfor (let j = 0, jl = url.length; j < jl; j++) {\n\t\t\t\t\t\t\tconst currentUrl = url[j];\n\t\t\t\t\t\t\tconst deserializedImage = await deserializeImage(currentUrl);\n\n\t\t\t\t\t\t\tif (deserializedImage !== null) {\n\t\t\t\t\t\t\t\tif (deserializedImage instanceof HTMLImageElement) {\n\t\t\t\t\t\t\t\t\timageArray.push(deserializedImage);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t// special case: handle array of data textures for cube textures\n\t\t\t\t\t\t\t\t\timageArray.push(new DataTexture(deserializedImage.data, deserializedImage.width, deserializedImage.height));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\timages[image.uuid] = new Source(imageArray);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// load single image\n\t\t\t\t\t\tconst deserializedImage = await deserializeImage(image.url);\n\t\t\t\t\t\timages[image.uuid] = new Source(deserializedImage);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn images;\n\t\t}\n\n\t\tparseTextures(json, images) {\n\t\t\tfunction parseConstant(value, type) {\n\t\t\t\tif (typeof value === 'number') return value;\n\t\t\t\tconsole.warn('THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value);\n\t\t\t\treturn type[value];\n\t\t\t}\n\n\t\t\tconst textures = {};\n\n\t\t\tif (json !== undefined) {\n\t\t\t\tfor (let i = 0, l = json.length; i < l; i++) {\n\t\t\t\t\tconst data = json[i];\n\n\t\t\t\t\tif (data.image === undefined) {\n\t\t\t\t\t\tconsole.warn('THREE.ObjectLoader: No \"image\" specified for', data.uuid);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (images[data.image] === undefined) {\n\t\t\t\t\t\tconsole.warn('THREE.ObjectLoader: Undefined image', data.image);\n\t\t\t\t\t}\n\n\t\t\t\t\tconst source = images[data.image];\n\t\t\t\t\tconst image = source.data;\n\t\t\t\t\tlet texture;\n\n\t\t\t\t\tif (Array.isArray(image)) {\n\t\t\t\t\t\ttexture = new CubeTexture();\n\t\t\t\t\t\tif (image.length === 6) texture.needsUpdate = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (image && image.data) {\n\t\t\t\t\t\t\ttexture = new DataTexture();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttexture = new Texture();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (image) texture.needsUpdate = true; // textures can have undefined image data\n\t\t\t\t\t}\n\n\t\t\t\t\ttexture.source = source;\n\t\t\t\t\ttexture.uuid = data.uuid;\n\t\t\t\t\tif (data.name !== undefined) texture.name = data.name;\n\t\t\t\t\tif (data.mapping !== undefined) texture.mapping = parseConstant(data.mapping, TEXTURE_MAPPING);\n\t\t\t\t\tif (data.offset !== undefined) texture.offset.fromArray(data.offset);\n\t\t\t\t\tif (data.repeat !== undefined) texture.repeat.fromArray(data.repeat);\n\t\t\t\t\tif (data.center !== undefined) texture.center.fromArray(data.center);\n\t\t\t\t\tif (data.rotation !== undefined) texture.rotation = data.rotation;\n\n\t\t\t\t\tif (data.wrap !== undefined) {\n\t\t\t\t\t\ttexture.wrapS = parseConstant(data.wrap[0], TEXTURE_WRAPPING);\n\t\t\t\t\t\ttexture.wrapT = parseConstant(data.wrap[1], TEXTURE_WRAPPING);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (data.format !== undefined) texture.format = data.format;\n\t\t\t\t\tif (data.type !== undefined) texture.type = data.type;\n\t\t\t\t\tif (data.encoding !== undefined) texture.encoding = data.encoding;\n\t\t\t\t\tif (data.minFilter !== undefined) texture.minFilter = parseConstant(data.minFilter, TEXTURE_FILTER);\n\t\t\t\t\tif (data.magFilter !== undefined) texture.magFilter = parseConstant(data.magFilter, TEXTURE_FILTER);\n\t\t\t\t\tif (data.anisotropy !== undefined) texture.anisotropy = data.anisotropy;\n\t\t\t\t\tif (data.flipY !== undefined) texture.flipY = data.flipY;\n\t\t\t\t\tif (data.premultiplyAlpha !== undefined) texture.premultiplyAlpha = data.premultiplyAlpha;\n\t\t\t\t\tif (data.unpackAlignment !== undefined) texture.unpackAlignment = data.unpackAlignment;\n\t\t\t\t\tif (data.userData !== undefined) texture.userData = data.userData;\n\t\t\t\t\ttextures[data.uuid] = texture;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn textures;\n\t\t}\n\n\t\tparseObject(data, geometries, materials, textures, animations) {\n\t\t\tlet object;\n\n\t\t\tfunction getGeometry(name) {\n\t\t\t\tif (geometries[name] === undefined) {\n\t\t\t\t\tconsole.warn('THREE.ObjectLoader: Undefined geometry', name);\n\t\t\t\t}\n\n\t\t\t\treturn geometries[name];\n\t\t\t}\n\n\t\t\tfunction getMaterial(name) {\n\t\t\t\tif (name === undefined) return undefined;\n\n\t\t\t\tif (Array.isArray(name)) {\n\t\t\t\t\tconst array = [];\n\n\t\t\t\t\tfor (let i = 0, l = name.length; i < l; i++) {\n\t\t\t\t\t\tconst uuid = name[i];\n\n\t\t\t\t\t\tif (materials[uuid] === undefined) {\n\t\t\t\t\t\t\tconsole.warn('THREE.ObjectLoader: Undefined material', uuid);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tarray.push(materials[uuid]);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn array;\n\t\t\t\t}\n\n\t\t\t\tif (materials[name] === undefined) {\n\t\t\t\t\tconsole.warn('THREE.ObjectLoader: Undefined material', name);\n\t\t\t\t}\n\n\t\t\t\treturn materials[name];\n\t\t\t}\n\n\t\t\tfunction getTexture(uuid) {\n\t\t\t\tif (textures[uuid] === undefined) {\n\t\t\t\t\tconsole.warn('THREE.ObjectLoader: Undefined texture', uuid);\n\t\t\t\t}\n\n\t\t\t\treturn textures[uuid];\n\t\t\t}\n\n\t\t\tlet geometry, material;\n\n\t\t\tswitch (data.type) {\n\t\t\t\tcase 'Scene':\n\t\t\t\t\tobject = new Scene();\n\n\t\t\t\t\tif (data.background !== undefined) {\n\t\t\t\t\t\tif (Number.isInteger(data.background)) {\n\t\t\t\t\t\t\tobject.background = new Color(data.background);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobject.background = getTexture(data.background);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (data.environment !== undefined) {\n\t\t\t\t\t\tobject.environment = getTexture(data.environment);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (data.fog !== undefined) {\n\t\t\t\t\t\tif (data.fog.type === 'Fog') {\n\t\t\t\t\t\t\tobject.fog = new Fog(data.fog.color, data.fog.near, data.fog.far);\n\t\t\t\t\t\t} else if (data.fog.type === 'FogExp2') {\n\t\t\t\t\t\t\tobject.fog = new FogExp2(data.fog.color, data.fog.density);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PerspectiveCamera':\n\t\t\t\t\tobject = new PerspectiveCamera(data.fov, data.aspect, data.near, data.far);\n\t\t\t\t\tif (data.focus !== undefined) object.focus = data.focus;\n\t\t\t\t\tif (data.zoom !== undefined) object.zoom = data.zoom;\n\t\t\t\t\tif (data.filmGauge !== undefined) object.filmGauge = data.filmGauge;\n\t\t\t\t\tif (data.filmOffset !== undefined) object.filmOffset = data.filmOffset;\n\t\t\t\t\tif (data.view !== undefined) object.view = Object.assign({}, data.view);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'OrthographicCamera':\n\t\t\t\t\tobject = new OrthographicCamera(data.left, data.right, data.top, data.bottom, data.near, data.far);\n\t\t\t\t\tif (data.zoom !== undefined) object.zoom = data.zoom;\n\t\t\t\t\tif (data.view !== undefined) object.view = Object.assign({}, data.view);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'AmbientLight':\n\t\t\t\t\tobject = new AmbientLight(data.color, data.intensity);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tobject = new DirectionalLight(data.color, data.intensity);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tobject = new PointLight(data.color, data.intensity, data.distance, data.decay);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RectAreaLight':\n\t\t\t\t\tobject = new RectAreaLight(data.color, data.intensity, data.width, data.height);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tobject = new SpotLight(data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'HemisphereLight':\n\t\t\t\t\tobject = new HemisphereLight(data.color, data.groundColor, data.intensity);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'LightProbe':\n\t\t\t\t\tobject = new LightProbe().fromJSON(data);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SkinnedMesh':\n\t\t\t\t\tgeometry = getGeometry(data.geometry);\n\t\t\t\t\tmaterial = getMaterial(data.material);\n\t\t\t\t\tobject = new SkinnedMesh(geometry, material);\n\t\t\t\t\tif (data.bindMode !== undefined) object.bindMode = data.bindMode;\n\t\t\t\t\tif (data.bindMatrix !== undefined) object.bindMatrix.fromArray(data.bindMatrix);\n\t\t\t\t\tif (data.skeleton !== undefined) object.skeleton = data.skeleton;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Mesh':\n\t\t\t\t\tgeometry = getGeometry(data.geometry);\n\t\t\t\t\tmaterial = getMaterial(data.material);\n\t\t\t\t\tobject = new Mesh(geometry, material);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'InstancedMesh':\n\t\t\t\t\tgeometry = getGeometry(data.geometry);\n\t\t\t\t\tmaterial = getMaterial(data.material);\n\t\t\t\t\tconst count = data.count;\n\t\t\t\t\tconst instanceMatrix = data.instanceMatrix;\n\t\t\t\t\tconst instanceColor = data.instanceColor;\n\t\t\t\t\tobject = new InstancedMesh(geometry, material, count);\n\t\t\t\t\tobject.instanceMatrix = new InstancedBufferAttribute(new Float32Array(instanceMatrix.array), 16);\n\t\t\t\t\tif (instanceColor !== undefined) object.instanceColor = new InstancedBufferAttribute(new Float32Array(instanceColor.array), instanceColor.itemSize);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'LOD':\n\t\t\t\t\tobject = new LOD();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Line':\n\t\t\t\t\tobject = new Line(getGeometry(data.geometry), getMaterial(data.material));\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'LineLoop':\n\t\t\t\t\tobject = new LineLoop(getGeometry(data.geometry), getMaterial(data.material));\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'LineSegments':\n\t\t\t\t\tobject = new LineSegments(getGeometry(data.geometry), getMaterial(data.material));\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointCloud':\n\t\t\t\tcase 'Points':\n\t\t\t\t\tobject = new Points(getGeometry(data.geometry), getMaterial(data.material));\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Sprite':\n\t\t\t\t\tobject = new Sprite(getMaterial(data.material));\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Group':\n\t\t\t\t\tobject = new Group();\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Bone':\n\t\t\t\t\tobject = new Bone();\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tobject = new Object3D();\n\t\t\t}\n\n\t\t\tobject.uuid = data.uuid;\n\t\t\tif (data.name !== undefined) object.name = data.name;\n\n\t\t\tif (data.matrix !== undefined) {\n\t\t\t\tobject.matrix.fromArray(data.matrix);\n\t\t\t\tif (data.matrixAutoUpdate !== undefined) object.matrixAutoUpdate = data.matrixAutoUpdate;\n\t\t\t\tif (object.matrixAutoUpdate) object.matrix.decompose(object.position, object.quaternion, object.scale);\n\t\t\t} else {\n\t\t\t\tif (data.position !== undefined) object.position.fromArray(data.position);\n\t\t\t\tif (data.rotation !== undefined) object.rotation.fromArray(data.rotation);\n\t\t\t\tif (data.quaternion !== undefined) object.quaternion.fromArray(data.quaternion);\n\t\t\t\tif (data.scale !== undefined) object.scale.fromArray(data.scale);\n\t\t\t}\n\n\t\t\tif (data.castShadow !== undefined) object.castShadow = data.castShadow;\n\t\t\tif (data.receiveShadow !== undefined) object.receiveShadow = data.receiveShadow;\n\n\t\t\tif (data.shadow) {\n\t\t\t\tif (data.shadow.bias !== undefined) object.shadow.bias = data.shadow.bias;\n\t\t\t\tif (data.shadow.normalBias !== undefined) object.shadow.normalBias = data.shadow.normalBias;\n\t\t\t\tif (data.shadow.radius !== undefined) object.shadow.radius = data.shadow.radius;\n\t\t\t\tif (data.shadow.mapSize !== undefined) object.shadow.mapSize.fromArray(data.shadow.mapSize);\n\t\t\t\tif (data.shadow.camera !== undefined) object.shadow.camera = this.parseObject(data.shadow.camera);\n\t\t\t}\n\n\t\t\tif (data.visible !== undefined) object.visible = data.visible;\n\t\t\tif (data.frustumCulled !== undefined) object.frustumCulled = data.frustumCulled;\n\t\t\tif (data.renderOrder !== undefined) object.renderOrder = data.renderOrder;\n\t\t\tif (data.userData !== undefined) object.userData = data.userData;\n\t\t\tif (data.layers !== undefined) object.layers.mask = data.layers;\n\n\t\t\tif (data.children !== undefined) {\n\t\t\t\tconst children = data.children;\n\n\t\t\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\t\t\tobject.add(this.parseObject(children[i], geometries, materials, textures, animations));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (data.animations !== undefined) {\n\t\t\t\tconst objectAnimations = data.animations;\n\n\t\t\t\tfor (let i = 0; i < objectAnimations.length; i++) {\n\t\t\t\t\tconst uuid = objectAnimations[i];\n\t\t\t\t\tobject.animations.push(animations[uuid]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (data.type === 'LOD') {\n\t\t\t\tif (data.autoUpdate !== undefined) object.autoUpdate = data.autoUpdate;\n\t\t\t\tconst levels = data.levels;\n\n\t\t\t\tfor (let l = 0; l < levels.length; l++) {\n\t\t\t\t\tconst level = levels[l];\n\t\t\t\t\tconst child = object.getObjectByProperty('uuid', level.object);\n\n\t\t\t\t\tif (child !== undefined) {\n\t\t\t\t\t\tobject.addLevel(child, level.distance);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn object;\n\t\t}\n\n\t\tbindSkeletons(object, skeletons) {\n\t\t\tif (Object.keys(skeletons).length === 0) return;\n\t\t\tobject.traverse(function (child) {\n\t\t\t\tif (child.isSkinnedMesh === true && child.skeleton !== undefined) {\n\t\t\t\t\tconst skeleton = skeletons[child.skeleton];\n\n\t\t\t\t\tif (skeleton === undefined) {\n\t\t\t\t\t\tconsole.warn('THREE.ObjectLoader: No skeleton found with UUID:', child.skeleton);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tchild.bind(skeleton, child.bindMatrix);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t/* DEPRECATED */\n\n\n\t\tsetTexturePath(value) {\n\t\t\tconsole.warn('THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().');\n\t\t\treturn this.setResourcePath(value);\n\t\t}\n\n\t}\n\n\tconst TEXTURE_MAPPING = {\n\t\tUVMapping: UVMapping,\n\t\tCubeReflectionMapping: CubeReflectionMapping,\n\t\tCubeRefractionMapping: CubeRefractionMapping,\n\t\tEquirectangularReflectionMapping: EquirectangularReflectionMapping,\n\t\tEquirectangularRefractionMapping: EquirectangularRefractionMapping,\n\t\tCubeUVReflectionMapping: CubeUVReflectionMapping\n\t};\n\tconst TEXTURE_WRAPPING = {\n\t\tRepeatWrapping: RepeatWrapping,\n\t\tClampToEdgeWrapping: ClampToEdgeWrapping,\n\t\tMirroredRepeatWrapping: MirroredRepeatWrapping\n\t};\n\tconst TEXTURE_FILTER = {\n\t\tNearestFilter: NearestFilter,\n\t\tNearestMipmapNearestFilter: NearestMipmapNearestFilter,\n\t\tNearestMipmapLinearFilter: NearestMipmapLinearFilter,\n\t\tLinearFilter: LinearFilter,\n\t\tLinearMipmapNearestFilter: LinearMipmapNearestFilter,\n\t\tLinearMipmapLinearFilter: LinearMipmapLinearFilter\n\t};\n\n\tclass ImageBitmapLoader extends Loader {\n\t\tconstructor(manager) {\n\t\t\tsuper(manager);\n\t\t\tthis.isImageBitmapLoader = true;\n\n\t\t\tif (typeof createImageBitmap === 'undefined') {\n\t\t\t\tconsole.warn('THREE.ImageBitmapLoader: createImageBitmap() not supported.');\n\t\t\t}\n\n\t\t\tif (typeof fetch === 'undefined') {\n\t\t\t\tconsole.warn('THREE.ImageBitmapLoader: fetch() not supported.');\n\t\t\t}\n\n\t\t\tthis.options = {\n\t\t\t\tpremultiplyAlpha: 'none'\n\t\t\t};\n\t\t}\n\n\t\tsetOptions(options) {\n\t\t\tthis.options = options;\n\t\t\treturn this;\n\t\t}\n\n\t\tload(url, onLoad, onProgress, onError) {\n\t\t\tif (url === undefined) url = '';\n\t\t\tif (this.path !== undefined) url = this.path + url;\n\t\t\turl = this.manager.resolveURL(url);\n\t\t\tconst scope = this;\n\t\t\tconst cached = Cache.get(url);\n\n\t\t\tif (cached !== undefined) {\n\t\t\t\tscope.manager.itemStart(url);\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tif (onLoad) onLoad(cached);\n\t\t\t\t\tscope.manager.itemEnd(url);\n\t\t\t\t}, 0);\n\t\t\t\treturn cached;\n\t\t\t}\n\n\t\t\tconst fetchOptions = {};\n\t\t\tfetchOptions.credentials = this.crossOrigin === 'anonymous' ? 'same-origin' : 'include';\n\t\t\tfetchOptions.headers = this.requestHeader;\n\t\t\tfetch(url, fetchOptions).then(function (res) {\n\t\t\t\treturn res.blob();\n\t\t\t}).then(function (blob) {\n\t\t\t\treturn createImageBitmap(blob, Object.assign(scope.options, {\n\t\t\t\t\tcolorSpaceConversion: 'none'\n\t\t\t\t}));\n\t\t\t}).then(function (imageBitmap) {\n\t\t\t\tCache.add(url, imageBitmap);\n\t\t\t\tif (onLoad) onLoad(imageBitmap);\n\t\t\t\tscope.manager.itemEnd(url);\n\t\t\t}).catch(function (e) {\n\t\t\t\tif (onError) onError(e);\n\t\t\t\tscope.manager.itemError(url);\n\t\t\t\tscope.manager.itemEnd(url);\n\t\t\t});\n\t\t\tscope.manager.itemStart(url);\n\t\t}\n\n\t}\n\n\tlet _context;\n\n\tconst AudioContext = {\n\t\tgetContext: function () {\n\t\t\tif (_context === undefined) {\n\t\t\t\t_context = new (window.AudioContext || window.webkitAudioContext)();\n\t\t\t}\n\n\t\t\treturn _context;\n\t\t},\n\t\tsetContext: function (value) {\n\t\t\t_context = value;\n\t\t}\n\t};\n\n\tclass AudioLoader extends Loader {\n\t\tconstructor(manager) {\n\t\t\tsuper(manager);\n\t\t}\n\n\t\tload(url, onLoad, onProgress, onError) {\n\t\t\tconst scope = this;\n\t\t\tconst loader = new FileLoader(this.manager);\n\t\t\tloader.setResponseType('arraybuffer');\n\t\t\tloader.setPath(this.path);\n\t\t\tloader.setRequestHeader(this.requestHeader);\n\t\t\tloader.setWithCredentials(this.withCredentials);\n\t\t\tloader.load(url, function (buffer) {\n\t\t\t\ttry {\n\t\t\t\t\t// Create a copy of the buffer. The `decodeAudioData` method\n\t\t\t\t\t// detaches the buffer when complete, preventing reuse.\n\t\t\t\t\tconst bufferCopy = buffer.slice(0);\n\t\t\t\t\tconst context = AudioContext.getContext();\n\t\t\t\t\tcontext.decodeAudioData(bufferCopy, function (audioBuffer) {\n\t\t\t\t\t\tonLoad(audioBuffer);\n\t\t\t\t\t});\n\t\t\t\t} catch (e) {\n\t\t\t\t\tif (onError) {\n\t\t\t\t\t\tonError(e);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemError(url);\n\t\t\t\t}\n\t\t\t}, onProgress, onError);\n\t\t}\n\n\t}\n\n\tclass HemisphereLightProbe extends LightProbe {\n\t\tconstructor(skyColor, groundColor, intensity = 1) {\n\t\t\tsuper(undefined, intensity);\n\t\t\tthis.isHemisphereLightProbe = true;\n\t\t\tconst color1 = new Color().set(skyColor);\n\t\t\tconst color2 = new Color().set(groundColor);\n\t\t\tconst sky = new Vector3(color1.r, color1.g, color1.b);\n\t\t\tconst ground = new Vector3(color2.r, color2.g, color2.b); // without extra factor of PI in the shader, should = 1 / Math.sqrt( Math.PI );\n\n\t\t\tconst c0 = Math.sqrt(Math.PI);\n\t\t\tconst c1 = c0 * Math.sqrt(0.75);\n\t\t\tthis.sh.coefficients[0].copy(sky).add(ground).multiplyScalar(c0);\n\t\t\tthis.sh.coefficients[1].copy(sky).sub(ground).multiplyScalar(c1);\n\t\t}\n\n\t}\n\n\tclass AmbientLightProbe extends LightProbe {\n\t\tconstructor(color, intensity = 1) {\n\t\t\tsuper(undefined, intensity);\n\t\t\tthis.isAmbientLightProbe = true;\n\t\t\tconst color1 = new Color().set(color); // without extra factor of PI in the shader, would be 2 / Math.sqrt( Math.PI );\n\n\t\t\tthis.sh.coefficients[0].set(color1.r, color1.g, color1.b).multiplyScalar(2 * Math.sqrt(Math.PI));\n\t\t}\n\n\t}\n\n\tconst _eyeRight = /*@__PURE__*/new Matrix4();\n\n\tconst _eyeLeft = /*@__PURE__*/new Matrix4();\n\n\tconst _projectionMatrix = /*@__PURE__*/new Matrix4();\n\n\tclass StereoCamera {\n\t\tconstructor() {\n\t\t\tthis.type = 'StereoCamera';\n\t\t\tthis.aspect = 1;\n\t\t\tthis.eyeSep = 0.064;\n\t\t\tthis.cameraL = new PerspectiveCamera();\n\t\t\tthis.cameraL.layers.enable(1);\n\t\t\tthis.cameraL.matrixAutoUpdate = false;\n\t\t\tthis.cameraR = new PerspectiveCamera();\n\t\t\tthis.cameraR.layers.enable(2);\n\t\t\tthis.cameraR.matrixAutoUpdate = false;\n\t\t\tthis._cache = {\n\t\t\t\tfocus: null,\n\t\t\t\tfov: null,\n\t\t\t\taspect: null,\n\t\t\t\tnear: null,\n\t\t\t\tfar: null,\n\t\t\t\tzoom: null,\n\t\t\t\teyeSep: null\n\t\t\t};\n\t\t}\n\n\t\tupdate(camera) {\n\t\t\tconst cache = this._cache;\n\t\t\tconst needsUpdate = cache.focus !== camera.focus || cache.fov !== camera.fov || cache.aspect !== camera.aspect * this.aspect || cache.near !== camera.near || cache.far !== camera.far || cache.zoom !== camera.zoom || cache.eyeSep !== this.eyeSep;\n\n\t\t\tif (needsUpdate) {\n\t\t\t\tcache.focus = camera.focus;\n\t\t\t\tcache.fov = camera.fov;\n\t\t\t\tcache.aspect = camera.aspect * this.aspect;\n\t\t\t\tcache.near = camera.near;\n\t\t\t\tcache.far = camera.far;\n\t\t\t\tcache.zoom = camera.zoom;\n\t\t\t\tcache.eyeSep = this.eyeSep; // Off-axis stereoscopic effect based on\n\t\t\t\t// http://paulbourke.net/stereographics/stereorender/\n\n\t\t\t\t_projectionMatrix.copy(camera.projectionMatrix);\n\n\t\t\t\tconst eyeSepHalf = cache.eyeSep / 2;\n\t\t\t\tconst eyeSepOnProjection = eyeSepHalf * cache.near / cache.focus;\n\t\t\t\tconst ymax = cache.near * Math.tan(DEG2RAD * cache.fov * 0.5) / cache.zoom;\n\t\t\t\tlet xmin, xmax; // translate xOffset\n\n\t\t\t\t_eyeLeft.elements[12] = -eyeSepHalf;\n\t\t\t\t_eyeRight.elements[12] = eyeSepHalf; // for left eye\n\n\t\t\t\txmin = -ymax * cache.aspect + eyeSepOnProjection;\n\t\t\t\txmax = ymax * cache.aspect + eyeSepOnProjection;\n\t\t\t\t_projectionMatrix.elements[0] = 2 * cache.near / (xmax - xmin);\n\t\t\t\t_projectionMatrix.elements[8] = (xmax + xmin) / (xmax - xmin);\n\t\t\t\tthis.cameraL.projectionMatrix.copy(_projectionMatrix); // for right eye\n\n\t\t\t\txmin = -ymax * cache.aspect - eyeSepOnProjection;\n\t\t\t\txmax = ymax * cache.aspect - eyeSepOnProjection;\n\t\t\t\t_projectionMatrix.elements[0] = 2 * cache.near / (xmax - xmin);\n\t\t\t\t_projectionMatrix.elements[8] = (xmax + xmin) / (xmax - xmin);\n\t\t\t\tthis.cameraR.projectionMatrix.copy(_projectionMatrix);\n\t\t\t}\n\n\t\t\tthis.cameraL.matrixWorld.copy(camera.matrixWorld).multiply(_eyeLeft);\n\t\t\tthis.cameraR.matrixWorld.copy(camera.matrixWorld).multiply(_eyeRight);\n\t\t}\n\n\t}\n\n\tclass Clock {\n\t\tconstructor(autoStart = true) {\n\t\t\tthis.autoStart = autoStart;\n\t\t\tthis.startTime = 0;\n\t\t\tthis.oldTime = 0;\n\t\t\tthis.elapsedTime = 0;\n\t\t\tthis.running = false;\n\t\t}\n\n\t\tstart() {\n\t\t\tthis.startTime = now();\n\t\t\tthis.oldTime = this.startTime;\n\t\t\tthis.elapsedTime = 0;\n\t\t\tthis.running = true;\n\t\t}\n\n\t\tstop() {\n\t\t\tthis.getElapsedTime();\n\t\t\tthis.running = false;\n\t\t\tthis.autoStart = false;\n\t\t}\n\n\t\tgetElapsedTime() {\n\t\t\tthis.getDelta();\n\t\t\treturn this.elapsedTime;\n\t\t}\n\n\t\tgetDelta() {\n\t\t\tlet diff = 0;\n\n\t\t\tif (this.autoStart && !this.running) {\n\t\t\t\tthis.start();\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif (this.running) {\n\t\t\t\tconst newTime = now();\n\t\t\t\tdiff = (newTime - this.oldTime) / 1000;\n\t\t\t\tthis.oldTime = newTime;\n\t\t\t\tthis.elapsedTime += diff;\n\t\t\t}\n\n\t\t\treturn diff;\n\t\t}\n\n\t}\n\n\tfunction now() {\n\t\treturn (typeof performance === 'undefined' ? Date : performance).now(); // see #10732\n\t}\n\n\tconst _position$1 = /*@__PURE__*/new Vector3();\n\n\tconst _quaternion$1 = /*@__PURE__*/new Quaternion();\n\n\tconst _scale$1 = /*@__PURE__*/new Vector3();\n\n\tconst _orientation$1 = /*@__PURE__*/new Vector3();\n\n\tclass AudioListener extends Object3D {\n\t\tconstructor() {\n\t\t\tsuper();\n\t\t\tthis.type = 'AudioListener';\n\t\t\tthis.context = AudioContext.getContext();\n\t\t\tthis.gain = this.context.createGain();\n\t\t\tthis.gain.connect(this.context.destination);\n\t\t\tthis.filter = null;\n\t\t\tthis.timeDelta = 0; // private\n\n\t\t\tthis._clock = new Clock();\n\t\t}\n\n\t\tgetInput() {\n\t\t\treturn this.gain;\n\t\t}\n\n\t\tremoveFilter() {\n\t\t\tif (this.filter !== null) {\n\t\t\t\tthis.gain.disconnect(this.filter);\n\t\t\t\tthis.filter.disconnect(this.context.destination);\n\t\t\t\tthis.gain.connect(this.context.destination);\n\t\t\t\tthis.filter = null;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tgetFilter() {\n\t\t\treturn this.filter;\n\t\t}\n\n\t\tsetFilter(value) {\n\t\t\tif (this.filter !== null) {\n\t\t\t\tthis.gain.disconnect(this.filter);\n\t\t\t\tthis.filter.disconnect(this.context.destination);\n\t\t\t} else {\n\t\t\t\tthis.gain.disconnect(this.context.destination);\n\t\t\t}\n\n\t\t\tthis.filter = value;\n\t\t\tthis.gain.connect(this.filter);\n\t\t\tthis.filter.connect(this.context.destination);\n\t\t\treturn this;\n\t\t}\n\n\t\tgetMasterVolume() {\n\t\t\treturn this.gain.gain.value;\n\t\t}\n\n\t\tsetMasterVolume(value) {\n\t\t\tthis.gain.gain.setTargetAtTime(value, this.context.currentTime, 0.01);\n\t\t\treturn this;\n\t\t}\n\n\t\tupdateMatrixWorld(force) {\n\t\t\tsuper.updateMatrixWorld(force);\n\t\t\tconst listener = this.context.listener;\n\t\t\tconst up = this.up;\n\t\t\tthis.timeDelta = this._clock.getDelta();\n\t\t\tthis.matrixWorld.decompose(_position$1, _quaternion$1, _scale$1);\n\n\t\t\t_orientation$1.set(0, 0, -1).applyQuaternion(_quaternion$1);\n\n\t\t\tif (listener.positionX) {\n\t\t\t\t// code path for Chrome (see #14393)\n\t\t\t\tconst endTime = this.context.currentTime + this.timeDelta;\n\t\t\t\tlistener.positionX.linearRampToValueAtTime(_position$1.x, endTime);\n\t\t\t\tlistener.positionY.linearRampToValueAtTime(_position$1.y, endTime);\n\t\t\t\tlistener.positionZ.linearRampToValueAtTime(_position$1.z, endTime);\n\t\t\t\tlistener.forwardX.linearRampToValueAtTime(_orientation$1.x, endTime);\n\t\t\t\tlistener.forwardY.linearRampToValueAtTime(_orientation$1.y, endTime);\n\t\t\t\tlistener.forwardZ.linearRampToValueAtTime(_orientation$1.z, endTime);\n\t\t\t\tlistener.upX.linearRampToValueAtTime(up.x, endTime);\n\t\t\t\tlistener.upY.linearRampToValueAtTime(up.y, endTime);\n\t\t\t\tlistener.upZ.linearRampToValueAtTime(up.z, endTime);\n\t\t\t} else {\n\t\t\t\tlistener.setPosition(_position$1.x, _position$1.y, _position$1.z);\n\t\t\t\tlistener.setOrientation(_orientation$1.x, _orientation$1.y, _orientation$1.z, up.x, up.y, up.z);\n\t\t\t}\n\t\t}\n\n\t}\n\n\tclass Audio extends Object3D {\n\t\tconstructor(listener) {\n\t\t\tsuper();\n\t\t\tthis.type = 'Audio';\n\t\t\tthis.listener = listener;\n\t\t\tthis.context = listener.context;\n\t\t\tthis.gain = this.context.createGain();\n\t\t\tthis.gain.connect(listener.getInput());\n\t\t\tthis.autoplay = false;\n\t\t\tthis.buffer = null;\n\t\t\tthis.detune = 0;\n\t\t\tthis.loop = false;\n\t\t\tthis.loopStart = 0;\n\t\t\tthis.loopEnd = 0;\n\t\t\tthis.offset = 0;\n\t\t\tthis.duration = undefined;\n\t\t\tthis.playbackRate = 1;\n\t\t\tthis.isPlaying = false;\n\t\t\tthis.hasPlaybackControl = true;\n\t\t\tthis.source = null;\n\t\t\tthis.sourceType = 'empty';\n\t\t\tthis._startedAt = 0;\n\t\t\tthis._progress = 0;\n\t\t\tthis._connected = false;\n\t\t\tthis.filters = [];\n\t\t}\n\n\t\tgetOutput() {\n\t\t\treturn this.gain;\n\t\t}\n\n\t\tsetNodeSource(audioNode) {\n\t\t\tthis.hasPlaybackControl = false;\n\t\t\tthis.sourceType = 'audioNode';\n\t\t\tthis.source = audioNode;\n\t\t\tthis.connect();\n\t\t\treturn this;\n\t\t}\n\n\t\tsetMediaElementSource(mediaElement) {\n\t\t\tthis.hasPlaybackControl = false;\n\t\t\tthis.sourceType = 'mediaNode';\n\t\t\tthis.source = this.context.createMediaElementSource(mediaElement);\n\t\t\tthis.connect();\n\t\t\treturn this;\n\t\t}\n\n\t\tsetMediaStreamSource(mediaStream) {\n\t\t\tthis.hasPlaybackControl = false;\n\t\t\tthis.sourceType = 'mediaStreamNode';\n\t\t\tthis.source = this.context.createMediaStreamSource(mediaStream);\n\t\t\tthis.connect();\n\t\t\treturn this;\n\t\t}\n\n\t\tsetBuffer(audioBuffer) {\n\t\t\tthis.buffer = audioBuffer;\n\t\t\tthis.sourceType = 'buffer';\n\t\t\tif (this.autoplay) this.play();\n\t\t\treturn this;\n\t\t}\n\n\t\tplay(delay = 0) {\n\t\t\tif (this.isPlaying === true) {\n\t\t\t\tconsole.warn('THREE.Audio: Audio is already playing.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.hasPlaybackControl === false) {\n\t\t\t\tconsole.warn('THREE.Audio: this Audio has no playback control.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._startedAt = this.context.currentTime + delay;\n\t\t\tconst source = this.context.createBufferSource();\n\t\t\tsource.buffer = this.buffer;\n\t\t\tsource.loop = this.loop;\n\t\t\tsource.loopStart = this.loopStart;\n\t\t\tsource.loopEnd = this.loopEnd;\n\t\t\tsource.onended = this.onEnded.bind(this);\n\t\t\tsource.start(this._startedAt, this._progress + this.offset, this.duration);\n\t\t\tthis.isPlaying = true;\n\t\t\tthis.source = source;\n\t\t\tthis.setDetune(this.detune);\n\t\t\tthis.setPlaybackRate(this.playbackRate);\n\t\t\treturn this.connect();\n\t\t}\n\n\t\tpause() {\n\t\t\tif (this.hasPlaybackControl === false) {\n\t\t\t\tconsole.warn('THREE.Audio: this Audio has no playback control.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.isPlaying === true) {\n\t\t\t\t// update current progress\n\t\t\t\tthis._progress += Math.max(this.context.currentTime - this._startedAt, 0) * this.playbackRate;\n\n\t\t\t\tif (this.loop === true) {\n\t\t\t\t\t// ensure _progress does not exceed duration with looped audios\n\t\t\t\t\tthis._progress = this._progress % (this.duration || this.buffer.duration);\n\t\t\t\t}\n\n\t\t\t\tthis.source.stop();\n\t\t\t\tthis.source.onended = null;\n\t\t\t\tthis.isPlaying = false;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tstop() {\n\t\t\tif (this.hasPlaybackControl === false) {\n\t\t\t\tconsole.warn('THREE.Audio: this Audio has no playback control.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._progress = 0;\n\t\t\tthis.source.stop();\n\t\t\tthis.source.onended = null;\n\t\t\tthis.isPlaying = false;\n\t\t\treturn this;\n\t\t}\n\n\t\tconnect() {\n\t\t\tif (this.filters.length > 0) {\n\t\t\t\tthis.source.connect(this.filters[0]);\n\n\t\t\t\tfor (let i = 1, l = this.filters.length; i < l; i++) {\n\t\t\t\t\tthis.filters[i - 1].connect(this.filters[i]);\n\t\t\t\t}\n\n\t\t\t\tthis.filters[this.filters.length - 1].connect(this.getOutput());\n\t\t\t} else {\n\t\t\t\tthis.source.connect(this.getOutput());\n\t\t\t}\n\n\t\t\tthis._connected = true;\n\t\t\treturn this;\n\t\t}\n\n\t\tdisconnect() {\n\t\t\tif (this.filters.length > 0) {\n\t\t\t\tthis.source.disconnect(this.filters[0]);\n\n\t\t\t\tfor (let i = 1, l = this.filters.length; i < l; i++) {\n\t\t\t\t\tthis.filters[i - 1].disconnect(this.filters[i]);\n\t\t\t\t}\n\n\t\t\t\tthis.filters[this.filters.length - 1].disconnect(this.getOutput());\n\t\t\t} else {\n\t\t\t\tthis.source.disconnect(this.getOutput());\n\t\t\t}\n\n\t\t\tthis._connected = false;\n\t\t\treturn this;\n\t\t}\n\n\t\tgetFilters() {\n\t\t\treturn this.filters;\n\t\t}\n\n\t\tsetFilters(value) {\n\t\t\tif (!value) value = [];\n\n\t\t\tif (this._connected === true) {\n\t\t\t\tthis.disconnect();\n\t\t\t\tthis.filters = value.slice();\n\t\t\t\tthis.connect();\n\t\t\t} else {\n\t\t\t\tthis.filters = value.slice();\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsetDetune(value) {\n\t\t\tthis.detune = value;\n\t\t\tif (this.source.detune === undefined) return; // only set detune when available\n\n\t\t\tif (this.isPlaying === true) {\n\t\t\t\tthis.source.detune.setTargetAtTime(this.detune, this.context.currentTime, 0.01);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tgetDetune() {\n\t\t\treturn this.detune;\n\t\t}\n\n\t\tgetFilter() {\n\t\t\treturn this.getFilters()[0];\n\t\t}\n\n\t\tsetFilter(filter) {\n\t\t\treturn this.setFilters(filter ? [filter] : []);\n\t\t}\n\n\t\tsetPlaybackRate(value) {\n\t\t\tif (this.hasPlaybackControl === false) {\n\t\t\t\tconsole.warn('THREE.Audio: this Audio has no playback control.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.playbackRate = value;\n\n\t\t\tif (this.isPlaying === true) {\n\t\t\t\tthis.source.playbackRate.setTargetAtTime(this.playbackRate, this.context.currentTime, 0.01);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tgetPlaybackRate() {\n\t\t\treturn this.playbackRate;\n\t\t}\n\n\t\tonEnded() {\n\t\t\tthis.isPlaying = false;\n\t\t}\n\n\t\tgetLoop() {\n\t\t\tif (this.hasPlaybackControl === false) {\n\t\t\t\tconsole.warn('THREE.Audio: this Audio has no playback control.');\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn this.loop;\n\t\t}\n\n\t\tsetLoop(value) {\n\t\t\tif (this.hasPlaybackControl === false) {\n\t\t\t\tconsole.warn('THREE.Audio: this Audio has no playback control.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.loop = value;\n\n\t\t\tif (this.isPlaying === true) {\n\t\t\t\tthis.source.loop = this.loop;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsetLoopStart(value) {\n\t\t\tthis.loopStart = value;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetLoopEnd(value) {\n\t\t\tthis.loopEnd = value;\n\t\t\treturn this;\n\t\t}\n\n\t\tgetVolume() {\n\t\t\treturn this.gain.gain.value;\n\t\t}\n\n\t\tsetVolume(value) {\n\t\t\tthis.gain.gain.setTargetAtTime(value, this.context.currentTime, 0.01);\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tconst _position = /*@__PURE__*/new Vector3();\n\n\tconst _quaternion = /*@__PURE__*/new Quaternion();\n\n\tconst _scale = /*@__PURE__*/new Vector3();\n\n\tconst _orientation = /*@__PURE__*/new Vector3();\n\n\tclass PositionalAudio extends Audio {\n\t\tconstructor(listener) {\n\t\t\tsuper(listener);\n\t\t\tthis.panner = this.context.createPanner();\n\t\t\tthis.panner.panningModel = 'HRTF';\n\t\t\tthis.panner.connect(this.gain);\n\t\t}\n\n\t\tdisconnect() {\n\t\t\tsuper.disconnect();\n\t\t\tthis.panner.disconnect(this.gain);\n\t\t}\n\n\t\tgetOutput() {\n\t\t\treturn this.panner;\n\t\t}\n\n\t\tgetRefDistance() {\n\t\t\treturn this.panner.refDistance;\n\t\t}\n\n\t\tsetRefDistance(value) {\n\t\t\tthis.panner.refDistance = value;\n\t\t\treturn this;\n\t\t}\n\n\t\tgetRolloffFactor() {\n\t\t\treturn this.panner.rolloffFactor;\n\t\t}\n\n\t\tsetRolloffFactor(value) {\n\t\t\tthis.panner.rolloffFactor = value;\n\t\t\treturn this;\n\t\t}\n\n\t\tgetDistanceModel() {\n\t\t\treturn this.panner.distanceModel;\n\t\t}\n\n\t\tsetDistanceModel(value) {\n\t\t\tthis.panner.distanceModel = value;\n\t\t\treturn this;\n\t\t}\n\n\t\tgetMaxDistance() {\n\t\t\treturn this.panner.maxDistance;\n\t\t}\n\n\t\tsetMaxDistance(value) {\n\t\t\tthis.panner.maxDistance = value;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetDirectionalCone(coneInnerAngle, coneOuterAngle, coneOuterGain) {\n\t\t\tthis.panner.coneInnerAngle = coneInnerAngle;\n\t\t\tthis.panner.coneOuterAngle = coneOuterAngle;\n\t\t\tthis.panner.coneOuterGain = coneOuterGain;\n\t\t\treturn this;\n\t\t}\n\n\t\tupdateMatrixWorld(force) {\n\t\t\tsuper.updateMatrixWorld(force);\n\t\t\tif (this.hasPlaybackControl === true && this.isPlaying === false) return;\n\t\t\tthis.matrixWorld.decompose(_position, _quaternion, _scale);\n\n\t\t\t_orientation.set(0, 0, 1).applyQuaternion(_quaternion);\n\n\t\t\tconst panner = this.panner;\n\n\t\t\tif (panner.positionX) {\n\t\t\t\t// code path for Chrome and Firefox (see #14393)\n\t\t\t\tconst endTime = this.context.currentTime + this.listener.timeDelta;\n\t\t\t\tpanner.positionX.linearRampToValueAtTime(_position.x, endTime);\n\t\t\t\tpanner.positionY.linearRampToValueAtTime(_position.y, endTime);\n\t\t\t\tpanner.positionZ.linearRampToValueAtTime(_position.z, endTime);\n\t\t\t\tpanner.orientationX.linearRampToValueAtTime(_orientation.x, endTime);\n\t\t\t\tpanner.orientationY.linearRampToValueAtTime(_orientation.y, endTime);\n\t\t\t\tpanner.orientationZ.linearRampToValueAtTime(_orientation.z, endTime);\n\t\t\t} else {\n\t\t\t\tpanner.setPosition(_position.x, _position.y, _position.z);\n\t\t\t\tpanner.setOrientation(_orientation.x, _orientation.y, _orientation.z);\n\t\t\t}\n\t\t}\n\n\t}\n\n\tclass AudioAnalyser {\n\t\tconstructor(audio, fftSize = 2048) {\n\t\t\tthis.analyser = audio.context.createAnalyser();\n\t\t\tthis.analyser.fftSize = fftSize;\n\t\t\tthis.data = new Uint8Array(this.analyser.frequencyBinCount);\n\t\t\taudio.getOutput().connect(this.analyser);\n\t\t}\n\n\t\tgetFrequencyData() {\n\t\t\tthis.analyser.getByteFrequencyData(this.data);\n\t\t\treturn this.data;\n\t\t}\n\n\t\tgetAverageFrequency() {\n\t\t\tlet value = 0;\n\t\t\tconst data = this.getFrequencyData();\n\n\t\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\t\tvalue += data[i];\n\t\t\t}\n\n\t\t\treturn value / data.length;\n\t\t}\n\n\t}\n\n\tclass PropertyMixer {\n\t\tconstructor(binding, typeName, valueSize) {\n\t\t\tthis.binding = binding;\n\t\t\tthis.valueSize = valueSize;\n\t\t\tlet mixFunction, mixFunctionAdditive, setIdentity; // buffer layout: [ incoming | accu0 | accu1 | orig | addAccu | (optional work) ]\n\t\t\t//\n\t\t\t// interpolators can use .buffer as their .result\n\t\t\t// the data then goes to 'incoming'\n\t\t\t//\n\t\t\t// 'accu0' and 'accu1' are used frame-interleaved for\n\t\t\t// the cumulative result and are compared to detect\n\t\t\t// changes\n\t\t\t//\n\t\t\t// 'orig' stores the original state of the property\n\t\t\t//\n\t\t\t// 'add' is used for additive cumulative results\n\t\t\t//\n\t\t\t// 'work' is optional and is only present for quaternion types. It is used\n\t\t\t// to store intermediate quaternion multiplication results\n\n\t\t\tswitch (typeName) {\n\t\t\t\tcase 'quaternion':\n\t\t\t\t\tmixFunction = this._slerp;\n\t\t\t\t\tmixFunctionAdditive = this._slerpAdditive;\n\t\t\t\t\tsetIdentity = this._setAdditiveIdentityQuaternion;\n\t\t\t\t\tthis.buffer = new Float64Array(valueSize * 6);\n\t\t\t\t\tthis._workIndex = 5;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'string':\n\t\t\t\tcase 'bool':\n\t\t\t\t\tmixFunction = this._select; // Use the regular mix function and for additive on these types,\n\t\t\t\t\t// additive is not relevant for non-numeric types\n\n\t\t\t\t\tmixFunctionAdditive = this._select;\n\t\t\t\t\tsetIdentity = this._setAdditiveIdentityOther;\n\t\t\t\t\tthis.buffer = new Array(valueSize * 5);\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tmixFunction = this._lerp;\n\t\t\t\t\tmixFunctionAdditive = this._lerpAdditive;\n\t\t\t\t\tsetIdentity = this._setAdditiveIdentityNumeric;\n\t\t\t\t\tthis.buffer = new Float64Array(valueSize * 5);\n\t\t\t}\n\n\t\t\tthis._mixBufferRegion = mixFunction;\n\t\t\tthis._mixBufferRegionAdditive = mixFunctionAdditive;\n\t\t\tthis._setIdentity = setIdentity;\n\t\t\tthis._origIndex = 3;\n\t\t\tthis._addIndex = 4;\n\t\t\tthis.cumulativeWeight = 0;\n\t\t\tthis.cumulativeWeightAdditive = 0;\n\t\t\tthis.useCount = 0;\n\t\t\tthis.referenceCount = 0;\n\t\t} // accumulate data in the 'incoming' region into 'accu<i>'\n\n\n\t\taccumulate(accuIndex, weight) {\n\t\t\t// note: happily accumulating nothing when weight = 0, the caller knows\n\t\t\t// the weight and shouldn't have made the call in the first place\n\t\t\tconst buffer = this.buffer,\n\t\t\t\t\t\tstride = this.valueSize,\n\t\t\t\t\t\toffset = accuIndex * stride + stride;\n\t\t\tlet currentWeight = this.cumulativeWeight;\n\n\t\t\tif (currentWeight === 0) {\n\t\t\t\t// accuN := incoming * weight\n\t\t\t\tfor (let i = 0; i !== stride; ++i) {\n\t\t\t\t\tbuffer[offset + i] = buffer[i];\n\t\t\t\t}\n\n\t\t\t\tcurrentWeight = weight;\n\t\t\t} else {\n\t\t\t\t// accuN := accuN + incoming * weight\n\t\t\t\tcurrentWeight += weight;\n\t\t\t\tconst mix = weight / currentWeight;\n\n\t\t\t\tthis._mixBufferRegion(buffer, offset, 0, mix, stride);\n\t\t\t}\n\n\t\t\tthis.cumulativeWeight = currentWeight;\n\t\t} // accumulate data in the 'incoming' region into 'add'\n\n\n\t\taccumulateAdditive(weight) {\n\t\t\tconst buffer = this.buffer,\n\t\t\t\t\t\tstride = this.valueSize,\n\t\t\t\t\t\toffset = stride * this._addIndex;\n\n\t\t\tif (this.cumulativeWeightAdditive === 0) {\n\t\t\t\t// add = identity\n\t\t\t\tthis._setIdentity();\n\t\t\t} // add := add + incoming * weight\n\n\n\t\t\tthis._mixBufferRegionAdditive(buffer, offset, 0, weight, stride);\n\n\t\t\tthis.cumulativeWeightAdditive += weight;\n\t\t} // apply the state of 'accu<i>' to the binding when accus differ\n\n\n\t\tapply(accuIndex) {\n\t\t\tconst stride = this.valueSize,\n\t\t\t\t\t\tbuffer = this.buffer,\n\t\t\t\t\t\toffset = accuIndex * stride + stride,\n\t\t\t\t\t\tweight = this.cumulativeWeight,\n\t\t\t\t\t\tweightAdditive = this.cumulativeWeightAdditive,\n\t\t\t\t\t\tbinding = this.binding;\n\t\t\tthis.cumulativeWeight = 0;\n\t\t\tthis.cumulativeWeightAdditive = 0;\n\n\t\t\tif (weight < 1) {\n\t\t\t\t// accuN := accuN + original * ( 1 - cumulativeWeight )\n\t\t\t\tconst originalValueOffset = stride * this._origIndex;\n\n\t\t\t\tthis._mixBufferRegion(buffer, offset, originalValueOffset, 1 - weight, stride);\n\t\t\t}\n\n\t\t\tif (weightAdditive > 0) {\n\t\t\t\t// accuN := accuN + additive accuN\n\t\t\t\tthis._mixBufferRegionAdditive(buffer, offset, this._addIndex * stride, 1, stride);\n\t\t\t}\n\n\t\t\tfor (let i = stride, e = stride + stride; i !== e; ++i) {\n\t\t\t\tif (buffer[i] !== buffer[i + stride]) {\n\t\t\t\t\t// value has changed -> update scene graph\n\t\t\t\t\tbinding.setValue(buffer, offset);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} // remember the state of the bound property and copy it to both accus\n\n\n\t\tsaveOriginalState() {\n\t\t\tconst binding = this.binding;\n\t\t\tconst buffer = this.buffer,\n\t\t\t\t\t\tstride = this.valueSize,\n\t\t\t\t\t\toriginalValueOffset = stride * this._origIndex;\n\t\t\tbinding.getValue(buffer, originalValueOffset); // accu[0..1] := orig -- initially detect changes against the original\n\n\t\t\tfor (let i = stride, e = originalValueOffset; i !== e; ++i) {\n\t\t\t\tbuffer[i] = buffer[originalValueOffset + i % stride];\n\t\t\t} // Add to identity for additive\n\n\n\t\t\tthis._setIdentity();\n\n\t\t\tthis.cumulativeWeight = 0;\n\t\t\tthis.cumulativeWeightAdditive = 0;\n\t\t} // apply the state previously taken via 'saveOriginalState' to the binding\n\n\n\t\trestoreOriginalState() {\n\t\t\tconst originalValueOffset = this.valueSize * 3;\n\t\t\tthis.binding.setValue(this.buffer, originalValueOffset);\n\t\t}\n\n\t\t_setAdditiveIdentityNumeric() {\n\t\t\tconst startIndex = this._addIndex * this.valueSize;\n\t\t\tconst endIndex = startIndex + this.valueSize;\n\n\t\t\tfor (let i = startIndex; i < endIndex; i++) {\n\t\t\t\tthis.buffer[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t_setAdditiveIdentityQuaternion() {\n\t\t\tthis._setAdditiveIdentityNumeric();\n\n\t\t\tthis.buffer[this._addIndex * this.valueSize + 3] = 1;\n\t\t}\n\n\t\t_setAdditiveIdentityOther() {\n\t\t\tconst startIndex = this._origIndex * this.valueSize;\n\t\t\tconst targetIndex = this._addIndex * this.valueSize;\n\n\t\t\tfor (let i = 0; i < this.valueSize; i++) {\n\t\t\t\tthis.buffer[targetIndex + i] = this.buffer[startIndex + i];\n\t\t\t}\n\t\t} // mix functions\n\n\n\t\t_select(buffer, dstOffset, srcOffset, t, stride) {\n\t\t\tif (t >= 0.5) {\n\t\t\t\tfor (let i = 0; i !== stride; ++i) {\n\t\t\t\t\tbuffer[dstOffset + i] = buffer[srcOffset + i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t_slerp(buffer, dstOffset, srcOffset, t) {\n\t\t\tQuaternion.slerpFlat(buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t);\n\t\t}\n\n\t\t_slerpAdditive(buffer, dstOffset, srcOffset, t, stride) {\n\t\t\tconst workOffset = this._workIndex * stride; // Store result in intermediate buffer offset\n\n\t\t\tQuaternion.multiplyQuaternionsFlat(buffer, workOffset, buffer, dstOffset, buffer, srcOffset); // Slerp to the intermediate result\n\n\t\t\tQuaternion.slerpFlat(buffer, dstOffset, buffer, dstOffset, buffer, workOffset, t);\n\t\t}\n\n\t\t_lerp(buffer, dstOffset, srcOffset, t, stride) {\n\t\t\tconst s = 1 - t;\n\n\t\t\tfor (let i = 0; i !== stride; ++i) {\n\t\t\t\tconst j = dstOffset + i;\n\t\t\t\tbuffer[j] = buffer[j] * s + buffer[srcOffset + i] * t;\n\t\t\t}\n\t\t}\n\n\t\t_lerpAdditive(buffer, dstOffset, srcOffset, t, stride) {\n\t\t\tfor (let i = 0; i !== stride; ++i) {\n\t\t\t\tconst j = dstOffset + i;\n\t\t\t\tbuffer[j] = buffer[j] + buffer[srcOffset + i] * t;\n\t\t\t}\n\t\t}\n\n\t}\n\n\t// Characters [].:/ are reserved for track binding syntax.\n\tconst _RESERVED_CHARS_RE = '\\\\[\\\\]\\\\.:\\\\/';\n\n\tconst _reservedRe = new RegExp('[' + _RESERVED_CHARS_RE + ']', 'g'); // Attempts to allow node names from any language. ES5's `\\w` regexp matches\n\t// only latin characters, and the unicode \\p{L} is not yet supported. So\n\t// instead, we exclude reserved characters and match everything else.\n\n\n\tconst _wordChar = '[^' + _RESERVED_CHARS_RE + ']';\n\n\tconst _wordCharOrDot = '[^' + _RESERVED_CHARS_RE.replace('\\\\.', '') + ']'; // Parent directories, delimited by '/' or ':'. Currently unused, but must\n\t// be matched to parse the rest of the track name.\n\n\n\tconst _directoryRe = /((?:WC+[\\/:])*)/.source.replace('WC', _wordChar); // Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\n\n\n\tconst _nodeRe = /(WCOD+)?/.source.replace('WCOD', _wordCharOrDot); // Object on target node, and accessor. May not contain reserved\n\t// characters. Accessor may contain any character except closing bracket.\n\n\n\tconst _objectRe = /(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace('WC', _wordChar); // Property and accessor. May not contain reserved characters. Accessor may\n\t// contain any non-bracket characters.\n\n\n\tconst _propertyRe = /\\.(WC+)(?:\\[(.+)\\])?/.source.replace('WC', _wordChar);\n\n\tconst _trackRe = new RegExp('' + '^' + _directoryRe + _nodeRe + _objectRe + _propertyRe + '$');\n\n\tconst _supportedObjectNames = ['material', 'materials', 'bones'];\n\n\tclass Composite {\n\t\tconstructor(targetGroup, path, optionalParsedPath) {\n\t\t\tconst parsedPath = optionalParsedPath || PropertyBinding.parseTrackName(path);\n\t\t\tthis._targetGroup = targetGroup;\n\t\t\tthis._bindings = targetGroup.subscribe_(path, parsedPath);\n\t\t}\n\n\t\tgetValue(array, offset) {\n\t\t\tthis.bind(); // bind all binding\n\n\t\t\tconst firstValidIndex = this._targetGroup.nCachedObjects_,\n\t\t\t\t\t\tbinding = this._bindings[firstValidIndex]; // and only call .getValue on the first\n\n\t\t\tif (binding !== undefined) binding.getValue(array, offset);\n\t\t}\n\n\t\tsetValue(array, offset) {\n\t\t\tconst bindings = this._bindings;\n\n\t\t\tfor (let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++i) {\n\t\t\t\tbindings[i].setValue(array, offset);\n\t\t\t}\n\t\t}\n\n\t\tbind() {\n\t\t\tconst bindings = this._bindings;\n\n\t\t\tfor (let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++i) {\n\t\t\t\tbindings[i].bind();\n\t\t\t}\n\t\t}\n\n\t\tunbind() {\n\t\t\tconst bindings = this._bindings;\n\n\t\t\tfor (let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++i) {\n\t\t\t\tbindings[i].unbind();\n\t\t\t}\n\t\t}\n\n\t} // Note: This class uses a State pattern on a per-method basis:\n\t// 'bind' sets 'this.getValue' / 'setValue' and shadows the\n\t// prototype version of these methods with one that represents\n\t// the bound state. When the property is not found, the methods\n\t// become no-ops.\n\n\n\tclass PropertyBinding {\n\t\tconstructor(rootNode, path, parsedPath) {\n\t\t\tthis.path = path;\n\t\t\tthis.parsedPath = parsedPath || PropertyBinding.parseTrackName(path);\n\t\t\tthis.node = PropertyBinding.findNode(rootNode, this.parsedPath.nodeName) || rootNode;\n\t\t\tthis.rootNode = rootNode; // initial state of these methods that calls 'bind'\n\n\t\t\tthis.getValue = this._getValue_unbound;\n\t\t\tthis.setValue = this._setValue_unbound;\n\t\t}\n\n\t\tstatic create(root, path, parsedPath) {\n\t\t\tif (!(root && root.isAnimationObjectGroup)) {\n\t\t\t\treturn new PropertyBinding(root, path, parsedPath);\n\t\t\t} else {\n\t\t\t\treturn new PropertyBinding.Composite(root, path, parsedPath);\n\t\t\t}\n\t\t}\n\t\t/**\n\t\t * Replaces spaces with underscores and removes unsupported characters from\n\t\t * node names, to ensure compatibility with parseTrackName().\n\t\t *\n\t\t * @param {string} name Node name to be sanitized.\n\t\t * @return {string}\n\t\t */\n\n\n\t\tstatic sanitizeNodeName(name) {\n\t\t\treturn name.replace(/\\s/g, '_').replace(_reservedRe, '');\n\t\t}\n\n\t\tstatic parseTrackName(trackName) {\n\t\t\tconst matches = _trackRe.exec(trackName);\n\n\t\t\tif (matches === null) {\n\t\t\t\tthrow new Error('PropertyBinding: Cannot parse trackName: ' + trackName);\n\t\t\t}\n\n\t\t\tconst results = {\n\t\t\t\t// directoryName: matches[ 1 ], // (tschw) currently unused\n\t\t\t\tnodeName: matches[2],\n\t\t\t\tobjectName: matches[3],\n\t\t\t\tobjectIndex: matches[4],\n\t\t\t\tpropertyName: matches[5],\n\t\t\t\t// required\n\t\t\t\tpropertyIndex: matches[6]\n\t\t\t};\n\t\t\tconst lastDot = results.nodeName && results.nodeName.lastIndexOf('.');\n\n\t\t\tif (lastDot !== undefined && lastDot !== -1) {\n\t\t\t\tconst objectName = results.nodeName.substring(lastDot + 1); // Object names must be checked against an allowlist. Otherwise, there\n\t\t\t\t// is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n\t\t\t\t// 'bar' could be the objectName, or part of a nodeName (which can\n\t\t\t\t// include '.' characters).\n\n\t\t\t\tif (_supportedObjectNames.indexOf(objectName) !== -1) {\n\t\t\t\t\tresults.nodeName = results.nodeName.substring(0, lastDot);\n\t\t\t\t\tresults.objectName = objectName;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (results.propertyName === null || results.propertyName.length === 0) {\n\t\t\t\tthrow new Error('PropertyBinding: can not parse propertyName from trackName: ' + trackName);\n\t\t\t}\n\n\t\t\treturn results;\n\t\t}\n\n\t\tstatic findNode(root, nodeName) {\n\t\t\tif (nodeName === undefined || nodeName === '' || nodeName === '.' || nodeName === -1 || nodeName === root.name || nodeName === root.uuid) {\n\t\t\t\treturn root;\n\t\t\t} // search into skeleton bones.\n\n\n\t\t\tif (root.skeleton) {\n\t\t\t\tconst bone = root.skeleton.getBoneByName(nodeName);\n\n\t\t\t\tif (bone !== undefined) {\n\t\t\t\t\treturn bone;\n\t\t\t\t}\n\t\t\t} // search into node subtree.\n\n\n\t\t\tif (root.children) {\n\t\t\t\tconst searchNodeSubtree = function (children) {\n\t\t\t\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\t\t\t\tconst childNode = children[i];\n\n\t\t\t\t\t\tif (childNode.name === nodeName || childNode.uuid === nodeName) {\n\t\t\t\t\t\t\treturn childNode;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst result = searchNodeSubtree(childNode.children);\n\t\t\t\t\t\tif (result) return result;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn null;\n\t\t\t\t};\n\n\t\t\t\tconst subTreeNode = searchNodeSubtree(root.children);\n\n\t\t\t\tif (subTreeNode) {\n\t\t\t\t\treturn subTreeNode;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn null;\n\t\t} // these are used to \"bind\" a nonexistent property\n\n\n\t\t_getValue_unavailable() {}\n\n\t\t_setValue_unavailable() {} // Getters\n\n\n\t\t_getValue_direct(buffer, offset) {\n\t\t\tbuffer[offset] = this.targetObject[this.propertyName];\n\t\t}\n\n\t\t_getValue_array(buffer, offset) {\n\t\t\tconst source = this.resolvedProperty;\n\n\t\t\tfor (let i = 0, n = source.length; i !== n; ++i) {\n\t\t\t\tbuffer[offset++] = source[i];\n\t\t\t}\n\t\t}\n\n\t\t_getValue_arrayElement(buffer, offset) {\n\t\t\tbuffer[offset] = this.resolvedProperty[this.propertyIndex];\n\t\t}\n\n\t\t_getValue_toArray(buffer, offset) {\n\t\t\tthis.resolvedProperty.toArray(buffer, offset);\n\t\t} // Direct\n\n\n\t\t_setValue_direct(buffer, offset) {\n\t\t\tthis.targetObject[this.propertyName] = buffer[offset];\n\t\t}\n\n\t\t_setValue_direct_setNeedsUpdate(buffer, offset) {\n\t\t\tthis.targetObject[this.propertyName] = buffer[offset];\n\t\t\tthis.targetObject.needsUpdate = true;\n\t\t}\n\n\t\t_setValue_direct_setMatrixWorldNeedsUpdate(buffer, offset) {\n\t\t\tthis.targetObject[this.propertyName] = buffer[offset];\n\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\t\t} // EntireArray\n\n\n\t\t_setValue_array(buffer, offset) {\n\t\t\tconst dest = this.resolvedProperty;\n\n\t\t\tfor (let i = 0, n = dest.length; i !== n; ++i) {\n\t\t\t\tdest[i] = buffer[offset++];\n\t\t\t}\n\t\t}\n\n\t\t_setValue_array_setNeedsUpdate(buffer, offset) {\n\t\t\tconst dest = this.resolvedProperty;\n\n\t\t\tfor (let i = 0, n = dest.length; i !== n; ++i) {\n\t\t\t\tdest[i] = buffer[offset++];\n\t\t\t}\n\n\t\t\tthis.targetObject.needsUpdate = true;\n\t\t}\n\n\t\t_setValue_array_setMatrixWorldNeedsUpdate(buffer, offset) {\n\t\t\tconst dest = this.resolvedProperty;\n\n\t\t\tfor (let i = 0, n = dest.length; i !== n; ++i) {\n\t\t\t\tdest[i] = buffer[offset++];\n\t\t\t}\n\n\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\t\t} // ArrayElement\n\n\n\t\t_setValue_arrayElement(buffer, offset) {\n\t\t\tthis.resolvedProperty[this.propertyIndex] = buffer[offset];\n\t\t}\n\n\t\t_setValue_arrayElement_setNeedsUpdate(buffer, offset) {\n\t\t\tthis.resolvedProperty[this.propertyIndex] = buffer[offset];\n\t\t\tthis.targetObject.needsUpdate = true;\n\t\t}\n\n\t\t_setValue_arrayElement_setMatrixWorldNeedsUpdate(buffer, offset) {\n\t\t\tthis.resolvedProperty[this.propertyIndex] = buffer[offset];\n\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\t\t} // HasToFromArray\n\n\n\t\t_setValue_fromArray(buffer, offset) {\n\t\t\tthis.resolvedProperty.fromArray(buffer, offset);\n\t\t}\n\n\t\t_setValue_fromArray_setNeedsUpdate(buffer, offset) {\n\t\t\tthis.resolvedProperty.fromArray(buffer, offset);\n\t\t\tthis.targetObject.needsUpdate = true;\n\t\t}\n\n\t\t_setValue_fromArray_setMatrixWorldNeedsUpdate(buffer, offset) {\n\t\t\tthis.resolvedProperty.fromArray(buffer, offset);\n\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\t\t}\n\n\t\t_getValue_unbound(targetArray, offset) {\n\t\t\tthis.bind();\n\t\t\tthis.getValue(targetArray, offset);\n\t\t}\n\n\t\t_setValue_unbound(sourceArray, offset) {\n\t\t\tthis.bind();\n\t\t\tthis.setValue(sourceArray, offset);\n\t\t} // create getter / setter pair for a property in the scene graph\n\n\n\t\tbind() {\n\t\t\tlet targetObject = this.node;\n\t\t\tconst parsedPath = this.parsedPath;\n\t\t\tconst objectName = parsedPath.objectName;\n\t\t\tconst propertyName = parsedPath.propertyName;\n\t\t\tlet propertyIndex = parsedPath.propertyIndex;\n\n\t\t\tif (!targetObject) {\n\t\t\t\ttargetObject = PropertyBinding.findNode(this.rootNode, parsedPath.nodeName) || this.rootNode;\n\t\t\t\tthis.node = targetObject;\n\t\t\t} // set fail state so we can just 'return' on error\n\n\n\t\t\tthis.getValue = this._getValue_unavailable;\n\t\t\tthis.setValue = this._setValue_unavailable; // ensure there is a value node\n\n\t\t\tif (!targetObject) {\n\t\t\t\tconsole.error('THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (objectName) {\n\t\t\t\tlet objectIndex = parsedPath.objectIndex; // special cases were we need to reach deeper into the hierarchy to get the face materials....\n\n\t\t\t\tswitch (objectName) {\n\t\t\t\t\tcase 'materials':\n\t\t\t\t\t\tif (!targetObject.material) {\n\t\t\t\t\t\t\tconsole.error('THREE.PropertyBinding: Can not bind to material as node does not have a material.', this);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!targetObject.material.materials) {\n\t\t\t\t\t\t\tconsole.error('THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttargetObject = targetObject.material.materials;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'bones':\n\t\t\t\t\t\tif (!targetObject.skeleton) {\n\t\t\t\t\t\t\tconsole.error('THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t} // potential future optimization: skip this if propertyIndex is already an integer\n\t\t\t\t\t\t// and convert the integer string to a true integer.\n\n\n\t\t\t\t\t\ttargetObject = targetObject.skeleton.bones; // support resolving morphTarget names into indices.\n\n\t\t\t\t\t\tfor (let i = 0; i < targetObject.length; i++) {\n\t\t\t\t\t\t\tif (targetObject[i].name === objectIndex) {\n\t\t\t\t\t\t\t\tobjectIndex = i;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif (targetObject[objectName] === undefined) {\n\t\t\t\t\t\t\tconsole.error('THREE.PropertyBinding: Can not bind to objectName of node undefined.', this);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttargetObject = targetObject[objectName];\n\t\t\t\t}\n\n\t\t\t\tif (objectIndex !== undefined) {\n\t\t\t\t\tif (targetObject[objectIndex] === undefined) {\n\t\t\t\t\t\tconsole.error('THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject[objectIndex];\n\t\t\t\t}\n\t\t\t} // resolve property\n\n\n\t\t\tconst nodeProperty = targetObject[propertyName];\n\n\t\t\tif (nodeProperty === undefined) {\n\t\t\t\tconst nodeName = parsedPath.nodeName;\n\t\t\t\tconsole.error('THREE.PropertyBinding: Trying to update property for track: ' + nodeName + '.' + propertyName + ' but it wasn\\'t found.', targetObject);\n\t\t\t\treturn;\n\t\t\t} // determine versioning scheme\n\n\n\t\t\tlet versioning = this.Versioning.None;\n\t\t\tthis.targetObject = targetObject;\n\n\t\t\tif (targetObject.needsUpdate !== undefined) {\n\t\t\t\t// material\n\t\t\t\tversioning = this.Versioning.NeedsUpdate;\n\t\t\t} else if (targetObject.matrixWorldNeedsUpdate !== undefined) {\n\t\t\t\t// node transform\n\t\t\t\tversioning = this.Versioning.MatrixWorldNeedsUpdate;\n\t\t\t} // determine how the property gets bound\n\n\n\t\t\tlet bindingType = this.BindingType.Direct;\n\n\t\t\tif (propertyIndex !== undefined) {\n\t\t\t\t// access a sub element of the property array (only primitives are supported right now)\n\t\t\t\tif (propertyName === 'morphTargetInfluences') {\n\t\t\t\t\t// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\t\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\t\tif (!targetObject.geometry) {\n\t\t\t\t\t\tconsole.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!targetObject.geometry.morphAttributes) {\n\t\t\t\t\t\tconsole.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (targetObject.morphTargetDictionary[propertyIndex] !== undefined) {\n\t\t\t\t\t\tpropertyIndex = targetObject.morphTargetDictionary[propertyIndex];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tbindingType = this.BindingType.ArrayElement;\n\t\t\t\tthis.resolvedProperty = nodeProperty;\n\t\t\t\tthis.propertyIndex = propertyIndex;\n\t\t\t} else if (nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined) {\n\t\t\t\t// must use copy for Object3D.Euler/Quaternion\n\t\t\t\tbindingType = this.BindingType.HasFromToArray;\n\t\t\t\tthis.resolvedProperty = nodeProperty;\n\t\t\t} else if (Array.isArray(nodeProperty)) {\n\t\t\t\tbindingType = this.BindingType.EntireArray;\n\t\t\t\tthis.resolvedProperty = nodeProperty;\n\t\t\t} else {\n\t\t\t\tthis.propertyName = propertyName;\n\t\t\t} // select getter / setter\n\n\n\t\t\tthis.getValue = this.GetterByBindingType[bindingType];\n\t\t\tthis.setValue = this.SetterByBindingTypeAndVersioning[bindingType][versioning];\n\t\t}\n\n\t\tunbind() {\n\t\t\tthis.node = null; // back to the prototype version of getValue / setValue\n\t\t\t// note: avoiding to mutate the shape of 'this' via 'delete'\n\n\t\t\tthis.getValue = this._getValue_unbound;\n\t\t\tthis.setValue = this._setValue_unbound;\n\t\t}\n\n\t}\n\n\tPropertyBinding.Composite = Composite;\n\tPropertyBinding.prototype.BindingType = {\n\t\tDirect: 0,\n\t\tEntireArray: 1,\n\t\tArrayElement: 2,\n\t\tHasFromToArray: 3\n\t};\n\tPropertyBinding.prototype.Versioning = {\n\t\tNone: 0,\n\t\tNeedsUpdate: 1,\n\t\tMatrixWorldNeedsUpdate: 2\n\t};\n\tPropertyBinding.prototype.GetterByBindingType = [PropertyBinding.prototype._getValue_direct, PropertyBinding.prototype._getValue_array, PropertyBinding.prototype._getValue_arrayElement, PropertyBinding.prototype._getValue_toArray];\n\tPropertyBinding.prototype.SetterByBindingTypeAndVersioning = [[// Direct\n\tPropertyBinding.prototype._setValue_direct, PropertyBinding.prototype._setValue_direct_setNeedsUpdate, PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate], [// EntireArray\n\tPropertyBinding.prototype._setValue_array, PropertyBinding.prototype._setValue_array_setNeedsUpdate, PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate], [// ArrayElement\n\tPropertyBinding.prototype._setValue_arrayElement, PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate, PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate], [// HasToFromArray\n\tPropertyBinding.prototype._setValue_fromArray, PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate, PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];\n\n\t/**\n\t *\n\t * A group of objects that receives a shared animation state.\n\t *\n\t * Usage:\n\t *\n\t *\t- Add objects you would otherwise pass as 'root' to the\n\t *\t\tconstructor or the .clipAction method of AnimationMixer.\n\t *\n\t *\t- Instead pass this object as 'root'.\n\t *\n\t *\t- You can also add and remove objects later when the mixer\n\t *\t\tis running.\n\t *\n\t * Note:\n\t *\n\t *\t\tObjects of this class appear as one object to the mixer,\n\t *\t\tso cache control of the individual objects must be done\n\t *\t\ton the group.\n\t *\n\t * Limitation:\n\t *\n\t *\t- The animated properties must be compatible among the\n\t *\t\tall objects in the group.\n\t *\n\t *\t- A single property can either be controlled through a\n\t *\t\ttarget group or directly, but not both.\n\t */\n\n\tclass AnimationObjectGroup {\n\t\tconstructor() {\n\t\t\tthis.isAnimationObjectGroup = true;\n\t\t\tthis.uuid = generateUUID(); // cached objects followed by the active ones\n\n\t\t\tthis._objects = Array.prototype.slice.call(arguments);\n\t\t\tthis.nCachedObjects_ = 0; // threshold\n\t\t\t// note: read by PropertyBinding.Composite\n\n\t\t\tconst indices = {};\n\t\t\tthis._indicesByUUID = indices; // for bookkeeping\n\n\t\t\tfor (let i = 0, n = arguments.length; i !== n; ++i) {\n\t\t\t\tindices[arguments[i].uuid] = i;\n\t\t\t}\n\n\t\t\tthis._paths = []; // inside: string\n\n\t\t\tthis._parsedPaths = []; // inside: { we don't care, here }\n\n\t\t\tthis._bindings = []; // inside: Array< PropertyBinding >\n\n\t\t\tthis._bindingsIndicesByPath = {}; // inside: indices in these arrays\n\n\t\t\tconst scope = this;\n\t\t\tthis.stats = {\n\t\t\t\tobjects: {\n\t\t\t\t\tget total() {\n\t\t\t\t\t\treturn scope._objects.length;\n\t\t\t\t\t},\n\n\t\t\t\t\tget inUse() {\n\t\t\t\t\t\treturn this.total - scope.nCachedObjects_;\n\t\t\t\t\t}\n\n\t\t\t\t},\n\n\t\t\t\tget bindingsPerObject() {\n\t\t\t\t\treturn scope._bindings.length;\n\t\t\t\t}\n\n\t\t\t};\n\t\t}\n\n\t\tadd() {\n\t\t\tconst objects = this._objects,\n\t\t\t\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\t\t\t\tpaths = this._paths,\n\t\t\t\t\t\tparsedPaths = this._parsedPaths,\n\t\t\t\t\t\tbindings = this._bindings,\n\t\t\t\t\t\tnBindings = bindings.length;\n\t\t\tlet knownObject = undefined,\n\t\t\t\t\tnObjects = objects.length,\n\t\t\t\t\tnCachedObjects = this.nCachedObjects_;\n\n\t\t\tfor (let i = 0, n = arguments.length; i !== n; ++i) {\n\t\t\t\tconst object = arguments[i],\n\t\t\t\t\t\t\tuuid = object.uuid;\n\t\t\t\tlet index = indicesByUUID[uuid];\n\n\t\t\t\tif (index === undefined) {\n\t\t\t\t\t// unknown object -> add it to the ACTIVE region\n\t\t\t\t\tindex = nObjects++;\n\t\t\t\t\tindicesByUUID[uuid] = index;\n\t\t\t\t\tobjects.push(object); // accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor (let j = 0, m = nBindings; j !== m; ++j) {\n\t\t\t\t\t\tbindings[j].push(new PropertyBinding(object, paths[j], parsedPaths[j]));\n\t\t\t\t\t}\n\t\t\t\t} else if (index < nCachedObjects) {\n\t\t\t\t\tknownObject = objects[index]; // move existing object to the ACTIVE region\n\n\t\t\t\t\tconst firstActiveIndex = --nCachedObjects,\n\t\t\t\t\t\t\t\tlastCachedObject = objects[firstActiveIndex];\n\t\t\t\t\tindicesByUUID[lastCachedObject.uuid] = index;\n\t\t\t\t\tobjects[index] = lastCachedObject;\n\t\t\t\t\tindicesByUUID[uuid] = firstActiveIndex;\n\t\t\t\t\tobjects[firstActiveIndex] = object; // accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor (let j = 0, m = nBindings; j !== m; ++j) {\n\t\t\t\t\t\tconst bindingsForPath = bindings[j],\n\t\t\t\t\t\t\t\t\tlastCached = bindingsForPath[firstActiveIndex];\n\t\t\t\t\t\tlet binding = bindingsForPath[index];\n\t\t\t\t\t\tbindingsForPath[index] = lastCached;\n\n\t\t\t\t\t\tif (binding === undefined) {\n\t\t\t\t\t\t\t// since we do not bother to create new bindings\n\t\t\t\t\t\t\t// for objects that are cached, the binding may\n\t\t\t\t\t\t\t// or may not exist\n\t\t\t\t\t\t\tbinding = new PropertyBinding(object, paths[j], parsedPaths[j]);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbindingsForPath[firstActiveIndex] = binding;\n\t\t\t\t\t}\n\t\t\t\t} else if (objects[index] !== knownObject) {\n\t\t\t\t\tconsole.error('THREE.AnimationObjectGroup: Different objects with the same UUID ' + 'detected. Clean the caches or recreate your infrastructure when reloading scenes.');\n\t\t\t\t} // else the object is already where we want it to be\n\n\t\t\t} // for arguments\n\n\n\t\t\tthis.nCachedObjects_ = nCachedObjects;\n\t\t}\n\n\t\tremove() {\n\t\t\tconst objects = this._objects,\n\t\t\t\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\t\t\t\tbindings = this._bindings,\n\t\t\t\t\t\tnBindings = bindings.length;\n\t\t\tlet nCachedObjects = this.nCachedObjects_;\n\n\t\t\tfor (let i = 0, n = arguments.length; i !== n; ++i) {\n\t\t\t\tconst object = arguments[i],\n\t\t\t\t\t\t\tuuid = object.uuid,\n\t\t\t\t\t\t\tindex = indicesByUUID[uuid];\n\n\t\t\t\tif (index !== undefined && index >= nCachedObjects) {\n\t\t\t\t\t// move existing object into the CACHED region\n\t\t\t\t\tconst lastCachedIndex = nCachedObjects++,\n\t\t\t\t\t\t\t\tfirstActiveObject = objects[lastCachedIndex];\n\t\t\t\t\tindicesByUUID[firstActiveObject.uuid] = index;\n\t\t\t\t\tobjects[index] = firstActiveObject;\n\t\t\t\t\tindicesByUUID[uuid] = lastCachedIndex;\n\t\t\t\t\tobjects[lastCachedIndex] = object; // accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor (let j = 0, m = nBindings; j !== m; ++j) {\n\t\t\t\t\t\tconst bindingsForPath = bindings[j],\n\t\t\t\t\t\t\t\t\tfirstActive = bindingsForPath[lastCachedIndex],\n\t\t\t\t\t\t\t\t\tbinding = bindingsForPath[index];\n\t\t\t\t\t\tbindingsForPath[index] = firstActive;\n\t\t\t\t\t\tbindingsForPath[lastCachedIndex] = binding;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} // for arguments\n\n\n\t\t\tthis.nCachedObjects_ = nCachedObjects;\n\t\t} // remove & forget\n\n\n\t\tuncache() {\n\t\t\tconst objects = this._objects,\n\t\t\t\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\t\t\t\tbindings = this._bindings,\n\t\t\t\t\t\tnBindings = bindings.length;\n\t\t\tlet nCachedObjects = this.nCachedObjects_,\n\t\t\t\t\tnObjects = objects.length;\n\n\t\t\tfor (let i = 0, n = arguments.length; i !== n; ++i) {\n\t\t\t\tconst object = arguments[i],\n\t\t\t\t\t\t\tuuid = object.uuid,\n\t\t\t\t\t\t\tindex = indicesByUUID[uuid];\n\n\t\t\t\tif (index !== undefined) {\n\t\t\t\t\tdelete indicesByUUID[uuid];\n\n\t\t\t\t\tif (index < nCachedObjects) {\n\t\t\t\t\t\t// object is cached, shrink the CACHED region\n\t\t\t\t\t\tconst firstActiveIndex = --nCachedObjects,\n\t\t\t\t\t\t\t\t\tlastCachedObject = objects[firstActiveIndex],\n\t\t\t\t\t\t\t\t\tlastIndex = --nObjects,\n\t\t\t\t\t\t\t\t\tlastObject = objects[lastIndex]; // last cached object takes this object's place\n\n\t\t\t\t\t\tindicesByUUID[lastCachedObject.uuid] = index;\n\t\t\t\t\t\tobjects[index] = lastCachedObject; // last object goes to the activated slot and pop\n\n\t\t\t\t\t\tindicesByUUID[lastObject.uuid] = firstActiveIndex;\n\t\t\t\t\t\tobjects[firstActiveIndex] = lastObject;\n\t\t\t\t\t\tobjects.pop(); // accounting is done, now do the same for all bindings\n\n\t\t\t\t\t\tfor (let j = 0, m = nBindings; j !== m; ++j) {\n\t\t\t\t\t\t\tconst bindingsForPath = bindings[j],\n\t\t\t\t\t\t\t\t\t\tlastCached = bindingsForPath[firstActiveIndex],\n\t\t\t\t\t\t\t\t\t\tlast = bindingsForPath[lastIndex];\n\t\t\t\t\t\t\tbindingsForPath[index] = lastCached;\n\t\t\t\t\t\t\tbindingsForPath[firstActiveIndex] = last;\n\t\t\t\t\t\t\tbindingsForPath.pop();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// object is active, just swap with the last and pop\n\t\t\t\t\t\tconst lastIndex = --nObjects,\n\t\t\t\t\t\t\t\t\tlastObject = objects[lastIndex];\n\n\t\t\t\t\t\tif (lastIndex > 0) {\n\t\t\t\t\t\t\tindicesByUUID[lastObject.uuid] = index;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tobjects[index] = lastObject;\n\t\t\t\t\t\tobjects.pop(); // accounting is done, now do the same for all bindings\n\n\t\t\t\t\t\tfor (let j = 0, m = nBindings; j !== m; ++j) {\n\t\t\t\t\t\t\tconst bindingsForPath = bindings[j];\n\t\t\t\t\t\t\tbindingsForPath[index] = bindingsForPath[lastIndex];\n\t\t\t\t\t\t\tbindingsForPath.pop();\n\t\t\t\t\t\t}\n\t\t\t\t\t} // cached or active\n\n\t\t\t\t} // if object is known\n\n\t\t\t} // for arguments\n\n\n\t\t\tthis.nCachedObjects_ = nCachedObjects;\n\t\t} // Internal interface used by befriended PropertyBinding.Composite:\n\n\n\t\tsubscribe_(path, parsedPath) {\n\t\t\t// returns an array of bindings for the given path that is changed\n\t\t\t// according to the contained objects in the group\n\t\t\tconst indicesByPath = this._bindingsIndicesByPath;\n\t\t\tlet index = indicesByPath[path];\n\t\t\tconst bindings = this._bindings;\n\t\t\tif (index !== undefined) return bindings[index];\n\t\t\tconst paths = this._paths,\n\t\t\t\t\t\tparsedPaths = this._parsedPaths,\n\t\t\t\t\t\tobjects = this._objects,\n\t\t\t\t\t\tnObjects = objects.length,\n\t\t\t\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\t\t\t\tbindingsForPath = new Array(nObjects);\n\t\t\tindex = bindings.length;\n\t\t\tindicesByPath[path] = index;\n\t\t\tpaths.push(path);\n\t\t\tparsedPaths.push(parsedPath);\n\t\t\tbindings.push(bindingsForPath);\n\n\t\t\tfor (let i = nCachedObjects, n = objects.length; i !== n; ++i) {\n\t\t\t\tconst object = objects[i];\n\t\t\t\tbindingsForPath[i] = new PropertyBinding(object, path, parsedPath);\n\t\t\t}\n\n\t\t\treturn bindingsForPath;\n\t\t}\n\n\t\tunsubscribe_(path) {\n\t\t\t// tells the group to forget about a property path and no longer\n\t\t\t// update the array previously obtained with 'subscribe_'\n\t\t\tconst indicesByPath = this._bindingsIndicesByPath,\n\t\t\t\t\t\tindex = indicesByPath[path];\n\n\t\t\tif (index !== undefined) {\n\t\t\t\tconst paths = this._paths,\n\t\t\t\t\t\t\tparsedPaths = this._parsedPaths,\n\t\t\t\t\t\t\tbindings = this._bindings,\n\t\t\t\t\t\t\tlastBindingsIndex = bindings.length - 1,\n\t\t\t\t\t\t\tlastBindings = bindings[lastBindingsIndex],\n\t\t\t\t\t\t\tlastBindingsPath = path[lastBindingsIndex];\n\t\t\t\tindicesByPath[lastBindingsPath] = index;\n\t\t\t\tbindings[index] = lastBindings;\n\t\t\t\tbindings.pop();\n\t\t\t\tparsedPaths[index] = parsedPaths[lastBindingsIndex];\n\t\t\t\tparsedPaths.pop();\n\t\t\t\tpaths[index] = paths[lastBindingsIndex];\n\t\t\t\tpaths.pop();\n\t\t\t}\n\t\t}\n\n\t}\n\n\tclass AnimationAction {\n\t\tconstructor(mixer, clip, localRoot = null, blendMode = clip.blendMode) {\n\t\t\tthis._mixer = mixer;\n\t\t\tthis._clip = clip;\n\t\t\tthis._localRoot = localRoot;\n\t\t\tthis.blendMode = blendMode;\n\t\t\tconst tracks = clip.tracks,\n\t\t\t\t\t\tnTracks = tracks.length,\n\t\t\t\t\t\tinterpolants = new Array(nTracks);\n\t\t\tconst interpolantSettings = {\n\t\t\t\tendingStart: ZeroCurvatureEnding,\n\t\t\t\tendingEnd: ZeroCurvatureEnding\n\t\t\t};\n\n\t\t\tfor (let i = 0; i !== nTracks; ++i) {\n\t\t\t\tconst interpolant = tracks[i].createInterpolant(null);\n\t\t\t\tinterpolants[i] = interpolant;\n\t\t\t\tinterpolant.settings = interpolantSettings;\n\t\t\t}\n\n\t\t\tthis._interpolantSettings = interpolantSettings;\n\t\t\tthis._interpolants = interpolants; // bound by the mixer\n\t\t\t// inside: PropertyMixer (managed by the mixer)\n\n\t\t\tthis._propertyBindings = new Array(nTracks);\n\t\t\tthis._cacheIndex = null; // for the memory manager\n\n\t\t\tthis._byClipCacheIndex = null; // for the memory manager\n\n\t\t\tthis._timeScaleInterpolant = null;\n\t\t\tthis._weightInterpolant = null;\n\t\t\tthis.loop = LoopRepeat;\n\t\t\tthis._loopCount = -1; // global mixer time when the action is to be started\n\t\t\t// it's set back to 'null' upon start of the action\n\n\t\t\tthis._startTime = null; // scaled local time of the action\n\t\t\t// gets clamped or wrapped to 0..clip.duration according to loop\n\n\t\t\tthis.time = 0;\n\t\t\tthis.timeScale = 1;\n\t\t\tthis._effectiveTimeScale = 1;\n\t\t\tthis.weight = 1;\n\t\t\tthis._effectiveWeight = 1;\n\t\t\tthis.repetitions = Infinity; // no. of repetitions when looping\n\n\t\t\tthis.paused = false; // true -> zero effective time scale\n\n\t\t\tthis.enabled = true; // false -> zero effective weight\n\n\t\t\tthis.clampWhenFinished = false; // keep feeding the last frame?\n\n\t\t\tthis.zeroSlopeAtStart = true; // for smooth interpolation w/o separate\n\n\t\t\tthis.zeroSlopeAtEnd = true; // clips for start, loop and end\n\t\t} // State & Scheduling\n\n\n\t\tplay() {\n\t\t\tthis._mixer._activateAction(this);\n\n\t\t\treturn this;\n\t\t}\n\n\t\tstop() {\n\t\t\tthis._mixer._deactivateAction(this);\n\n\t\t\treturn this.reset();\n\t\t}\n\n\t\treset() {\n\t\t\tthis.paused = false;\n\t\t\tthis.enabled = true;\n\t\t\tthis.time = 0; // restart clip\n\n\t\t\tthis._loopCount = -1; // forget previous loops\n\n\t\t\tthis._startTime = null; // forget scheduling\n\n\t\t\treturn this.stopFading().stopWarping();\n\t\t}\n\n\t\tisRunning() {\n\t\t\treturn this.enabled && !this.paused && this.timeScale !== 0 && this._startTime === null && this._mixer._isActiveAction(this);\n\t\t} // return true when play has been called\n\n\n\t\tisScheduled() {\n\t\t\treturn this._mixer._isActiveAction(this);\n\t\t}\n\n\t\tstartAt(time) {\n\t\t\tthis._startTime = time;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetLoop(mode, repetitions) {\n\t\t\tthis.loop = mode;\n\t\t\tthis.repetitions = repetitions;\n\t\t\treturn this;\n\t\t} // Weight\n\t\t// set the weight stopping any scheduled fading\n\t\t// although .enabled = false yields an effective weight of zero, this\n\t\t// method does *not* change .enabled, because it would be confusing\n\n\n\t\tsetEffectiveWeight(weight) {\n\t\t\tthis.weight = weight; // note: same logic as when updated at runtime\n\n\t\t\tthis._effectiveWeight = this.enabled ? weight : 0;\n\t\t\treturn this.stopFading();\n\t\t} // return the weight considering fading and .enabled\n\n\n\t\tgetEffectiveWeight() {\n\t\t\treturn this._effectiveWeight;\n\t\t}\n\n\t\tfadeIn(duration) {\n\t\t\treturn this._scheduleFading(duration, 0, 1);\n\t\t}\n\n\t\tfadeOut(duration) {\n\t\t\treturn this._scheduleFading(duration, 1, 0);\n\t\t}\n\n\t\tcrossFadeFrom(fadeOutAction, duration, warp) {\n\t\t\tfadeOutAction.fadeOut(duration);\n\t\t\tthis.fadeIn(duration);\n\n\t\t\tif (warp) {\n\t\t\t\tconst fadeInDuration = this._clip.duration,\n\t\t\t\t\t\t\tfadeOutDuration = fadeOutAction._clip.duration,\n\t\t\t\t\t\t\tstartEndRatio = fadeOutDuration / fadeInDuration,\n\t\t\t\t\t\t\tendStartRatio = fadeInDuration / fadeOutDuration;\n\t\t\t\tfadeOutAction.warp(1.0, startEndRatio, duration);\n\t\t\t\tthis.warp(endStartRatio, 1.0, duration);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tcrossFadeTo(fadeInAction, duration, warp) {\n\t\t\treturn fadeInAction.crossFadeFrom(this, duration, warp);\n\t\t}\n\n\t\tstopFading() {\n\t\t\tconst weightInterpolant = this._weightInterpolant;\n\n\t\t\tif (weightInterpolant !== null) {\n\t\t\t\tthis._weightInterpolant = null;\n\n\t\t\t\tthis._mixer._takeBackControlInterpolant(weightInterpolant);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t} // Time Scale Control\n\t\t// set the time scale stopping any scheduled warping\n\t\t// although .paused = true yields an effective time scale of zero, this\n\t\t// method does *not* change .paused, because it would be confusing\n\n\n\t\tsetEffectiveTimeScale(timeScale) {\n\t\t\tthis.timeScale = timeScale;\n\t\t\tthis._effectiveTimeScale = this.paused ? 0 : timeScale;\n\t\t\treturn this.stopWarping();\n\t\t} // return the time scale considering warping and .paused\n\n\n\t\tgetEffectiveTimeScale() {\n\t\t\treturn this._effectiveTimeScale;\n\t\t}\n\n\t\tsetDuration(duration) {\n\t\t\tthis.timeScale = this._clip.duration / duration;\n\t\t\treturn this.stopWarping();\n\t\t}\n\n\t\tsyncWith(action) {\n\t\t\tthis.time = action.time;\n\t\t\tthis.timeScale = action.timeScale;\n\t\t\treturn this.stopWarping();\n\t\t}\n\n\t\thalt(duration) {\n\t\t\treturn this.warp(this._effectiveTimeScale, 0, duration);\n\t\t}\n\n\t\twarp(startTimeScale, endTimeScale, duration) {\n\t\t\tconst mixer = this._mixer,\n\t\t\t\t\t\tnow = mixer.time,\n\t\t\t\t\t\ttimeScale = this.timeScale;\n\t\t\tlet interpolant = this._timeScaleInterpolant;\n\n\t\t\tif (interpolant === null) {\n\t\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\t\tthis._timeScaleInterpolant = interpolant;\n\t\t\t}\n\n\t\t\tconst times = interpolant.parameterPositions,\n\t\t\t\t\t\tvalues = interpolant.sampleValues;\n\t\t\ttimes[0] = now;\n\t\t\ttimes[1] = now + duration;\n\t\t\tvalues[0] = startTimeScale / timeScale;\n\t\t\tvalues[1] = endTimeScale / timeScale;\n\t\t\treturn this;\n\t\t}\n\n\t\tstopWarping() {\n\t\t\tconst timeScaleInterpolant = this._timeScaleInterpolant;\n\n\t\t\tif (timeScaleInterpolant !== null) {\n\t\t\t\tthis._timeScaleInterpolant = null;\n\n\t\t\t\tthis._mixer._takeBackControlInterpolant(timeScaleInterpolant);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t} // Object Accessors\n\n\n\t\tgetMixer() {\n\t\t\treturn this._mixer;\n\t\t}\n\n\t\tgetClip() {\n\t\t\treturn this._clip;\n\t\t}\n\n\t\tgetRoot() {\n\t\t\treturn this._localRoot || this._mixer._root;\n\t\t} // Interna\n\n\n\t\t_update(time, deltaTime, timeDirection, accuIndex) {\n\t\t\t// called by the mixer\n\t\t\tif (!this.enabled) {\n\t\t\t\t// call ._updateWeight() to update ._effectiveWeight\n\t\t\t\tthis._updateWeight(time);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst startTime = this._startTime;\n\n\t\t\tif (startTime !== null) {\n\t\t\t\t// check for scheduled start of action\n\t\t\t\tconst timeRunning = (time - startTime) * timeDirection;\n\n\t\t\t\tif (timeRunning < 0 || timeDirection === 0) {\n\t\t\t\t\treturn; // yet to come / don't decide when delta = 0\n\t\t\t\t} // start\n\n\n\t\t\t\tthis._startTime = null; // unschedule\n\n\t\t\t\tdeltaTime = timeDirection * timeRunning;\n\t\t\t} // apply time scale and advance time\n\n\n\t\t\tdeltaTime *= this._updateTimeScale(time);\n\n\t\t\tconst clipTime = this._updateTime(deltaTime); // note: _updateTime may disable the action resulting in\n\t\t\t// an effective weight of 0\n\n\n\t\t\tconst weight = this._updateWeight(time);\n\n\t\t\tif (weight > 0) {\n\t\t\t\tconst interpolants = this._interpolants;\n\t\t\t\tconst propertyMixers = this._propertyBindings;\n\n\t\t\t\tswitch (this.blendMode) {\n\t\t\t\t\tcase AdditiveAnimationBlendMode:\n\t\t\t\t\t\tfor (let j = 0, m = interpolants.length; j !== m; ++j) {\n\t\t\t\t\t\t\tinterpolants[j].evaluate(clipTime);\n\t\t\t\t\t\t\tpropertyMixers[j].accumulateAdditive(weight);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase NormalAnimationBlendMode:\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tfor (let j = 0, m = interpolants.length; j !== m; ++j) {\n\t\t\t\t\t\t\tinterpolants[j].evaluate(clipTime);\n\t\t\t\t\t\t\tpropertyMixers[j].accumulate(accuIndex, weight);\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t_updateWeight(time) {\n\t\t\tlet weight = 0;\n\n\t\t\tif (this.enabled) {\n\t\t\t\tweight = this.weight;\n\t\t\t\tconst interpolant = this._weightInterpolant;\n\n\t\t\t\tif (interpolant !== null) {\n\t\t\t\t\tconst interpolantValue = interpolant.evaluate(time)[0];\n\t\t\t\t\tweight *= interpolantValue;\n\n\t\t\t\t\tif (time > interpolant.parameterPositions[1]) {\n\t\t\t\t\t\tthis.stopFading();\n\n\t\t\t\t\t\tif (interpolantValue === 0) {\n\t\t\t\t\t\t\t// faded out, disable\n\t\t\t\t\t\t\tthis.enabled = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._effectiveWeight = weight;\n\t\t\treturn weight;\n\t\t}\n\n\t\t_updateTimeScale(time) {\n\t\t\tlet timeScale = 0;\n\n\t\t\tif (!this.paused) {\n\t\t\t\ttimeScale = this.timeScale;\n\t\t\t\tconst interpolant = this._timeScaleInterpolant;\n\n\t\t\t\tif (interpolant !== null) {\n\t\t\t\t\tconst interpolantValue = interpolant.evaluate(time)[0];\n\t\t\t\t\ttimeScale *= interpolantValue;\n\n\t\t\t\t\tif (time > interpolant.parameterPositions[1]) {\n\t\t\t\t\t\tthis.stopWarping();\n\n\t\t\t\t\t\tif (timeScale === 0) {\n\t\t\t\t\t\t\t// motion has halted, pause\n\t\t\t\t\t\t\tthis.paused = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// warp done - apply final time scale\n\t\t\t\t\t\t\tthis.timeScale = timeScale;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._effectiveTimeScale = timeScale;\n\t\t\treturn timeScale;\n\t\t}\n\n\t\t_updateTime(deltaTime) {\n\t\t\tconst duration = this._clip.duration;\n\t\t\tconst loop = this.loop;\n\t\t\tlet time = this.time + deltaTime;\n\t\t\tlet loopCount = this._loopCount;\n\t\t\tconst pingPong = loop === LoopPingPong;\n\n\t\t\tif (deltaTime === 0) {\n\t\t\t\tif (loopCount === -1) return time;\n\t\t\t\treturn pingPong && (loopCount & 1) === 1 ? duration - time : time;\n\t\t\t}\n\n\t\t\tif (loop === LoopOnce) {\n\t\t\t\tif (loopCount === -1) {\n\t\t\t\t\t// just started\n\t\t\t\t\tthis._loopCount = 0;\n\n\t\t\t\t\tthis._setEndings(true, true, false);\n\t\t\t\t}\n\n\t\t\t\thandle_stop: {\n\t\t\t\t\tif (time >= duration) {\n\t\t\t\t\t\ttime = duration;\n\t\t\t\t\t} else if (time < 0) {\n\t\t\t\t\t\ttime = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.time = time;\n\t\t\t\t\t\tbreak handle_stop;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.clampWhenFinished) this.paused = true;else this.enabled = false;\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent({\n\t\t\t\t\t\ttype: 'finished',\n\t\t\t\t\t\taction: this,\n\t\t\t\t\t\tdirection: deltaTime < 0 ? -1 : 1\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// repetitive Repeat or PingPong\n\t\t\t\tif (loopCount === -1) {\n\t\t\t\t\t// just started\n\t\t\t\t\tif (deltaTime >= 0) {\n\t\t\t\t\t\tloopCount = 0;\n\n\t\t\t\t\t\tthis._setEndings(true, this.repetitions === 0, pingPong);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// when looping in reverse direction, the initial\n\t\t\t\t\t\t// transition through zero counts as a repetition,\n\t\t\t\t\t\t// so leave loopCount at -1\n\t\t\t\t\t\tthis._setEndings(this.repetitions === 0, true, pingPong);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (time >= duration || time < 0) {\n\t\t\t\t\t// wrap around\n\t\t\t\t\tconst loopDelta = Math.floor(time / duration); // signed\n\n\t\t\t\t\ttime -= duration * loopDelta;\n\t\t\t\t\tloopCount += Math.abs(loopDelta);\n\t\t\t\t\tconst pending = this.repetitions - loopCount;\n\n\t\t\t\t\tif (pending <= 0) {\n\t\t\t\t\t\t// have to stop (switch state, clamp time, fire event)\n\t\t\t\t\t\tif (this.clampWhenFinished) this.paused = true;else this.enabled = false;\n\t\t\t\t\t\ttime = deltaTime > 0 ? duration : 0;\n\t\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\t\tthis._mixer.dispatchEvent({\n\t\t\t\t\t\t\ttype: 'finished',\n\t\t\t\t\t\t\taction: this,\n\t\t\t\t\t\t\tdirection: deltaTime > 0 ? 1 : -1\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// keep running\n\t\t\t\t\t\tif (pending === 1) {\n\t\t\t\t\t\t\t// entering the last round\n\t\t\t\t\t\t\tconst atStart = deltaTime < 0;\n\n\t\t\t\t\t\t\tthis._setEndings(atStart, !atStart, pingPong);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._setEndings(false, false, pingPong);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._loopCount = loopCount;\n\t\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\t\tthis._mixer.dispatchEvent({\n\t\t\t\t\t\t\ttype: 'loop',\n\t\t\t\t\t\t\taction: this,\n\t\t\t\t\t\t\tloopDelta: loopDelta\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.time = time;\n\t\t\t\t}\n\n\t\t\t\tif (pingPong && (loopCount & 1) === 1) {\n\t\t\t\t\t// invert time for the \"pong round\"\n\t\t\t\t\treturn duration - time;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn time;\n\t\t}\n\n\t\t_setEndings(atStart, atEnd, pingPong) {\n\t\t\tconst settings = this._interpolantSettings;\n\n\t\t\tif (pingPong) {\n\t\t\t\tsettings.endingStart = ZeroSlopeEnding;\n\t\t\t\tsettings.endingEnd = ZeroSlopeEnding;\n\t\t\t} else {\n\t\t\t\t// assuming for LoopOnce atStart == atEnd == true\n\t\t\t\tif (atStart) {\n\t\t\t\t\tsettings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\t\t\t\t} else {\n\t\t\t\t\tsettings.endingStart = WrapAroundEnding;\n\t\t\t\t}\n\n\t\t\t\tif (atEnd) {\n\t\t\t\t\tsettings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\t\t\t\t} else {\n\t\t\t\t\tsettings.endingEnd = WrapAroundEnding;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t_scheduleFading(duration, weightNow, weightThen) {\n\t\t\tconst mixer = this._mixer,\n\t\t\t\t\t\tnow = mixer.time;\n\t\t\tlet interpolant = this._weightInterpolant;\n\n\t\t\tif (interpolant === null) {\n\t\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\t\tthis._weightInterpolant = interpolant;\n\t\t\t}\n\n\t\t\tconst times = interpolant.parameterPositions,\n\t\t\t\t\t\tvalues = interpolant.sampleValues;\n\t\t\ttimes[0] = now;\n\t\t\tvalues[0] = weightNow;\n\t\t\ttimes[1] = now + duration;\n\t\t\tvalues[1] = weightThen;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tconst _controlInterpolantsResultBuffer = /*@__PURE__*/new Float32Array(1);\n\n\tclass AnimationMixer extends EventDispatcher {\n\t\tconstructor(root) {\n\t\t\tsuper();\n\t\t\tthis._root = root;\n\n\t\t\tthis._initMemoryManager();\n\n\t\t\tthis._accuIndex = 0;\n\t\t\tthis.time = 0;\n\t\t\tthis.timeScale = 1.0;\n\t\t}\n\n\t\t_bindAction(action, prototypeAction) {\n\t\t\tconst root = action._localRoot || this._root,\n\t\t\t\t\t\ttracks = action._clip.tracks,\n\t\t\t\t\t\tnTracks = tracks.length,\n\t\t\t\t\t\tbindings = action._propertyBindings,\n\t\t\t\t\t\tinterpolants = action._interpolants,\n\t\t\t\t\t\trootUuid = root.uuid,\n\t\t\t\t\t\tbindingsByRoot = this._bindingsByRootAndName;\n\t\t\tlet bindingsByName = bindingsByRoot[rootUuid];\n\n\t\t\tif (bindingsByName === undefined) {\n\t\t\t\tbindingsByName = {};\n\t\t\t\tbindingsByRoot[rootUuid] = bindingsByName;\n\t\t\t}\n\n\t\t\tfor (let i = 0; i !== nTracks; ++i) {\n\t\t\t\tconst track = tracks[i],\n\t\t\t\t\t\t\ttrackName = track.name;\n\t\t\t\tlet binding = bindingsByName[trackName];\n\n\t\t\t\tif (binding !== undefined) {\n\t\t\t\t\t++binding.referenceCount;\n\t\t\t\t\tbindings[i] = binding;\n\t\t\t\t} else {\n\t\t\t\t\tbinding = bindings[i];\n\n\t\t\t\t\tif (binding !== undefined) {\n\t\t\t\t\t\t// existing binding, make sure the cache knows\n\t\t\t\t\t\tif (binding._cacheIndex === null) {\n\t\t\t\t\t\t\t++binding.referenceCount;\n\n\t\t\t\t\t\t\tthis._addInactiveBinding(binding, rootUuid, trackName);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst path = prototypeAction && prototypeAction._propertyBindings[i].binding.parsedPath;\n\t\t\t\t\tbinding = new PropertyMixer(PropertyBinding.create(root, trackName, path), track.ValueTypeName, track.getValueSize());\n\t\t\t\t\t++binding.referenceCount;\n\n\t\t\t\t\tthis._addInactiveBinding(binding, rootUuid, trackName);\n\n\t\t\t\t\tbindings[i] = binding;\n\t\t\t\t}\n\n\t\t\t\tinterpolants[i].resultBuffer = binding.buffer;\n\t\t\t}\n\t\t}\n\n\t\t_activateAction(action) {\n\t\t\tif (!this._isActiveAction(action)) {\n\t\t\t\tif (action._cacheIndex === null) {\n\t\t\t\t\t// this action has been forgotten by the cache, but the user\n\t\t\t\t\t// appears to be still using it -> rebind\n\t\t\t\t\tconst rootUuid = (action._localRoot || this._root).uuid,\n\t\t\t\t\t\t\t\tclipUuid = action._clip.uuid,\n\t\t\t\t\t\t\t\tactionsForClip = this._actionsByClip[clipUuid];\n\n\t\t\t\t\tthis._bindAction(action, actionsForClip && actionsForClip.knownActions[0]);\n\n\t\t\t\t\tthis._addInactiveAction(action, clipUuid, rootUuid);\n\t\t\t\t}\n\n\t\t\t\tconst bindings = action._propertyBindings; // increment reference counts / sort out state\n\n\t\t\t\tfor (let i = 0, n = bindings.length; i !== n; ++i) {\n\t\t\t\t\tconst binding = bindings[i];\n\n\t\t\t\t\tif (binding.useCount++ === 0) {\n\t\t\t\t\t\tthis._lendBinding(binding);\n\n\t\t\t\t\t\tbinding.saveOriginalState();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis._lendAction(action);\n\t\t\t}\n\t\t}\n\n\t\t_deactivateAction(action) {\n\t\t\tif (this._isActiveAction(action)) {\n\t\t\t\tconst bindings = action._propertyBindings; // decrement reference counts / sort out state\n\n\t\t\t\tfor (let i = 0, n = bindings.length; i !== n; ++i) {\n\t\t\t\t\tconst binding = bindings[i];\n\n\t\t\t\t\tif (--binding.useCount === 0) {\n\t\t\t\t\t\tbinding.restoreOriginalState();\n\n\t\t\t\t\t\tthis._takeBackBinding(binding);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis._takeBackAction(action);\n\t\t\t}\n\t\t} // Memory manager\n\n\n\t\t_initMemoryManager() {\n\t\t\tthis._actions = []; // 'nActiveActions' followed by inactive ones\n\n\t\t\tthis._nActiveActions = 0;\n\t\t\tthis._actionsByClip = {}; // inside:\n\t\t\t// {\n\t\t\t// \tknownActions: Array< AnimationAction > - used as prototypes\n\t\t\t// \tactionByRoot: AnimationAction - lookup\n\t\t\t// }\n\n\t\t\tthis._bindings = []; // 'nActiveBindings' followed by inactive ones\n\n\t\t\tthis._nActiveBindings = 0;\n\t\t\tthis._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n\t\t\tthis._controlInterpolants = []; // same game as above\n\n\t\t\tthis._nActiveControlInterpolants = 0;\n\t\t\tconst scope = this;\n\t\t\tthis.stats = {\n\t\t\t\tactions: {\n\t\t\t\t\tget total() {\n\t\t\t\t\t\treturn scope._actions.length;\n\t\t\t\t\t},\n\n\t\t\t\t\tget inUse() {\n\t\t\t\t\t\treturn scope._nActiveActions;\n\t\t\t\t\t}\n\n\t\t\t\t},\n\t\t\t\tbindings: {\n\t\t\t\t\tget total() {\n\t\t\t\t\t\treturn scope._bindings.length;\n\t\t\t\t\t},\n\n\t\t\t\t\tget inUse() {\n\t\t\t\t\t\treturn scope._nActiveBindings;\n\t\t\t\t\t}\n\n\t\t\t\t},\n\t\t\t\tcontrolInterpolants: {\n\t\t\t\t\tget total() {\n\t\t\t\t\t\treturn scope._controlInterpolants.length;\n\t\t\t\t\t},\n\n\t\t\t\t\tget inUse() {\n\t\t\t\t\t\treturn scope._nActiveControlInterpolants;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t};\n\t\t} // Memory management for AnimationAction objects\n\n\n\t\t_isActiveAction(action) {\n\t\t\tconst index = action._cacheIndex;\n\t\t\treturn index !== null && index < this._nActiveActions;\n\t\t}\n\n\t\t_addInactiveAction(action, clipUuid, rootUuid) {\n\t\t\tconst actions = this._actions,\n\t\t\t\t\t\tactionsByClip = this._actionsByClip;\n\t\t\tlet actionsForClip = actionsByClip[clipUuid];\n\n\t\t\tif (actionsForClip === undefined) {\n\t\t\t\tactionsForClip = {\n\t\t\t\t\tknownActions: [action],\n\t\t\t\t\tactionByRoot: {}\n\t\t\t\t};\n\t\t\t\taction._byClipCacheIndex = 0;\n\t\t\t\tactionsByClip[clipUuid] = actionsForClip;\n\t\t\t} else {\n\t\t\t\tconst knownActions = actionsForClip.knownActions;\n\t\t\t\taction._byClipCacheIndex = knownActions.length;\n\t\t\t\tknownActions.push(action);\n\t\t\t}\n\n\t\t\taction._cacheIndex = actions.length;\n\t\t\tactions.push(action);\n\t\t\tactionsForClip.actionByRoot[rootUuid] = action;\n\t\t}\n\n\t\t_removeInactiveAction(action) {\n\t\t\tconst actions = this._actions,\n\t\t\t\t\t\tlastInactiveAction = actions[actions.length - 1],\n\t\t\t\t\t\tcacheIndex = action._cacheIndex;\n\t\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\t\tactions[cacheIndex] = lastInactiveAction;\n\t\t\tactions.pop();\n\t\t\taction._cacheIndex = null;\n\t\t\tconst clipUuid = action._clip.uuid,\n\t\t\t\t\t\tactionsByClip = this._actionsByClip,\n\t\t\t\t\t\tactionsForClip = actionsByClip[clipUuid],\n\t\t\t\t\t\tknownActionsForClip = actionsForClip.knownActions,\n\t\t\t\t\t\tlastKnownAction = knownActionsForClip[knownActionsForClip.length - 1],\n\t\t\t\t\t\tbyClipCacheIndex = action._byClipCacheIndex;\n\t\t\tlastKnownAction._byClipCacheIndex = byClipCacheIndex;\n\t\t\tknownActionsForClip[byClipCacheIndex] = lastKnownAction;\n\t\t\tknownActionsForClip.pop();\n\t\t\taction._byClipCacheIndex = null;\n\t\t\tconst actionByRoot = actionsForClip.actionByRoot,\n\t\t\t\t\t\trootUuid = (action._localRoot || this._root).uuid;\n\t\t\tdelete actionByRoot[rootUuid];\n\n\t\t\tif (knownActionsForClip.length === 0) {\n\t\t\t\tdelete actionsByClip[clipUuid];\n\t\t\t}\n\n\t\t\tthis._removeInactiveBindingsForAction(action);\n\t\t}\n\n\t\t_removeInactiveBindingsForAction(action) {\n\t\t\tconst bindings = action._propertyBindings;\n\n\t\t\tfor (let i = 0, n = bindings.length; i !== n; ++i) {\n\t\t\t\tconst binding = bindings[i];\n\n\t\t\t\tif (--binding.referenceCount === 0) {\n\t\t\t\t\tthis._removeInactiveBinding(binding);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t_lendAction(action) {\n\t\t\t// [ active actions |\tinactive actions\t]\n\t\t\t// [\tactive actions >| inactive actions ]\n\t\t\t//\t\t\t\t\t\t\t\t s\t\t\t\ta\n\t\t\t//\t\t\t\t\t\t\t\t\t<-swap->\n\t\t\t//\t\t\t\t\t\t\t\t a\t\t\t\ts\n\t\t\tconst actions = this._actions,\n\t\t\t\t\t\tprevIndex = action._cacheIndex,\n\t\t\t\t\t\tlastActiveIndex = this._nActiveActions++,\n\t\t\t\t\t\tfirstInactiveAction = actions[lastActiveIndex];\n\t\t\taction._cacheIndex = lastActiveIndex;\n\t\t\tactions[lastActiveIndex] = action;\n\t\t\tfirstInactiveAction._cacheIndex = prevIndex;\n\t\t\tactions[prevIndex] = firstInactiveAction;\n\t\t}\n\n\t\t_takeBackAction(action) {\n\t\t\t// [\tactive actions\t| inactive actions ]\n\t\t\t// [ active actions |< inactive actions\t]\n\t\t\t//\t\t\t\ta\t\t\t\ts\n\t\t\t//\t\t\t\t <-swap->\n\t\t\t//\t\t\t\ts\t\t\t\ta\n\t\t\tconst actions = this._actions,\n\t\t\t\t\t\tprevIndex = action._cacheIndex,\n\t\t\t\t\t\tfirstInactiveIndex = --this._nActiveActions,\n\t\t\t\t\t\tlastActiveAction = actions[firstInactiveIndex];\n\t\t\taction._cacheIndex = firstInactiveIndex;\n\t\t\tactions[firstInactiveIndex] = action;\n\t\t\tlastActiveAction._cacheIndex = prevIndex;\n\t\t\tactions[prevIndex] = lastActiveAction;\n\t\t} // Memory management for PropertyMixer objects\n\n\n\t\t_addInactiveBinding(binding, rootUuid, trackName) {\n\t\t\tconst bindingsByRoot = this._bindingsByRootAndName,\n\t\t\t\t\t\tbindings = this._bindings;\n\t\t\tlet bindingByName = bindingsByRoot[rootUuid];\n\n\t\t\tif (bindingByName === undefined) {\n\t\t\t\tbindingByName = {};\n\t\t\t\tbindingsByRoot[rootUuid] = bindingByName;\n\t\t\t}\n\n\t\t\tbindingByName[trackName] = binding;\n\t\t\tbinding._cacheIndex = bindings.length;\n\t\t\tbindings.push(binding);\n\t\t}\n\n\t\t_removeInactiveBinding(binding) {\n\t\t\tconst bindings = this._bindings,\n\t\t\t\t\t\tpropBinding = binding.binding,\n\t\t\t\t\t\trootUuid = propBinding.rootNode.uuid,\n\t\t\t\t\t\ttrackName = propBinding.path,\n\t\t\t\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\t\t\t\tbindingByName = bindingsByRoot[rootUuid],\n\t\t\t\t\t\tlastInactiveBinding = bindings[bindings.length - 1],\n\t\t\t\t\t\tcacheIndex = binding._cacheIndex;\n\t\t\tlastInactiveBinding._cacheIndex = cacheIndex;\n\t\t\tbindings[cacheIndex] = lastInactiveBinding;\n\t\t\tbindings.pop();\n\t\t\tdelete bindingByName[trackName];\n\n\t\t\tif (Object.keys(bindingByName).length === 0) {\n\t\t\t\tdelete bindingsByRoot[rootUuid];\n\t\t\t}\n\t\t}\n\n\t\t_lendBinding(binding) {\n\t\t\tconst bindings = this._bindings,\n\t\t\t\t\t\tprevIndex = binding._cacheIndex,\n\t\t\t\t\t\tlastActiveIndex = this._nActiveBindings++,\n\t\t\t\t\t\tfirstInactiveBinding = bindings[lastActiveIndex];\n\t\t\tbinding._cacheIndex = lastActiveIndex;\n\t\t\tbindings[lastActiveIndex] = binding;\n\t\t\tfirstInactiveBinding._cacheIndex = prevIndex;\n\t\t\tbindings[prevIndex] = firstInactiveBinding;\n\t\t}\n\n\t\t_takeBackBinding(binding) {\n\t\t\tconst bindings = this._bindings,\n\t\t\t\t\t\tprevIndex = binding._cacheIndex,\n\t\t\t\t\t\tfirstInactiveIndex = --this._nActiveBindings,\n\t\t\t\t\t\tlastActiveBinding = bindings[firstInactiveIndex];\n\t\t\tbinding._cacheIndex = firstInactiveIndex;\n\t\t\tbindings[firstInactiveIndex] = binding;\n\t\t\tlastActiveBinding._cacheIndex = prevIndex;\n\t\t\tbindings[prevIndex] = lastActiveBinding;\n\t\t} // Memory management of Interpolants for weight and time scale\n\n\n\t\t_lendControlInterpolant() {\n\t\t\tconst interpolants = this._controlInterpolants,\n\t\t\t\t\t\tlastActiveIndex = this._nActiveControlInterpolants++;\n\t\t\tlet interpolant = interpolants[lastActiveIndex];\n\n\t\t\tif (interpolant === undefined) {\n\t\t\t\tinterpolant = new LinearInterpolant(new Float32Array(2), new Float32Array(2), 1, _controlInterpolantsResultBuffer);\n\t\t\t\tinterpolant.__cacheIndex = lastActiveIndex;\n\t\t\t\tinterpolants[lastActiveIndex] = interpolant;\n\t\t\t}\n\n\t\t\treturn interpolant;\n\t\t}\n\n\t\t_takeBackControlInterpolant(interpolant) {\n\t\t\tconst interpolants = this._controlInterpolants,\n\t\t\t\t\t\tprevIndex = interpolant.__cacheIndex,\n\t\t\t\t\t\tfirstInactiveIndex = --this._nActiveControlInterpolants,\n\t\t\t\t\t\tlastActiveInterpolant = interpolants[firstInactiveIndex];\n\t\t\tinterpolant.__cacheIndex = firstInactiveIndex;\n\t\t\tinterpolants[firstInactiveIndex] = interpolant;\n\t\t\tlastActiveInterpolant.__cacheIndex = prevIndex;\n\t\t\tinterpolants[prevIndex] = lastActiveInterpolant;\n\t\t} // return an action for a clip optionally using a custom root target\n\t\t// object (this method allocates a lot of dynamic memory in case a\n\t\t// previously unknown clip/root combination is specified)\n\n\n\t\tclipAction(clip, optionalRoot, blendMode) {\n\t\t\tconst root = optionalRoot || this._root,\n\t\t\t\t\t\trootUuid = root.uuid;\n\t\t\tlet clipObject = typeof clip === 'string' ? AnimationClip.findByName(root, clip) : clip;\n\t\t\tconst clipUuid = clipObject !== null ? clipObject.uuid : clip;\n\t\t\tconst actionsForClip = this._actionsByClip[clipUuid];\n\t\t\tlet prototypeAction = null;\n\n\t\t\tif (blendMode === undefined) {\n\t\t\t\tif (clipObject !== null) {\n\t\t\t\t\tblendMode = clipObject.blendMode;\n\t\t\t\t} else {\n\t\t\t\t\tblendMode = NormalAnimationBlendMode;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (actionsForClip !== undefined) {\n\t\t\t\tconst existingAction = actionsForClip.actionByRoot[rootUuid];\n\n\t\t\t\tif (existingAction !== undefined && existingAction.blendMode === blendMode) {\n\t\t\t\t\treturn existingAction;\n\t\t\t\t} // we know the clip, so we don't have to parse all\n\t\t\t\t// the bindings again but can just copy\n\n\n\t\t\t\tprototypeAction = actionsForClip.knownActions[0]; // also, take the clip from the prototype action\n\n\t\t\t\tif (clipObject === null) clipObject = prototypeAction._clip;\n\t\t\t} // clip must be known when specified via string\n\n\n\t\t\tif (clipObject === null) return null; // allocate all resources required to run it\n\n\t\t\tconst newAction = new AnimationAction(this, clipObject, optionalRoot, blendMode);\n\n\t\t\tthis._bindAction(newAction, prototypeAction); // and make the action known to the memory manager\n\n\n\t\t\tthis._addInactiveAction(newAction, clipUuid, rootUuid);\n\n\t\t\treturn newAction;\n\t\t} // get an existing action\n\n\n\t\texistingAction(clip, optionalRoot) {\n\t\t\tconst root = optionalRoot || this._root,\n\t\t\t\t\t\trootUuid = root.uuid,\n\t\t\t\t\t\tclipObject = typeof clip === 'string' ? AnimationClip.findByName(root, clip) : clip,\n\t\t\t\t\t\tclipUuid = clipObject ? clipObject.uuid : clip,\n\t\t\t\t\t\tactionsForClip = this._actionsByClip[clipUuid];\n\n\t\t\tif (actionsForClip !== undefined) {\n\t\t\t\treturn actionsForClip.actionByRoot[rootUuid] || null;\n\t\t\t}\n\n\t\t\treturn null;\n\t\t} // deactivates all previously scheduled actions\n\n\n\t\tstopAllAction() {\n\t\t\tconst actions = this._actions,\n\t\t\t\t\t\tnActions = this._nActiveActions;\n\n\t\t\tfor (let i = nActions - 1; i >= 0; --i) {\n\t\t\t\tactions[i].stop();\n\t\t\t}\n\n\t\t\treturn this;\n\t\t} // advance the time and update apply the animation\n\n\n\t\tupdate(deltaTime) {\n\t\t\tdeltaTime *= this.timeScale;\n\t\t\tconst actions = this._actions,\n\t\t\t\t\t\tnActions = this._nActiveActions,\n\t\t\t\t\t\ttime = this.time += deltaTime,\n\t\t\t\t\t\ttimeDirection = Math.sign(deltaTime),\n\t\t\t\t\t\taccuIndex = this._accuIndex ^= 1; // run active actions\n\n\t\t\tfor (let i = 0; i !== nActions; ++i) {\n\t\t\t\tconst action = actions[i];\n\n\t\t\t\taction._update(time, deltaTime, timeDirection, accuIndex);\n\t\t\t} // update scene graph\n\n\n\t\t\tconst bindings = this._bindings,\n\t\t\t\t\t\tnBindings = this._nActiveBindings;\n\n\t\t\tfor (let i = 0; i !== nBindings; ++i) {\n\t\t\t\tbindings[i].apply(accuIndex);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t} // Allows you to seek to a specific time in an animation.\n\n\n\t\tsetTime(timeInSeconds) {\n\t\t\tthis.time = 0; // Zero out time attribute for AnimationMixer object;\n\n\t\t\tfor (let i = 0; i < this._actions.length; i++) {\n\t\t\t\tthis._actions[i].time = 0; // Zero out time attribute for all associated AnimationAction objects.\n\t\t\t}\n\n\t\t\treturn this.update(timeInSeconds); // Update used to set exact time. Returns \"this\" AnimationMixer object.\n\t\t} // return this mixer's root target object\n\n\n\t\tgetRoot() {\n\t\t\treturn this._root;\n\t\t} // free all resources specific to a particular clip\n\n\n\t\tuncacheClip(clip) {\n\t\t\tconst actions = this._actions,\n\t\t\t\t\t\tclipUuid = clip.uuid,\n\t\t\t\t\t\tactionsByClip = this._actionsByClip,\n\t\t\t\t\t\tactionsForClip = actionsByClip[clipUuid];\n\n\t\t\tif (actionsForClip !== undefined) {\n\t\t\t\t// note: just calling _removeInactiveAction would mess up the\n\t\t\t\t// iteration state and also require updating the state we can\n\t\t\t\t// just throw away\n\t\t\t\tconst actionsToRemove = actionsForClip.knownActions;\n\n\t\t\t\tfor (let i = 0, n = actionsToRemove.length; i !== n; ++i) {\n\t\t\t\t\tconst action = actionsToRemove[i];\n\n\t\t\t\t\tthis._deactivateAction(action);\n\n\t\t\t\t\tconst cacheIndex = action._cacheIndex,\n\t\t\t\t\t\t\t\tlastInactiveAction = actions[actions.length - 1];\n\t\t\t\t\taction._cacheIndex = null;\n\t\t\t\t\taction._byClipCacheIndex = null;\n\t\t\t\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\t\t\t\tactions[cacheIndex] = lastInactiveAction;\n\t\t\t\t\tactions.pop();\n\n\t\t\t\t\tthis._removeInactiveBindingsForAction(action);\n\t\t\t\t}\n\n\t\t\t\tdelete actionsByClip[clipUuid];\n\t\t\t}\n\t\t} // free all resources specific to a particular root target object\n\n\n\t\tuncacheRoot(root) {\n\t\t\tconst rootUuid = root.uuid,\n\t\t\t\t\t\tactionsByClip = this._actionsByClip;\n\n\t\t\tfor (const clipUuid in actionsByClip) {\n\t\t\t\tconst actionByRoot = actionsByClip[clipUuid].actionByRoot,\n\t\t\t\t\t\t\taction = actionByRoot[rootUuid];\n\n\t\t\t\tif (action !== undefined) {\n\t\t\t\t\tthis._deactivateAction(action);\n\n\t\t\t\t\tthis._removeInactiveAction(action);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst bindingsByRoot = this._bindingsByRootAndName,\n\t\t\t\t\t\tbindingByName = bindingsByRoot[rootUuid];\n\n\t\t\tif (bindingByName !== undefined) {\n\t\t\t\tfor (const trackName in bindingByName) {\n\t\t\t\t\tconst binding = bindingByName[trackName];\n\t\t\t\t\tbinding.restoreOriginalState();\n\n\t\t\t\t\tthis._removeInactiveBinding(binding);\n\t\t\t\t}\n\t\t\t}\n\t\t} // remove a targeted clip from the cache\n\n\n\t\tuncacheAction(clip, optionalRoot) {\n\t\t\tconst action = this.existingAction(clip, optionalRoot);\n\n\t\t\tif (action !== null) {\n\t\t\t\tthis._deactivateAction(action);\n\n\t\t\t\tthis._removeInactiveAction(action);\n\t\t\t}\n\t\t}\n\n\t}\n\n\tclass Uniform {\n\t\tconstructor(value) {\n\t\t\tif (typeof value === 'string') {\n\t\t\t\tconsole.warn('THREE.Uniform: Type parameter is no longer needed.');\n\t\t\t\tvalue = arguments[1];\n\t\t\t}\n\n\t\t\tthis.value = value;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new Uniform(this.value.clone === undefined ? this.value : this.value.clone());\n\t\t}\n\n\t}\n\n\tclass InstancedInterleavedBuffer extends InterleavedBuffer {\n\t\tconstructor(array, stride, meshPerAttribute = 1) {\n\t\t\tsuper(array, stride);\n\t\t\tthis.isInstancedInterleavedBuffer = true;\n\t\t\tthis.meshPerAttribute = meshPerAttribute;\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source);\n\t\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\t\t\treturn this;\n\t\t}\n\n\t\tclone(data) {\n\t\t\tconst ib = super.clone(data);\n\t\t\tib.meshPerAttribute = this.meshPerAttribute;\n\t\t\treturn ib;\n\t\t}\n\n\t\ttoJSON(data) {\n\t\t\tconst json = super.toJSON(data);\n\t\t\tjson.isInstancedInterleavedBuffer = true;\n\t\t\tjson.meshPerAttribute = this.meshPerAttribute;\n\t\t\treturn json;\n\t\t}\n\n\t}\n\n\tclass GLBufferAttribute {\n\t\tconstructor(buffer, type, itemSize, elementSize, count) {\n\t\t\tthis.isGLBufferAttribute = true;\n\t\t\tthis.buffer = buffer;\n\t\t\tthis.type = type;\n\t\t\tthis.itemSize = itemSize;\n\t\t\tthis.elementSize = elementSize;\n\t\t\tthis.count = count;\n\t\t\tthis.version = 0;\n\t\t}\n\n\t\tset needsUpdate(value) {\n\t\t\tif (value === true) this.version++;\n\t\t}\n\n\t\tsetBuffer(buffer) {\n\t\t\tthis.buffer = buffer;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetType(type, elementSize) {\n\t\t\tthis.type = type;\n\t\t\tthis.elementSize = elementSize;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetItemSize(itemSize) {\n\t\t\tthis.itemSize = itemSize;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetCount(count) {\n\t\t\tthis.count = count;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass Raycaster {\n\t\tconstructor(origin, direction, near = 0, far = Infinity) {\n\t\t\tthis.ray = new Ray(origin, direction); // direction is assumed to be normalized (for accurate distance calculations)\n\n\t\t\tthis.near = near;\n\t\t\tthis.far = far;\n\t\t\tthis.camera = null;\n\t\t\tthis.layers = new Layers();\n\t\t\tthis.params = {\n\t\t\t\tMesh: {},\n\t\t\t\tLine: {\n\t\t\t\t\tthreshold: 1\n\t\t\t\t},\n\t\t\t\tLOD: {},\n\t\t\t\tPoints: {\n\t\t\t\t\tthreshold: 1\n\t\t\t\t},\n\t\t\t\tSprite: {}\n\t\t\t};\n\t\t}\n\n\t\tset(origin, direction) {\n\t\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\t\t\tthis.ray.set(origin, direction);\n\t\t}\n\n\t\tsetFromCamera(coords, camera) {\n\t\t\tif (camera.isPerspectiveCamera) {\n\t\t\t\tthis.ray.origin.setFromMatrixPosition(camera.matrixWorld);\n\t\t\t\tthis.ray.direction.set(coords.x, coords.y, 0.5).unproject(camera).sub(this.ray.origin).normalize();\n\t\t\t\tthis.camera = camera;\n\t\t\t} else if (camera.isOrthographicCamera) {\n\t\t\t\tthis.ray.origin.set(coords.x, coords.y, (camera.near + camera.far) / (camera.near - camera.far)).unproject(camera); // set origin in plane of camera\n\n\t\t\t\tthis.ray.direction.set(0, 0, -1).transformDirection(camera.matrixWorld);\n\t\t\t\tthis.camera = camera;\n\t\t\t} else {\n\t\t\t\tconsole.error('THREE.Raycaster: Unsupported camera type: ' + camera.type);\n\t\t\t}\n\t\t}\n\n\t\tintersectObject(object, recursive = true, intersects = []) {\n\t\t\tintersectObject(object, this, intersects, recursive);\n\t\t\tintersects.sort(ascSort);\n\t\t\treturn intersects;\n\t\t}\n\n\t\tintersectObjects(objects, recursive = true, intersects = []) {\n\t\t\tfor (let i = 0, l = objects.length; i < l; i++) {\n\t\t\t\tintersectObject(objects[i], this, intersects, recursive);\n\t\t\t}\n\n\t\t\tintersects.sort(ascSort);\n\t\t\treturn intersects;\n\t\t}\n\n\t}\n\n\tfunction ascSort(a, b) {\n\t\treturn a.distance - b.distance;\n\t}\n\n\tfunction intersectObject(object, raycaster, intersects, recursive) {\n\t\tif (object.layers.test(raycaster.layers)) {\n\t\t\tobject.raycast(raycaster, intersects);\n\t\t}\n\n\t\tif (recursive === true) {\n\t\t\tconst children = object.children;\n\n\t\t\tfor (let i = 0, l = children.length; i < l; i++) {\n\t\t\t\tintersectObject(children[i], raycaster, intersects, true);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n\t *\n\t * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\n\t * The azimuthal angle (theta) is measured from the positive z-axis.\n\t */\n\n\tclass Spherical {\n\t\tconstructor(radius = 1, phi = 0, theta = 0) {\n\t\t\tthis.radius = radius;\n\t\t\tthis.phi = phi; // polar angle\n\n\t\t\tthis.theta = theta; // azimuthal angle\n\n\t\t\treturn this;\n\t\t}\n\n\t\tset(radius, phi, theta) {\n\t\t\tthis.radius = radius;\n\t\t\tthis.phi = phi;\n\t\t\tthis.theta = theta;\n\t\t\treturn this;\n\t\t}\n\n\t\tcopy(other) {\n\t\t\tthis.radius = other.radius;\n\t\t\tthis.phi = other.phi;\n\t\t\tthis.theta = other.theta;\n\t\t\treturn this;\n\t\t} // restrict phi to be between EPS and PI-EPS\n\n\n\t\tmakeSafe() {\n\t\t\tconst EPS = 0.000001;\n\t\t\tthis.phi = Math.max(EPS, Math.min(Math.PI - EPS, this.phi));\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromVector3(v) {\n\t\t\treturn this.setFromCartesianCoords(v.x, v.y, v.z);\n\t\t}\n\n\t\tsetFromCartesianCoords(x, y, z) {\n\t\t\tthis.radius = Math.sqrt(x * x + y * y + z * z);\n\n\t\t\tif (this.radius === 0) {\n\t\t\t\tthis.theta = 0;\n\t\t\t\tthis.phi = 0;\n\t\t\t} else {\n\t\t\t\tthis.theta = Math.atan2(x, z);\n\t\t\t\tthis.phi = Math.acos(clamp(y / this.radius, -1, 1));\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t}\n\n\t/**\n\t * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n\t */\n\tclass Cylindrical {\n\t\tconstructor(radius = 1, theta = 0, y = 0) {\n\t\t\tthis.radius = radius; // distance from the origin to a point in the x-z plane\n\n\t\t\tthis.theta = theta; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\n\n\t\t\tthis.y = y; // height above the x-z plane\n\n\t\t\treturn this;\n\t\t}\n\n\t\tset(radius, theta, y) {\n\t\t\tthis.radius = radius;\n\t\t\tthis.theta = theta;\n\t\t\tthis.y = y;\n\t\t\treturn this;\n\t\t}\n\n\t\tcopy(other) {\n\t\t\tthis.radius = other.radius;\n\t\t\tthis.theta = other.theta;\n\t\t\tthis.y = other.y;\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromVector3(v) {\n\t\t\treturn this.setFromCartesianCoords(v.x, v.y, v.z);\n\t\t}\n\n\t\tsetFromCartesianCoords(x, y, z) {\n\t\t\tthis.radius = Math.sqrt(x * x + z * z);\n\t\t\tthis.theta = Math.atan2(x, z);\n\t\t\tthis.y = y;\n\t\t\treturn this;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t}\n\n\tconst _vector$4 = /*@__PURE__*/new Vector2();\n\n\tclass Box2 {\n\t\tconstructor(min = new Vector2(+Infinity, +Infinity), max = new Vector2(-Infinity, -Infinity)) {\n\t\t\tthis.isBox2 = true;\n\t\t\tthis.min = min;\n\t\t\tthis.max = max;\n\t\t}\n\n\t\tset(min, max) {\n\t\t\tthis.min.copy(min);\n\t\t\tthis.max.copy(max);\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromPoints(points) {\n\t\t\tthis.makeEmpty();\n\n\t\t\tfor (let i = 0, il = points.length; i < il; i++) {\n\t\t\t\tthis.expandByPoint(points[i]);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tsetFromCenterAndSize(center, size) {\n\t\t\tconst halfSize = _vector$4.copy(size).multiplyScalar(0.5);\n\n\t\t\tthis.min.copy(center).sub(halfSize);\n\t\t\tthis.max.copy(center).add(halfSize);\n\t\t\treturn this;\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t\tcopy(box) {\n\t\t\tthis.min.copy(box.min);\n\t\t\tthis.max.copy(box.max);\n\t\t\treturn this;\n\t\t}\n\n\t\tmakeEmpty() {\n\t\t\tthis.min.x = this.min.y = +Infinity;\n\t\t\tthis.max.x = this.max.y = -Infinity;\n\t\t\treturn this;\n\t\t}\n\n\t\tisEmpty() {\n\t\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\t\t\treturn this.max.x < this.min.x || this.max.y < this.min.y;\n\t\t}\n\n\t\tgetCenter(target) {\n\t\t\treturn this.isEmpty() ? target.set(0, 0) : target.addVectors(this.min, this.max).multiplyScalar(0.5);\n\t\t}\n\n\t\tgetSize(target) {\n\t\t\treturn this.isEmpty() ? target.set(0, 0) : target.subVectors(this.max, this.min);\n\t\t}\n\n\t\texpandByPoint(point) {\n\t\t\tthis.min.min(point);\n\t\t\tthis.max.max(point);\n\t\t\treturn this;\n\t\t}\n\n\t\texpandByVector(vector) {\n\t\t\tthis.min.sub(vector);\n\t\t\tthis.max.add(vector);\n\t\t\treturn this;\n\t\t}\n\n\t\texpandByScalar(scalar) {\n\t\t\tthis.min.addScalar(-scalar);\n\t\t\tthis.max.addScalar(scalar);\n\t\t\treturn this;\n\t\t}\n\n\t\tcontainsPoint(point) {\n\t\t\treturn point.x < this.min.x || point.x > this.max.x || point.y < this.min.y || point.y > this.max.y ? false : true;\n\t\t}\n\n\t\tcontainsBox(box) {\n\t\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x && this.min.y <= box.min.y && box.max.y <= this.max.y;\n\t\t}\n\n\t\tgetParameter(point, target) {\n\t\t\t// This can potentially have a divide by zero if the box\n\t\t\t// has a size dimension of 0.\n\t\t\treturn target.set((point.x - this.min.x) / (this.max.x - this.min.x), (point.y - this.min.y) / (this.max.y - this.min.y));\n\t\t}\n\n\t\tintersectsBox(box) {\n\t\t\t// using 4 splitting planes to rule out intersections\n\t\t\treturn box.max.x < this.min.x || box.min.x > this.max.x || box.max.y < this.min.y || box.min.y > this.max.y ? false : true;\n\t\t}\n\n\t\tclampPoint(point, target) {\n\t\t\treturn target.copy(point).clamp(this.min, this.max);\n\t\t}\n\n\t\tdistanceToPoint(point) {\n\t\t\tconst clampedPoint = _vector$4.copy(point).clamp(this.min, this.max);\n\n\t\t\treturn clampedPoint.sub(point).length();\n\t\t}\n\n\t\tintersect(box) {\n\t\t\tthis.min.max(box.min);\n\t\t\tthis.max.min(box.max);\n\t\t\treturn this;\n\t\t}\n\n\t\tunion(box) {\n\t\t\tthis.min.min(box.min);\n\t\t\tthis.max.max(box.max);\n\t\t\treturn this;\n\t\t}\n\n\t\ttranslate(offset) {\n\t\t\tthis.min.add(offset);\n\t\t\tthis.max.add(offset);\n\t\t\treturn this;\n\t\t}\n\n\t\tequals(box) {\n\t\t\treturn box.min.equals(this.min) && box.max.equals(this.max);\n\t\t}\n\n\t}\n\n\tconst _startP = /*@__PURE__*/new Vector3();\n\n\tconst _startEnd = /*@__PURE__*/new Vector3();\n\n\tclass Line3 {\n\t\tconstructor(start = new Vector3(), end = new Vector3()) {\n\t\t\tthis.start = start;\n\t\t\tthis.end = end;\n\t\t}\n\n\t\tset(start, end) {\n\t\t\tthis.start.copy(start);\n\t\t\tthis.end.copy(end);\n\t\t\treturn this;\n\t\t}\n\n\t\tcopy(line) {\n\t\t\tthis.start.copy(line.start);\n\t\t\tthis.end.copy(line.end);\n\t\t\treturn this;\n\t\t}\n\n\t\tgetCenter(target) {\n\t\t\treturn target.addVectors(this.start, this.end).multiplyScalar(0.5);\n\t\t}\n\n\t\tdelta(target) {\n\t\t\treturn target.subVectors(this.end, this.start);\n\t\t}\n\n\t\tdistanceSq() {\n\t\t\treturn this.start.distanceToSquared(this.end);\n\t\t}\n\n\t\tdistance() {\n\t\t\treturn this.start.distanceTo(this.end);\n\t\t}\n\n\t\tat(t, target) {\n\t\t\treturn this.delta(target).multiplyScalar(t).add(this.start);\n\t\t}\n\n\t\tclosestPointToPointParameter(point, clampToLine) {\n\t\t\t_startP.subVectors(point, this.start);\n\n\t\t\t_startEnd.subVectors(this.end, this.start);\n\n\t\t\tconst startEnd2 = _startEnd.dot(_startEnd);\n\n\t\t\tconst startEnd_startP = _startEnd.dot(_startP);\n\n\t\t\tlet t = startEnd_startP / startEnd2;\n\n\t\t\tif (clampToLine) {\n\t\t\t\tt = clamp(t, 0, 1);\n\t\t\t}\n\n\t\t\treturn t;\n\t\t}\n\n\t\tclosestPointToPoint(point, clampToLine, target) {\n\t\t\tconst t = this.closestPointToPointParameter(point, clampToLine);\n\t\t\treturn this.delta(target).multiplyScalar(t).add(this.start);\n\t\t}\n\n\t\tapplyMatrix4(matrix) {\n\t\t\tthis.start.applyMatrix4(matrix);\n\t\t\tthis.end.applyMatrix4(matrix);\n\t\t\treturn this;\n\t\t}\n\n\t\tequals(line) {\n\t\t\treturn line.start.equals(this.start) && line.end.equals(this.end);\n\t\t}\n\n\t\tclone() {\n\t\t\treturn new this.constructor().copy(this);\n\t\t}\n\n\t}\n\n\tconst _vector$3 = /*@__PURE__*/new Vector3();\n\n\tclass SpotLightHelper extends Object3D {\n\t\tconstructor(light, color) {\n\t\t\tsuper();\n\t\t\tthis.light = light;\n\t\t\tthis.light.updateMatrixWorld();\n\t\t\tthis.matrix = light.matrixWorld;\n\t\t\tthis.matrixAutoUpdate = false;\n\t\t\tthis.color = color;\n\t\t\tconst geometry = new BufferGeometry();\n\t\t\tconst positions = [0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, -1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, -1, 1];\n\n\t\t\tfor (let i = 0, j = 1, l = 32; i < l; i++, j++) {\n\t\t\t\tconst p1 = i / l * Math.PI * 2;\n\t\t\t\tconst p2 = j / l * Math.PI * 2;\n\t\t\t\tpositions.push(Math.cos(p1), Math.sin(p1), 1, Math.cos(p2), Math.sin(p2), 1);\n\t\t\t}\n\n\t\t\tgeometry.setAttribute('position', new Float32BufferAttribute(positions, 3));\n\t\t\tconst material = new LineBasicMaterial({\n\t\t\t\tfog: false,\n\t\t\t\ttoneMapped: false\n\t\t\t});\n\t\t\tthis.cone = new LineSegments(geometry, material);\n\t\t\tthis.add(this.cone);\n\t\t\tthis.update();\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.cone.geometry.dispose();\n\t\t\tthis.cone.material.dispose();\n\t\t}\n\n\t\tupdate() {\n\t\t\tthis.light.updateMatrixWorld();\n\t\t\tconst coneLength = this.light.distance ? this.light.distance : 1000;\n\t\t\tconst coneWidth = coneLength * Math.tan(this.light.angle);\n\t\t\tthis.cone.scale.set(coneWidth, coneWidth, coneLength);\n\n\t\t\t_vector$3.setFromMatrixPosition(this.light.target.matrixWorld);\n\n\t\t\tthis.cone.lookAt(_vector$3);\n\n\t\t\tif (this.color !== undefined) {\n\t\t\t\tthis.cone.material.color.set(this.color);\n\t\t\t} else {\n\t\t\t\tthis.cone.material.color.copy(this.light.color);\n\t\t\t}\n\t\t}\n\n\t}\n\n\tconst _vector$2 = /*@__PURE__*/new Vector3();\n\n\tconst _boneMatrix = /*@__PURE__*/new Matrix4();\n\n\tconst _matrixWorldInv = /*@__PURE__*/new Matrix4();\n\n\tclass SkeletonHelper extends LineSegments {\n\t\tconstructor(object) {\n\t\t\tconst bones = getBoneList(object);\n\t\t\tconst geometry = new BufferGeometry();\n\t\t\tconst vertices = [];\n\t\t\tconst colors = [];\n\t\t\tconst color1 = new Color(0, 0, 1);\n\t\t\tconst color2 = new Color(0, 1, 0);\n\n\t\t\tfor (let i = 0; i < bones.length; i++) {\n\t\t\t\tconst bone = bones[i];\n\n\t\t\t\tif (bone.parent && bone.parent.isBone) {\n\t\t\t\t\tvertices.push(0, 0, 0);\n\t\t\t\t\tvertices.push(0, 0, 0);\n\t\t\t\t\tcolors.push(color1.r, color1.g, color1.b);\n\t\t\t\t\tcolors.push(color2.r, color2.g, color2.b);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tgeometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tgeometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n\t\t\tconst material = new LineBasicMaterial({\n\t\t\t\tvertexColors: true,\n\t\t\t\tdepthTest: false,\n\t\t\t\tdepthWrite: false,\n\t\t\t\ttoneMapped: false,\n\t\t\t\ttransparent: true\n\t\t\t});\n\t\t\tsuper(geometry, material);\n\t\t\tthis.isSkeletonHelper = true;\n\t\t\tthis.type = 'SkeletonHelper';\n\t\t\tthis.root = object;\n\t\t\tthis.bones = bones;\n\t\t\tthis.matrix = object.matrixWorld;\n\t\t\tthis.matrixAutoUpdate = false;\n\t\t}\n\n\t\tupdateMatrixWorld(force) {\n\t\t\tconst bones = this.bones;\n\t\t\tconst geometry = this.geometry;\n\t\t\tconst position = geometry.getAttribute('position');\n\n\t\t\t_matrixWorldInv.copy(this.root.matrixWorld).invert();\n\n\t\t\tfor (let i = 0, j = 0; i < bones.length; i++) {\n\t\t\t\tconst bone = bones[i];\n\n\t\t\t\tif (bone.parent && bone.parent.isBone) {\n\t\t\t\t\t_boneMatrix.multiplyMatrices(_matrixWorldInv, bone.matrixWorld);\n\n\t\t\t\t\t_vector$2.setFromMatrixPosition(_boneMatrix);\n\n\t\t\t\t\tposition.setXYZ(j, _vector$2.x, _vector$2.y, _vector$2.z);\n\n\t\t\t\t\t_boneMatrix.multiplyMatrices(_matrixWorldInv, bone.parent.matrixWorld);\n\n\t\t\t\t\t_vector$2.setFromMatrixPosition(_boneMatrix);\n\n\t\t\t\t\tposition.setXYZ(j + 1, _vector$2.x, _vector$2.y, _vector$2.z);\n\t\t\t\t\tj += 2;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tgeometry.getAttribute('position').needsUpdate = true;\n\t\t\tsuper.updateMatrixWorld(force);\n\t\t}\n\n\t}\n\n\tfunction getBoneList(object) {\n\t\tconst boneList = [];\n\n\t\tif (object.isBone === true) {\n\t\t\tboneList.push(object);\n\t\t}\n\n\t\tfor (let i = 0; i < object.children.length; i++) {\n\t\t\tboneList.push.apply(boneList, getBoneList(object.children[i]));\n\t\t}\n\n\t\treturn boneList;\n\t}\n\n\tclass PointLightHelper extends Mesh {\n\t\tconstructor(light, sphereSize, color) {\n\t\t\tconst geometry = new SphereGeometry(sphereSize, 4, 2);\n\t\t\tconst material = new MeshBasicMaterial({\n\t\t\t\twireframe: true,\n\t\t\t\tfog: false,\n\t\t\t\ttoneMapped: false\n\t\t\t});\n\t\t\tsuper(geometry, material);\n\t\t\tthis.light = light;\n\t\t\tthis.light.updateMatrixWorld();\n\t\t\tthis.color = color;\n\t\t\tthis.type = 'PointLightHelper';\n\t\t\tthis.matrix = this.light.matrixWorld;\n\t\t\tthis.matrixAutoUpdate = false;\n\t\t\tthis.update();\n\t\t\t/*\n\t\t\t// TODO: delete this comment?\n\t\t\tconst distanceGeometry = new THREE.IcosahedronGeometry( 1, 2 );\n\t\t\tconst distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\t\t\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n\t\t\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\t\t\tconst d = light.distance;\n\t\t\tif ( d === 0.0 ) {\n\t\t\t\tthis.lightDistance.visible = false;\n\t\t\t} else {\n\t\t\t\tthis.lightDistance.scale.set( d, d, d );\n\t\t\t}\n\t\t\tthis.add( this.lightDistance );\n\t\t\t*/\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.geometry.dispose();\n\t\t\tthis.material.dispose();\n\t\t}\n\n\t\tupdate() {\n\t\t\tif (this.color !== undefined) {\n\t\t\t\tthis.material.color.set(this.color);\n\t\t\t} else {\n\t\t\t\tthis.material.color.copy(this.light.color);\n\t\t\t}\n\t\t\t/*\n\t\t\tconst d = this.light.distance;\n\t\t\t\tif ( d === 0.0 ) {\n\t\t\t\t\tthis.lightDistance.visible = false;\n\t\t\t\t} else {\n\t\t\t\t\tthis.lightDistance.visible = true;\n\t\t\t\tthis.lightDistance.scale.set( d, d, d );\n\t\t\t\t}\n\t\t\t*/\n\n\t\t}\n\n\t}\n\n\tconst _vector$1 = /*@__PURE__*/new Vector3();\n\n\tconst _color1 = /*@__PURE__*/new Color();\n\n\tconst _color2 = /*@__PURE__*/new Color();\n\n\tclass HemisphereLightHelper extends Object3D {\n\t\tconstructor(light, size, color) {\n\t\t\tsuper();\n\t\t\tthis.light = light;\n\t\t\tthis.light.updateMatrixWorld();\n\t\t\tthis.matrix = light.matrixWorld;\n\t\t\tthis.matrixAutoUpdate = false;\n\t\t\tthis.color = color;\n\t\t\tconst geometry = new OctahedronGeometry(size);\n\t\t\tgeometry.rotateY(Math.PI * 0.5);\n\t\t\tthis.material = new MeshBasicMaterial({\n\t\t\t\twireframe: true,\n\t\t\t\tfog: false,\n\t\t\t\ttoneMapped: false\n\t\t\t});\n\t\t\tif (this.color === undefined) this.material.vertexColors = true;\n\t\t\tconst position = geometry.getAttribute('position');\n\t\t\tconst colors = new Float32Array(position.count * 3);\n\t\t\tgeometry.setAttribute('color', new BufferAttribute(colors, 3));\n\t\t\tthis.add(new Mesh(geometry, this.material));\n\t\t\tthis.update();\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.children[0].geometry.dispose();\n\t\t\tthis.children[0].material.dispose();\n\t\t}\n\n\t\tupdate() {\n\t\t\tconst mesh = this.children[0];\n\n\t\t\tif (this.color !== undefined) {\n\t\t\t\tthis.material.color.set(this.color);\n\t\t\t} else {\n\t\t\t\tconst colors = mesh.geometry.getAttribute('color');\n\n\t\t\t\t_color1.copy(this.light.color);\n\n\t\t\t\t_color2.copy(this.light.groundColor);\n\n\t\t\t\tfor (let i = 0, l = colors.count; i < l; i++) {\n\t\t\t\t\tconst color = i < l / 2 ? _color1 : _color2;\n\t\t\t\t\tcolors.setXYZ(i, color.r, color.g, color.b);\n\t\t\t\t}\n\n\t\t\t\tcolors.needsUpdate = true;\n\t\t\t}\n\n\t\t\tmesh.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate());\n\t\t}\n\n\t}\n\n\tclass GridHelper extends LineSegments {\n\t\tconstructor(size = 10, divisions = 10, color1 = 0x444444, color2 = 0x888888) {\n\t\t\tcolor1 = new Color(color1);\n\t\t\tcolor2 = new Color(color2);\n\t\t\tconst center = divisions / 2;\n\t\t\tconst step = size / divisions;\n\t\t\tconst halfSize = size / 2;\n\t\t\tconst vertices = [],\n\t\t\t\t\t\tcolors = [];\n\n\t\t\tfor (let i = 0, j = 0, k = -halfSize; i <= divisions; i++, k += step) {\n\t\t\t\tvertices.push(-halfSize, 0, k, halfSize, 0, k);\n\t\t\t\tvertices.push(k, 0, -halfSize, k, 0, halfSize);\n\t\t\t\tconst color = i === center ? color1 : color2;\n\t\t\t\tcolor.toArray(colors, j);\n\t\t\t\tj += 3;\n\t\t\t\tcolor.toArray(colors, j);\n\t\t\t\tj += 3;\n\t\t\t\tcolor.toArray(colors, j);\n\t\t\t\tj += 3;\n\t\t\t\tcolor.toArray(colors, j);\n\t\t\t\tj += 3;\n\t\t\t}\n\n\t\t\tconst geometry = new BufferGeometry();\n\t\t\tgeometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tgeometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n\t\t\tconst material = new LineBasicMaterial({\n\t\t\t\tvertexColors: true,\n\t\t\t\ttoneMapped: false\n\t\t\t});\n\t\t\tsuper(geometry, material);\n\t\t\tthis.type = 'GridHelper';\n\t\t}\n\n\t}\n\n\tclass PolarGridHelper extends LineSegments {\n\t\tconstructor(radius = 10, radials = 16, circles = 8, divisions = 64, color1 = 0x444444, color2 = 0x888888) {\n\t\t\tcolor1 = new Color(color1);\n\t\t\tcolor2 = new Color(color2);\n\t\t\tconst vertices = [];\n\t\t\tconst colors = []; // create the radials\n\n\t\t\tfor (let i = 0; i <= radials; i++) {\n\t\t\t\tconst v = i / radials * (Math.PI * 2);\n\t\t\t\tconst x = Math.sin(v) * radius;\n\t\t\t\tconst z = Math.cos(v) * radius;\n\t\t\t\tvertices.push(0, 0, 0);\n\t\t\t\tvertices.push(x, 0, z);\n\t\t\t\tconst color = i & 1 ? color1 : color2;\n\t\t\t\tcolors.push(color.r, color.g, color.b);\n\t\t\t\tcolors.push(color.r, color.g, color.b);\n\t\t\t} // create the circles\n\n\n\t\t\tfor (let i = 0; i <= circles; i++) {\n\t\t\t\tconst color = i & 1 ? color1 : color2;\n\t\t\t\tconst r = radius - radius / circles * i;\n\n\t\t\t\tfor (let j = 0; j < divisions; j++) {\n\t\t\t\t\t// first vertex\n\t\t\t\t\tlet v = j / divisions * (Math.PI * 2);\n\t\t\t\t\tlet x = Math.sin(v) * r;\n\t\t\t\t\tlet z = Math.cos(v) * r;\n\t\t\t\t\tvertices.push(x, 0, z);\n\t\t\t\t\tcolors.push(color.r, color.g, color.b); // second vertex\n\n\t\t\t\t\tv = (j + 1) / divisions * (Math.PI * 2);\n\t\t\t\t\tx = Math.sin(v) * r;\n\t\t\t\t\tz = Math.cos(v) * r;\n\t\t\t\t\tvertices.push(x, 0, z);\n\t\t\t\t\tcolors.push(color.r, color.g, color.b);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst geometry = new BufferGeometry();\n\t\t\tgeometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tgeometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n\t\t\tconst material = new LineBasicMaterial({\n\t\t\t\tvertexColors: true,\n\t\t\t\ttoneMapped: false\n\t\t\t});\n\t\t\tsuper(geometry, material);\n\t\t\tthis.type = 'PolarGridHelper';\n\t\t}\n\n\t}\n\n\tconst _v1 = /*@__PURE__*/new Vector3();\n\n\tconst _v2 = /*@__PURE__*/new Vector3();\n\n\tconst _v3 = /*@__PURE__*/new Vector3();\n\n\tclass DirectionalLightHelper extends Object3D {\n\t\tconstructor(light, size, color) {\n\t\t\tsuper();\n\t\t\tthis.light = light;\n\t\t\tthis.light.updateMatrixWorld();\n\t\t\tthis.matrix = light.matrixWorld;\n\t\t\tthis.matrixAutoUpdate = false;\n\t\t\tthis.color = color;\n\t\t\tif (size === undefined) size = 1;\n\t\t\tlet geometry = new BufferGeometry();\n\t\t\tgeometry.setAttribute('position', new Float32BufferAttribute([-size, size, 0, size, size, 0, size, -size, 0, -size, -size, 0, -size, size, 0], 3));\n\t\t\tconst material = new LineBasicMaterial({\n\t\t\t\tfog: false,\n\t\t\t\ttoneMapped: false\n\t\t\t});\n\t\t\tthis.lightPlane = new Line(geometry, material);\n\t\t\tthis.add(this.lightPlane);\n\t\t\tgeometry = new BufferGeometry();\n\t\t\tgeometry.setAttribute('position', new Float32BufferAttribute([0, 0, 0, 0, 0, 1], 3));\n\t\t\tthis.targetLine = new Line(geometry, material);\n\t\t\tthis.add(this.targetLine);\n\t\t\tthis.update();\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.lightPlane.geometry.dispose();\n\t\t\tthis.lightPlane.material.dispose();\n\t\t\tthis.targetLine.geometry.dispose();\n\t\t\tthis.targetLine.material.dispose();\n\t\t}\n\n\t\tupdate() {\n\t\t\t_v1.setFromMatrixPosition(this.light.matrixWorld);\n\n\t\t\t_v2.setFromMatrixPosition(this.light.target.matrixWorld);\n\n\t\t\t_v3.subVectors(_v2, _v1);\n\n\t\t\tthis.lightPlane.lookAt(_v2);\n\n\t\t\tif (this.color !== undefined) {\n\t\t\t\tthis.lightPlane.material.color.set(this.color);\n\t\t\t\tthis.targetLine.material.color.set(this.color);\n\t\t\t} else {\n\t\t\t\tthis.lightPlane.material.color.copy(this.light.color);\n\t\t\t\tthis.targetLine.material.color.copy(this.light.color);\n\t\t\t}\n\n\t\t\tthis.targetLine.lookAt(_v2);\n\t\t\tthis.targetLine.scale.z = _v3.length();\n\t\t}\n\n\t}\n\n\tconst _vector = /*@__PURE__*/new Vector3();\n\n\tconst _camera = /*@__PURE__*/new Camera();\n\t/**\n\t *\t- shows frustum, line of sight and up of the camera\n\t *\t- suitable for fast updates\n\t * \t- based on frustum visualization in lightgl.js shadowmap example\n\t *\t\thttps://github.com/evanw/lightgl.js/blob/master/tests/shadowmap.html\n\t */\n\n\n\tclass CameraHelper extends LineSegments {\n\t\tconstructor(camera) {\n\t\t\tconst geometry = new BufferGeometry();\n\t\t\tconst material = new LineBasicMaterial({\n\t\t\t\tcolor: 0xffffff,\n\t\t\t\tvertexColors: true,\n\t\t\t\ttoneMapped: false\n\t\t\t});\n\t\t\tconst vertices = [];\n\t\t\tconst colors = [];\n\t\t\tconst pointMap = {}; // colors\n\n\t\t\tconst colorFrustum = new Color(0xffaa00);\n\t\t\tconst colorCone = new Color(0xff0000);\n\t\t\tconst colorUp = new Color(0x00aaff);\n\t\t\tconst colorTarget = new Color(0xffffff);\n\t\t\tconst colorCross = new Color(0x333333); // near\n\n\t\t\taddLine('n1', 'n2', colorFrustum);\n\t\t\taddLine('n2', 'n4', colorFrustum);\n\t\t\taddLine('n4', 'n3', colorFrustum);\n\t\t\taddLine('n3', 'n1', colorFrustum); // far\n\n\t\t\taddLine('f1', 'f2', colorFrustum);\n\t\t\taddLine('f2', 'f4', colorFrustum);\n\t\t\taddLine('f4', 'f3', colorFrustum);\n\t\t\taddLine('f3', 'f1', colorFrustum); // sides\n\n\t\t\taddLine('n1', 'f1', colorFrustum);\n\t\t\taddLine('n2', 'f2', colorFrustum);\n\t\t\taddLine('n3', 'f3', colorFrustum);\n\t\t\taddLine('n4', 'f4', colorFrustum); // cone\n\n\t\t\taddLine('p', 'n1', colorCone);\n\t\t\taddLine('p', 'n2', colorCone);\n\t\t\taddLine('p', 'n3', colorCone);\n\t\t\taddLine('p', 'n4', colorCone); // up\n\n\t\t\taddLine('u1', 'u2', colorUp);\n\t\t\taddLine('u2', 'u3', colorUp);\n\t\t\taddLine('u3', 'u1', colorUp); // target\n\n\t\t\taddLine('c', 't', colorTarget);\n\t\t\taddLine('p', 'c', colorCross); // cross\n\n\t\t\taddLine('cn1', 'cn2', colorCross);\n\t\t\taddLine('cn3', 'cn4', colorCross);\n\t\t\taddLine('cf1', 'cf2', colorCross);\n\t\t\taddLine('cf3', 'cf4', colorCross);\n\n\t\t\tfunction addLine(a, b, color) {\n\t\t\t\taddPoint(a, color);\n\t\t\t\taddPoint(b, color);\n\t\t\t}\n\n\t\t\tfunction addPoint(id, color) {\n\t\t\t\tvertices.push(0, 0, 0);\n\t\t\t\tcolors.push(color.r, color.g, color.b);\n\n\t\t\t\tif (pointMap[id] === undefined) {\n\t\t\t\t\tpointMap[id] = [];\n\t\t\t\t}\n\n\t\t\t\tpointMap[id].push(vertices.length / 3 - 1);\n\t\t\t}\n\n\t\t\tgeometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tgeometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n\t\t\tsuper(geometry, material);\n\t\t\tthis.type = 'CameraHelper';\n\t\t\tthis.camera = camera;\n\t\t\tif (this.camera.updateProjectionMatrix) this.camera.updateProjectionMatrix();\n\t\t\tthis.matrix = camera.matrixWorld;\n\t\t\tthis.matrixAutoUpdate = false;\n\t\t\tthis.pointMap = pointMap;\n\t\t\tthis.update();\n\t\t}\n\n\t\tupdate() {\n\t\t\tconst geometry = this.geometry;\n\t\t\tconst pointMap = this.pointMap;\n\t\t\tconst w = 1,\n\t\t\t\t\t\th = 1; // we need just camera projection matrix inverse\n\t\t\t// world matrix must be identity\n\n\t\t\t_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse); // center / target\n\n\n\t\t\tsetPoint('c', pointMap, geometry, _camera, 0, 0, -1);\n\t\t\tsetPoint('t', pointMap, geometry, _camera, 0, 0, 1); // near\n\n\t\t\tsetPoint('n1', pointMap, geometry, _camera, -w, -h, -1);\n\t\t\tsetPoint('n2', pointMap, geometry, _camera, w, -h, -1);\n\t\t\tsetPoint('n3', pointMap, geometry, _camera, -w, h, -1);\n\t\t\tsetPoint('n4', pointMap, geometry, _camera, w, h, -1); // far\n\n\t\t\tsetPoint('f1', pointMap, geometry, _camera, -w, -h, 1);\n\t\t\tsetPoint('f2', pointMap, geometry, _camera, w, -h, 1);\n\t\t\tsetPoint('f3', pointMap, geometry, _camera, -w, h, 1);\n\t\t\tsetPoint('f4', pointMap, geometry, _camera, w, h, 1); // up\n\n\t\t\tsetPoint('u1', pointMap, geometry, _camera, w * 0.7, h * 1.1, -1);\n\t\t\tsetPoint('u2', pointMap, geometry, _camera, -w * 0.7, h * 1.1, -1);\n\t\t\tsetPoint('u3', pointMap, geometry, _camera, 0, h * 2, -1); // cross\n\n\t\t\tsetPoint('cf1', pointMap, geometry, _camera, -w, 0, 1);\n\t\t\tsetPoint('cf2', pointMap, geometry, _camera, w, 0, 1);\n\t\t\tsetPoint('cf3', pointMap, geometry, _camera, 0, -h, 1);\n\t\t\tsetPoint('cf4', pointMap, geometry, _camera, 0, h, 1);\n\t\t\tsetPoint('cn1', pointMap, geometry, _camera, -w, 0, -1);\n\t\t\tsetPoint('cn2', pointMap, geometry, _camera, w, 0, -1);\n\t\t\tsetPoint('cn3', pointMap, geometry, _camera, 0, -h, -1);\n\t\t\tsetPoint('cn4', pointMap, geometry, _camera, 0, h, -1);\n\t\t\tgeometry.getAttribute('position').needsUpdate = true;\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.geometry.dispose();\n\t\t\tthis.material.dispose();\n\t\t}\n\n\t}\n\n\tfunction setPoint(point, pointMap, geometry, camera, x, y, z) {\n\t\t_vector.set(x, y, z).unproject(camera);\n\n\t\tconst points = pointMap[point];\n\n\t\tif (points !== undefined) {\n\t\t\tconst position = geometry.getAttribute('position');\n\n\t\t\tfor (let i = 0, l = points.length; i < l; i++) {\n\t\t\t\tposition.setXYZ(points[i], _vector.x, _vector.y, _vector.z);\n\t\t\t}\n\t\t}\n\t}\n\n\tconst _box = /*@__PURE__*/new Box3();\n\n\tclass BoxHelper extends LineSegments {\n\t\tconstructor(object, color = 0xffff00) {\n\t\t\tconst indices = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]);\n\t\t\tconst positions = new Float32Array(8 * 3);\n\t\t\tconst geometry = new BufferGeometry();\n\t\t\tgeometry.setIndex(new BufferAttribute(indices, 1));\n\t\t\tgeometry.setAttribute('position', new BufferAttribute(positions, 3));\n\t\t\tsuper(geometry, new LineBasicMaterial({\n\t\t\t\tcolor: color,\n\t\t\t\ttoneMapped: false\n\t\t\t}));\n\t\t\tthis.object = object;\n\t\t\tthis.type = 'BoxHelper';\n\t\t\tthis.matrixAutoUpdate = false;\n\t\t\tthis.update();\n\t\t}\n\n\t\tupdate(object) {\n\t\t\tif (object !== undefined) {\n\t\t\t\tconsole.warn('THREE.BoxHelper: .update() has no longer arguments.');\n\t\t\t}\n\n\t\t\tif (this.object !== undefined) {\n\t\t\t\t_box.setFromObject(this.object);\n\t\t\t}\n\n\t\t\tif (_box.isEmpty()) return;\n\t\t\tconst min = _box.min;\n\t\t\tconst max = _box.max;\n\t\t\t/*\n\t\t\t\t5____4\n\t\t\t1/___0/|\n\t\t\t| 6__|_7\n\t\t\t2/___3/\n\t\t\t\t0: max.x, max.y, max.z\n\t\t\t1: min.x, max.y, max.z\n\t\t\t2: min.x, min.y, max.z\n\t\t\t3: max.x, min.y, max.z\n\t\t\t4: max.x, max.y, min.z\n\t\t\t5: min.x, max.y, min.z\n\t\t\t6: min.x, min.y, min.z\n\t\t\t7: max.x, min.y, min.z\n\t\t\t*/\n\n\t\t\tconst position = this.geometry.attributes.position;\n\t\t\tconst array = position.array;\n\t\t\tarray[0] = max.x;\n\t\t\tarray[1] = max.y;\n\t\t\tarray[2] = max.z;\n\t\t\tarray[3] = min.x;\n\t\t\tarray[4] = max.y;\n\t\t\tarray[5] = max.z;\n\t\t\tarray[6] = min.x;\n\t\t\tarray[7] = min.y;\n\t\t\tarray[8] = max.z;\n\t\t\tarray[9] = max.x;\n\t\t\tarray[10] = min.y;\n\t\t\tarray[11] = max.z;\n\t\t\tarray[12] = max.x;\n\t\t\tarray[13] = max.y;\n\t\t\tarray[14] = min.z;\n\t\t\tarray[15] = min.x;\n\t\t\tarray[16] = max.y;\n\t\t\tarray[17] = min.z;\n\t\t\tarray[18] = min.x;\n\t\t\tarray[19] = min.y;\n\t\t\tarray[20] = min.z;\n\t\t\tarray[21] = max.x;\n\t\t\tarray[22] = min.y;\n\t\t\tarray[23] = min.z;\n\t\t\tposition.needsUpdate = true;\n\t\t\tthis.geometry.computeBoundingSphere();\n\t\t}\n\n\t\tsetFromObject(object) {\n\t\t\tthis.object = object;\n\t\t\tthis.update();\n\t\t\treturn this;\n\t\t}\n\n\t\tcopy(source, recursive) {\n\t\t\tsuper.copy(source, recursive);\n\t\t\tthis.object = source.object;\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass Box3Helper extends LineSegments {\n\t\tconstructor(box, color = 0xffff00) {\n\t\t\tconst indices = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]);\n\t\t\tconst positions = [1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, -1, -1, 1, -1, -1, -1, -1, 1, -1, -1];\n\t\t\tconst geometry = new BufferGeometry();\n\t\t\tgeometry.setIndex(new BufferAttribute(indices, 1));\n\t\t\tgeometry.setAttribute('position', new Float32BufferAttribute(positions, 3));\n\t\t\tsuper(geometry, new LineBasicMaterial({\n\t\t\t\tcolor: color,\n\t\t\t\ttoneMapped: false\n\t\t\t}));\n\t\t\tthis.box = box;\n\t\t\tthis.type = 'Box3Helper';\n\t\t\tthis.geometry.computeBoundingSphere();\n\t\t}\n\n\t\tupdateMatrixWorld(force) {\n\t\t\tconst box = this.box;\n\t\t\tif (box.isEmpty()) return;\n\t\t\tbox.getCenter(this.position);\n\t\t\tbox.getSize(this.scale);\n\t\t\tthis.scale.multiplyScalar(0.5);\n\t\t\tsuper.updateMatrixWorld(force);\n\t\t}\n\n\t}\n\n\tclass PlaneHelper extends Line {\n\t\tconstructor(plane, size = 1, hex = 0xffff00) {\n\t\t\tconst color = hex;\n\t\t\tconst positions = [1, -1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0];\n\t\t\tconst geometry = new BufferGeometry();\n\t\t\tgeometry.setAttribute('position', new Float32BufferAttribute(positions, 3));\n\t\t\tgeometry.computeBoundingSphere();\n\t\t\tsuper(geometry, new LineBasicMaterial({\n\t\t\t\tcolor: color,\n\t\t\t\ttoneMapped: false\n\t\t\t}));\n\t\t\tthis.type = 'PlaneHelper';\n\t\t\tthis.plane = plane;\n\t\t\tthis.size = size;\n\t\t\tconst positions2 = [1, 1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, -1, 1, 1, -1, 1];\n\t\t\tconst geometry2 = new BufferGeometry();\n\t\t\tgeometry2.setAttribute('position', new Float32BufferAttribute(positions2, 3));\n\t\t\tgeometry2.computeBoundingSphere();\n\t\t\tthis.add(new Mesh(geometry2, new MeshBasicMaterial({\n\t\t\t\tcolor: color,\n\t\t\t\topacity: 0.2,\n\t\t\t\ttransparent: true,\n\t\t\t\tdepthWrite: false,\n\t\t\t\ttoneMapped: false\n\t\t\t})));\n\t\t}\n\n\t\tupdateMatrixWorld(force) {\n\t\t\tlet scale = -this.plane.constant;\n\t\t\tif (Math.abs(scale) < 1e-8) scale = 1e-8; // sign does not matter\n\n\t\t\tthis.scale.set(0.5 * this.size, 0.5 * this.size, scale);\n\t\t\tthis.children[0].material.side = scale < 0 ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here\n\n\t\t\tthis.lookAt(this.plane.normal);\n\t\t\tsuper.updateMatrixWorld(force);\n\t\t}\n\n\t}\n\n\tconst _axis = /*@__PURE__*/new Vector3();\n\n\tlet _lineGeometry, _coneGeometry;\n\n\tclass ArrowHelper extends Object3D {\n\t\t// dir is assumed to be normalized\n\t\tconstructor(dir = new Vector3(0, 0, 1), origin = new Vector3(0, 0, 0), length = 1, color = 0xffff00, headLength = length * 0.2, headWidth = headLength * 0.2) {\n\t\t\tsuper();\n\t\t\tthis.type = 'ArrowHelper';\n\n\t\t\tif (_lineGeometry === undefined) {\n\t\t\t\t_lineGeometry = new BufferGeometry();\n\n\t\t\t\t_lineGeometry.setAttribute('position', new Float32BufferAttribute([0, 0, 0, 0, 1, 0], 3));\n\n\t\t\t\t_coneGeometry = new CylinderGeometry(0, 0.5, 1, 5, 1);\n\n\t\t\t\t_coneGeometry.translate(0, -0.5, 0);\n\t\t\t}\n\n\t\t\tthis.position.copy(origin);\n\t\t\tthis.line = new Line(_lineGeometry, new LineBasicMaterial({\n\t\t\t\tcolor: color,\n\t\t\t\ttoneMapped: false\n\t\t\t}));\n\t\t\tthis.line.matrixAutoUpdate = false;\n\t\t\tthis.add(this.line);\n\t\t\tthis.cone = new Mesh(_coneGeometry, new MeshBasicMaterial({\n\t\t\t\tcolor: color,\n\t\t\t\ttoneMapped: false\n\t\t\t}));\n\t\t\tthis.cone.matrixAutoUpdate = false;\n\t\t\tthis.add(this.cone);\n\t\t\tthis.setDirection(dir);\n\t\t\tthis.setLength(length, headLength, headWidth);\n\t\t}\n\n\t\tsetDirection(dir) {\n\t\t\t// dir is assumed to be normalized\n\t\t\tif (dir.y > 0.99999) {\n\t\t\t\tthis.quaternion.set(0, 0, 0, 1);\n\t\t\t} else if (dir.y < -0.99999) {\n\t\t\t\tthis.quaternion.set(1, 0, 0, 0);\n\t\t\t} else {\n\t\t\t\t_axis.set(dir.z, 0, -dir.x).normalize();\n\n\t\t\t\tconst radians = Math.acos(dir.y);\n\t\t\t\tthis.quaternion.setFromAxisAngle(_axis, radians);\n\t\t\t}\n\t\t}\n\n\t\tsetLength(length, headLength = length * 0.2, headWidth = headLength * 0.2) {\n\t\t\tthis.line.scale.set(1, Math.max(0.0001, length - headLength), 1); // see #17458\n\n\t\t\tthis.line.updateMatrix();\n\t\t\tthis.cone.scale.set(headWidth, headLength, headWidth);\n\t\t\tthis.cone.position.y = length;\n\t\t\tthis.cone.updateMatrix();\n\t\t}\n\n\t\tsetColor(color) {\n\t\t\tthis.line.material.color.set(color);\n\t\t\tthis.cone.material.color.set(color);\n\t\t}\n\n\t\tcopy(source) {\n\t\t\tsuper.copy(source, false);\n\t\t\tthis.line.copy(source.line);\n\t\t\tthis.cone.copy(source.cone);\n\t\t\treturn this;\n\t\t}\n\n\t}\n\n\tclass AxesHelper extends LineSegments {\n\t\tconstructor(size = 1) {\n\t\t\tconst vertices = [0, 0, 0, size, 0, 0, 0, 0, 0, 0, size, 0, 0, 0, 0, 0, 0, size];\n\t\t\tconst colors = [1, 0, 0, 1, 0.6, 0, 0, 1, 0, 0.6, 1, 0, 0, 0, 1, 0, 0.6, 1];\n\t\t\tconst geometry = new BufferGeometry();\n\t\t\tgeometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\t\t\tgeometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n\t\t\tconst material = new LineBasicMaterial({\n\t\t\t\tvertexColors: true,\n\t\t\t\ttoneMapped: false\n\t\t\t});\n\t\t\tsuper(geometry, material);\n\t\t\tthis.type = 'AxesHelper';\n\t\t}\n\n\t\tsetColors(xAxisColor, yAxisColor, zAxisColor) {\n\t\t\tconst color = new Color();\n\t\t\tconst array = this.geometry.attributes.color.array;\n\t\t\tcolor.set(xAxisColor);\n\t\t\tcolor.toArray(array, 0);\n\t\t\tcolor.toArray(array, 3);\n\t\t\tcolor.set(yAxisColor);\n\t\t\tcolor.toArray(array, 6);\n\t\t\tcolor.toArray(array, 9);\n\t\t\tcolor.set(zAxisColor);\n\t\t\tcolor.toArray(array, 12);\n\t\t\tcolor.toArray(array, 15);\n\t\t\tthis.geometry.attributes.color.needsUpdate = true;\n\t\t\treturn this;\n\t\t}\n\n\t\tdispose() {\n\t\t\tthis.geometry.dispose();\n\t\t\tthis.material.dispose();\n\t\t}\n\n\t}\n\n\tclass ShapePath {\n\t\tconstructor() {\n\t\t\tthis.type = 'ShapePath';\n\t\t\tthis.color = new Color();\n\t\t\tthis.subPaths = [];\n\t\t\tthis.currentPath = null;\n\t\t}\n\n\t\tmoveTo(x, y) {\n\t\t\tthis.currentPath = new Path();\n\t\t\tthis.subPaths.push(this.currentPath);\n\t\t\tthis.currentPath.moveTo(x, y);\n\t\t\treturn this;\n\t\t}\n\n\t\tlineTo(x, y) {\n\t\t\tthis.currentPath.lineTo(x, y);\n\t\t\treturn this;\n\t\t}\n\n\t\tquadraticCurveTo(aCPx, aCPy, aX, aY) {\n\t\t\tthis.currentPath.quadraticCurveTo(aCPx, aCPy, aX, aY);\n\t\t\treturn this;\n\t\t}\n\n\t\tbezierCurveTo(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY) {\n\t\t\tthis.currentPath.bezierCurveTo(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY);\n\t\t\treturn this;\n\t\t}\n\n\t\tsplineThru(pts) {\n\t\t\tthis.currentPath.splineThru(pts);\n\t\t\treturn this;\n\t\t}\n\n\t\ttoShapes(isCCW, noHoles) {\n\t\t\tfunction toShapesNoHoles(inSubpaths) {\n\t\t\t\tconst shapes = [];\n\n\t\t\t\tfor (let i = 0, l = inSubpaths.length; i < l; i++) {\n\t\t\t\t\tconst tmpPath = inSubpaths[i];\n\t\t\t\t\tconst tmpShape = new Shape();\n\t\t\t\t\ttmpShape.curves = tmpPath.curves;\n\t\t\t\t\tshapes.push(tmpShape);\n\t\t\t\t}\n\n\t\t\t\treturn shapes;\n\t\t\t}\n\n\t\t\tfunction isPointInsidePolygon(inPt, inPolygon) {\n\t\t\t\tconst polyLen = inPolygon.length; // inPt on polygon contour => immediate success\t\tor\n\t\t\t\t// toggling of inside/outside at every single! intersection point of an edge\n\t\t\t\t//\twith the horizontal line through inPt, left of inPt\n\t\t\t\t//\tnot counting lowerY endpoints of edges and whole edges on that line\n\n\t\t\t\tlet inside = false;\n\n\t\t\t\tfor (let p = polyLen - 1, q = 0; q < polyLen; p = q++) {\n\t\t\t\t\tlet edgeLowPt = inPolygon[p];\n\t\t\t\t\tlet edgeHighPt = inPolygon[q];\n\t\t\t\t\tlet edgeDx = edgeHighPt.x - edgeLowPt.x;\n\t\t\t\t\tlet edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n\t\t\t\t\tif (Math.abs(edgeDy) > Number.EPSILON) {\n\t\t\t\t\t\t// not parallel\n\t\t\t\t\t\tif (edgeDy < 0) {\n\t\t\t\t\t\t\tedgeLowPt = inPolygon[q];\n\t\t\t\t\t\t\tedgeDx = -edgeDx;\n\t\t\t\t\t\t\tedgeHighPt = inPolygon[p];\n\t\t\t\t\t\t\tedgeDy = -edgeDy;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (inPt.y < edgeLowPt.y || inPt.y > edgeHighPt.y) continue;\n\n\t\t\t\t\t\tif (inPt.y === edgeLowPt.y) {\n\t\t\t\t\t\t\tif (inPt.x === edgeLowPt.x) return true; // inPt is on contour ?\n\t\t\t\t\t\t\t// continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst perpEdge = edgeDy * (inPt.x - edgeLowPt.x) - edgeDx * (inPt.y - edgeLowPt.y);\n\t\t\t\t\t\t\tif (perpEdge === 0) return true; // inPt is on contour ?\n\n\t\t\t\t\t\t\tif (perpEdge < 0) continue;\n\t\t\t\t\t\t\tinside = !inside; // true intersection left of inPt\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// parallel or collinear\n\t\t\t\t\t\tif (inPt.y !== edgeLowPt.y) continue; // parallel\n\t\t\t\t\t\t// edge lies on the same horizontal line as inPt\n\n\t\t\t\t\t\tif (edgeHighPt.x <= inPt.x && inPt.x <= edgeLowPt.x || edgeLowPt.x <= inPt.x && inPt.x <= edgeHighPt.x) return true; // inPt: Point on contour !\n\t\t\t\t\t\t// continue;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn inside;\n\t\t\t}\n\n\t\t\tconst isClockWise = ShapeUtils.isClockWise;\n\t\t\tconst subPaths = this.subPaths;\n\t\t\tif (subPaths.length === 0) return [];\n\t\t\tif (noHoles === true) return toShapesNoHoles(subPaths);\n\t\t\tlet solid, tmpPath, tmpShape;\n\t\t\tconst shapes = [];\n\n\t\t\tif (subPaths.length === 1) {\n\t\t\t\ttmpPath = subPaths[0];\n\t\t\t\ttmpShape = new Shape();\n\t\t\t\ttmpShape.curves = tmpPath.curves;\n\t\t\t\tshapes.push(tmpShape);\n\t\t\t\treturn shapes;\n\t\t\t}\n\n\t\t\tlet holesFirst = !isClockWise(subPaths[0].getPoints());\n\t\t\tholesFirst = isCCW ? !holesFirst : holesFirst; // console.log(\"Holes first\", holesFirst);\n\n\t\t\tconst betterShapeHoles = [];\n\t\t\tconst newShapes = [];\n\t\t\tlet newShapeHoles = [];\n\t\t\tlet mainIdx = 0;\n\t\t\tlet tmpPoints;\n\t\t\tnewShapes[mainIdx] = undefined;\n\t\t\tnewShapeHoles[mainIdx] = [];\n\n\t\t\tfor (let i = 0, l = subPaths.length; i < l; i++) {\n\t\t\t\ttmpPath = subPaths[i];\n\t\t\t\ttmpPoints = tmpPath.getPoints();\n\t\t\t\tsolid = isClockWise(tmpPoints);\n\t\t\t\tsolid = isCCW ? !solid : solid;\n\n\t\t\t\tif (solid) {\n\t\t\t\t\tif (!holesFirst && newShapes[mainIdx]) mainIdx++;\n\t\t\t\t\tnewShapes[mainIdx] = {\n\t\t\t\t\t\ts: new Shape(),\n\t\t\t\t\t\tp: tmpPoints\n\t\t\t\t\t};\n\t\t\t\t\tnewShapes[mainIdx].s.curves = tmpPath.curves;\n\t\t\t\t\tif (holesFirst) mainIdx++;\n\t\t\t\t\tnewShapeHoles[mainIdx] = []; //console.log('cw', i);\n\t\t\t\t} else {\n\t\t\t\t\tnewShapeHoles[mainIdx].push({\n\t\t\t\t\t\th: tmpPath,\n\t\t\t\t\t\tp: tmpPoints[0]\n\t\t\t\t\t}); //console.log('ccw', i);\n\t\t\t\t}\n\t\t\t} // only Holes? -> probably all Shapes with wrong orientation\n\n\n\t\t\tif (!newShapes[0]) return toShapesNoHoles(subPaths);\n\n\t\t\tif (newShapes.length > 1) {\n\t\t\t\tlet ambiguous = false;\n\t\t\t\tlet toChange = 0;\n\n\t\t\t\tfor (let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx++) {\n\t\t\t\t\tbetterShapeHoles[sIdx] = [];\n\t\t\t\t}\n\n\t\t\t\tfor (let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx++) {\n\t\t\t\t\tconst sho = newShapeHoles[sIdx];\n\n\t\t\t\t\tfor (let hIdx = 0; hIdx < sho.length; hIdx++) {\n\t\t\t\t\t\tconst ho = sho[hIdx];\n\t\t\t\t\t\tlet hole_unassigned = true;\n\n\t\t\t\t\t\tfor (let s2Idx = 0; s2Idx < newShapes.length; s2Idx++) {\n\t\t\t\t\t\t\tif (isPointInsidePolygon(ho.p, newShapes[s2Idx].p)) {\n\t\t\t\t\t\t\t\tif (sIdx !== s2Idx) toChange++;\n\n\t\t\t\t\t\t\t\tif (hole_unassigned) {\n\t\t\t\t\t\t\t\t\thole_unassigned = false;\n\t\t\t\t\t\t\t\t\tbetterShapeHoles[s2Idx].push(ho);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tambiguous = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (hole_unassigned) {\n\t\t\t\t\t\t\tbetterShapeHoles[sIdx].push(ho);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (toChange > 0 && ambiguous === false) {\n\t\t\t\t\tnewShapeHoles = betterShapeHoles;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet tmpHoles;\n\n\t\t\tfor (let i = 0, il = newShapes.length; i < il; i++) {\n\t\t\t\ttmpShape = newShapes[i].s;\n\t\t\t\tshapes.push(tmpShape);\n\t\t\t\ttmpHoles = newShapeHoles[i];\n\n\t\t\t\tfor (let j = 0, jl = tmpHoles.length; j < jl; j++) {\n\t\t\t\t\ttmpShape.holes.push(tmpHoles[j].h);\n\t\t\t\t}\n\t\t\t} //console.log(\"shape\", shapes);\n\n\n\t\t\treturn shapes;\n\t\t}\n\n\t}\n\n\tclass DataUtils {\n\t\t// float32 to float16\n\t\tstatic toHalfFloat(val) {\n\t\t\tif (Math.abs(val) > 65504) console.warn('THREE.DataUtils.toHalfFloat(): Value out of range.');\n\t\t\tval = clamp(val, -65504, 65504);\n\t\t\t_floatView[0] = val;\n\t\t\tconst f = _uint32View[0];\n\t\t\tconst e = f >> 23 & 0x1ff;\n\t\t\treturn _baseTable[e] + ((f & 0x007fffff) >> _shiftTable[e]);\n\t\t} // float16 to float32\n\n\n\t\tstatic fromHalfFloat(val) {\n\t\t\tconst m = val >> 10;\n\t\t\t_uint32View[0] = _mantissaTable[_offsetTable[m] + (val & 0x3ff)] + _exponentTable[m];\n\t\t\treturn _floatView[0];\n\t\t}\n\n\t} // float32 to float16 helpers\n\n\n\tconst _buffer = new ArrayBuffer(4);\n\n\tconst _floatView = new Float32Array(_buffer);\n\n\tconst _uint32View = new Uint32Array(_buffer);\n\n\tconst _baseTable = new Uint32Array(512);\n\n\tconst _shiftTable = new Uint32Array(512);\n\n\tfor (let i = 0; i < 256; ++i) {\n\t\tconst e = i - 127; // very small number (0, -0)\n\n\t\tif (e < -27) {\n\t\t\t_baseTable[i] = 0x0000;\n\t\t\t_baseTable[i | 0x100] = 0x8000;\n\t\t\t_shiftTable[i] = 24;\n\t\t\t_shiftTable[i | 0x100] = 24; // small number (denorm)\n\t\t} else if (e < -14) {\n\t\t\t_baseTable[i] = 0x0400 >> -e - 14;\n\t\t\t_baseTable[i | 0x100] = 0x0400 >> -e - 14 | 0x8000;\n\t\t\t_shiftTable[i] = -e - 1;\n\t\t\t_shiftTable[i | 0x100] = -e - 1; // normal number\n\t\t} else if (e <= 15) {\n\t\t\t_baseTable[i] = e + 15 << 10;\n\t\t\t_baseTable[i | 0x100] = e + 15 << 10 | 0x8000;\n\t\t\t_shiftTable[i] = 13;\n\t\t\t_shiftTable[i | 0x100] = 13; // large number (Infinity, -Infinity)\n\t\t} else if (e < 128) {\n\t\t\t_baseTable[i] = 0x7c00;\n\t\t\t_baseTable[i | 0x100] = 0xfc00;\n\t\t\t_shiftTable[i] = 24;\n\t\t\t_shiftTable[i | 0x100] = 24; // stay (NaN, Infinity, -Infinity)\n\t\t} else {\n\t\t\t_baseTable[i] = 0x7c00;\n\t\t\t_baseTable[i | 0x100] = 0xfc00;\n\t\t\t_shiftTable[i] = 13;\n\t\t\t_shiftTable[i | 0x100] = 13;\n\t\t}\n\t} // float16 to float32 helpers\n\n\n\tconst _mantissaTable = new Uint32Array(2048);\n\n\tconst _exponentTable = new Uint32Array(64);\n\n\tconst _offsetTable = new Uint32Array(64);\n\n\tfor (let i = 1; i < 1024; ++i) {\n\t\tlet m = i << 13; // zero pad mantissa bits\n\n\t\tlet e = 0; // zero exponent\n\t\t// normalized\n\n\t\twhile ((m & 0x00800000) === 0) {\n\t\t\tm <<= 1;\n\t\t\te -= 0x00800000; // decrement exponent\n\t\t}\n\n\t\tm &= ~0x00800000; // clear leading 1 bit\n\n\t\te += 0x38800000; // adjust bias\n\n\t\t_mantissaTable[i] = m | e;\n\t}\n\n\tfor (let i = 1024; i < 2048; ++i) {\n\t\t_mantissaTable[i] = 0x38000000 + (i - 1024 << 13);\n\t}\n\n\tfor (let i = 1; i < 31; ++i) {\n\t\t_exponentTable[i] = i << 23;\n\t}\n\n\t_exponentTable[31] = 0x47800000;\n\t_exponentTable[32] = 0x80000000;\n\n\tfor (let i = 33; i < 63; ++i) {\n\t\t_exponentTable[i] = 0x80000000 + (i - 32 << 23);\n\t}\n\n\t_exponentTable[63] = 0xc7800000;\n\n\tfor (let i = 1; i < 64; ++i) {\n\t\tif (i !== 32) {\n\t\t\t_offsetTable[i] = 1024;\n\t\t}\n\t}\n\n\tclass ParametricGeometry extends BufferGeometry {\n\t\tconstructor() {\n\t\t\tconsole.error('THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js');\n\t\t\tsuper();\n\t\t}\n\n\t} // r133, eb58ff153119090d3bbb24474ea0ffc40c70dc92\n\n\tclass TextGeometry extends BufferGeometry {\n\t\tconstructor() {\n\t\t\tconsole.error('THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js');\n\t\t\tsuper();\n\t\t}\n\n\t} // r133, eb58ff153119090d3bbb24474ea0ffc40c70dc92\n\n\tfunction FontLoader() {\n\t\tconsole.error('THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js');\n\t} // r133, eb58ff153119090d3bbb24474ea0ffc40c70dc92\n\n\tfunction Font() {\n\t\tconsole.error('THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js');\n\t} // r134, d65e0af06644fe5a84a6fc0e372f4318f95a04c0\n\n\tfunction ImmediateRenderObject() {\n\t\tconsole.error('THREE.ImmediateRenderObject has been removed.');\n\t} // r138, 48b05d3500acc084df50be9b4c90781ad9b8cb17\n\n\tclass WebGLMultisampleRenderTarget extends WebGLRenderTarget {\n\t\tconstructor(width, height, options) {\n\t\t\tconsole.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the \"samples\" property to greater 0 to enable multisampling.');\n\t\t\tsuper(width, height, options);\n\t\t\tthis.samples = 4;\n\t\t}\n\n\t} // r138, f9cd9cab03b7b64244e304900a3a2eeaa3a588ce\n\n\tclass DataTexture2DArray extends DataArrayTexture {\n\t\tconstructor(data, width, height, depth) {\n\t\t\tconsole.warn('THREE.DataTexture2DArray has been renamed to DataArrayTexture.');\n\t\t\tsuper(data, width, height, depth);\n\t\t}\n\n\t} // r138, f9cd9cab03b7b64244e304900a3a2eeaa3a588ce\n\n\tclass DataTexture3D extends Data3DTexture {\n\t\tconstructor(data, width, height, depth) {\n\t\t\tconsole.warn('THREE.DataTexture3D has been renamed to Data3DTexture.');\n\t\t\tsuper(data, width, height, depth);\n\t\t}\n\n\t}\n\n\tif (typeof __THREE_DEVTOOLS__ !== 'undefined') {\n\t\t__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('register', {\n\t\t\tdetail: {\n\t\t\t\trevision: REVISION\n\t\t\t}\n\t\t}));\n\t}\n\n\tif (typeof window !== 'undefined') {\n\t\tif (window.__THREE__) {\n\t\t\tconsole.warn('WARNING: Multiple instances of Three.js being imported.');\n\t\t} else {\n\t\t\twindow.__THREE__ = REVISION;\n\t\t}\n\t}\n\n\texports.ACESFilmicToneMapping = ACESFilmicToneMapping;\n\texports.AddEquation = AddEquation;\n\texports.AddOperation = AddOperation;\n\texports.AdditiveAnimationBlendMode = AdditiveAnimationBlendMode;\n\texports.AdditiveBlending = AdditiveBlending;\n\texports.AlphaFormat = AlphaFormat;\n\texports.AlwaysDepth = AlwaysDepth;\n\texports.AlwaysStencilFunc = AlwaysStencilFunc;\n\texports.AmbientLight = AmbientLight;\n\texports.AmbientLightProbe = AmbientLightProbe;\n\texports.AnimationClip = AnimationClip;\n\texports.AnimationLoader = AnimationLoader;\n\texports.AnimationMixer = AnimationMixer;\n\texports.AnimationObjectGroup = AnimationObjectGroup;\n\texports.AnimationUtils = AnimationUtils;\n\texports.ArcCurve = ArcCurve;\n\texports.ArrayCamera = ArrayCamera;\n\texports.ArrowHelper = ArrowHelper;\n\texports.Audio = Audio;\n\texports.AudioAnalyser = AudioAnalyser;\n\texports.AudioContext = AudioContext;\n\texports.AudioListener = AudioListener;\n\texports.AudioLoader = AudioLoader;\n\texports.AxesHelper = AxesHelper;\n\texports.BackSide = BackSide;\n\texports.BasicDepthPacking = BasicDepthPacking;\n\texports.BasicShadowMap = BasicShadowMap;\n\texports.Bone = Bone;\n\texports.BooleanKeyframeTrack = BooleanKeyframeTrack;\n\texports.Box2 = Box2;\n\texports.Box3 = Box3;\n\texports.Box3Helper = Box3Helper;\n\texports.BoxBufferGeometry = BoxGeometry;\n\texports.BoxGeometry = BoxGeometry;\n\texports.BoxHelper = BoxHelper;\n\texports.BufferAttribute = BufferAttribute;\n\texports.BufferGeometry = BufferGeometry;\n\texports.BufferGeometryLoader = BufferGeometryLoader;\n\texports.ByteType = ByteType;\n\texports.Cache = Cache;\n\texports.Camera = Camera;\n\texports.CameraHelper = CameraHelper;\n\texports.CanvasTexture = CanvasTexture;\n\texports.CapsuleBufferGeometry = CapsuleGeometry;\n\texports.CapsuleGeometry = CapsuleGeometry;\n\texports.CatmullRomCurve3 = CatmullRomCurve3;\n\texports.CineonToneMapping = CineonToneMapping;\n\texports.CircleBufferGeometry = CircleGeometry;\n\texports.CircleGeometry = CircleGeometry;\n\texports.ClampToEdgeWrapping = ClampToEdgeWrapping;\n\texports.Clock = Clock;\n\texports.Color = Color;\n\texports.ColorKeyframeTrack = ColorKeyframeTrack;\n\texports.ColorManagement = ColorManagement;\n\texports.CompressedTexture = CompressedTexture;\n\texports.CompressedTextureLoader = CompressedTextureLoader;\n\texports.ConeBufferGeometry = ConeGeometry;\n\texports.ConeGeometry = ConeGeometry;\n\texports.CubeCamera = CubeCamera;\n\texports.CubeReflectionMapping = CubeReflectionMapping;\n\texports.CubeRefractionMapping = CubeRefractionMapping;\n\texports.CubeTexture = CubeTexture;\n\texports.CubeTextureLoader = CubeTextureLoader;\n\texports.CubeUVReflectionMapping = CubeUVReflectionMapping;\n\texports.CubicBezierCurve = CubicBezierCurve;\n\texports.CubicBezierCurve3 = CubicBezierCurve3;\n\texports.CubicInterpolant = CubicInterpolant;\n\texports.CullFaceBack = CullFaceBack;\n\texports.CullFaceFront = CullFaceFront;\n\texports.CullFaceFrontBack = CullFaceFrontBack;\n\texports.CullFaceNone = CullFaceNone;\n\texports.Curve = Curve;\n\texports.CurvePath = CurvePath;\n\texports.CustomBlending = CustomBlending;\n\texports.CustomToneMapping = CustomToneMapping;\n\texports.CylinderBufferGeometry = CylinderGeometry;\n\texports.CylinderGeometry = CylinderGeometry;\n\texports.Cylindrical = Cylindrical;\n\texports.Data3DTexture = Data3DTexture;\n\texports.DataArrayTexture = DataArrayTexture;\n\texports.DataTexture = DataTexture;\n\texports.DataTexture2DArray = DataTexture2DArray;\n\texports.DataTexture3D = DataTexture3D;\n\texports.DataTextureLoader = DataTextureLoader;\n\texports.DataUtils = DataUtils;\n\texports.DecrementStencilOp = DecrementStencilOp;\n\texports.DecrementWrapStencilOp = DecrementWrapStencilOp;\n\texports.DefaultLoadingManager = DefaultLoadingManager;\n\texports.DepthFormat = DepthFormat;\n\texports.DepthStencilFormat = DepthStencilFormat;\n\texports.DepthTexture = DepthTexture;\n\texports.DirectionalLight = DirectionalLight;\n\texports.DirectionalLightHelper = DirectionalLightHelper;\n\texports.DiscreteInterpolant = DiscreteInterpolant;\n\texports.DodecahedronBufferGeometry = DodecahedronGeometry;\n\texports.DodecahedronGeometry = DodecahedronGeometry;\n\texports.DoubleSide = DoubleSide;\n\texports.DstAlphaFactor = DstAlphaFactor;\n\texports.DstColorFactor = DstColorFactor;\n\texports.DynamicCopyUsage = DynamicCopyUsage;\n\texports.DynamicDrawUsage = DynamicDrawUsage;\n\texports.DynamicReadUsage = DynamicReadUsage;\n\texports.EdgesGeometry = EdgesGeometry;\n\texports.EllipseCurve = EllipseCurve;\n\texports.EqualDepth = EqualDepth;\n\texports.EqualStencilFunc = EqualStencilFunc;\n\texports.EquirectangularReflectionMapping = EquirectangularReflectionMapping;\n\texports.EquirectangularRefractionMapping = EquirectangularRefractionMapping;\n\texports.Euler = Euler;\n\texports.EventDispatcher = EventDispatcher;\n\texports.ExtrudeBufferGeometry = ExtrudeGeometry;\n\texports.ExtrudeGeometry = ExtrudeGeometry;\n\texports.FileLoader = FileLoader;\n\texports.FlatShading = FlatShading;\n\texports.Float16BufferAttribute = Float16BufferAttribute;\n\texports.Float32BufferAttribute = Float32BufferAttribute;\n\texports.Float64BufferAttribute = Float64BufferAttribute;\n\texports.FloatType = FloatType;\n\texports.Fog = Fog;\n\texports.FogExp2 = FogExp2;\n\texports.Font = Font;\n\texports.FontLoader = FontLoader;\n\texports.FramebufferTexture = FramebufferTexture;\n\texports.FrontSide = FrontSide;\n\texports.Frustum = Frustum;\n\texports.GLBufferAttribute = GLBufferAttribute;\n\texports.GLSL1 = GLSL1;\n\texports.GLSL3 = GLSL3;\n\texports.GreaterDepth = GreaterDepth;\n\texports.GreaterEqualDepth = GreaterEqualDepth;\n\texports.GreaterEqualStencilFunc = GreaterEqualStencilFunc;\n\texports.GreaterStencilFunc = GreaterStencilFunc;\n\texports.GridHelper = GridHelper;\n\texports.Group = Group;\n\texports.HalfFloatType = HalfFloatType;\n\texports.HemisphereLight = HemisphereLight;\n\texports.HemisphereLightHelper = HemisphereLightHelper;\n\texports.HemisphereLightProbe = HemisphereLightProbe;\n\texports.IcosahedronBufferGeometry = IcosahedronGeometry;\n\texports.IcosahedronGeometry = IcosahedronGeometry;\n\texports.ImageBitmapLoader = ImageBitmapLoader;\n\texports.ImageLoader = ImageLoader;\n\texports.ImageUtils = ImageUtils;\n\texports.ImmediateRenderObject = ImmediateRenderObject;\n\texports.IncrementStencilOp = IncrementStencilOp;\n\texports.IncrementWrapStencilOp = IncrementWrapStencilOp;\n\texports.InstancedBufferAttribute = InstancedBufferAttribute;\n\texports.InstancedBufferGeometry = InstancedBufferGeometry;\n\texports.InstancedInterleavedBuffer = InstancedInterleavedBuffer;\n\texports.InstancedMesh = InstancedMesh;\n\texports.Int16BufferAttribute = Int16BufferAttribute;\n\texports.Int32BufferAttribute = Int32BufferAttribute;\n\texports.Int8BufferAttribute = Int8BufferAttribute;\n\texports.IntType = IntType;\n\texports.InterleavedBuffer = InterleavedBuffer;\n\texports.InterleavedBufferAttribute = InterleavedBufferAttribute;\n\texports.Interpolant = Interpolant;\n\texports.InterpolateDiscrete = InterpolateDiscrete;\n\texports.InterpolateLinear = InterpolateLinear;\n\texports.InterpolateSmooth = InterpolateSmooth;\n\texports.InvertStencilOp = InvertStencilOp;\n\texports.KeepStencilOp = KeepStencilOp;\n\texports.KeyframeTrack = KeyframeTrack;\n\texports.LOD = LOD;\n\texports.LatheBufferGeometry = LatheGeometry;\n\texports.LatheGeometry = LatheGeometry;\n\texports.Layers = Layers;\n\texports.LessDepth = LessDepth;\n\texports.LessEqualDepth = LessEqualDepth;\n\texports.LessEqualStencilFunc = LessEqualStencilFunc;\n\texports.LessStencilFunc = LessStencilFunc;\n\texports.Light = Light;\n\texports.LightProbe = LightProbe;\n\texports.Line = Line;\n\texports.Line3 = Line3;\n\texports.LineBasicMaterial = LineBasicMaterial;\n\texports.LineCurve = LineCurve;\n\texports.LineCurve3 = LineCurve3;\n\texports.LineDashedMaterial = LineDashedMaterial;\n\texports.LineLoop = LineLoop;\n\texports.LineSegments = LineSegments;\n\texports.LinearEncoding = LinearEncoding;\n\texports.LinearFilter = LinearFilter;\n\texports.LinearInterpolant = LinearInterpolant;\n\texports.LinearMipMapLinearFilter = LinearMipMapLinearFilter;\n\texports.LinearMipMapNearestFilter = LinearMipMapNearestFilter;\n\texports.LinearMipmapLinearFilter = LinearMipmapLinearFilter;\n\texports.LinearMipmapNearestFilter = LinearMipmapNearestFilter;\n\texports.LinearSRGBColorSpace = LinearSRGBColorSpace;\n\texports.LinearToneMapping = LinearToneMapping;\n\texports.Loader = Loader;\n\texports.LoaderUtils = LoaderUtils;\n\texports.LoadingManager = LoadingManager;\n\texports.LoopOnce = LoopOnce;\n\texports.LoopPingPong = LoopPingPong;\n\texports.LoopRepeat = LoopRepeat;\n\texports.LuminanceAlphaFormat = LuminanceAlphaFormat;\n\texports.LuminanceFormat = LuminanceFormat;\n\texports.MOUSE = MOUSE;\n\texports.Material = Material;\n\texports.MaterialLoader = MaterialLoader;\n\texports.MathUtils = MathUtils;\n\texports.Matrix3 = Matrix3;\n\texports.Matrix4 = Matrix4;\n\texports.MaxEquation = MaxEquation;\n\texports.Mesh = Mesh;\n\texports.MeshBasicMaterial = MeshBasicMaterial;\n\texports.MeshDepthMaterial = MeshDepthMaterial;\n\texports.MeshDistanceMaterial = MeshDistanceMaterial;\n\texports.MeshLambertMaterial = MeshLambertMaterial;\n\texports.MeshMatcapMaterial = MeshMatcapMaterial;\n\texports.MeshNormalMaterial = MeshNormalMaterial;\n\texports.MeshPhongMaterial = MeshPhongMaterial;\n\texports.MeshPhysicalMaterial = MeshPhysicalMaterial;\n\texports.MeshStandardMaterial = MeshStandardMaterial;\n\texports.MeshToonMaterial = MeshToonMaterial;\n\texports.MinEquation = MinEquation;\n\texports.MirroredRepeatWrapping = MirroredRepeatWrapping;\n\texports.MixOperation = MixOperation;\n\texports.MultiplyBlending = MultiplyBlending;\n\texports.MultiplyOperation = MultiplyOperation;\n\texports.NearestFilter = NearestFilter;\n\texports.NearestMipMapLinearFilter = NearestMipMapLinearFilter;\n\texports.NearestMipMapNearestFilter = NearestMipMapNearestFilter;\n\texports.NearestMipmapLinearFilter = NearestMipmapLinearFilter;\n\texports.NearestMipmapNearestFilter = NearestMipmapNearestFilter;\n\texports.NeverDepth = NeverDepth;\n\texports.NeverStencilFunc = NeverStencilFunc;\n\texports.NoBlending = NoBlending;\n\texports.NoColorSpace = NoColorSpace;\n\texports.NoToneMapping = NoToneMapping;\n\texports.NormalAnimationBlendMode = NormalAnimationBlendMode;\n\texports.NormalBlending = NormalBlending;\n\texports.NotEqualDepth = NotEqualDepth;\n\texports.NotEqualStencilFunc = NotEqualStencilFunc;\n\texports.NumberKeyframeTrack = NumberKeyframeTrack;\n\texports.Object3D = Object3D;\n\texports.ObjectLoader = ObjectLoader;\n\texports.ObjectSpaceNormalMap = ObjectSpaceNormalMap;\n\texports.OctahedronBufferGeometry = OctahedronGeometry;\n\texports.OctahedronGeometry = OctahedronGeometry;\n\texports.OneFactor = OneFactor;\n\texports.OneMinusDstAlphaFactor = OneMinusDstAlphaFactor;\n\texports.OneMinusDstColorFactor = OneMinusDstColorFactor;\n\texports.OneMinusSrcAlphaFactor = OneMinusSrcAlphaFactor;\n\texports.OneMinusSrcColorFactor = OneMinusSrcColorFactor;\n\texports.OrthographicCamera = OrthographicCamera;\n\texports.PCFShadowMap = PCFShadowMap;\n\texports.PCFSoftShadowMap = PCFSoftShadowMap;\n\texports.PMREMGenerator = PMREMGenerator;\n\texports.ParametricGeometry = ParametricGeometry;\n\texports.Path = Path;\n\texports.PerspectiveCamera = PerspectiveCamera;\n\texports.Plane = Plane;\n\texports.PlaneBufferGeometry = PlaneGeometry;\n\texports.PlaneGeometry = PlaneGeometry;\n\texports.PlaneHelper = PlaneHelper;\n\texports.PointLight = PointLight;\n\texports.PointLightHelper = PointLightHelper;\n\texports.Points = Points;\n\texports.PointsMaterial = PointsMaterial;\n\texports.PolarGridHelper = PolarGridHelper;\n\texports.PolyhedronBufferGeometry = PolyhedronGeometry;\n\texports.PolyhedronGeometry = PolyhedronGeometry;\n\texports.PositionalAudio = PositionalAudio;\n\texports.PropertyBinding = PropertyBinding;\n\texports.PropertyMixer = PropertyMixer;\n\texports.QuadraticBezierCurve = QuadraticBezierCurve;\n\texports.QuadraticBezierCurve3 = QuadraticBezierCurve3;\n\texports.Quaternion = Quaternion;\n\texports.QuaternionKeyframeTrack = QuaternionKeyframeTrack;\n\texports.QuaternionLinearInterpolant = QuaternionLinearInterpolant;\n\texports.REVISION = REVISION;\n\texports.RGBADepthPacking = RGBADepthPacking;\n\texports.RGBAFormat = RGBAFormat;\n\texports.RGBAIntegerFormat = RGBAIntegerFormat;\n\texports.RGBA_ASTC_10x10_Format = RGBA_ASTC_10x10_Format;\n\texports.RGBA_ASTC_10x5_Format = RGBA_ASTC_10x5_Format;\n\texports.RGBA_ASTC_10x6_Format = RGBA_ASTC_10x6_Format;\n\texports.RGBA_ASTC_10x8_Format = RGBA_ASTC_10x8_Format;\n\texports.RGBA_ASTC_12x10_Format = RGBA_ASTC_12x10_Format;\n\texports.RGBA_ASTC_12x12_Format = RGBA_ASTC_12x12_Format;\n\texports.RGBA_ASTC_4x4_Format = RGBA_ASTC_4x4_Format;\n\texports.RGBA_ASTC_5x4_Format = RGBA_ASTC_5x4_Format;\n\texports.RGBA_ASTC_5x5_Format = RGBA_ASTC_5x5_Format;\n\texports.RGBA_ASTC_6x5_Format = RGBA_ASTC_6x5_Format;\n\texports.RGBA_ASTC_6x6_Format = RGBA_ASTC_6x6_Format;\n\texports.RGBA_ASTC_8x5_Format = RGBA_ASTC_8x5_Format;\n\texports.RGBA_ASTC_8x6_Format = RGBA_ASTC_8x6_Format;\n\texports.RGBA_ASTC_8x8_Format = RGBA_ASTC_8x8_Format;\n\texports.RGBA_BPTC_Format = RGBA_BPTC_Format;\n\texports.RGBA_ETC2_EAC_Format = RGBA_ETC2_EAC_Format;\n\texports.RGBA_PVRTC_2BPPV1_Format = RGBA_PVRTC_2BPPV1_Format;\n\texports.RGBA_PVRTC_4BPPV1_Format = RGBA_PVRTC_4BPPV1_Format;\n\texports.RGBA_S3TC_DXT1_Format = RGBA_S3TC_DXT1_Format;\n\texports.RGBA_S3TC_DXT3_Format = RGBA_S3TC_DXT3_Format;\n\texports.RGBA_S3TC_DXT5_Format = RGBA_S3TC_DXT5_Format;\n\texports.RGBFormat = RGBFormat;\n\texports.RGB_ETC1_Format = RGB_ETC1_Format;\n\texports.RGB_ETC2_Format = RGB_ETC2_Format;\n\texports.RGB_PVRTC_2BPPV1_Format = RGB_PVRTC_2BPPV1_Format;\n\texports.RGB_PVRTC_4BPPV1_Format = RGB_PVRTC_4BPPV1_Format;\n\texports.RGB_S3TC_DXT1_Format = RGB_S3TC_DXT1_Format;\n\texports.RGFormat = RGFormat;\n\texports.RGIntegerFormat = RGIntegerFormat;\n\texports.RawShaderMaterial = RawShaderMaterial;\n\texports.Ray = Ray;\n\texports.Raycaster = Raycaster;\n\texports.RectAreaLight = RectAreaLight;\n\texports.RedFormat = RedFormat;\n\texports.RedIntegerFormat = RedIntegerFormat;\n\texports.ReinhardToneMapping = ReinhardToneMapping;\n\texports.RepeatWrapping = RepeatWrapping;\n\texports.ReplaceStencilOp = ReplaceStencilOp;\n\texports.ReverseSubtractEquation = ReverseSubtractEquation;\n\texports.RingBufferGeometry = RingGeometry;\n\texports.RingGeometry = RingGeometry;\n\texports.SRGBColorSpace = SRGBColorSpace;\n\texports.Scene = Scene;\n\texports.ShaderChunk = ShaderChunk;\n\texports.ShaderLib = ShaderLib;\n\texports.ShaderMaterial = ShaderMaterial;\n\texports.ShadowMaterial = ShadowMaterial;\n\texports.Shape = Shape;\n\texports.ShapeBufferGeometry = ShapeGeometry;\n\texports.ShapeGeometry = ShapeGeometry;\n\texports.ShapePath = ShapePath;\n\texports.ShapeUtils = ShapeUtils;\n\texports.ShortType = ShortType;\n\texports.Skeleton = Skeleton;\n\texports.SkeletonHelper = SkeletonHelper;\n\texports.SkinnedMesh = SkinnedMesh;\n\texports.SmoothShading = SmoothShading;\n\texports.Source = Source;\n\texports.Sphere = Sphere;\n\texports.SphereBufferGeometry = SphereGeometry;\n\texports.SphereGeometry = SphereGeometry;\n\texports.Spherical = Spherical;\n\texports.SphericalHarmonics3 = SphericalHarmonics3;\n\texports.SplineCurve = SplineCurve;\n\texports.SpotLight = SpotLight;\n\texports.SpotLightHelper = SpotLightHelper;\n\texports.Sprite = Sprite;\n\texports.SpriteMaterial = SpriteMaterial;\n\texports.SrcAlphaFactor = SrcAlphaFactor;\n\texports.SrcAlphaSaturateFactor = SrcAlphaSaturateFactor;\n\texports.SrcColorFactor = SrcColorFactor;\n\texports.StaticCopyUsage = StaticCopyUsage;\n\texports.StaticDrawUsage = StaticDrawUsage;\n\texports.StaticReadUsage = StaticReadUsage;\n\texports.StereoCamera = StereoCamera;\n\texports.StreamCopyUsage = StreamCopyUsage;\n\texports.StreamDrawUsage = StreamDrawUsage;\n\texports.StreamReadUsage = StreamReadUsage;\n\texports.StringKeyframeTrack = StringKeyframeTrack;\n\texports.SubtractEquation = SubtractEquation;\n\texports.SubtractiveBlending = SubtractiveBlending;\n\texports.TOUCH = TOUCH;\n\texports.TangentSpaceNormalMap = TangentSpaceNormalMap;\n\texports.TetrahedronBufferGeometry = TetrahedronGeometry;\n\texports.TetrahedronGeometry = TetrahedronGeometry;\n\texports.TextGeometry = TextGeometry;\n\texports.Texture = Texture;\n\texports.TextureLoader = TextureLoader;\n\texports.TorusBufferGeometry = TorusGeometry;\n\texports.TorusGeometry = TorusGeometry;\n\texports.TorusKnotBufferGeometry = TorusKnotGeometry;\n\texports.TorusKnotGeometry = TorusKnotGeometry;\n\texports.Triangle = Triangle;\n\texports.TriangleFanDrawMode = TriangleFanDrawMode;\n\texports.TriangleStripDrawMode = TriangleStripDrawMode;\n\texports.TrianglesDrawMode = TrianglesDrawMode;\n\texports.TubeBufferGeometry = TubeGeometry;\n\texports.TubeGeometry = TubeGeometry;\n\texports.UVMapping = UVMapping;\n\texports.Uint16BufferAttribute = Uint16BufferAttribute;\n\texports.Uint32BufferAttribute = Uint32BufferAttribute;\n\texports.Uint8BufferAttribute = Uint8BufferAttribute;\n\texports.Uint8ClampedBufferAttribute = Uint8ClampedBufferAttribute;\n\texports.Uniform = Uniform;\n\texports.UniformsLib = UniformsLib;\n\texports.UniformsUtils = UniformsUtils;\n\texports.UnsignedByteType = UnsignedByteType;\n\texports.UnsignedInt248Type = UnsignedInt248Type;\n\texports.UnsignedIntType = UnsignedIntType;\n\texports.UnsignedShort4444Type = UnsignedShort4444Type;\n\texports.UnsignedShort5551Type = UnsignedShort5551Type;\n\texports.UnsignedShortType = UnsignedShortType;\n\texports.VSMShadowMap = VSMShadowMap;\n\texports.Vector2 = Vector2;\n\texports.Vector3 = Vector3;\n\texports.Vector4 = Vector4;\n\texports.VectorKeyframeTrack = VectorKeyframeTrack;\n\texports.VideoTexture = VideoTexture;\n\texports.WebGL1Renderer = WebGL1Renderer;\n\texports.WebGL3DRenderTarget = WebGL3DRenderTarget;\n\texports.WebGLArrayRenderTarget = WebGLArrayRenderTarget;\n\texports.WebGLCubeRenderTarget = WebGLCubeRenderTarget;\n\texports.WebGLMultipleRenderTargets = WebGLMultipleRenderTargets;\n\texports.WebGLMultisampleRenderTarget = WebGLMultisampleRenderTarget;\n\texports.WebGLRenderTarget = WebGLRenderTarget;\n\texports.WebGLRenderer = WebGLRenderer;\n\texports.WebGLUtils = WebGLUtils;\n\texports.WireframeGeometry = WireframeGeometry;\n\texports.WrapAroundEnding = WrapAroundEnding;\n\texports.ZeroCurvatureEnding = ZeroCurvatureEnding;\n\texports.ZeroFactor = ZeroFactor;\n\texports.ZeroSlopeEnding = ZeroSlopeEnding;\n\texports.ZeroStencilOp = ZeroStencilOp;\n\texports._SRGBAFormat = _SRGBAFormat;\n\texports.sRGBEncoding = sRGBEncoding;\n\n\tObject.defineProperty(exports, '__esModule', { value: true });\n\n}));\n","import {\n\tEventDispatcher,\n\tMOUSE,\n\tQuaternion,\n\tSpherical,\n\tTOUCH,\n\tVector2,\n\tVector3\n} from 'three';\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nconst _changeEvent = { type: 'change' };\nconst _startEvent = { type: 'start' };\nconst _endEvent = { type: 'end' };\n\nclass OrbitControls extends EventDispatcher {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper();\n\n\t\tif ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.' );\n\t\tif ( domElement === document ) console.error( 'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\n\n\t\tthis.object = object;\n\t\tthis.domElement = domElement;\n\t\tthis.domElement.style.touchAction = 'none'; // disable touch scroll\n\n\t\t// Set to false to disable this control\n\t\tthis.enabled = true;\n\n\t\t// \"target\" sets the location of focus, where the object orbits around\n\t\tthis.target = new Vector3();\n\n\t\t// How far you can dolly in and out ( PerspectiveCamera only )\n\t\tthis.minDistance = 0;\n\t\tthis.maxDistance = Infinity;\n\n\t\t// How far you can zoom in and out ( OrthographicCamera only )\n\t\tthis.minZoom = 0;\n\t\tthis.maxZoom = Infinity;\n\n\t\t// How far you can orbit vertically, upper and lower limits.\n\t\t// Range is 0 to Math.PI radians.\n\t\tthis.minPolarAngle = 0; // radians\n\t\tthis.maxPolarAngle = Math.PI; // radians\n\n\t\t// How far you can orbit horizontally, upper and lower limits.\n\t\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n\t\tthis.minAzimuthAngle = - Infinity; // radians\n\t\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t\t// Set to true to enable damping (inertia)\n\t\t// If damping is enabled, you must call controls.update() in your animation loop\n\t\tthis.enableDamping = false;\n\t\tthis.dampingFactor = 0.05;\n\n\t\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t\t// Set to false to disable zooming\n\t\tthis.enableZoom = true;\n\t\tthis.zoomSpeed = 1.0;\n\n\t\t// Set to false to disable rotating\n\t\tthis.enableRotate = true;\n\t\tthis.rotateSpeed = 1.0;\n\n\t\t// Set to false to disable panning\n\t\tthis.enablePan = true;\n\t\tthis.panSpeed = 1.0;\n\t\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\n\t\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t\t// Set to true to automatically rotate around the target\n\t\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\t\tthis.autoRotate = false;\n\t\tthis.autoRotateSpeed = 2.0; // 30 seconds per orbit when fps is 60\n\n\t\t// The four arrow keys\n\t\tthis.keys = { LEFT: 'ArrowLeft', UP: 'ArrowUp', RIGHT: 'ArrowRight', BOTTOM: 'ArrowDown' };\n\n\t\t// Mouse buttons\n\t\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\n\n\t\t// Touch fingers\n\t\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\n\n\t\t// for reset\n\t\tthis.target0 = this.target.clone();\n\t\tthis.position0 = this.object.position.clone();\n\t\tthis.zoom0 = this.object.zoom;\n\n\t\t// the target DOM element for key events\n\t\tthis._domElementKeyEvents = null;\n\n\t\t//\n\t\t// public methods\n\t\t//\n\n\t\tthis.getPolarAngle = function () {\n\n\t\t\treturn spherical.phi;\n\n\t\t};\n\n\t\tthis.getAzimuthalAngle = function () {\n\n\t\t\treturn spherical.theta;\n\n\t\t};\n\n\t\tthis.getDistance = function () {\n\n\t\t\treturn this.object.position.distanceTo( this.target );\n\n\t\t};\n\n\t\tthis.listenToKeyEvents = function ( domElement ) {\n\n\t\t\tdomElement.addEventListener( 'keydown', onKeyDown );\n\t\t\tthis._domElementKeyEvents = domElement;\n\n\t\t};\n\n\t\tthis.saveState = function () {\n\n\t\t\tscope.target0.copy( scope.target );\n\t\t\tscope.position0.copy( scope.object.position );\n\t\t\tscope.zoom0 = scope.object.zoom;\n\n\t\t};\n\n\t\tthis.reset = function () {\n\n\t\t\tscope.target.copy( scope.target0 );\n\t\t\tscope.object.position.copy( scope.position0 );\n\t\t\tscope.object.zoom = scope.zoom0;\n\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\tscope.update();\n\n\t\t\tstate = STATE.NONE;\n\n\t\t};\n\n\t\t// this method is exposed, but perhaps it would be better if we can make it private...\n\t\tthis.update = function () {\n\n\t\t\tconst offset = new Vector3();\n\n\t\t\t// so camera.up is the orbit axis\n\t\t\tconst quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\n\t\t\tconst quatInverse = quat.clone().invert();\n\n\t\t\tconst lastPosition = new Vector3();\n\t\t\tconst lastQuaternion = new Quaternion();\n\n\t\t\tconst twoPI = 2 * Math.PI;\n\n\t\t\treturn function update() {\n\n\t\t\t\tconst position = scope.object.position;\n\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t\t// angle from z-axis around y-axis\n\t\t\t\tspherical.setFromVector3( offset );\n\n\t\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t\t}\n\n\t\t\t\tif ( scope.enableDamping ) {\n\n\t\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\n\t\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t\t}\n\n\t\t\t\t// restrict theta to be between desired limits\n\n\t\t\t\tlet min = scope.minAzimuthAngle;\n\t\t\t\tlet max = scope.maxAzimuthAngle;\n\n\t\t\t\tif ( isFinite( min ) && isFinite( max ) ) {\n\n\t\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\n\n\t\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\n\n\t\t\t\t\tif ( min <= max ) {\n\n\t\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tspherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?\n\t\t\t\t\t\t\tMath.max( min, spherical.theta ) :\n\t\t\t\t\t\t\tMath.min( max, spherical.theta );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// restrict phi to be between desired limits\n\t\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\t\tspherical.makeSafe();\n\n\n\t\t\t\tspherical.radius *= scale;\n\n\t\t\t\t// restrict radius to be between desired limits\n\t\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t\t// move target to panned location\n\n\t\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tscope.target.add( panOffset );\n\n\t\t\t\t}\n\n\t\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t\tscale = 1;\n\n\t\t\t\t// update condition is:\n\t\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\t\tif ( zoomChanged ||\n\t\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\t\tzoomChanged = false;\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t};\n\n\t\t}();\n\n\t\tthis.dispose = function () {\n\n\t\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu );\n\n\t\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown );\n\t\t\tscope.domElement.removeEventListener( 'pointercancel', onPointerCancel );\n\t\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel );\n\n\t\t\tscope.domElement.removeEventListener( 'pointermove', onPointerMove );\n\t\t\tscope.domElement.removeEventListener( 'pointerup', onPointerUp );\n\n\n\t\t\tif ( scope._domElementKeyEvents !== null ) {\n\n\t\t\t\tscope._domElementKeyEvents.removeEventListener( 'keydown', onKeyDown );\n\n\t\t\t}\n\n\t\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t\t};\n\n\t\t//\n\t\t// internals\n\t\t//\n\n\t\tconst scope = this;\n\n\t\tconst STATE = {\n\t\t\tNONE: - 1,\n\t\t\tROTATE: 0,\n\t\t\tDOLLY: 1,\n\t\t\tPAN: 2,\n\t\t\tTOUCH_ROTATE: 3,\n\t\t\tTOUCH_PAN: 4,\n\t\t\tTOUCH_DOLLY_PAN: 5,\n\t\t\tTOUCH_DOLLY_ROTATE: 6\n\t\t};\n\n\t\tlet state = STATE.NONE;\n\n\t\tconst EPS = 0.000001;\n\n\t\t// current position in spherical coordinates\n\t\tconst spherical = new Spherical();\n\t\tconst sphericalDelta = new Spherical();\n\n\t\tlet scale = 1;\n\t\tconst panOffset = new Vector3();\n\t\tlet zoomChanged = false;\n\n\t\tconst rotateStart = new Vector2();\n\t\tconst rotateEnd = new Vector2();\n\t\tconst rotateDelta = new Vector2();\n\n\t\tconst panStart = new Vector2();\n\t\tconst panEnd = new Vector2();\n\t\tconst panDelta = new Vector2();\n\n\t\tconst dollyStart = new Vector2();\n\t\tconst dollyEnd = new Vector2();\n\t\tconst dollyDelta = new Vector2();\n\n\t\tconst pointers = [];\n\t\tconst pointerPositions = {};\n\n\t\tfunction getAutoRotationAngle() {\n\n\t\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t\t}\n\n\t\tfunction getZoomScale() {\n\n\t\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t\t}\n\n\t\tfunction rotateLeft( angle ) {\n\n\t\t\tsphericalDelta.theta -= angle;\n\n\t\t}\n\n\t\tfunction rotateUp( angle ) {\n\n\t\t\tsphericalDelta.phi -= angle;\n\n\t\t}\n\n\t\tconst panLeft = function () {\n\n\t\t\tconst v = new Vector3();\n\n\t\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\t\tv.multiplyScalar( - distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\tconst panUp = function () {\n\n\t\t\tconst v = new Vector3();\n\n\t\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\t\tif ( scope.screenSpacePanning === true ) {\n\n\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t\t\tv.crossVectors( scope.object.up, v );\n\n\t\t\t\t}\n\n\t\t\t\tv.multiplyScalar( distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\t// deltaX and deltaY are in pixels; right and down are positive\n\t\tconst pan = function () {\n\n\t\t\tconst offset = new Vector3();\n\n\t\t\treturn function pan( deltaX, deltaY ) {\n\n\t\t\t\tconst element = scope.domElement;\n\n\t\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t\t// perspective\n\t\t\t\t\tconst position = scope.object.position;\n\t\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\t\tlet targetDistance = offset.length();\n\n\t\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t\t// orthographic\n\t\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\t\tscope.enablePan = false;\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}();\n\n\t\tfunction dollyOut( dollyScale ) {\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\tscale /= dollyScale;\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\t\tscope.enableZoom = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction dollyIn( dollyScale ) {\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\tscale *= dollyScale;\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\t\tscope.enableZoom = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\t\t// event callbacks - update the object state\n\t\t//\n\n\t\tfunction handleMouseDownRotate( event ) {\n\n\t\t\trotateStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseDownDolly( event ) {\n\n\t\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseDownPan( event ) {\n\n\t\t\tpanStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseMoveRotate( event ) {\n\n\t\t\trotateEnd.set( event.clientX, event.clientY );\n\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\t\tconst element = scope.domElement;\n\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseMoveDolly( event ) {\n\n\t\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseMovePan( event ) {\n\n\t\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseWheel( event ) {\n\n\t\t\tif ( event.deltaY < 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleKeyDown( event ) {\n\n\t\t\tlet needsUpdate = false;\n\n\t\t\tswitch ( event.code ) {\n\n\t\t\t\tcase scope.keys.UP:\n\t\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.LEFT:\n\t\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.RIGHT:\n\t\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( needsUpdate ) {\n\n\t\t\t\t// prevent the browser from scrolling on cursor keys\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tscope.update();\n\n\t\t\t}\n\n\n\t\t}\n\n\t\tfunction handleTouchStartRotate() {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\trotateStart.set( pointers[ 0 ].pageX, pointers[ 0 ].pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst x = 0.5 * ( pointers[ 0 ].pageX + pointers[ 1 ].pageX );\n\t\t\t\tconst y = 0.5 * ( pointers[ 0 ].pageY + pointers[ 1 ].pageY );\n\n\t\t\t\trotateStart.set( x, y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction handleTouchStartPan() {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\tpanStart.set( pointers[ 0 ].pageX, pointers[ 0 ].pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst x = 0.5 * ( pointers[ 0 ].pageX + pointers[ 1 ].pageX );\n\t\t\t\tconst y = 0.5 * ( pointers[ 0 ].pageY + pointers[ 1 ].pageY );\n\n\t\t\t\tpanStart.set( x, y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction handleTouchStartDolly() {\n\n\t\t\tconst dx = pointers[ 0 ].pageX - pointers[ 1 ].pageX;\n\t\t\tconst dy = pointers[ 0 ].pageY - pointers[ 1 ].pageY;\n\n\t\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyStart.set( 0, distance );\n\n\t\t}\n\n\t\tfunction handleTouchStartDollyPan() {\n\n\t\t\tif ( scope.enableZoom ) handleTouchStartDolly();\n\n\t\t\tif ( scope.enablePan ) handleTouchStartPan();\n\n\t\t}\n\n\t\tfunction handleTouchStartDollyRotate() {\n\n\t\t\tif ( scope.enableZoom ) handleTouchStartDolly();\n\n\t\t\tif ( scope.enableRotate ) handleTouchStartRotate();\n\n\t\t}\n\n\t\tfunction handleTouchMoveRotate( event ) {\n\n\t\t\tif ( pointers.length == 1 ) {\n\n\t\t\t\trotateEnd.set( event.pageX, event.pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\t\trotateEnd.set( x, y );\n\n\t\t\t}\n\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\t\tconst element = scope.domElement;\n\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMovePan( event ) {\n\n\t\t\tif ( pointers.length === 1 ) {\n\n\t\t\t\tpanEnd.set( event.pageX, event.pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\t\tconst x = 0.5 * ( event.pageX + position.x );\n\t\t\t\tconst y = 0.5 * ( event.pageY + position.y );\n\n\t\t\t\tpanEnd.set( x, y );\n\n\t\t\t}\n\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDolly( event ) {\n\n\t\t\tconst position = getSecondPointerPosition( event );\n\n\t\t\tconst dx = event.pageX - position.x;\n\t\t\tconst dy = event.pageY - position.y;\n\n\t\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyEnd.set( 0, distance );\n\n\t\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\n\t\t\tdollyOut( dollyDelta.y );\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDollyPan( event ) {\n\n\t\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\t\tif ( scope.enablePan ) handleTouchMovePan( event );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDollyRotate( event ) {\n\n\t\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\n\n\t\t}\n\n\t\t//\n\t\t// event handlers - FSM: listen for events and reset state\n\t\t//\n\n\t\tfunction onPointerDown( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( pointers.length === 0 ) {\n\n\t\t\t\tscope.domElement.setPointerCapture( event.pointerId );\n\n\t\t\t\tscope.domElement.addEventListener( 'pointermove', onPointerMove );\n\t\t\t\tscope.domElement.addEventListener( 'pointerup', onPointerUp );\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\taddPointer( event );\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchStart( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseDown( event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tif ( event.pointerType === 'touch' ) {\n\n\t\t\t\tonTouchMove( event );\n\n\t\t\t} else {\n\n\t\t\t\tonMouseMove( event );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerUp( event ) {\n\n\t\t    removePointer( event );\n\n\t\t    if ( pointers.length === 0 ) {\n\n\t\t        scope.domElement.releasePointerCapture( event.pointerId );\n\n\t\t        scope.domElement.removeEventListener( 'pointermove', onPointerMove );\n\t\t        scope.domElement.removeEventListener( 'pointerup', onPointerUp );\n\n\t\t    }\n\n\t\t    scope.dispatchEvent( _endEvent );\n\n\t\t    state = STATE.NONE;\n\n\t\t}\n\n\t\tfunction onPointerCancel( event ) {\n\n\t\t\tremovePointer( event );\n\n\t\t}\n\n\t\tfunction onMouseDown( event ) {\n\n\t\t\tlet mouseAction;\n\n\t\t\tswitch ( event.button ) {\n\n\t\t\t\tcase 0:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tmouseAction = - 1;\n\n\t\t\t}\n\n\t\t\tswitch ( mouseAction ) {\n\n\t\t\t\tcase MOUSE.DOLLY:\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MOUSE.ROTATE:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MOUSE.PAN:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tswitch ( state ) {\n\n\t\t\t\tcase STATE.ROTATE:\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.DOLLY:\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.PAN:\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseWheel( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\thandleMouseWheel( event );\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t}\n\n\t\tfunction onKeyDown( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enablePan === false ) return;\n\n\t\t\thandleKeyDown( event );\n\n\t\t}\n\n\t\tfunction onTouchStart( event ) {\n\n\t\t\ttrackPointer( event );\n\n\t\t\tswitch ( pointers.length ) {\n\n\t\t\t\tcase 1:\n\n\t\t\t\t\tswitch ( scope.touches.ONE ) {\n\n\t\t\t\t\t\tcase TOUCH.ROTATE:\n\n\t\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartRotate();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase TOUCH.PAN:\n\n\t\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartPan();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\n\t\t\t\t\tswitch ( scope.touches.TWO ) {\n\n\t\t\t\t\t\tcase TOUCH.DOLLY_PAN:\n\n\t\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartDollyPan();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase TOUCH.DOLLY_ROTATE:\n\n\t\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartDollyRotate();\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onTouchMove( event ) {\n\n\t\t\ttrackPointer( event );\n\n\t\t\tswitch ( state ) {\n\n\t\t\t\tcase STATE.TOUCH_ROTATE:\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_PAN:\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_DOLLY_PAN:\n\n\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\thandleTouchMoveDollyPan( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\n\n\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleTouchMoveDollyRotate( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onContextMenu( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t}\n\n\t\tfunction addPointer( event ) {\n\n\t\t\tpointers.push( event );\n\n\t\t}\n\n\t\tfunction removePointer( event ) {\n\n\t\t\tdelete pointerPositions[ event.pointerId ];\n\n\t\t\tfor ( let i = 0; i < pointers.length; i ++ ) {\n\n\t\t\t\tif ( pointers[ i ].pointerId == event.pointerId ) {\n\n\t\t\t\t\tpointers.splice( i, 1 );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction trackPointer( event ) {\n\n\t\t\tlet position = pointerPositions[ event.pointerId ];\n\n\t\t\tif ( position === undefined ) {\n\n\t\t\t\tposition = new Vector2();\n\t\t\t\tpointerPositions[ event.pointerId ] = position;\n\n\t\t\t}\n\n\t\t\tposition.set( event.pageX, event.pageY );\n\n\t\t}\n\n\t\tfunction getSecondPointerPosition( event ) {\n\n\t\t\tconst pointer = ( event.pointerId === pointers[ 0 ].pointerId ) ? pointers[ 1 ] : pointers[ 0 ];\n\n\t\t\treturn pointerPositions[ pointer.pointerId ];\n\n\t\t}\n\n\t\t//\n\n\t\tscope.domElement.addEventListener( 'contextmenu', onContextMenu );\n\n\t\tscope.domElement.addEventListener( 'pointerdown', onPointerDown );\n\t\tscope.domElement.addEventListener( 'pointercancel', onPointerCancel );\n\t\tscope.domElement.addEventListener( 'wheel', onMouseWheel, { passive: false } );\n\n\t\t// force an update at start\n\n\t\tthis.update();\n\n\t}\n\n}\n\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\nclass MapControls extends OrbitControls {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper( object, domElement );\n\n\t\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\n\n\t\tthis.mouseButtons.LEFT = MOUSE.PAN;\n\t\tthis.mouseButtons.RIGHT = MOUSE.ROTATE;\n\n\t\tthis.touches.ONE = TOUCH.PAN;\n\t\tthis.touches.TWO = TOUCH.DOLLY_ROTATE;\n\n\t}\n\n}\n\nexport { OrbitControls, MapControls };\n","/**\n * @author Rich Tibbett / https://github.com/richtr\n * @author mrdoob / http://mrdoob.com/\n * @author Tony Parisi / http://www.tonyparisi.com/\n * @author Takahiro / https://github.com/takahirox\n * @author Don McCurdy / https://www.donmccurdy.com\n */\n\nvar THREE = require( 'three' );\n\n\nvar _GLTFLoader = ( function () {\n\n\tfunction GLTFLoader( manager ) {\n\n\t\tTHREE.Loader.call( this, manager );\n\n\t\tthis.dracoLoader = null;\n\t\tthis.ddsLoader = null;\n\n\t}\n\n\tGLTFLoader.prototype = Object.assign( Object.create( THREE.Loader.prototype ), {\n\n\t\tconstructor: GLTFLoader,\n\n\t\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\t\tvar scope = this;\n\n\t\t\tvar resourcePath;\n\n\t\t\tif ( this.resourcePath !== '' ) {\n\n\t\t\t\tresourcePath = this.resourcePath;\n\n\t\t\t} else if ( this.path !== '' ) {\n\n\t\t\t\tresourcePath = this.path;\n\n\t\t\t} else {\n\n\t\t\t\tresourcePath = THREE.LoaderUtils.extractUrlBase( url );\n\n\t\t\t}\n\n\t\t\t// Tells the LoadingManager to track an extra item, which resolves after\n\t\t\t// the model is fully loaded. This means the count of items loaded will\n\t\t\t// be incorrect, but ensures manager.onLoad() does not fire early.\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tvar _onError = function ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t};\n\n\t\t\tvar loader = new THREE.FileLoader( scope.manager );\n\n\t\t\tloader.setPath( this.path );\n\t\t\tloader.setResponseType( 'arraybuffer' );\n\n\t\t\tif ( scope.crossOrigin === 'use-credentials' ) {\n\n\t\t\t\tloader.setWithCredentials( true );\n\n\t\t\t}\n\n\t\t\tloader.load( url, function ( data ) {\n\n\t\t\t\ttry {\n\n\t\t\t\t\tscope.parse( data, resourcePath, function ( gltf ) {\n\n\t\t\t\t\t\tonLoad( gltf );\n\n\t\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t\t}, _onError );\n\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t_onError( e );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, _onError );\n\n\t\t},\n\n\t\tsetDRACOLoader: function ( dracoLoader ) {\n\n\t\t\tthis.dracoLoader = dracoLoader;\n\t\t\treturn this;\n\n\t\t},\n\n\t\tsetDDSLoader: function ( ddsLoader ) {\n\n\t\t\tthis.ddsLoader = ddsLoader;\n\t\t\treturn this;\n\n\t\t},\n\n\t\tparse: function ( data, path, onLoad, onError ) {\n\n\t\t\tvar content;\n\t\t\tvar extensions = {};\n\n\t\t\tif ( typeof data === 'string' ) {\n\n\t\t\t\tcontent = data;\n\n\t\t\t} else {\n\n\t\t\t\tvar magic = THREE.LoaderUtils.decodeText( new Uint8Array( data, 0, 4 ) );\n\n\t\t\t\tif ( magic === BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\t\t\ttry {\n\n\t\t\t\t\t\textensions[ EXTENSIONS.KHR_BINARY_GLTF ] = new GLTFBinaryExtension( data );\n\n\t\t\t\t\t} catch ( error ) {\n\n\t\t\t\t\t\tif ( onError ) onError( error );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontent = extensions[ EXTENSIONS.KHR_BINARY_GLTF ].content;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tcontent = THREE.LoaderUtils.decodeText( new Uint8Array( data ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar json = JSON.parse( content );\n\n\t\t\tif ( json.asset === undefined || json.asset.version[ 0 ] < 2 ) {\n\n\t\t\t\tif ( onError ) onError( new Error( 'THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.' ) );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tif ( json.extensionsUsed ) {\n\n\t\t\t\tfor ( var i = 0; i < json.extensionsUsed.length; ++ i ) {\n\n\t\t\t\t\tvar extensionName = json.extensionsUsed[ i ];\n\t\t\t\t\tvar extensionsRequired = json.extensionsRequired || [];\n\n\t\t\t\t\tswitch ( extensionName ) {\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_LIGHTS_PUNCTUAL:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFLightsExtension( json );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_UNLIT:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsUnlitExtension();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsPbrSpecularGlossinessExtension();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFDracoMeshCompressionExtension( json, this.dracoLoader );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.MSFT_TEXTURE_DDS:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureDDSExtension( this.ddsLoader );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureTransformExtension();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MESH_QUANTIZATION:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMeshQuantizationExtension();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tif ( extensionsRequired.indexOf( extensionName ) >= 0 ) {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".' );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar parser = new GLTFParser( json, extensions, {\n\n\t\t\t\tpath: path || this.resourcePath || '',\n\t\t\t\tcrossOrigin: this.crossOrigin,\n\t\t\t\tmanager: this.manager\n\n\t\t\t} );\n\n\t\t\tparser.parse( onLoad, onError );\n\n\t\t}\n\n\t} );\n\n\t/* GLTFREGISTRY */\n\n\tfunction GLTFRegistry() {\n\n\t\tvar objects = {};\n\n\t\treturn\t{\n\n\t\t\tget: function ( key ) {\n\n\t\t\t\treturn objects[ key ];\n\n\t\t\t},\n\n\t\t\tadd: function ( key, object ) {\n\n\t\t\t\tobjects[ key ] = object;\n\n\t\t\t},\n\n\t\t\tremove: function ( key ) {\n\n\t\t\t\tdelete objects[ key ];\n\n\t\t\t},\n\n\t\t\tremoveAll: function () {\n\n\t\t\t\tobjects = {};\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t/*********************************/\n\t/********** EXTENSIONS ***********/\n\t/*********************************/\n\n\tvar EXTENSIONS = {\n\t\tKHR_BINARY_GLTF: 'KHR_binary_glTF',\n\t\tKHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n\t\tKHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n\t\tKHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\n\t\tKHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n\t\tKHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n\t\tKHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\n\t\tMSFT_TEXTURE_DDS: 'MSFT_texture_dds'\n\t};\n\n\t/**\n\t * DDS Texture Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/MSFT_texture_dds\n\t *\n\t */\n\tfunction GLTFTextureDDSExtension( ddsLoader ) {\n\n\t\tif ( ! ddsLoader ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Attempting to load .dds texture without importing THREE.DDSLoader' );\n\n\t\t}\n\n\t\tthis.name = EXTENSIONS.MSFT_TEXTURE_DDS;\n\t\tthis.ddsLoader = ddsLoader;\n\n\t}\n\n\t/**\n\t * Punctual Lights Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n\t */\n\tfunction GLTFLightsExtension( json ) {\n\n\t\tthis.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL;\n\n\t\tvar extension = ( json.extensions && json.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ] ) || {};\n\t\tthis.lightDefs = extension.lights || [];\n\n\t}\n\n\tGLTFLightsExtension.prototype.loadLight = function ( lightIndex ) {\n\n\t\tvar lightDef = this.lightDefs[ lightIndex ];\n\t\tvar lightNode;\n\n\t\tvar color = new THREE.Color( 0xffffff );\n\t\tif ( lightDef.color !== undefined ) color.fromArray( lightDef.color );\n\n\t\tvar range = lightDef.range !== undefined ? lightDef.range : 0;\n\n\t\tswitch ( lightDef.type ) {\n\n\t\t\tcase 'directional':\n\t\t\t\tlightNode = new THREE.DirectionalLight( color );\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tcase 'point':\n\t\t\t\tlightNode = new THREE.PointLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\tbreak;\n\n\t\t\tcase 'spot':\n\t\t\t\tlightNode = new THREE.SpotLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\t// Handle spotlight properties.\n\t\t\t\tlightDef.spot = lightDef.spot || {};\n\t\t\t\tlightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\n\t\t\t\tlightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\n\t\t\t\tlightNode.angle = lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unexpected light type, \"' + lightDef.type + '\".' );\n\n\t\t}\n\n\t\t// Some lights (e.g. spot) default to a position other than the origin. Reset the position\n\t\t// here, because node-level parsing will only override position if explicitly specified.\n\t\tlightNode.position.set( 0, 0, 0 );\n\n\t\tlightNode.decay = 2;\n\n\t\tif ( lightDef.intensity !== undefined ) lightNode.intensity = lightDef.intensity;\n\n\t\tlightNode.name = lightDef.name || ( 'light_' + lightIndex );\n\n\t\treturn Promise.resolve( lightNode );\n\n\t};\n\n\t/**\n\t * Unlit Materials Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\n\t */\n\tfunction GLTFMaterialsUnlitExtension() {\n\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\n\n\t}\n\n\tGLTFMaterialsUnlitExtension.prototype.getMaterialType = function () {\n\n\t\treturn THREE.MeshBasicMaterial;\n\n\t};\n\n\tGLTFMaterialsUnlitExtension.prototype.extendParams = function ( materialParams, materialDef, parser ) {\n\n\t\tvar pending = [];\n\n\t\tmaterialParams.color = new THREE.Color( 1.0, 1.0, 1.0 );\n\t\tmaterialParams.opacity = 1.0;\n\n\t\tvar metallicRoughness = materialDef.pbrMetallicRoughness;\n\n\t\tif ( metallicRoughness ) {\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tvar array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t};\n\n\t/* BINARY EXTENSION */\n\tvar BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\n\tvar BINARY_EXTENSION_HEADER_LENGTH = 12;\n\tvar BINARY_EXTENSION_CHUNK_TYPES = { JSON: 0x4E4F534A, BIN: 0x004E4942 };\n\n\tfunction GLTFBinaryExtension( data ) {\n\n\t\tthis.name = EXTENSIONS.KHR_BINARY_GLTF;\n\t\tthis.content = null;\n\t\tthis.body = null;\n\n\t\tvar headerView = new DataView( data, 0, BINARY_EXTENSION_HEADER_LENGTH );\n\n\t\tthis.header = {\n\t\t\tmagic: THREE.LoaderUtils.decodeText( new Uint8Array( data.slice( 0, 4 ) ) ),\n\t\t\tversion: headerView.getUint32( 4, true ),\n\t\t\tlength: headerView.getUint32( 8, true )\n\t\t};\n\n\t\tif ( this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported glTF-Binary header.' );\n\n\t\t} else if ( this.header.version < 2.0 ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Legacy binary file detected.' );\n\n\t\t}\n\n\t\tvar chunkView = new DataView( data, BINARY_EXTENSION_HEADER_LENGTH );\n\t\tvar chunkIndex = 0;\n\n\t\twhile ( chunkIndex < chunkView.byteLength ) {\n\n\t\t\tvar chunkLength = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tvar chunkType = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tif ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON ) {\n\n\t\t\t\tvar contentArray = new Uint8Array( data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength );\n\t\t\t\tthis.content = THREE.LoaderUtils.decodeText( contentArray );\n\n\t\t\t} else if ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN ) {\n\n\t\t\t\tvar byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\n\t\t\t\tthis.body = data.slice( byteOffset, byteOffset + chunkLength );\n\n\t\t\t}\n\n\t\t\t// Clients must ignore chunks with unknown types.\n\n\t\t\tchunkIndex += chunkLength;\n\n\t\t}\n\n\t\tif ( this.content === null ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: JSON content not found.' );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * DRACO Mesh Compression Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\n\t */\n\tfunction GLTFDracoMeshCompressionExtension( json, dracoLoader ) {\n\n\t\tif ( ! dracoLoader ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: No DRACOLoader instance provided.' );\n\n\t\t}\n\n\t\tthis.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\n\t\tthis.json = json;\n\t\tthis.dracoLoader = dracoLoader;\n\n\t}\n\n\tGLTFDracoMeshCompressionExtension.prototype.decodePrimitive = function ( primitive, parser ) {\n\n\t\tvar json = this.json;\n\t\tvar dracoLoader = this.dracoLoader;\n\t\tvar bufferViewIndex = primitive.extensions[ this.name ].bufferView;\n\t\tvar gltfAttributeMap = primitive.extensions[ this.name ].attributes;\n\t\tvar threeAttributeMap = {};\n\t\tvar attributeNormalizedMap = {};\n\t\tvar attributeTypeMap = {};\n\n\t\tfor ( var attributeName in gltfAttributeMap ) {\n\n\t\t\tvar threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tthreeAttributeMap[ threeAttributeName ] = gltfAttributeMap[ attributeName ];\n\n\t\t}\n\n\t\tfor ( attributeName in primitive.attributes ) {\n\n\t\t\tvar threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tif ( gltfAttributeMap[ attributeName ] !== undefined ) {\n\n\t\t\t\tvar accessorDef = json.accessors[ primitive.attributes[ attributeName ] ];\n\t\t\t\tvar componentType = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t\tattributeTypeMap[ threeAttributeName ] = componentType;\n\t\t\t\tattributeNormalizedMap[ threeAttributeName ] = accessorDef.normalized === true;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn parser.getDependency( 'bufferView', bufferViewIndex ).then( function ( bufferView ) {\n\n\t\t\treturn new Promise( function ( resolve ) {\n\n\t\t\t\tdracoLoader.decodeDracoFile( bufferView, function ( geometry ) {\n\n\t\t\t\t\tfor ( var attributeName in geometry.attributes ) {\n\n\t\t\t\t\t\tvar attribute = geometry.attributes[ attributeName ];\n\t\t\t\t\t\tvar normalized = attributeNormalizedMap[ attributeName ];\n\n\t\t\t\t\t\tif ( normalized !== undefined ) attribute.normalized = normalized;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve( geometry );\n\n\t\t\t\t}, threeAttributeMap, attributeTypeMap );\n\n\t\t\t} );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Texture Transform Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\n\t */\n\tfunction GLTFTextureTransformExtension() {\n\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\n\n\t}\n\n\tGLTFTextureTransformExtension.prototype.extendTexture = function ( texture, transform ) {\n\n\t\ttexture = texture.clone();\n\n\t\tif ( transform.offset !== undefined ) {\n\n\t\t\ttexture.offset.fromArray( transform.offset );\n\n\t\t}\n\n\t\tif ( transform.rotation !== undefined ) {\n\n\t\t\ttexture.rotation = transform.rotation;\n\n\t\t}\n\n\t\tif ( transform.scale !== undefined ) {\n\n\t\t\ttexture.repeat.fromArray( transform.scale );\n\n\t\t}\n\n\t\tif ( transform.texCoord !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.' );\n\n\t\t}\n\n\t\ttexture.needsUpdate = true;\n\n\t\treturn texture;\n\n\t};\n\n\t/**\n\t * Specular-Glossiness Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_pbrSpecularGlossiness\n\t */\n\tfunction GLTFMaterialsPbrSpecularGlossinessExtension() {\n\n\t\treturn {\n\n\t\t\tname: EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,\n\n\t\t\tspecularGlossinessParams: [\n\t\t\t\t'color',\n\t\t\t\t'map',\n\t\t\t\t'lightMap',\n\t\t\t\t'lightMapIntensity',\n\t\t\t\t'aoMap',\n\t\t\t\t'aoMapIntensity',\n\t\t\t\t'emissive',\n\t\t\t\t'emissiveIntensity',\n\t\t\t\t'emissiveMap',\n\t\t\t\t'bumpMap',\n\t\t\t\t'bumpScale',\n\t\t\t\t'normalMap',\n\t\t\t\t'displacementMap',\n\t\t\t\t'displacementScale',\n\t\t\t\t'displacementBias',\n\t\t\t\t'specularMap',\n\t\t\t\t'specular',\n\t\t\t\t'glossinessMap',\n\t\t\t\t'glossiness',\n\t\t\t\t'alphaMap',\n\t\t\t\t'envMap',\n\t\t\t\t'envMapIntensity',\n\t\t\t\t'refractionRatio',\n\t\t\t],\n\n\t\t\tgetMaterialType: function () {\n\n\t\t\t\treturn THREE.ShaderMaterial;\n\n\t\t\t},\n\n\t\t\textendParams: function ( materialParams, materialDef, parser ) {\n\n\t\t\t\tvar pbrSpecularGlossiness = materialDef.extensions[ this.name ];\n\n\t\t\t\tvar shader = THREE.ShaderLib[ 'standard' ];\n\n\t\t\t\tvar uniforms = THREE.UniformsUtils.clone( shader.uniforms );\n\n\t\t\t\tvar specularMapParsFragmentChunk = [\n\t\t\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t\t\t'\tuniform sampler2D specularMap;',\n\t\t\t\t\t'#endif'\n\t\t\t\t].join( '\\n' );\n\n\t\t\t\tvar glossinessMapParsFragmentChunk = [\n\t\t\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t\t\t'\tuniform sampler2D glossinessMap;',\n\t\t\t\t\t'#endif'\n\t\t\t\t].join( '\\n' );\n\n\t\t\t\tvar specularMapFragmentChunk = [\n\t\t\t\t\t'vec3 specularFactor = specular;',\n\t\t\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t\t\t'\tvec4 texelSpecular = texture2D( specularMap, vUv );',\n\t\t\t\t\t'\ttexelSpecular = sRGBToLinear( texelSpecular );',\n\t\t\t\t\t'\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t\t\t'\tspecularFactor *= texelSpecular.rgb;',\n\t\t\t\t\t'#endif'\n\t\t\t\t].join( '\\n' );\n\n\t\t\t\tvar glossinessMapFragmentChunk = [\n\t\t\t\t\t'float glossinessFactor = glossiness;',\n\t\t\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t\t\t'\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );',\n\t\t\t\t\t'\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t\t\t'\tglossinessFactor *= texelGlossiness.a;',\n\t\t\t\t\t'#endif'\n\t\t\t\t].join( '\\n' );\n\n\t\t\t\tvar lightPhysicalFragmentChunk = [\n\t\t\t\t\t'PhysicalMaterial material;',\n\t\t\t\t\t'material.diffuseColor = diffuseColor.rgb;',\n\t\t\t\t\t'material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );',\n\t\t\t\t\t'material.specularColor = specularFactor.rgb;',\n\t\t\t\t].join( '\\n' );\n\n\t\t\t\tvar fragmentShader = shader.fragmentShader\n\t\t\t\t\t.replace( 'uniform float roughness;', 'uniform vec3 specular;' )\n\t\t\t\t\t.replace( 'uniform float metalness;', 'uniform float glossiness;' )\n\t\t\t\t\t.replace( '#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk )\n\t\t\t\t\t.replace( '#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk )\n\t\t\t\t\t.replace( '#include <roughnessmap_fragment>', specularMapFragmentChunk )\n\t\t\t\t\t.replace( '#include <metalnessmap_fragment>', glossinessMapFragmentChunk )\n\t\t\t\t\t.replace( '#include <lights_physical_fragment>', lightPhysicalFragmentChunk );\n\n\t\t\t\tdelete uniforms.roughness;\n\t\t\t\tdelete uniforms.metalness;\n\t\t\t\tdelete uniforms.roughnessMap;\n\t\t\t\tdelete uniforms.metalnessMap;\n\n\t\t\t\tuniforms.specular = { value: new THREE.Color().setHex( 0x111111 ) };\n\t\t\t\tuniforms.glossiness = { value: 0.5 };\n\t\t\t\tuniforms.specularMap = { value: null };\n\t\t\t\tuniforms.glossinessMap = { value: null };\n\n\t\t\t\tmaterialParams.vertexShader = shader.vertexShader;\n\t\t\t\tmaterialParams.fragmentShader = fragmentShader;\n\t\t\t\tmaterialParams.uniforms = uniforms;\n\t\t\t\tmaterialParams.defines = { 'STANDARD': '' };\n\n\t\t\t\tmaterialParams.color = new THREE.Color( 1.0, 1.0, 1.0 );\n\t\t\t\tmaterialParams.opacity = 1.0;\n\n\t\t\t\tvar pending = [];\n\n\t\t\t\tif ( Array.isArray( pbrSpecularGlossiness.diffuseFactor ) ) {\n\n\t\t\t\t\tvar array = pbrSpecularGlossiness.diffuseFactor;\n\n\t\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t\t}\n\n\t\t\t\tif ( pbrSpecularGlossiness.diffuseTexture !== undefined ) {\n\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', pbrSpecularGlossiness.diffuseTexture ) );\n\n\t\t\t\t}\n\n\t\t\t\tmaterialParams.emissive = new THREE.Color( 0.0, 0.0, 0.0 );\n\t\t\t\tmaterialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\n\t\t\t\tmaterialParams.specular = new THREE.Color( 1.0, 1.0, 1.0 );\n\n\t\t\t\tif ( Array.isArray( pbrSpecularGlossiness.specularFactor ) ) {\n\n\t\t\t\t\tmaterialParams.specular.fromArray( pbrSpecularGlossiness.specularFactor );\n\n\t\t\t\t}\n\n\t\t\t\tif ( pbrSpecularGlossiness.specularGlossinessTexture !== undefined ) {\n\n\t\t\t\t\tvar specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'glossinessMap', specGlossMapDef ) );\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'specularMap', specGlossMapDef ) );\n\n\t\t\t\t}\n\n\t\t\t\treturn Promise.all( pending );\n\n\t\t\t},\n\n\t\t\tcreateMaterial: function ( params ) {\n\n\t\t\t\t// setup material properties based on MeshStandardMaterial for Specular-Glossiness\n\n\t\t\t\tvar material = new THREE.ShaderMaterial( {\n\t\t\t\t\tdefines: params.defines,\n\t\t\t\t\tvertexShader: params.vertexShader,\n\t\t\t\t\tfragmentShader: params.fragmentShader,\n\t\t\t\t\tuniforms: params.uniforms,\n\t\t\t\t\tfog: true,\n\t\t\t\t\tlights: true,\n\t\t\t\t\topacity: params.opacity,\n\t\t\t\t\ttransparent: params.transparent\n\t\t\t\t} );\n\n\t\t\t\tmaterial.isGLTFSpecularGlossinessMaterial = true;\n\n\t\t\t\tmaterial.color = params.color;\n\n\t\t\t\tmaterial.map = params.map === undefined ? null : params.map;\n\n\t\t\t\tmaterial.lightMap = null;\n\t\t\t\tmaterial.lightMapIntensity = 1.0;\n\n\t\t\t\tmaterial.aoMap = params.aoMap === undefined ? null : params.aoMap;\n\t\t\t\tmaterial.aoMapIntensity = 1.0;\n\n\t\t\t\tmaterial.emissive = params.emissive;\n\t\t\t\tmaterial.emissiveIntensity = 1.0;\n\t\t\t\tmaterial.emissiveMap = params.emissiveMap === undefined ? null : params.emissiveMap;\n\n\t\t\t\tmaterial.bumpMap = params.bumpMap === undefined ? null : params.bumpMap;\n\t\t\t\tmaterial.bumpScale = 1;\n\n\t\t\t\tmaterial.normalMap = params.normalMap === undefined ? null : params.normalMap;\n\n\t\t\t\tif ( params.normalScale ) material.normalScale = params.normalScale;\n\n\t\t\t\tmaterial.displacementMap = null;\n\t\t\t\tmaterial.displacementScale = 1;\n\t\t\t\tmaterial.displacementBias = 0;\n\n\t\t\t\tmaterial.specularMap = params.specularMap === undefined ? null : params.specularMap;\n\t\t\t\tmaterial.specular = params.specular;\n\n\t\t\t\tmaterial.glossinessMap = params.glossinessMap === undefined ? null : params.glossinessMap;\n\t\t\t\tmaterial.glossiness = params.glossiness;\n\n\t\t\t\tmaterial.alphaMap = null;\n\n\t\t\t\tmaterial.envMap = params.envMap === undefined ? null : params.envMap;\n\t\t\t\tmaterial.envMapIntensity = 1.0;\n\n\t\t\t\tmaterial.refractionRatio = 0.98;\n\n\t\t\t\tmaterial.extensions.derivatives = true;\n\n\t\t\t\treturn material;\n\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Clones a GLTFSpecularGlossinessMaterial instance. The ShaderMaterial.copy() method can\n\t\t\t * copy only properties it knows about or inherits, and misses many properties that would\n\t\t\t * normally be defined by MeshStandardMaterial.\n\t\t\t *\n\t\t\t * This method allows GLTFSpecularGlossinessMaterials to be cloned in the process of\n\t\t\t * loading a glTF model, but cloning later (e.g. by the user) would require these changes\n\t\t\t * AND also updating `.onBeforeRender` on the parent mesh.\n\t\t\t *\n\t\t\t * @param  {THREE.ShaderMaterial} source\n\t\t\t * @return {THREE.ShaderMaterial}\n\t\t\t */\n\t\t\tcloneMaterial: function ( source ) {\n\n\t\t\t\tvar target = source.clone();\n\n\t\t\t\ttarget.isGLTFSpecularGlossinessMaterial = true;\n\n\t\t\t\tvar params = this.specularGlossinessParams;\n\n\t\t\t\tfor ( var i = 0, il = params.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar value = source[ params[ i ] ];\n\t\t\t\t\ttarget[ params[ i ] ] = ( value && value.isColor ) ? value.clone() : value;\n\n\t\t\t\t}\n\n\t\t\t\treturn target;\n\n\t\t\t},\n\n\t\t\t// Here's based on refreshUniformsCommon() and refreshUniformsStandard() in WebGLRenderer.\n\t\t\trefreshUniforms: function ( renderer, scene, camera, geometry, material ) {\n\n\t\t\t\tif ( material.isGLTFSpecularGlossinessMaterial !== true ) {\n\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tvar uniforms = material.uniforms;\n\t\t\t\tvar defines = material.defines;\n\n\t\t\t\tuniforms.opacity.value = material.opacity;\n\n\t\t\t\tuniforms.diffuse.value.copy( material.color );\n\t\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\n\n\t\t\t\tuniforms.map.value = material.map;\n\t\t\t\tuniforms.specularMap.value = material.specularMap;\n\t\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t\t\tuniforms.lightMap.value = material.lightMap;\n\t\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\n\n\t\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n\t\t\t\t// uv repeat and offset setting priorities\n\t\t\t\t// 1. color map\n\t\t\t\t// 2. specular map\n\t\t\t\t// 3. normal map\n\t\t\t\t// 4. bump map\n\t\t\t\t// 5. alpha map\n\t\t\t\t// 6. emissive map\n\n\t\t\t\tvar uvScaleMap;\n\n\t\t\t\tif ( material.map ) {\n\n\t\t\t\t\tuvScaleMap = material.map;\n\n\t\t\t\t} else if ( material.specularMap ) {\n\n\t\t\t\t\tuvScaleMap = material.specularMap;\n\n\t\t\t\t} else if ( material.displacementMap ) {\n\n\t\t\t\t\tuvScaleMap = material.displacementMap;\n\n\t\t\t\t} else if ( material.normalMap ) {\n\n\t\t\t\t\tuvScaleMap = material.normalMap;\n\n\t\t\t\t} else if ( material.bumpMap ) {\n\n\t\t\t\t\tuvScaleMap = material.bumpMap;\n\n\t\t\t\t} else if ( material.glossinessMap ) {\n\n\t\t\t\t\tuvScaleMap = material.glossinessMap;\n\n\t\t\t\t} else if ( material.alphaMap ) {\n\n\t\t\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t\t\t} else if ( material.emissiveMap ) {\n\n\t\t\t\t\tuvScaleMap = material.emissiveMap;\n\n\t\t\t\t}\n\n\t\t\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\t\t\t// backwards compatibility\n\t\t\t\t\tif ( uvScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\t\t\tuvScaleMap = uvScaleMap.texture;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t\t\t}\n\n\t\t\t\tif ( material.envMap ) {\n\n\t\t\t\t\tuniforms.envMap.value = material.envMap;\n\t\t\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\n\t\t\t\t\t// don't flip CubeTexture envMaps, flip everything else:\n\t\t\t\t\t//  WebGLRenderTargetCube will be flipped for backwards compatibility\n\t\t\t\t\t//  WebGLRenderTargetCube.texture will be flipped because it's a Texture and NOT a CubeTexture\n\t\t\t\t\t// this check must be handled differently, or removed entirely, if WebGLRenderTargetCube uses a CubeTexture in the future\n\t\t\t\t\tuniforms.flipEnvMap.value = material.envMap.isCubeTexture ? - 1 : 1;\n\n\t\t\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\n\t\t\t\t\tuniforms.maxMipLevel.value = renderer.properties.get( material.envMap ).__maxMipLevel;\n\n\t\t\t\t}\n\n\t\t\t\tuniforms.specular.value.copy( material.specular );\n\t\t\t\tuniforms.glossiness.value = material.glossiness;\n\n\t\t\t\tuniforms.glossinessMap.value = material.glossinessMap;\n\n\t\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\t\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\t\tuniforms.normalMap.value = material.normalMap;\n\n\t\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t\t\tif ( uniforms.glossinessMap.value !== null && defines.USE_GLOSSINESSMAP === undefined ) {\n\n\t\t\t\t\tdefines.USE_GLOSSINESSMAP = '';\n\t\t\t\t\t// set USE_ROUGHNESSMAP to enable vUv\n\t\t\t\t\tdefines.USE_ROUGHNESSMAP = '';\n\n\t\t\t\t}\n\n\t\t\t\tif ( uniforms.glossinessMap.value === null && defines.USE_GLOSSINESSMAP !== undefined ) {\n\n\t\t\t\t\tdelete defines.USE_GLOSSINESSMAP;\n\t\t\t\t\tdelete defines.USE_ROUGHNESSMAP;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t/**\n\t * Mesh Quantization Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\n\t */\n\tfunction GLTFMeshQuantizationExtension() {\n\n\t\tthis.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\n\n\t}\n\n\t/*********************************/\n\t/********** INTERPOLATION ********/\n\t/*********************************/\n\n\t// Spline Interpolation\n\t// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\n\tfunction GLTFCubicSplineInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tTHREE.Interpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tGLTFCubicSplineInterpolant.prototype = Object.create( THREE.Interpolant.prototype );\n\tGLTFCubicSplineInterpolant.prototype.constructor = GLTFCubicSplineInterpolant;\n\n\tGLTFCubicSplineInterpolant.prototype.copySampleValue_ = function ( index ) {\n\n\t\t// Copies a sample value to the result buffer. See description of glTF\n\t\t// CUBICSPLINE values layout in interpolate_() function below.\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tvalueSize = this.valueSize,\n\t\t\toffset = index * valueSize * 3 + valueSize;\n\n\t\tfor ( var i = 0; i !== valueSize; i ++ ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t};\n\n\tGLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\n\tGLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\n\tGLTFCubicSplineInterpolant.prototype.interpolate_ = function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer;\n\t\tvar values = this.sampleValues;\n\t\tvar stride = this.valueSize;\n\n\t\tvar stride2 = stride * 2;\n\t\tvar stride3 = stride * 3;\n\n\t\tvar td = t1 - t0;\n\n\t\tvar p = ( t - t0 ) / td;\n\t\tvar pp = p * p;\n\t\tvar ppp = pp * p;\n\n\t\tvar offset1 = i1 * stride3;\n\t\tvar offset0 = offset1 - stride3;\n\n\t\tvar s2 = - 2 * ppp + 3 * pp;\n\t\tvar s3 = ppp - pp;\n\t\tvar s0 = 1 - s2;\n\t\tvar s1 = s3 - pp + p;\n\n\t\t// Layout of keyframe output values for CUBICSPLINE animations:\n\t\t//   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n\t\tfor ( var i = 0; i !== stride; i ++ ) {\n\n\t\t\tvar p0 = values[ offset0 + i + stride ]; // splineVertex_k\n\t\t\tvar m0 = values[ offset0 + i + stride2 ] * td; // outTangent_k * (t_k+1 - t_k)\n\t\t\tvar p1 = values[ offset1 + i + stride ]; // splineVertex_k+1\n\t\t\tvar m1 = values[ offset1 + i ] * td; // inTangent_k+1 * (t_k+1 - t_k)\n\n\t\t\tresult[ i ] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\n\n\t\t}\n\n\t\treturn result;\n\n\t};\n\n\t/*********************************/\n\t/********** INTERNALS ************/\n\t/*********************************/\n\n\t/* CONSTANTS */\n\n\tvar WEBGL_CONSTANTS = {\n\t\tFLOAT: 5126,\n\t\t//FLOAT_MAT2: 35674,\n\t\tFLOAT_MAT3: 35675,\n\t\tFLOAT_MAT4: 35676,\n\t\tFLOAT_VEC2: 35664,\n\t\tFLOAT_VEC3: 35665,\n\t\tFLOAT_VEC4: 35666,\n\t\tLINEAR: 9729,\n\t\tREPEAT: 10497,\n\t\tSAMPLER_2D: 35678,\n\t\tPOINTS: 0,\n\t\tLINES: 1,\n\t\tLINE_LOOP: 2,\n\t\tLINE_STRIP: 3,\n\t\tTRIANGLES: 4,\n\t\tTRIANGLE_STRIP: 5,\n\t\tTRIANGLE_FAN: 6,\n\t\tUNSIGNED_BYTE: 5121,\n\t\tUNSIGNED_SHORT: 5123\n\t};\n\n\tvar WEBGL_COMPONENT_TYPES = {\n\t\t5120: Int8Array,\n\t\t5121: Uint8Array,\n\t\t5122: Int16Array,\n\t\t5123: Uint16Array,\n\t\t5125: Uint32Array,\n\t\t5126: Float32Array\n\t};\n\n\tvar WEBGL_FILTERS = {\n\t\t9728: THREE.NearestFilter,\n\t\t9729: THREE.LinearFilter,\n\t\t9984: THREE.NearestMipmapNearestFilter,\n\t\t9985: THREE.LinearMipmapNearestFilter,\n\t\t9986: THREE.NearestMipmapLinearFilter,\n\t\t9987: THREE.LinearMipmapLinearFilter\n\t};\n\n\tvar WEBGL_WRAPPINGS = {\n\t\t33071: THREE.ClampToEdgeWrapping,\n\t\t33648: THREE.MirroredRepeatWrapping,\n\t\t10497: THREE.RepeatWrapping\n\t};\n\n\tvar WEBGL_TYPE_SIZES = {\n\t\t'SCALAR': 1,\n\t\t'VEC2': 2,\n\t\t'VEC3': 3,\n\t\t'VEC4': 4,\n\t\t'MAT2': 4,\n\t\t'MAT3': 9,\n\t\t'MAT4': 16\n\t};\n\n\tvar ATTRIBUTES = {\n\t\tPOSITION: 'position',\n\t\tNORMAL: 'normal',\n\t\tTANGENT: 'tangent',\n\t\tTEXCOORD_0: 'uv',\n\t\tTEXCOORD_1: 'uv2',\n\t\tCOLOR_0: 'color',\n\t\tWEIGHTS_0: 'skinWeight',\n\t\tJOINTS_0: 'skinIndex',\n\t};\n\n\tvar PATH_PROPERTIES = {\n\t\tscale: 'scale',\n\t\ttranslation: 'position',\n\t\trotation: 'quaternion',\n\t\tweights: 'morphTargetInfluences'\n\t};\n\n\tvar INTERPOLATION = {\n\t\tCUBICSPLINE: undefined, // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n\t\t                        // keyframe track will be initialized with a default interpolation type, then modified.\n\t\tLINEAR: THREE.InterpolateLinear,\n\t\tSTEP: THREE.InterpolateDiscrete\n\t};\n\n\tvar ALPHA_MODES = {\n\t\tOPAQUE: 'OPAQUE',\n\t\tMASK: 'MASK',\n\t\tBLEND: 'BLEND'\n\t};\n\n\tvar MIME_TYPE_FORMATS = {\n\t\t'image/png': THREE.RGBAFormat,\n\t\t'image/jpeg': THREE.RGBFormat\n\t};\n\n\t/* UTILITY FUNCTIONS */\n\n\tfunction resolveURL( url, path ) {\n\n\t\t// Invalid URL\n\t\tif ( typeof url !== 'string' || url === '' ) return '';\n\n\t\t// Host Relative URL\n\t\tif ( /^https?:\\/\\//i.test( path ) && /^\\//.test( url ) ) {\n\n\t\t\tpath = path.replace( /(^https?:\\/\\/[^\\/]+).*/i, '$1' );\n\n\t\t}\n\n\t\t// Absolute URL http://,https://,//\n\t\tif ( /^(https?:)?\\/\\//i.test( url ) ) return url;\n\n\t\t// Data URI\n\t\tif ( /^data:.*,.*$/i.test( url ) ) return url;\n\n\t\t// Blob URL\n\t\tif ( /^blob:.*$/i.test( url ) ) return url;\n\n\t\t// Relative URL\n\t\treturn path + url;\n\n\t}\n\n\tvar defaultMaterial;\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n\t */\n\tfunction createDefaultMaterial() {\n\n\t\tdefaultMaterial = defaultMaterial || new THREE.MeshStandardMaterial( {\n\t\t\tcolor: 0xFFFFFF,\n\t\t\temissive: 0x000000,\n\t\t\tmetalness: 1,\n\t\t\troughness: 1,\n\t\t\ttransparent: false,\n\t\t\tdepthTest: true,\n\t\t\tside: THREE.FrontSide\n\t\t} );\n\n\t\treturn defaultMaterial;\n\n\t}\n\n\tfunction addUnknownExtensionsToUserData( knownExtensions, object, objectDef ) {\n\n\t\t// Add unknown glTF extensions to an object's userData.\n\n\t\tfor ( var name in objectDef.extensions ) {\n\n\t\t\tif ( knownExtensions[ name ] === undefined ) {\n\n\t\t\t\tobject.userData.gltfExtensions = object.userData.gltfExtensions || {};\n\t\t\t\tobject.userData.gltfExtensions[ name ] = objectDef.extensions[ name ];\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * @param {THREE.Object3D|THREE.Material|THREE.BufferGeometry} object\n\t * @param {GLTF.definition} gltfDef\n\t */\n\tfunction assignExtrasToUserData( object, gltfDef ) {\n\n\t\tif ( gltfDef.extras !== undefined ) {\n\n\t\t\tif ( typeof gltfDef.extras === 'object' ) {\n\n\t\t\t\tObject.assign( object.userData, gltfDef.extras );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n\t *\n\t * @param {THREE.BufferGeometry} geometry\n\t * @param {Array<GLTF.Target>} targets\n\t * @param {GLTFParser} parser\n\t * @return {Promise<THREE.BufferGeometry>}\n\t */\n\tfunction addMorphTargets( geometry, targets, parser ) {\n\n\t\tvar hasMorphPosition = false;\n\t\tvar hasMorphNormal = false;\n\n\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\tvar target = targets[ i ];\n\n\t\t\tif ( target.POSITION !== undefined ) hasMorphPosition = true;\n\t\t\tif ( target.NORMAL !== undefined ) hasMorphNormal = true;\n\n\t\t\tif ( hasMorphPosition && hasMorphNormal ) break;\n\n\t\t}\n\n\t\tif ( ! hasMorphPosition && ! hasMorphNormal ) return Promise.resolve( geometry );\n\n\t\tvar pendingPositionAccessors = [];\n\t\tvar pendingNormalAccessors = [];\n\n\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\tvar target = targets[ i ];\n\n\t\t\tif ( hasMorphPosition ) {\n\n\t\t\t\tvar pendingAccessor = target.POSITION !== undefined\n\t\t\t\t\t? parser.getDependency( 'accessor', target.POSITION )\n\t\t\t\t\t: geometry.attributes.position;\n\n\t\t\t\tpendingPositionAccessors.push( pendingAccessor );\n\n\t\t\t}\n\n\t\t\tif ( hasMorphNormal ) {\n\n\t\t\t\tvar pendingAccessor = target.NORMAL !== undefined\n\t\t\t\t\t? parser.getDependency( 'accessor', target.NORMAL )\n\t\t\t\t\t: geometry.attributes.normal;\n\n\t\t\t\tpendingNormalAccessors.push( pendingAccessor );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( [\n\t\t\tPromise.all( pendingPositionAccessors ),\n\t\t\tPromise.all( pendingNormalAccessors )\n\t\t] ).then( function ( accessors ) {\n\n\t\t\tvar morphPositions = accessors[ 0 ];\n\t\t\tvar morphNormals = accessors[ 1 ];\n\n\t\t\tif ( hasMorphPosition ) geometry.morphAttributes.position = morphPositions;\n\t\t\tif ( hasMorphNormal ) geometry.morphAttributes.normal = morphNormals;\n\t\t\tgeometry.morphTargetsRelative = true;\n\n\t\t\treturn geometry;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * @param {THREE.Mesh} mesh\n\t * @param {GLTF.Mesh} meshDef\n\t */\n\tfunction updateMorphTargets( mesh, meshDef ) {\n\n\t\tmesh.updateMorphTargets();\n\n\t\tif ( meshDef.weights !== undefined ) {\n\n\t\t\tfor ( var i = 0, il = meshDef.weights.length; i < il; i ++ ) {\n\n\t\t\t\tmesh.morphTargetInfluences[ i ] = meshDef.weights[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// .extras has user-defined data, so check that .extras.targetNames is an array.\n\t\tif ( meshDef.extras && Array.isArray( meshDef.extras.targetNames ) ) {\n\n\t\t\tvar targetNames = meshDef.extras.targetNames;\n\n\t\t\tif ( mesh.morphTargetInfluences.length === targetNames.length ) {\n\n\t\t\t\tmesh.morphTargetDictionary = {};\n\n\t\t\t\tfor ( var i = 0, il = targetNames.length; i < il; i ++ ) {\n\n\t\t\t\t\tmesh.morphTargetDictionary[ targetNames[ i ] ] = i;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction createPrimitiveKey( primitiveDef ) {\n\n\t\tvar dracoExtension = primitiveDef.extensions && primitiveDef.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ];\n\t\tvar geometryKey;\n\n\t\tif ( dracoExtension ) {\n\n\t\t\tgeometryKey = 'draco:' + dracoExtension.bufferView\n\t\t\t\t+ ':' + dracoExtension.indices\n\t\t\t\t+ ':' + createAttributesKey( dracoExtension.attributes );\n\n\t\t} else {\n\n\t\t\tgeometryKey = primitiveDef.indices + ':' + createAttributesKey( primitiveDef.attributes ) + ':' + primitiveDef.mode;\n\n\t\t}\n\n\t\treturn geometryKey;\n\n\t}\n\n\tfunction createAttributesKey( attributes ) {\n\n\t\tvar attributesKey = '';\n\n\t\tvar keys = Object.keys( attributes ).sort();\n\n\t\tfor ( var i = 0, il = keys.length; i < il; i ++ ) {\n\n\t\t\tattributesKey += keys[ i ] + ':' + attributes[ keys[ i ] ] + ';';\n\n\t\t}\n\n\t\treturn attributesKey;\n\n\t}\n\n\t/* GLTF PARSER */\n\n\tfunction GLTFParser( json, extensions, options ) {\n\n\t\tthis.json = json || {};\n\t\tthis.extensions = extensions || {};\n\t\tthis.options = options || {};\n\n\t\t// loader object cache\n\t\tthis.cache = new GLTFRegistry();\n\n\t\t// BufferGeometry caching\n\t\tthis.primitiveCache = {};\n\n\t\tthis.textureLoader = new THREE.TextureLoader( this.options.manager );\n\t\tthis.textureLoader.setCrossOrigin( this.options.crossOrigin );\n\n\t\tthis.fileLoader = new THREE.FileLoader( this.options.manager );\n\t\tthis.fileLoader.setResponseType( 'arraybuffer' );\n\n\t\tif ( this.options.crossOrigin === 'use-credentials' ) {\n\n\t\t\tthis.fileLoader.setWithCredentials( true );\n\n\t\t}\n\n\t}\n\n\tGLTFParser.prototype.parse = function ( onLoad, onError ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\t\tvar extensions = this.extensions;\n\n\t\t// Clear the loader cache\n\t\tthis.cache.removeAll();\n\n\t\t// Mark the special nodes/meshes in json for efficient parse\n\t\tthis.markDefs();\n\n\t\tPromise.all( [\n\n\t\t\tthis.getDependencies( 'scene' ),\n\t\t\tthis.getDependencies( 'animation' ),\n\t\t\tthis.getDependencies( 'camera' ),\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\tvar result = {\n\t\t\t\tscene: dependencies[ 0 ][ json.scene || 0 ],\n\t\t\t\tscenes: dependencies[ 0 ],\n\t\t\t\tanimations: dependencies[ 1 ],\n\t\t\t\tcameras: dependencies[ 2 ],\n\t\t\t\tasset: json.asset,\n\t\t\t\tparser: parser,\n\t\t\t\tuserData: {}\n\t\t\t};\n\n\t\t\taddUnknownExtensionsToUserData( extensions, result, json );\n\n\t\t\tassignExtrasToUserData( result, json );\n\n\t\t\tonLoad( result );\n\n\t\t} ).catch( onError );\n\n\t};\n\n\t/**\n\t * Marks the special nodes/meshes in json for efficient parse.\n\t */\n\tGLTFParser.prototype.markDefs = function () {\n\n\t\tvar nodeDefs = this.json.nodes || [];\n\t\tvar skinDefs = this.json.skins || [];\n\t\tvar meshDefs = this.json.meshes || [];\n\n\t\tvar meshReferences = {};\n\t\tvar meshUses = {};\n\n\t\t// Nothing in the node definition indicates whether it is a Bone or an\n\t\t// Object3D. Use the skins' joint references to mark bones.\n\t\tfor ( var skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex ++ ) {\n\n\t\t\tvar joints = skinDefs[ skinIndex ].joints;\n\n\t\t\tfor ( var i = 0, il = joints.length; i < il; i ++ ) {\n\n\t\t\t\tnodeDefs[ joints[ i ] ].isBone = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Meshes can (and should) be reused by multiple nodes in a glTF asset. To\n\t\t// avoid having more than one THREE.Mesh with the same name, count\n\t\t// references and rename instances below.\n\t\t//\n\t\t// Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n\t\tfor ( var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\n\n\t\t\tvar nodeDef = nodeDefs[ nodeIndex ];\n\n\t\t\tif ( nodeDef.mesh !== undefined ) {\n\n\t\t\t\tif ( meshReferences[ nodeDef.mesh ] === undefined ) {\n\n\t\t\t\t\tmeshReferences[ nodeDef.mesh ] = meshUses[ nodeDef.mesh ] = 0;\n\n\t\t\t\t}\n\n\t\t\t\tmeshReferences[ nodeDef.mesh ] ++;\n\n\t\t\t\t// Nothing in the mesh definition indicates whether it is\n\t\t\t\t// a SkinnedMesh or Mesh. Use the node's mesh reference\n\t\t\t\t// to mark SkinnedMesh if node has skin.\n\t\t\t\tif ( nodeDef.skin !== undefined ) {\n\n\t\t\t\t\tmeshDefs[ nodeDef.mesh ].isSkinnedMesh = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.json.meshReferences = meshReferences;\n\t\tthis.json.meshUses = meshUses;\n\n\t};\n\n\t/**\n\t * Requests the specified dependency asynchronously, with caching.\n\t * @param {string} type\n\t * @param {number} index\n\t * @return {Promise<THREE.Object3D|THREE.Material|THREE.Texture|THREE.AnimationClip|ArrayBuffer|Object>}\n\t */\n\tGLTFParser.prototype.getDependency = function ( type, index ) {\n\n\t\tvar cacheKey = type + ':' + index;\n\t\tvar dependency = this.cache.get( cacheKey );\n\n\t\tif ( ! dependency ) {\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 'scene':\n\t\t\t\t\tdependency = this.loadScene( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'node':\n\t\t\t\t\tdependency = this.loadNode( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'mesh':\n\t\t\t\t\tdependency = this.loadMesh( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'accessor':\n\t\t\t\t\tdependency = this.loadAccessor( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bufferView':\n\t\t\t\t\tdependency = this.loadBufferView( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'buffer':\n\t\t\t\t\tdependency = this.loadBuffer( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'material':\n\t\t\t\t\tdependency = this.loadMaterial( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'texture':\n\t\t\t\t\tdependency = this.loadTexture( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'skin':\n\t\t\t\t\tdependency = this.loadSkin( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'animation':\n\t\t\t\t\tdependency = this.loadAnimation( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'camera':\n\t\t\t\t\tdependency = this.loadCamera( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'light':\n\t\t\t\t\tdependency = this.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ].loadLight( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error( 'Unknown type: ' + type );\n\n\t\t\t}\n\n\t\t\tthis.cache.add( cacheKey, dependency );\n\n\t\t}\n\n\t\treturn dependency;\n\n\t};\n\n\t/**\n\t * Requests all dependencies of the specified type asynchronously, with caching.\n\t * @param {string} type\n\t * @return {Promise<Array<Object>>}\n\t */\n\tGLTFParser.prototype.getDependencies = function ( type ) {\n\n\t\tvar dependencies = this.cache.get( type );\n\n\t\tif ( ! dependencies ) {\n\n\t\t\tvar parser = this;\n\t\t\tvar defs = this.json[ type + ( type === 'mesh' ? 'es' : 's' ) ] || [];\n\n\t\t\tdependencies = Promise.all( defs.map( function ( def, index ) {\n\n\t\t\t\treturn parser.getDependency( type, index );\n\n\t\t\t} ) );\n\n\t\t\tthis.cache.add( type, dependencies );\n\n\t\t}\n\n\t\treturn dependencies;\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tGLTFParser.prototype.loadBuffer = function ( bufferIndex ) {\n\n\t\tvar bufferDef = this.json.buffers[ bufferIndex ];\n\t\tvar loader = this.fileLoader;\n\n\t\tif ( bufferDef.type && bufferDef.type !== 'arraybuffer' ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.' );\n\n\t\t}\n\n\t\t// If present, GLB container is required to be the first buffer.\n\t\tif ( bufferDef.uri === undefined && bufferIndex === 0 ) {\n\n\t\t\treturn Promise.resolve( this.extensions[ EXTENSIONS.KHR_BINARY_GLTF ].body );\n\n\t\t}\n\n\t\tvar options = this.options;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tloader.load( resolveURL( bufferDef.uri, options.path ), resolve, undefined, function () {\n\n\t\t\t\treject( new Error( 'THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".' ) );\n\n\t\t\t} );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferViewIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tGLTFParser.prototype.loadBufferView = function ( bufferViewIndex ) {\n\n\t\tvar bufferViewDef = this.json.bufferViews[ bufferViewIndex ];\n\n\t\treturn this.getDependency( 'buffer', bufferViewDef.buffer ).then( function ( buffer ) {\n\n\t\t\tvar byteLength = bufferViewDef.byteLength || 0;\n\t\t\tvar byteOffset = bufferViewDef.byteOffset || 0;\n\t\t\treturn buffer.slice( byteOffset, byteOffset + byteLength );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n\t * @param {number} accessorIndex\n\t * @return {Promise<THREE.BufferAttribute|THREE.InterleavedBufferAttribute>}\n\t */\n\tGLTFParser.prototype.loadAccessor = function ( accessorIndex ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\n\t\tvar accessorDef = this.json.accessors[ accessorIndex ];\n\n\t\tif ( accessorDef.bufferView === undefined && accessorDef.sparse === undefined ) {\n\n\t\t\t// Ignore empty accessors, which may be used to declare runtime\n\t\t\t// information about attributes coming from another source (e.g. Draco\n\t\t\t// compression extension).\n\t\t\treturn Promise.resolve( null );\n\n\t\t}\n\n\t\tvar pendingBufferViews = [];\n\n\t\tif ( accessorDef.bufferView !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.bufferView ) );\n\n\t\t} else {\n\n\t\t\tpendingBufferViews.push( null );\n\n\t\t}\n\n\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.indices.bufferView ) );\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.values.bufferView ) );\n\n\t\t}\n\n\t\treturn Promise.all( pendingBufferViews ).then( function ( bufferViews ) {\n\n\t\t\tvar bufferView = bufferViews[ 0 ];\n\n\t\t\tvar itemSize = WEBGL_TYPE_SIZES[ accessorDef.type ];\n\t\t\tvar TypedArray = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t// For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n\t\t\tvar elementBytes = TypedArray.BYTES_PER_ELEMENT;\n\t\t\tvar itemBytes = elementBytes * itemSize;\n\t\t\tvar byteOffset = accessorDef.byteOffset || 0;\n\t\t\tvar byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[ accessorDef.bufferView ].byteStride : undefined;\n\t\t\tvar normalized = accessorDef.normalized === true;\n\t\t\tvar array, bufferAttribute;\n\n\t\t\t// The buffer is not interleaved if the stride is the item size in bytes.\n\t\t\tif ( byteStride && byteStride !== itemBytes ) {\n\n\t\t\t\t// Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\n\t\t\t\t// This makes sure that IBA.count reflects accessor.count properly\n\t\t\t\tvar ibSlice = Math.floor( byteOffset / byteStride );\n\t\t\t\tvar ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\n\t\t\t\tvar ib = parser.cache.get( ibCacheKey );\n\n\t\t\t\tif ( ! ib ) {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes );\n\n\t\t\t\t\t// Integer parameters to IB/IBA are in array elements, not bytes.\n\t\t\t\t\tib = new THREE.InterleavedBuffer( array, byteStride / elementBytes );\n\n\t\t\t\t\tparser.cache.add( ibCacheKey, ib );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new THREE.InterleavedBufferAttribute( ib, itemSize, ( byteOffset % byteStride ) / elementBytes, normalized );\n\n\t\t\t} else {\n\n\t\t\t\tif ( bufferView === null ) {\n\n\t\t\t\t\tarray = new TypedArray( accessorDef.count * itemSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, byteOffset, accessorDef.count * itemSize );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new THREE.BufferAttribute( array, itemSize, normalized );\n\n\t\t\t}\n\n\t\t\t// https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n\t\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\t\tvar itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\n\t\t\t\tvar TypedArrayIndices = WEBGL_COMPONENT_TYPES[ accessorDef.sparse.indices.componentType ];\n\n\t\t\t\tvar byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\n\t\t\t\tvar byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\n\n\t\t\t\tvar sparseIndices = new TypedArrayIndices( bufferViews[ 1 ], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices );\n\t\t\t\tvar sparseValues = new TypedArray( bufferViews[ 2 ], byteOffsetValues, accessorDef.sparse.count * itemSize );\n\n\t\t\t\tif ( bufferView !== null ) {\n\n\t\t\t\t\t// Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n\t\t\t\t\tbufferAttribute = new THREE.BufferAttribute( bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var i = 0, il = sparseIndices.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar index = sparseIndices[ i ];\n\n\t\t\t\t\tbufferAttribute.setX( index, sparseValues[ i * itemSize ] );\n\t\t\t\t\tif ( itemSize >= 2 ) bufferAttribute.setY( index, sparseValues[ i * itemSize + 1 ] );\n\t\t\t\t\tif ( itemSize >= 3 ) bufferAttribute.setZ( index, sparseValues[ i * itemSize + 2 ] );\n\t\t\t\t\tif ( itemSize >= 4 ) bufferAttribute.setW( index, sparseValues[ i * itemSize + 3 ] );\n\t\t\t\t\tif ( itemSize >= 5 ) throw new Error( 'THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn bufferAttribute;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n\t * @param {number} textureIndex\n\t * @return {Promise<THREE.Texture>}\n\t */\n\tGLTFParser.prototype.loadTexture = function ( textureIndex ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\t\tvar options = this.options;\n\t\tvar textureLoader = this.textureLoader;\n\n\t\tvar URL = window.URL || window.webkitURL;\n\n\t\tvar textureDef = json.textures[ textureIndex ];\n\n\t\tvar textureExtensions = textureDef.extensions || {};\n\n\t\tvar source;\n\n\t\tif ( textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ] ) {\n\n\t\t\tsource = json.images[ textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ].source ];\n\n\t\t} else {\n\n\t\t\tsource = json.images[ textureDef.source ];\n\n\t\t}\n\n\t\tvar sourceURI = source.uri;\n\t\tvar isObjectURL = false;\n\n\t\tif ( source.bufferView !== undefined ) {\n\n\t\t\t// Load binary image data from bufferView, if provided.\n\n\t\t\tsourceURI = parser.getDependency( 'bufferView', source.bufferView ).then( function ( bufferView ) {\n\n\t\t\t\tisObjectURL = true;\n\t\t\t\tvar blob = new Blob( [ bufferView ], { type: source.mimeType } );\n\t\t\t\tsourceURI = URL.createObjectURL( blob );\n\t\t\t\treturn sourceURI;\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn Promise.resolve( sourceURI ).then( function ( sourceURI ) {\n\n\t\t\t// Load Texture resource.\n\n\t\t\tvar loader = options.manager.getHandler( sourceURI );\n\n\t\t\tif ( ! loader ) {\n\n\t\t\t\tloader = textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ]\n\t\t\t\t\t? parser.extensions[ EXTENSIONS.MSFT_TEXTURE_DDS ].ddsLoader\n\t\t\t\t\t: textureLoader;\n\n\t\t\t}\n\n\t\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\t\tloader.load( resolveURL( sourceURI, options.path ), resolve, undefined, reject );\n\n\t\t\t} );\n\n\t\t} ).then( function ( texture ) {\n\n\t\t\t// Clean up resources and configure Texture.\n\n\t\t\tif ( isObjectURL === true ) {\n\n\t\t\t\tURL.revokeObjectURL( sourceURI );\n\n\t\t\t}\n\n\t\t\ttexture.flipY = false;\n\n\t\t\tif ( textureDef.name !== undefined ) texture.name = textureDef.name;\n\n\t\t\t// Ignore unknown mime types, like DDS files.\n\t\t\tif ( source.mimeType in MIME_TYPE_FORMATS ) {\n\n\t\t\t\ttexture.format = MIME_TYPE_FORMATS[ source.mimeType ];\n\n\t\t\t}\n\n\t\t\tvar samplers = json.samplers || {};\n\t\t\tvar sampler = samplers[ textureDef.sampler ] || {};\n\n\t\t\ttexture.magFilter = WEBGL_FILTERS[ sampler.magFilter ] || THREE.LinearFilter;\n\t\t\ttexture.minFilter = WEBGL_FILTERS[ sampler.minFilter ] || THREE.LinearMipmapLinearFilter;\n\t\t\ttexture.wrapS = WEBGL_WRAPPINGS[ sampler.wrapS ] || THREE.RepeatWrapping;\n\t\t\ttexture.wrapT = WEBGL_WRAPPINGS[ sampler.wrapT ] || THREE.RepeatWrapping;\n\n\t\t\treturn texture;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Asynchronously assigns a texture to the given material parameters.\n\t * @param {Object} materialParams\n\t * @param {string} mapName\n\t * @param {Object} mapDef\n\t * @return {Promise}\n\t */\n\tGLTFParser.prototype.assignTexture = function ( materialParams, mapName, mapDef ) {\n\n\t\tvar parser = this;\n\n\t\treturn this.getDependency( 'texture', mapDef.index ).then( function ( texture ) {\n\n\t\t\tif ( ! texture.isCompressedTexture ) {\n\n\t\t\t\tswitch ( mapName ) {\n\n\t\t\t\t\tcase 'aoMap':\n\t\t\t\t\tcase 'emissiveMap':\n\t\t\t\t\tcase 'metalnessMap':\n\t\t\t\t\tcase 'normalMap':\n\t\t\t\t\tcase 'roughnessMap':\n\t\t\t\t\t\ttexture.format = THREE.RGBFormat;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] ) {\n\n\t\t\t\tvar transform = mapDef.extensions !== undefined ? mapDef.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] : undefined;\n\n\t\t\t\tif ( transform ) {\n\n\t\t\t\t\ttexture = parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ].extendTexture( texture, transform );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tmaterialParams[ mapName ] = texture;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Assigns final material to a Mesh, Line, or Points instance. The instance\n\t * already has a material (generated from the glTF material options alone)\n\t * but reuse of the same glTF material may require multiple threejs materials\n\t * to accomodate different primitive types, defines, etc. New materials will\n\t * be created if necessary, and reused from a cache.\n\t * @param  {THREE.Object3D} mesh Mesh, Line, or Points instance.\n\t */\n\tGLTFParser.prototype.assignFinalMaterial = function ( mesh ) {\n\n\t\tvar geometry = mesh.geometry;\n\t\tvar material = mesh.material;\n\t\tvar extensions = this.extensions;\n\n\t\tvar useVertexTangents = geometry.attributes.tangent !== undefined;\n\t\tvar useVertexColors = geometry.attributes.color !== undefined;\n\t\tvar useFlatShading = geometry.attributes.normal === undefined;\n\t\tvar useSkinning = mesh.isSkinnedMesh === true;\n\t\tvar useMorphTargets = Object.keys( geometry.morphAttributes ).length > 0;\n\t\tvar useMorphNormals = useMorphTargets && geometry.morphAttributes.normal !== undefined;\n\n\t\tif ( mesh.isPoints ) {\n\n\t\t\tvar cacheKey = 'PointsMaterial:' + material.uuid;\n\n\t\t\tvar pointsMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! pointsMaterial ) {\n\n\t\t\t\tpointsMaterial = new THREE.PointsMaterial();\n\t\t\t\tTHREE.Material.prototype.copy.call( pointsMaterial, material );\n\t\t\t\tpointsMaterial.color.copy( material.color );\n\t\t\t\tpointsMaterial.map = material.map;\n\t\t\t\tpointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\n\n\t\t\t\tthis.cache.add( cacheKey, pointsMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = pointsMaterial;\n\n\t\t} else if ( mesh.isLine ) {\n\n\t\t\tvar cacheKey = 'LineBasicMaterial:' + material.uuid;\n\n\t\t\tvar lineMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! lineMaterial ) {\n\n\t\t\t\tlineMaterial = new THREE.LineBasicMaterial();\n\t\t\t\tTHREE.Material.prototype.copy.call( lineMaterial, material );\n\t\t\t\tlineMaterial.color.copy( material.color );\n\n\t\t\t\tthis.cache.add( cacheKey, lineMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = lineMaterial;\n\n\t\t}\n\n\t\t// Clone the material if it will be modified\n\t\tif ( useVertexTangents || useVertexColors || useFlatShading || useSkinning || useMorphTargets ) {\n\n\t\t\tvar cacheKey = 'ClonedMaterial:' + material.uuid + ':';\n\n\t\t\tif ( material.isGLTFSpecularGlossinessMaterial ) cacheKey += 'specular-glossiness:';\n\t\t\tif ( useSkinning ) cacheKey += 'skinning:';\n\t\t\tif ( useVertexTangents ) cacheKey += 'vertex-tangents:';\n\t\t\tif ( useVertexColors ) cacheKey += 'vertex-colors:';\n\t\t\tif ( useFlatShading ) cacheKey += 'flat-shading:';\n\t\t\tif ( useMorphTargets ) cacheKey += 'morph-targets:';\n\t\t\tif ( useMorphNormals ) cacheKey += 'morph-normals:';\n\n\t\t\tvar cachedMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! cachedMaterial ) {\n\n\t\t\t\tcachedMaterial = material.isGLTFSpecularGlossinessMaterial\n\t\t\t\t\t? extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].cloneMaterial( material )\n\t\t\t\t\t: material.clone();\n\n\t\t\t\tif ( useSkinning ) cachedMaterial.skinning = true;\n\t\t\t\tif ( useVertexTangents ) cachedMaterial.vertexTangents = true;\n\t\t\t\tif ( useVertexColors ) cachedMaterial.vertexColors = THREE.VertexColors;\n\t\t\t\tif ( useFlatShading ) cachedMaterial.flatShading = true;\n\t\t\t\tif ( useMorphTargets ) cachedMaterial.morphTargets = true;\n\t\t\t\tif ( useMorphNormals ) cachedMaterial.morphNormals = true;\n\n\t\t\t\tthis.cache.add( cacheKey, cachedMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = cachedMaterial;\n\n\t\t}\n\n\t\t// workarounds for mesh and geometry\n\n\t\tif ( material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined ) {\n\n\t\t\tconsole.log( 'THREE.GLTFLoader: Duplicating UVs to support aoMap.' );\n\t\t\tgeometry.setAttribute( 'uv2', new THREE.BufferAttribute( geometry.attributes.uv.array, 2 ) );\n\n\t\t}\n\n\t\tif ( material.isGLTFSpecularGlossinessMaterial ) {\n\n\t\t\t// for GLTFSpecularGlossinessMaterial(ShaderMaterial) uniforms runtime update\n\t\t\tmesh.onBeforeRender = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].refreshUniforms;\n\n\t\t}\n\n\t\tmesh.material = material;\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n\t * @param {number} materialIndex\n\t * @return {Promise<THREE.Material>}\n\t */\n\tGLTFParser.prototype.loadMaterial = function ( materialIndex ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\t\tvar extensions = this.extensions;\n\t\tvar materialDef = json.materials[ materialIndex ];\n\n\t\tvar materialType;\n\t\tvar materialParams = {};\n\t\tvar materialExtensions = materialDef.extensions || {};\n\n\t\tvar pending = [];\n\n\t\tif ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ] ) {\n\n\t\t\tvar sgExtension = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ];\n\t\t\tmaterialType = sgExtension.getMaterialType();\n\t\t\tpending.push( sgExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else if ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ] ) {\n\n\t\t\tvar kmuExtension = extensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ];\n\t\t\tmaterialType = kmuExtension.getMaterialType();\n\t\t\tpending.push( kmuExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else {\n\n\t\t\t// Specification:\n\t\t\t// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n\n\t\t\tmaterialType = THREE.MeshStandardMaterial;\n\n\t\t\tvar metallicRoughness = materialDef.pbrMetallicRoughness || {};\n\n\t\t\tmaterialParams.color = new THREE.Color( 1.0, 1.0, 1.0 );\n\t\t\tmaterialParams.opacity = 1.0;\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tvar array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\n\n\t\t\t}\n\n\t\t\tmaterialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\n\t\t\tmaterialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\n\n\t\t\tif ( metallicRoughness.metallicRoughnessTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.doubleSided === true ) {\n\n\t\t\tmaterialParams.side = THREE.DoubleSide;\n\n\t\t}\n\n\t\tvar alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\n\n\t\tif ( alphaMode === ALPHA_MODES.BLEND ) {\n\n\t\t\tmaterialParams.transparent = true;\n\n\t\t} else {\n\n\t\t\tmaterialParams.transparent = false;\n\n\t\t\tif ( alphaMode === ALPHA_MODES.MASK ) {\n\n\t\t\t\tmaterialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.normalTexture !== undefined && materialType !== THREE.MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'normalMap', materialDef.normalTexture ) );\n\n\t\t\tmaterialParams.normalScale = new THREE.Vector2( 1, 1 );\n\n\t\t\tif ( materialDef.normalTexture.scale !== undefined ) {\n\n\t\t\t\tmaterialParams.normalScale.set( materialDef.normalTexture.scale, materialDef.normalTexture.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.occlusionTexture !== undefined && materialType !== THREE.MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'aoMap', materialDef.occlusionTexture ) );\n\n\t\t\tif ( materialDef.occlusionTexture.strength !== undefined ) {\n\n\t\t\t\tmaterialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.emissiveFactor !== undefined && materialType !== THREE.MeshBasicMaterial ) {\n\n\t\t\tmaterialParams.emissive = new THREE.Color().fromArray( materialDef.emissiveFactor );\n\n\t\t}\n\n\t\tif ( materialDef.emissiveTexture !== undefined && materialType !== THREE.MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'emissiveMap', materialDef.emissiveTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\tvar material;\n\n\t\t\tif ( materialType === THREE.ShaderMaterial ) {\n\n\t\t\t\tmaterial = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].createMaterial( materialParams );\n\n\t\t\t} else {\n\n\t\t\t\tmaterial = new materialType( materialParams );\n\n\t\t\t}\n\n\t\t\tif ( materialDef.name !== undefined ) material.name = materialDef.name;\n\n\t\t\t// baseColorTexture, emissiveTexture, and specularGlossinessTexture use sRGB encoding.\n\t\t\tif ( material.map ) material.map.encoding = THREE.sRGBEncoding;\n\t\t\tif ( material.emissiveMap ) material.emissiveMap.encoding = THREE.sRGBEncoding;\n\t\t\tif ( material.specularMap ) material.specularMap.encoding = THREE.sRGBEncoding;\n\n\t\t\tassignExtrasToUserData( material, materialDef );\n\n\t\t\tif ( materialDef.extensions ) addUnknownExtensionsToUserData( extensions, material, materialDef );\n\n\t\t\treturn material;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * @param {THREE.BufferGeometry} geometry\n\t * @param {GLTF.Primitive} primitiveDef\n\t * @param {GLTFParser} parser\n\t */\n\tfunction computeBounds( geometry, primitiveDef, parser ) {\n\n\t\tvar attributes = primitiveDef.attributes;\n\n\t\tvar box = new THREE.Box3();\n\n\t\tif ( attributes.POSITION !== undefined ) {\n\n\t\t\tvar accessor = parser.json.accessors[ attributes.POSITION ];\n\t\t\tvar min = accessor.min;\n\t\t\tvar max = accessor.max;\n\n\t\t\tbox.set(\n\t\t\t\tnew THREE.Vector3( min[ 0 ], min[ 1 ], min[ 2 ] ),\n\t\t\t\tnew THREE.Vector3( max[ 0 ], max[ 1 ], max[ 2 ] ) );\n\n\t\t} else {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar targets = primitiveDef.targets;\n\n\t\tif ( targets !== undefined ) {\n\n\t\t\tvar vector = new THREE.Vector3();\n\n\t\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\t\tvar target = targets[ i ];\n\n\t\t\t\tif ( target.POSITION !== undefined ) {\n\n\t\t\t\t\tvar accessor = parser.json.accessors[ target.POSITION ];\n\t\t\t\t\tvar min = accessor.min;\n\t\t\t\t\tvar max = accessor.max;\n\n\t\t\t\t\t// we need to get max of absolute components because target weight is [-1,1]\n\t\t\t\t\tvector.setX( Math.max( Math.abs( min[ 0 ] ), Math.abs( max[ 0 ] ) ) );\n\t\t\t\t\tvector.setY( Math.max( Math.abs( min[ 1 ] ), Math.abs( max[ 1 ] ) ) );\n\t\t\t\t\tvector.setZ( Math.max( Math.abs( min[ 2 ] ), Math.abs( max[ 2 ] ) ) );\n\n\t\t\t\t\tbox.expandByVector( vector );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.boundingBox = box;\n\n\t\tvar sphere = new THREE.Sphere();\n\n\t\tbox.getCenter( sphere.center );\n\t\tsphere.radius = box.min.distanceTo( box.max ) / 2;\n\n\t\tgeometry.boundingSphere = sphere;\n\n\t}\n\n\t/**\n\t * @param {THREE.BufferGeometry} geometry\n\t * @param {GLTF.Primitive} primitiveDef\n\t * @param {GLTFParser} parser\n\t * @return {Promise<THREE.BufferGeometry>}\n\t */\n\tfunction addPrimitiveAttributes( geometry, primitiveDef, parser ) {\n\n\t\tvar attributes = primitiveDef.attributes;\n\n\t\tvar pending = [];\n\n\t\tfunction assignAttributeAccessor( accessorIndex, attributeName ) {\n\n\t\t\treturn parser.getDependency( 'accessor', accessorIndex )\n\t\t\t\t.then( function ( accessor ) {\n\n\t\t\t\t\tgeometry.setAttribute( attributeName, accessor );\n\n\t\t\t\t} );\n\n\t\t}\n\n\t\tfor ( var gltfAttributeName in attributes ) {\n\n\t\t\tvar threeAttributeName = ATTRIBUTES[ gltfAttributeName ] || gltfAttributeName.toLowerCase();\n\n\t\t\t// Skip attributes already provided by e.g. Draco extension.\n\t\t\tif ( threeAttributeName in geometry.attributes ) continue;\n\n\t\t\tpending.push( assignAttributeAccessor( attributes[ gltfAttributeName ], threeAttributeName ) );\n\n\t\t}\n\n\t\tif ( primitiveDef.indices !== undefined && ! geometry.index ) {\n\n\t\t\tvar accessor = parser.getDependency( 'accessor', primitiveDef.indices ).then( function ( accessor ) {\n\n\t\t\t\tgeometry.setIndex( accessor );\n\n\t\t\t} );\n\n\t\t\tpending.push( accessor );\n\n\t\t}\n\n\t\tassignExtrasToUserData( geometry, primitiveDef );\n\n\t\tcomputeBounds( geometry, primitiveDef, parser );\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\treturn primitiveDef.targets !== undefined\n\t\t\t\t? addMorphTargets( geometry, primitiveDef.targets, parser )\n\t\t\t\t: geometry;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n\t *\n\t * Creates BufferGeometries from primitives.\n\t *\n\t * @param {Array<GLTF.Primitive>} primitives\n\t * @return {Promise<Array<THREE.BufferGeometry>>}\n\t */\n\tGLTFParser.prototype.loadGeometries = function ( primitives ) {\n\n\t\tvar parser = this;\n\t\tvar extensions = this.extensions;\n\t\tvar cache = this.primitiveCache;\n\n\t\tfunction createDracoPrimitive( primitive ) {\n\n\t\t\treturn extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ]\n\t\t\t\t.decodePrimitive( primitive, parser )\n\t\t\t\t.then( function ( geometry ) {\n\n\t\t\t\t\treturn addPrimitiveAttributes( geometry, primitive, parser );\n\n\t\t\t\t} );\n\n\t\t}\n\n\t\tvar pending = [];\n\n\t\tfor ( var i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tvar primitive = primitives[ i ];\n\t\t\tvar cacheKey = createPrimitiveKey( primitive );\n\n\t\t\t// See if we've already created this geometry\n\t\t\tvar cached = cache[ cacheKey ];\n\n\t\t\tif ( cached ) {\n\n\t\t\t\t// Use the cached geometry if it exists\n\t\t\t\tpending.push( cached.promise );\n\n\t\t\t} else {\n\n\t\t\t\tvar geometryPromise;\n\n\t\t\t\tif ( primitive.extensions && primitive.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ] ) {\n\n\t\t\t\t\t// Use DRACO geometry if available\n\t\t\t\t\tgeometryPromise = createDracoPrimitive( primitive );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Otherwise create a new geometry\n\t\t\t\t\tgeometryPromise = addPrimitiveAttributes( new THREE.BufferGeometry(), primitive, parser );\n\n\t\t\t\t}\n\n\t\t\t\t// Cache this geometry\n\t\t\t\tcache[ cacheKey ] = { primitive: primitive, promise: geometryPromise };\n\n\t\t\t\tpending.push( geometryPromise );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n\t * @param {number} meshIndex\n\t * @return {Promise<THREE.Group|THREE.Mesh|THREE.SkinnedMesh>}\n\t */\n\tGLTFParser.prototype.loadMesh = function ( meshIndex ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\n\t\tvar meshDef = json.meshes[ meshIndex ];\n\t\tvar primitives = meshDef.primitives;\n\n\t\tvar pending = [];\n\n\t\tfor ( var i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tvar material = primitives[ i ].material === undefined\n\t\t\t\t? createDefaultMaterial()\n\t\t\t\t: this.getDependency( 'material', primitives[ i ].material );\n\n\t\t\tpending.push( material );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function ( originalMaterials ) {\n\n\t\t\treturn parser.loadGeometries( primitives ).then( function ( geometries ) {\n\n\t\t\t\tvar meshes = [];\n\n\t\t\t\tfor ( var i = 0, il = geometries.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar geometry = geometries[ i ];\n\t\t\t\t\tvar primitive = primitives[ i ];\n\n\t\t\t\t\t// 1. create Mesh\n\n\t\t\t\t\tvar mesh;\n\n\t\t\t\t\tvar material = originalMaterials[ i ];\n\n\t\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLES ||\n\t\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ||\n\t\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ||\n\t\t\t\t\t\tprimitive.mode === undefined ) {\n\n\t\t\t\t\t\t// .isSkinnedMesh isn't in glTF spec. See .markDefs()\n\t\t\t\t\t\tmesh = meshDef.isSkinnedMesh === true\n\t\t\t\t\t\t\t? new THREE.SkinnedMesh( geometry, material )\n\t\t\t\t\t\t\t: new THREE.Mesh( geometry, material );\n\n\t\t\t\t\t\tif ( mesh.isSkinnedMesh === true && ! mesh.geometry.attributes.skinWeight.normalized ) {\n\n\t\t\t\t\t\t\t// we normalize floating point skin weight array to fix malformed assets (see #15319)\n\t\t\t\t\t\t\t// it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs\n\t\t\t\t\t\t\tmesh.normalizeSkinWeights();\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ) {\n\n\t\t\t\t\t\t\tmesh.drawMode = THREE.TriangleStripDrawMode;\n\n\t\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ) {\n\n\t\t\t\t\t\t\tmesh.drawMode = THREE.TriangleFanDrawMode;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINES ) {\n\n\t\t\t\t\t\tmesh = new THREE.LineSegments( geometry, material );\n\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_STRIP ) {\n\n\t\t\t\t\t\tmesh = new THREE.Line( geometry, material );\n\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_LOOP ) {\n\n\t\t\t\t\t\tmesh = new THREE.LineLoop( geometry, material );\n\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.POINTS ) {\n\n\t\t\t\t\t\tmesh = new THREE.Points( geometry, material );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( Object.keys( mesh.geometry.morphAttributes ).length > 0 ) {\n\n\t\t\t\t\t\tupdateMorphTargets( mesh, meshDef );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmesh.name = meshDef.name || ( 'mesh_' + meshIndex );\n\n\t\t\t\t\tif ( geometries.length > 1 ) mesh.name += '_' + i;\n\n\t\t\t\t\tassignExtrasToUserData( mesh, meshDef );\n\n\t\t\t\t\tparser.assignFinalMaterial( mesh );\n\n\t\t\t\t\tmeshes.push( mesh );\n\n\t\t\t\t}\n\n\t\t\t\tif ( meshes.length === 1 ) {\n\n\t\t\t\t\treturn meshes[ 0 ];\n\n\t\t\t\t}\n\n\t\t\t\tvar group = new THREE.Group();\n\n\t\t\t\tfor ( var i = 0, il = meshes.length; i < il; i ++ ) {\n\n\t\t\t\t\tgroup.add( meshes[ i ] );\n\n\t\t\t\t}\n\n\t\t\t\treturn group;\n\n\t\t\t} );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n\t * @param {number} cameraIndex\n\t * @return {Promise<THREE.Camera>}\n\t */\n\tGLTFParser.prototype.loadCamera = function ( cameraIndex ) {\n\n\t\tvar camera;\n\t\tvar cameraDef = this.json.cameras[ cameraIndex ];\n\t\tvar params = cameraDef[ cameraDef.type ];\n\n\t\tif ( ! params ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing camera parameters.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( cameraDef.type === 'perspective' ) {\n\n\t\t\tcamera = new THREE.PerspectiveCamera( THREE.Math.radToDeg( params.yfov ), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6 );\n\n\t\t} else if ( cameraDef.type === 'orthographic' ) {\n\n\t\t\tcamera = new THREE.OrthographicCamera( params.xmag / - 2, params.xmag / 2, params.ymag / 2, params.ymag / - 2, params.znear, params.zfar );\n\n\t\t}\n\n\t\tif ( cameraDef.name !== undefined ) camera.name = cameraDef.name;\n\n\t\tassignExtrasToUserData( camera, cameraDef );\n\n\t\treturn Promise.resolve( camera );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n\t * @param {number} skinIndex\n\t * @return {Promise<Object>}\n\t */\n\tGLTFParser.prototype.loadSkin = function ( skinIndex ) {\n\n\t\tvar skinDef = this.json.skins[ skinIndex ];\n\n\t\tvar skinEntry = { joints: skinDef.joints };\n\n\t\tif ( skinDef.inverseBindMatrices === undefined ) {\n\n\t\t\treturn Promise.resolve( skinEntry );\n\n\t\t}\n\n\t\treturn this.getDependency( 'accessor', skinDef.inverseBindMatrices ).then( function ( accessor ) {\n\n\t\t\tskinEntry.inverseBindMatrices = accessor;\n\n\t\t\treturn skinEntry;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n\t * @param {number} animationIndex\n\t * @return {Promise<THREE.AnimationClip>}\n\t */\n\tGLTFParser.prototype.loadAnimation = function ( animationIndex ) {\n\n\t\tvar json = this.json;\n\n\t\tvar animationDef = json.animations[ animationIndex ];\n\n\t\tvar pendingNodes = [];\n\t\tvar pendingInputAccessors = [];\n\t\tvar pendingOutputAccessors = [];\n\t\tvar pendingSamplers = [];\n\t\tvar pendingTargets = [];\n\n\t\tfor ( var i = 0, il = animationDef.channels.length; i < il; i ++ ) {\n\n\t\t\tvar channel = animationDef.channels[ i ];\n\t\t\tvar sampler = animationDef.samplers[ channel.sampler ];\n\t\t\tvar target = channel.target;\n\t\t\tvar name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\n\t\t\tvar input = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.input ] : sampler.input;\n\t\t\tvar output = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.output ] : sampler.output;\n\n\t\t\tpendingNodes.push( this.getDependency( 'node', name ) );\n\t\t\tpendingInputAccessors.push( this.getDependency( 'accessor', input ) );\n\t\t\tpendingOutputAccessors.push( this.getDependency( 'accessor', output ) );\n\t\t\tpendingSamplers.push( sampler );\n\t\t\tpendingTargets.push( target );\n\n\t\t}\n\n\t\treturn Promise.all( [\n\n\t\t\tPromise.all( pendingNodes ),\n\t\t\tPromise.all( pendingInputAccessors ),\n\t\t\tPromise.all( pendingOutputAccessors ),\n\t\t\tPromise.all( pendingSamplers ),\n\t\t\tPromise.all( pendingTargets )\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\tvar nodes = dependencies[ 0 ];\n\t\t\tvar inputAccessors = dependencies[ 1 ];\n\t\t\tvar outputAccessors = dependencies[ 2 ];\n\t\t\tvar samplers = dependencies[ 3 ];\n\t\t\tvar targets = dependencies[ 4 ];\n\n\t\t\tvar tracks = [];\n\n\t\t\tfor ( var i = 0, il = nodes.length; i < il; i ++ ) {\n\n\t\t\t\tvar node = nodes[ i ];\n\t\t\t\tvar inputAccessor = inputAccessors[ i ];\n\t\t\t\tvar outputAccessor = outputAccessors[ i ];\n\t\t\t\tvar sampler = samplers[ i ];\n\t\t\t\tvar target = targets[ i ];\n\n\t\t\t\tif ( node === undefined ) continue;\n\n\t\t\t\tnode.updateMatrix();\n\t\t\t\tnode.matrixAutoUpdate = true;\n\n\t\t\t\tvar TypedKeyframeTrack;\n\n\t\t\t\tswitch ( PATH_PROPERTIES[ target.path ] ) {\n\n\t\t\t\t\tcase PATH_PROPERTIES.weights:\n\n\t\t\t\t\t\tTypedKeyframeTrack = THREE.NumberKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.rotation:\n\n\t\t\t\t\t\tTypedKeyframeTrack = THREE.QuaternionKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.position:\n\t\t\t\t\tcase PATH_PROPERTIES.scale:\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tTypedKeyframeTrack = THREE.VectorKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tvar targetName = node.name ? node.name : node.uuid;\n\n\t\t\t\tvar interpolation = sampler.interpolation !== undefined ? INTERPOLATION[ sampler.interpolation ] : THREE.InterpolateLinear;\n\n\t\t\t\tvar targetNames = [];\n\n\t\t\t\tif ( PATH_PROPERTIES[ target.path ] === PATH_PROPERTIES.weights ) {\n\n\t\t\t\t\t// Node may be a THREE.Group (glTF mesh with several primitives) or a THREE.Mesh.\n\t\t\t\t\tnode.traverse( function ( object ) {\n\n\t\t\t\t\t\tif ( object.isMesh === true && object.morphTargetInfluences ) {\n\n\t\t\t\t\t\t\ttargetNames.push( object.name ? object.name : object.uuid );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttargetNames.push( targetName );\n\n\t\t\t\t}\n\n\t\t\t\tvar outputArray = outputAccessor.array;\n\n\t\t\t\tif ( outputAccessor.normalized ) {\n\n\t\t\t\t\tvar scale;\n\n\t\t\t\t\tif ( outputArray.constructor === Int8Array ) {\n\n\t\t\t\t\t\tscale = 1 / 127;\n\n\t\t\t\t\t} else if ( outputArray.constructor === Uint8Array ) {\n\n\t\t\t\t\t\tscale = 1 / 255;\n\n\t\t\t\t\t} else if ( outputArray.constructor == Int16Array ) {\n\n\t\t\t\t\t\tscale = 1 / 32767;\n\n\t\t\t\t\t} else if ( outputArray.constructor === Uint16Array ) {\n\n\t\t\t\t\t\tscale = 1 / 65535;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported output accessor component type.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar scaled = new Float32Array( outputArray.length );\n\n\t\t\t\t\tfor ( var j = 0, jl = outputArray.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tscaled[ j ] = outputArray[ j ] * scale;\n\n\t\t\t\t\t}\n\n\t\t\t\t\toutputArray = scaled;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var j = 0, jl = targetNames.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar track = new TypedKeyframeTrack(\n\t\t\t\t\t\ttargetNames[ j ] + '.' + PATH_PROPERTIES[ target.path ],\n\t\t\t\t\t\tinputAccessor.array,\n\t\t\t\t\t\toutputArray,\n\t\t\t\t\t\tinterpolation\n\t\t\t\t\t);\n\n\t\t\t\t\t// Override interpolation with custom factory method.\n\t\t\t\t\tif ( sampler.interpolation === 'CUBICSPLINE' ) {\n\n\t\t\t\t\t\ttrack.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline( result ) {\n\n\t\t\t\t\t\t\t// A CUBICSPLINE keyframe in glTF has three output values for each input value,\n\t\t\t\t\t\t\t// representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n\t\t\t\t\t\t\t// must be divided by three to get the interpolant's sampleSize argument.\n\n\t\t\t\t\t\t\treturn new GLTFCubicSplineInterpolant( this.times, this.values, this.getValueSize() / 3, result );\n\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\n\t\t\t\t\t\ttrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( track );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar name = animationDef.name !== undefined ? animationDef.name : 'animation_' + animationIndex;\n\n\t\t\treturn new THREE.AnimationClip( name, undefined, tracks );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n\t * @param {number} nodeIndex\n\t * @return {Promise<THREE.Object3D>}\n\t */\n\tGLTFParser.prototype.loadNode = function ( nodeIndex ) {\n\n\t\tvar json = this.json;\n\t\tvar extensions = this.extensions;\n\t\tvar parser = this;\n\n\t\tvar meshReferences = json.meshReferences;\n\t\tvar meshUses = json.meshUses;\n\n\t\tvar nodeDef = json.nodes[ nodeIndex ];\n\n\t\treturn ( function () {\n\n\t\t\tvar pending = [];\n\n\t\t\tif ( nodeDef.mesh !== undefined ) {\n\n\t\t\t\tpending.push( parser.getDependency( 'mesh', nodeDef.mesh ).then( function ( mesh ) {\n\n\t\t\t\t\tvar node;\n\n\t\t\t\t\tif ( meshReferences[ nodeDef.mesh ] > 1 ) {\n\n\t\t\t\t\t\tvar instanceNum = meshUses[ nodeDef.mesh ] ++;\n\n\t\t\t\t\t\tnode = mesh.clone();\n\t\t\t\t\t\tnode.name += '_instance_' + instanceNum;\n\n\t\t\t\t\t\t// onBeforeRender copy for Specular-Glossiness\n\t\t\t\t\t\tnode.onBeforeRender = mesh.onBeforeRender;\n\n\t\t\t\t\t\tfor ( var i = 0, il = node.children.length; i < il; i ++ ) {\n\n\t\t\t\t\t\t\tnode.children[ i ].name += '_instance_' + instanceNum;\n\t\t\t\t\t\t\tnode.children[ i ].onBeforeRender = mesh.children[ i ].onBeforeRender;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tnode = mesh;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// if weights are provided on the node, override weights on the mesh.\n\t\t\t\t\tif ( nodeDef.weights !== undefined ) {\n\n\t\t\t\t\t\tnode.traverse( function ( o ) {\n\n\t\t\t\t\t\t\tif ( ! o.isMesh ) return;\n\n\t\t\t\t\t\t\tfor ( var i = 0, il = nodeDef.weights.length; i < il; i ++ ) {\n\n\t\t\t\t\t\t\t\to.morphTargetInfluences[ i ] = nodeDef.weights[ i ];\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn node;\n\n\t\t\t\t} ) );\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.camera !== undefined ) {\n\n\t\t\t\tpending.push( parser.getDependency( 'camera', nodeDef.camera ) );\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.extensions\n\t\t\t\t&& nodeDef.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ]\n\t\t\t\t&& nodeDef.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ].light !== undefined ) {\n\n\t\t\t\tpending.push( parser.getDependency( 'light', nodeDef.extensions[ EXTENSIONS.KHR_LIGHTS_PUNCTUAL ].light ) );\n\n\t\t\t}\n\n\t\t\treturn Promise.all( pending );\n\n\t\t}() ).then( function ( objects ) {\n\n\t\t\tvar node;\n\n\t\t\t// .isBone isn't in glTF spec. See .markDefs\n\t\t\tif ( nodeDef.isBone === true ) {\n\n\t\t\t\tnode = new THREE.Bone();\n\n\t\t\t} else if ( objects.length > 1 ) {\n\n\t\t\t\tnode = new THREE.Group();\n\n\t\t\t} else if ( objects.length === 1 ) {\n\n\t\t\t\tnode = objects[ 0 ];\n\n\t\t\t} else {\n\n\t\t\t\tnode = new THREE.Object3D();\n\n\t\t\t}\n\n\t\t\tif ( node !== objects[ 0 ] ) {\n\n\t\t\t\tfor ( var i = 0, il = objects.length; i < il; i ++ ) {\n\n\t\t\t\t\tnode.add( objects[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.name !== undefined ) {\n\n\t\t\t\tnode.userData.name = nodeDef.name;\n\t\t\t\tnode.name = THREE.PropertyBinding.sanitizeNodeName( nodeDef.name );\n\n\t\t\t}\n\n\t\t\tassignExtrasToUserData( node, nodeDef );\n\n\t\t\tif ( nodeDef.extensions ) addUnknownExtensionsToUserData( extensions, node, nodeDef );\n\n\t\t\tif ( nodeDef.matrix !== undefined ) {\n\n\t\t\t\tvar matrix = new THREE.Matrix4();\n\t\t\t\tmatrix.fromArray( nodeDef.matrix );\n\t\t\t\tnode.applyMatrix( matrix );\n\n\t\t\t} else {\n\n\t\t\t\tif ( nodeDef.translation !== undefined ) {\n\n\t\t\t\t\tnode.position.fromArray( nodeDef.translation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.rotation !== undefined ) {\n\n\t\t\t\t\tnode.quaternion.fromArray( nodeDef.rotation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.scale !== undefined ) {\n\n\t\t\t\t\tnode.scale.fromArray( nodeDef.scale );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n\t * @param {number} sceneIndex\n\t * @return {Promise<THREE.Scene>}\n\t */\n\tGLTFParser.prototype.loadScene = function () {\n\n\t\t// scene node hierachy builder\n\n\t\tfunction buildNodeHierachy( nodeId, parentObject, json, parser ) {\n\n\t\t\tvar nodeDef = json.nodes[ nodeId ];\n\n\t\t\treturn parser.getDependency( 'node', nodeId ).then( function ( node ) {\n\n\t\t\t\tif ( nodeDef.skin === undefined ) return node;\n\n\t\t\t\t// build skeleton here as well\n\n\t\t\t\tvar skinEntry;\n\n\t\t\t\treturn parser.getDependency( 'skin', nodeDef.skin ).then( function ( skin ) {\n\n\t\t\t\t\tskinEntry = skin;\n\n\t\t\t\t\tvar pendingJoints = [];\n\n\t\t\t\t\tfor ( var i = 0, il = skinEntry.joints.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tpendingJoints.push( parser.getDependency( 'node', skinEntry.joints[ i ] ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn Promise.all( pendingJoints );\n\n\t\t\t\t} ).then( function ( jointNodes ) {\n\n\t\t\t\t\tnode.traverse( function ( mesh ) {\n\n\t\t\t\t\t\tif ( ! mesh.isMesh ) return;\n\n\t\t\t\t\t\tvar bones = [];\n\t\t\t\t\t\tvar boneInverses = [];\n\n\t\t\t\t\t\tfor ( var j = 0, jl = jointNodes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tvar jointNode = jointNodes[ j ];\n\n\t\t\t\t\t\t\tif ( jointNode ) {\n\n\t\t\t\t\t\t\t\tbones.push( jointNode );\n\n\t\t\t\t\t\t\t\tvar mat = new THREE.Matrix4();\n\n\t\t\t\t\t\t\t\tif ( skinEntry.inverseBindMatrices !== undefined ) {\n\n\t\t\t\t\t\t\t\t\tmat.fromArray( skinEntry.inverseBindMatrices.array, j * 16 );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tboneInverses.push( mat );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[ j ] );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmesh.bind( new THREE.Skeleton( bones, boneInverses ), mesh.matrixWorld );\n\n\t\t\t\t\t} );\n\n\t\t\t\t\treturn node;\n\n\t\t\t\t} );\n\n\t\t\t} ).then( function ( node ) {\n\n\t\t\t\t// build node hierachy\n\n\t\t\t\tparentObject.add( node );\n\n\t\t\t\tvar pending = [];\n\n\t\t\t\tif ( nodeDef.children ) {\n\n\t\t\t\t\tvar children = nodeDef.children;\n\n\t\t\t\t\tfor ( var i = 0, il = children.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar child = children[ i ];\n\t\t\t\t\t\tpending.push( buildNodeHierachy( child, node, json, parser ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn Promise.all( pending );\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn function loadScene( sceneIndex ) {\n\n\t\t\tvar json = this.json;\n\t\t\tvar extensions = this.extensions;\n\t\t\tvar sceneDef = this.json.scenes[ sceneIndex ];\n\t\t\tvar parser = this;\n\n\t\t\tvar scene = new THREE.Scene();\n\t\t\tif ( sceneDef.name !== undefined ) scene.name = sceneDef.name;\n\n\t\t\tassignExtrasToUserData( scene, sceneDef );\n\n\t\t\tif ( sceneDef.extensions ) addUnknownExtensionsToUserData( extensions, scene, sceneDef );\n\n\t\t\tvar nodeIds = sceneDef.nodes || [];\n\n\t\t\tvar pending = [];\n\n\t\t\tfor ( var i = 0, il = nodeIds.length; i < il; i ++ ) {\n\n\t\t\t\tpending.push( buildNodeHierachy( nodeIds[ i ], scene, json, parser ) );\n\n\t\t\t}\n\n\t\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\t\treturn scene;\n\n\t\t\t} );\n\n\t\t};\n\n\t}();\n\n\treturn GLTFLoader;\n\n} )();\n\n\nmodule.exports = _GLTFLoader;\n","\nimport * as THREE from 'three'\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls'\nimport GLTFLoader from 'three-gltf-loader';\n\n\n\tlet camera, controls, scene, renderer;\n\n\tinit();\n\tanimate();\n\n\tfunction init() {\n\n\t\tscene = new THREE.Scene();\n\t\tscene.background = new THREE.Color( '#f4f4f4' );\n\t\tscene.fog = new THREE.FogExp2( '#f4f4f4', 0.001 );\n\n\t\trenderer = new THREE.WebGLRenderer( { antialias: true } );\n\t\trenderer.setPixelRatio( window.devicePixelRatio );\n\t\trenderer.setSize( window.innerWidth, window.innerHeight );\n\t\tdocument.body.appendChild( renderer.domElement );\n\n\t\tcamera = new THREE.PerspectiveCamera( 60, window.innerWidth / window.innerHeight, 1, 1000 );\n\t\tcamera.position.set( 400, 200, 0 );\n\t\tcontrols = new OrbitControls( camera, renderer.domElement );\n\t\tcontrols.listenToKeyEvents( window );\n\t\tcontrols.enableDamping = true; \n\t\tcontrols.dampingFactor = 0.05;\n\t\tcontrols.screenSpacePanning = false;\n\t\tcontrols.minDistance = 100;\n\t\tcontrols.maxDistance = 500;\n\t\tcontrols.maxPolarAngle = Math.PI / 2;\n\t\tconst geometry = new THREE.SphereGeometry( 5, 13, 4 );\n\t\tconst material = new THREE.MeshPhongMaterial( { color: '#d3d1d1', flatShading: true } );\n\n\t\t\n\n\t\tfor ( let i = 0; i < 500; i ++ ) {\n\t\t\tconst mesh = new THREE.Mesh( geometry, material );\n\t\t\tmesh.position.x = Math.random() * 1600 - 800;\n\t\t\tmesh.position.y = Math.random() * 400 - 200;\n\t\t\tmesh.position.z = Math.random() * 1600 - 800;\n\t\t\t\n\t\t\tmesh.updateMatrix();\n\t\t\tmesh.matrixAutoUpdate = false;\n\t\t\tscene.add( mesh );\n\t\t}\n\n\t\tconst dirLight1 = new THREE.DirectionalLight( 0xffffff );\n\t\tdirLight1.position.set( 1, 1, 1 );\n\t\tscene.add( dirLight1 );\n\n\t\tconst dirLight2 = new THREE.DirectionalLight( 0xffffff );\n\t\tdirLight2.position.set( - 1, - 1, - 1 );\n\t\tscene.add( dirLight2 );\n\n\t\tconst dirLight3 = new THREE.DirectionalLight( 0xffffff );\n\t\tdirLight3.position.set( - 1, 2, - 1 );\n\t\tscene.add( dirLight3 );\n\t\tconst ambientLight = new THREE.AmbientLight( 0x808080 );\n\t\tscene.add( ambientLight );\n\t\twindow.addEventListener( 'resize', onWindowResize );\n\t}\n\n\tfunction onWindowResize() {\n\t\tcamera.aspect = window.innerWidth / window.innerHeight;\n\t\tcamera.updateProjectionMatrix();\n\t\trenderer.setSize( window.innerWidth, window.innerHeight );\n\t}\n\n\tfunction animate() {\n\t\trequestAnimationFrame( animate );\n\t\tcontrols.update(); \n\t\trender();\n\t}\n\n\tfunction render() {\n\t\trenderer.render( scene, camera );\n\t}\n\n\n\n\n\n\n// // const scene = new THREE.Scene()\n// // scene.add(new THREE.AxesHelper(5))\n\n\n// // const ambientLight = new THREE.AmbientLight('white', .75)\n// // scene.add(ambientLight)\n\n// // const camera = new THREE.PerspectiveCamera(\n// //     75,\n// //     window.innerWidth / window.innerHeight,\n// //     0.1,\n// //     1000\n// // )\n// // camera.position.z = 40\n// // const container  = document.querySelector(\".three_bg\")\n\n\n// // const renderer = new THREE.WebGLRenderer(\n// //     {\n// //         antialias :true, \n\n// //     }\n// // )\n// // renderer.physicallyCorrectLights = true\n// // renderer.shadowMap.enabled = true\n// // // renderer.outputEncoding = THREE.sRGBEncoding\n// // renderer.setSize(window.innerWidth, window.innerHeight)\n// // document.body.appendChild(renderer.domElement)\n// // container.appendChild(renderer.domElement)\n\n// // const controls = new OrbitControls(camera, renderer.domElement)\n// // controls.enableDamping = true\n\n// // const loader = new GLTFLoader()\n// // loader.load(\n    \n// // \t'../portfolio/assets/static/models/DamagedHelmet/glTF/mayeight2.gltf',\n// //     function (gltf) {\n// //         gltf.scene.traverse(function (child) {\n          \n// //         })\n// //         scene.add(gltf.scene)\n// //     },\n// //     (xhr) => {\n// //         console.log((xhr.loaded / xhr.total) * 100 + '% loaded')\n// //     },\n// //     (error) => {\n// //         console.log(error)\n// //     }\n// // )\n\n// // window.addEventListener('resize', onWindowResize, false)\n// // function onWindowResize() {\n// //     camera.aspect = window.innerWidth / window.innerHeight\n// //     camera.updateProjectionMatrix()\n// //     renderer.setSize(window.innerWidth, window.innerHeight)\n// //     render()\n// // }\n\n// // const stats = Stats()\n// // document.body.appendChild(stats.dom)\n\n// // function animate() {\n// //     requestAnimationFrame(animate)\n\n// //     controls.update()\n\n// //     render()\n\n// //     stats.update()\n// // }\n\n// // function render() {\n// //     renderer.render(scene, camera)\n// // }\n\n// // animate()\n\n\n// import * as THREE from \"three\";\n// import GLTFLoader from \"three-gltf-loader\";\n// import { DRACOLoader } from \"@loaders.gl/draco\";\n// import OrbitControls from \"three-orbitcontrols\";\n// import { load } from \"@loaders.gl/core\";\n\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}